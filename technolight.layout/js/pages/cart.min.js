"use strict";var updateProductSum=function(t){console.log(t.value)},initCartCounter=function(){Array.from(document.querySelectorAll(".cart__calc-counter button")).forEach(function(t){t.addEventListener("click",function(){var t="inc"===this.dataset.type,e=this.parentNode.querySelector("input"),n=this.parentNode.querySelector('[data-type="dec"'),o=e.value;0===(o=t?parseInt(o)+1:parseInt(o)-1)&&o++,n.disabled=!(1<o),e.value=o,updateProductSum(e)})})},getTotalValue=function(){var t=document.getElementById("total").innerText;return parseInt(t.replace(/\s/g,""))},updateTotalPrice=function(t){document.getElementById("total").innerText=formatNumber(getTotalValue()+t)},checkTotalPrice=function(){var t=document.getElementById("total"),e=getTotalValue();console.log("totalNode",t),console.log("total",e),e<=0&&(t=document.querySelector(".cart__total"),e=document.querySelector(".cart__actions-btns .btn_dark"),t.style.justifyContent="center",t.innerHTML="<mark>В корзине нет товаров</mark>",e.remove())},delProduct=function(t){var e=t.offsetHeight;t.style.maxHeight=e+"px",setTimeout(function(){return t.classList.add("removed")},10),setTimeout(function(){return t.remove()},1e3),setTimeout(function(){showAnimElements(),setAnimationElms()},300)},initDelProdBtns=function(){Array.from(document.querySelectorAll(".cart__calc .btn_del")).forEach(function(n){return n.addEventListener("click",function(){var t=n.closest("[data-product]"),e=t.querySelector("[data-total]").innerText,e=parseInt(e.replace(/\s/g,""));delProduct(t),updateTotalPrice(-1*e),checkTotalPrice()})})};window.addEventListener("load",function(){initCartCounter(),initDelProdBtns()});