function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var r;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(r="Object"===(r={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=Array(t);r<t;r++)a[r]=e[r];return a}var initCatalogScripts=function(){document.querySelectorAll(".custom-select").forEach(function(t){t.addEventListener("click",function(e){t.classList.toggle("custom-select--open"),e.target.classList.contains("custom-select__option")&&(t.querySelector(".custom-select__value").textContent=e.target.textContent)})})},updateUrlParams=(window.addEventListener("load",initCatalogScripts),function(e,t,r,a){var n=new URL(window.location.href),o=new URLSearchParams(n.search),e="".concat(e,"[").concat(t,"]");return"add"===a?o.has(e)?(t=o.get(e),o.set(e,"".concat(t,",").concat(r))):o.set(e,r):"remove"===a?o.has(e)&&((t=o.get(e).split(",").filter(function(e){return e!==r}).join(","))?o.set(e,t):o.delete(e)):"update"===a&&(o.has(e),o.set(e,r)),n.search=o.toString(),decodeURIComponent(n.toString())}),initToggleFilterSection=function(){document.querySelectorAll(".catalog-filter__top").forEach(function(e){e.addEventListener("click",function(){e.closest(".catalog-filter").classList.toggle("catalog-filter--open"),e.querySelector(".catalog-filter__title").classList.toggle("catalog-filter__title--active")})})},initToggleMobileFilter=function(){var e=document.querySelector(".catalog-filters__btn"),t=document.querySelector(".catalog-filters");e.addEventListener("click",function(){t.classList.toggle("visible")})},pushInputChangeEvent=window.debounce(function(e,t,r){("min"===e.name?t:r).dispatchEvent(new Event("change"))},300),initFilterRanges=function(){document.querySelectorAll(".range").forEach(function(e){function o(){return{min:parseFloat(i.min),max:parseFloat(u.max),minCurrentValue:parseFloat(i.value),maxCurrentValue:parseFloat(u.value)}}var l=e.querySelector(".range-selected"),i=e.querySelector(".range-input").querySelector('[name="min"]'),u=e.querySelector(".range-input").querySelector('[name="max"]'),a=e.querySelector(".range-value").querySelector('[data-type="min"]'),n=e.querySelector(".range-value").querySelector('[data-type="max"]'),c=u.max-i.min;[a,n].forEach(function(n){n.addEventListener("change",function(t){function e(e){t.currentTarget.value=e}var r=o(),a=parseFloat(t.currentTarget.value);"min"===n.dataset.type&&(!a||a<r.min)&&e(r.min),"min"===n.dataset.type&&a>=r.maxCurrentValue&&e(r.maxCurrentValue-50),"max"===n.dataset.type&&(!a||a>r.max)&&e(r.max),"max"===n.dataset.type&&a<=r.minCurrentValue&&e(r.minCurrentValue+50),"min"===n.dataset.type&&(i.value=t.currentTarget.value),"max"===n.dataset.type&&(u.value=t.currentTarget.value),"min"===n.dataset.type?(a=t.currentTarget.value-r.min,l.style.left=a/c*100+"%"):(a=r.max-t.currentTarget.value,l.style.right=a/c*100+"%")})}),[i,u].forEach(function(e){e.addEventListener("input",function(e){var t,r=o();r.maxCurrentValue-r.minCurrentValue<50?"min"===e.target.name?i.value=r.maxCurrentValue-50:u.value=r.minCurrentValue+50:(a.value=r.minCurrentValue,n.value=r.maxCurrentValue,t=r.minCurrentValue-i.min,r=u.max-r.maxCurrentValue,l.style.left=t/c*100+"%",l.style.right=r/c*100+"%",pushInputChangeEvent(e.target,a,n))})})})},handleInput=function(e){var t,r=e.target.name,a=e.target.value;"checkbox"===e.target.type&&(t=e.target.checked?"add":"remove",t=updateUrlParams("filter",r,a,t)),"number"===e.target.type&&(t=updateUrlParams("filter",r,a,"update")),window.history.pushState({path:t},"",t)},initInputsControllers=function(){var e=document.querySelectorAll('.catalog-filters [type="checkbox"]'),t=document.querySelectorAll('.catalog-filters [type="number"]');[].concat(_toConsumableArray(e),_toConsumableArray(t)).forEach(function(e){return e.addEventListener("change",handleInput)})};window.addEventListener("load",function(){initToggleFilterSection(),initToggleMobileFilter(),initFilterRanges(),initInputsControllers()});