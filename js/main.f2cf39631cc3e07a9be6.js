!function(e){function n(n){for(var o,s,r=n[0],l=n[1],u=n[2],d=0,f=[];d<r.length;d++)s=r[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&f.push(a[s][0]),a[s]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);for(c&&c(n);f.length;)f.shift()();return i.push.apply(i,u||[]),t()}function t(){for(var e,n=0;n<i.length;n++){for(var t=i[n],o=!0,r=1;r<t.length;r++){var l=t[r];0!==a[l]&&(o=!1)}o&&(i.splice(n--,1),e=s(s.s=t[0]))}return e}var o={},a={0:0},i=[];function s(n){if(o[n])return o[n].exports;var t=o[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.m=e,s.c=o,s.d=function(e,n,t){s.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,n){if(1&n&&(e=s(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(s.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)s.d(t,o,function(n){return e[n]}.bind(null,o));return t},s.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(n,"a",n),n},s.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},s.p="/";var r=window.webpackJsonp=window.webpackJsonp||[],l=r.push.bind(r);r.push=n,r=r.slice();for(var u=0;u<r.length;u++)n(r[u]);var c=l;i.push([8,1]),t()}([,,,function(e,n){},,,function(e,n,t){var o=t(7);"string"==typeof o&&(o=[[e.i,o,""]]);var a={insert:"head",singleton:!1};t(2)(o,a);o.locals&&(e.exports=o.locals)},function(e,n,t){},function(e,n,t){"use strict";t.r(n);var o=t(0),a=t.n(o),i=t(1);window.IS_DEBUGGING=!0,window.STATE={},STATE=new Proxy(STATE,{set:function(e,n,t){return e[n]=t,"phone"===n&&(fastPhoneMask.unmaskedValue=t),IS_DEBUGGING&&setTimeout((function(){return console.log(e)}),100),!0}}),window.validatePhone=function(e){return/^(\+7)?(\d{3}?)?[\d]{11}$/.test(e)},window.phoneMaskOptions={mask:"+{7} ({9}00) 000-00-00",lazy:!0,placeholderChar:"0"},window.pushPhoneToState=function(e){STATE.phone=e},a()(document).ready((function(){var e=0,n=0;a()(window).scroll((function(){var t=a()(document).scrollTop(),o=t>n;n=t,t>100?a()("#header").addClass("fixed"):a()("#header").removeClass("fixed"),t<400&&a()("#header").removeClass("visible"),o?(e=t,a()("#header").removeClass("visible")):t<e-100&&a()("#header").addClass("visible")}))})),a()(document).ready((function(){function e(){a()("#modalHeader").toggleClass("visible")}a()(".modal-header-toggle").toArray().forEach((function(n){return a()(n).click(e)}))})),a()(document).ready((function(){a()("#getHouseBtn").click((function(){var e=a()("#progressBar").offset().top-30;a()("body,html").animate({scrollTop:e},1e3)}))})),a()(document).ready((function(){function e(e){var n=a()("#progressBar .progress-bar__step");a()(n).removeClass("active");for(var t=0;t<e;t++)a()(n[t]).addClass("active")}function n(e){return a()(e).closest(".active")}function t(e){return a()(e).removeClass("active"),1e3*parseFloat(a()(e).find(".question__title").css("transition-duration"))}function o(e,n){setTimeout((function(){return a()(e).addClass("hidden")}),n)}function i(e,n){setTimeout((function(){var n,t;a()(e).removeClass("hidden"),"#loader"===e&&(n=0,t=setInterval((function(){n>99?window.clearInterval(t):(n++,a()("#progressVal").text(n+"%"))}),33),setTimeout(r,5e3))}),n)}function s(e,n){setTimeout((function(){return a()(e).addClass("active")}),n)}function r(){var e=a()("#loader")[0];t(e),o(e,400),i("#getContact",400),s("#getContact",500)}a()(".question-controller").toArray().forEach((function(r){a()(r).on("click",(function(r){r.preventDefault();var l,u,c,d,f,p=a()(this).find("input"),v=function(e){return{prop:a()(e).attr("name"),val:a()(e).val(),id:a()(e).data("nextQuestionId"),pos:a()(e).data("nextProgressPosition"),img:a()(e).data("nextBannerImg")}}(p),h=n(p),m=a()(h).find(".question__title").text();a()(p)[0].checked=!0,STATE[v.prop]=[m,v.val],function(e,n){if("#sleepingInBad"===e){var t=a()("#sleepingInBad [data-next-banner-img]");if("Кошка."===STATE.animal[1])t.data("nextBannerImg","renovation-question-cat.jpg");else switch(STATE.size[1]){case"Маленькая собака.":t.data("nextBannerImg","renovation-question-small-dog.jpg");break;case"Среднего размера.":t.data("nextBannerImg","renovation-question-medium-dog.jpg");break;case"Большая собака.":t.data("nextBannerImg","renovation-question-large-dog.jpg")}}a()(e).find(".question__image").css("backgroundImage","url(/img/".concat(n,")"))}(v.id,v.img),l=p,u=v.id,c=v.pos-1,d=a()(u).find(".question__back")[0],f=a()(l).closest(".question").attr("id"),d&&(d.dataset.prevQuestionId=f,d.dataset.prevProgressPosition=c),a()("#header").removeClass("visible"),setTimeout((function(){e(v.pos);var n=t(h);o(h,n),i(v.id,n),s(v.id,n+100)}),1e3)}))})),a()(".question__back").toArray().forEach((function(r){a()(r).on("click",(function(){var r=n(this),l=a()(this).data("prevProgressPosition"),u="#"+a()(this).data("prevQuestionId");a()(u).find("input").prop("checked",!1),e(l);var c=t(r);o(r,c),i(u,c),s(u,c+100)}))})),a()("#dogQuestion3 .toggle").toArray().forEach((function(e){a()(e).on("click",(function(e){e.stopPropagation(),a()(this).closest(".question-controller").toggleClass("open-comment")}))}))})),a()(document).ready((function(){function e(){a()("#consultationModalDialog").addClass("invisible"),a()("#consultationModalThanks").addClass("invisible"),setTimeout((function(){a()("#consultationModal").removeClass("visible"),a()("#consultationModalDialog").removeClass("hidden"),a()("#consultationModalThanks").addClass("hidden"),a()("#fastCallbackTime").val(""),delete STATE.fastCallbackTime,validatePhone(STATE.phone)||(STATE.phone="",delete STATE.phone)}),300)}a()("#consultationShowBtn").click((function(){a()("#modalHeader").removeClass("visible"),a()("#consultationModal").addClass("visible"),setTimeout((function(){return a()("#consultationModalDialog").removeClass("invisible")}),300)})),a()(".consultation-modal__close").toArray().forEach((function(n){return a()(n).click(e)})),a()(".consultation-modal").click((function(n){a()(n.target).hasClass("consultation-modal")&&e()}));var n=document.getElementById("fastPhone");window.fastPhoneMask=Object(i.a)(n,phoneMaskOptions),a()("#fastPhone").focus((function(){fastPhoneMask.updateOptions({lazy:!1})})),a()("#fastPhone").blur((function(){fastPhoneMask.updateOptions({lazy:!0})})),a()("#fastPhone").on("input",(function(){pushPhoneToState(fastPhoneMask.unmaskedValue),validatePhone(fastPhoneMask.unmaskedValue)?a()('#consultationModal [type="submit"]').removeClass("btn_inactive"):a()('#consultationModal [type="submit"]').addClass("btn_inactive")})),a()("#fastCallbackTime").on("input",(function(){STATE.fastCallbackTime=a()(this).val()})),a()("#consultationModal form").submit((function(e){if(e.preventDefault(),!validatePhone(STATE.phone))return!1;IS_DEBUGGING&&console.log("Данные, отправляемые на сервер:",Object.assign({},STATE));var n=a.a.ajax({url:"https://jsonplaceholder.typicode.com/todos/1",method:"GET",data:JSON.stringify(Object.assign({},STATE)),dataType:"JSON"});n.done((function(e){console.log(e),e&&(a()("#consultationModalDialog").addClass("invisible"),setTimeout((function(){a()("#consultationModalDialog").addClass("hidden"),a()("#consultationModalThanks").removeClass("hidden"),setTimeout((function(){return a()("#consultationModalThanks").removeClass("invisible")}),100)}),300))})),n.fail((function(e,n){alert("Request failed: "+n)}))}))}));t(3),t(4),t(6)}]);