{"version":3,"names":[],"mappings":"","sources":["main.min.js"],"sourcesContent":["// Lib\r\n// Импортируем jQuery Bootstrap 3 и остальные скрипты\r\nSeoDomainsConfig = {\r\n    'id': 1,\r\n    'domain': 'fandeco.ru',\r\n    'main': true,\r\n    'https': true,\r\n    'city': '',\r\n    'phone': '',\r\n    'email': '',\r\n    'address': '',\r\n    'address_full': '',\r\n    'location': '7700000000000',\r\n    'active': true,\r\n    'verification': false,\r\n    'createdon': '2020-06-16 08:02:12',\r\n    'updatedon': '2020-07-06 13:01:15',\r\n    'address_coords_lat': 0,\r\n    'address_coords_lon': 0,\r\n    'banner_position_id': 0,\r\n    'user_location_id': 0,\r\n    'city_id': '7700000000000',\r\n    'city_name': '\\u041c\\u043e\\u0441\\u043a\\u0432\\u0430',\r\n    'city_type': 'city',\r\n    'city_postal': '',\r\n    'city_gninmb': '7700',\r\n    'city_okato': '45000000000',\r\n    'city_oktmo': '45000000',\r\n    'city_fias': '0c5b2444-70a0-4932-980c-b4dc0d3f02b5',\r\n    'city_alias': '',\r\n    'city_population': 0,\r\n    'city_lat': 55.7540471,\r\n    'city_lon': 37.620405,\r\n    'city_active': 1,\r\n    'city_parent': '',\r\n    'city_description': '',\r\n    'city_properties': '',\r\n    'city_createdon': 0,\r\n    'city_updatedon': 0,\r\n    'more': []\r\n}\r\n\r\nmsOneClick = {}\r\nmsOneClickConfig = {\r\n    'assetsUrl': '\\/assets\\/components\\/msoneclick\\/',\r\n    'cssUrl': '\\/assets\\/components\\/msoneclick\\/css\\/',\r\n    'jsUrl': '\\/assets\\/components\\/msoneclick\\/js\\/',\r\n    'imagesUrl': '\\/assets\\/components\\/msoneclick\\/images\\/',\r\n    'connectorUrl': '\\/assets\\/components\\/msoneclick\\/connector.php',\r\n    'actionUrl': '\\/assets\\/components\\/msoneclick\\/action.php',\r\n    'chunkSuffix': '.chunk.tpl',\r\n    'base64_encode': false,\r\n    'default_images': '\\/assets\\/components\\/minishop2\\/img\\/web\\/ms2_small.png',\r\n    'email_method_mail': '',\r\n    'enable_captcha': false,\r\n    'field_required_class': 'msoc_field__required',\r\n    'method': 'CALLBACK',\r\n    'prefix_enabled': false,\r\n    'returnForm': false,\r\n    'selector': 'oneClick',\r\n    'selected_city': '\\u041c\\u043e\\u0441\\u043a\\u0432\\u0430',\r\n    'real_city': '\\u041c\\u043e\\u0441\\u043a\\u0432\\u0430',\r\n    'current_city': '\\u041c\\u043e\\u0441\\u043a\\u0432\\u0430',\r\n    'ctx': 'web',\r\n    'pageId': 15891,\r\n    'close_all_message': '\\u0417\\u0430\\u043a\\u0440\\u044b\\u0442\\u044c \\u043e\\u043a\\u043d\\u043e',\r\n    'framework': 'default',\r\n    'mask_phone': true,\r\n    'mask_phone_format': '+7 (999) 999-99-99',\r\n    'copy_count': true\r\n}\r\n\r\nfdkConfig = {\r\n    'city_coords': [55.75222, 37.61556],\r\n    'debug': false,\r\n    'formalicious_ym_target': 39368625,\r\n    'is_dev_user': false,\r\n    'promocode_svitok': false,\r\n    'promocode_svitok_code': '',\r\n    'isAdmin': false,\r\n    'pageId': 1,\r\n    'actionUrl': '\\/assets\\/components\\/fandeco1c\\/action.php',\r\n    'isDeliveryTocity': 0,\r\n    'min_summ_express': 3000,\r\n    'cost_express_summ': 6000,\r\n    'current_parents': [1],\r\n    'msg': {\r\n        'sum_min': '\\u0414\\u043e\\u0441\\u0442\\u0430\\u0432\\u043a\\u0430 \\u043a\\u0443\\u0440\\u044c\\u0435\\u0440\\u043e\\u043c \\u0434\\u043e\\u0441\\u0442\\u0443\\u043f\\u043d\\u0430 \\u0442\\u043e\\u043b\\u044c\\u043a\\u043e \\u043f\\u0440\\u0438 \\u043c\\u0438\\u043d\\u0438\\u043c\\u0430\\u043b\\u044c\\u043d\\u043e\\u0439 \\u0441\\u0443\\u043c\\u043c\\u0435 \\u0437\\u0430\\u043a\\u0430\\u0437\\u0430 \\u0432 3000 \\u0440\\u0443\\u0431. :-(',\r\n        'express_text': '\\u0414\\u043e\\u0441\\u0442\\u0430\\u0432\\u043a\\u0430 \\u043a\\u0443\\u0440\\u044c\\u0435\\u0440\\u043e\\u043c (\\u0434\\u043e\\u0441\\u0442\\u0443\\u043f\\u043d\\u0430 \\u043f\\u0440\\u0438 \\u0437\\u0430\\u043a\\u0430\\u0437\\u0435 \\u043e\\u0442 3000 \\u0440\\u0443\\u0431.)'\r\n    },\r\n    'menu_version_cache': '10525',\r\n    'page_type': 'home_page',\r\n    'product_article': '',\r\n    'product_price': '',\r\n    'product_sale': false,\r\n    'product_old_price': '',\r\n    'product_image': '',\r\n    'product_parent': 0,\r\n    'product_category_name': '',\r\n    'category_name': '',\r\n    'product_vendor_name': '',\r\n    'product_vendor_id': '',\r\n    'msecData': {'cookieDomain': 'fandeco.ru', 'userId': '25245'},\r\n    'trackingId': 'UA-83550813-1',\r\n    'assets_version': 1622194085147,\r\n    'ms3_desired_delivery_date_max_day': 90,\r\n    'page_pagetitle': '\\u0413\\u043b\\u0430\\u0432\\u043d\\u0430\\u044f',\r\n    'page_uri': 'index\\/',\r\n    'is_mobile': 0,\r\n    'express_transport_distance_km': 30,\r\n    'site_cdn': 'https:\\/\\/584c5dbd-593d-44f7-8470-c89579a522b3.selcdn.net\\/',\r\n    'PopMechanic': {\r\n        'total': 48420,\r\n        'totalWithDiscount': 48420,\r\n        'products': [{\r\n            'id': '169544',\r\n            'price': 2050,\r\n            'priceWithDiscount': 0,\r\n            'name': '\\u0421\\u0432\\u0435\\u0442\\u0438\\u043b\\u044c\\u043d\\u0438\\u043a Arte Lamp SIRIUS A1524SP-1CC',\r\n            'quantity': 1,\r\n            'pictureUrl': '\\/assets\\/images\\/products\\/169544\\/a1524sp-1cc.jpg',\r\n            'url': 'https:\\/\\/fandeco.ru\\/assets\\/images\\/products\\/169544\\/a1524sp-1cc.jpg',\r\n            'brand': 'Arte Lamp',\r\n            'brandId': '3',\r\n            'hasDiscount': '0',\r\n            'categoryId': '8722',\r\n            'category': '\\u041f\\u043e\\u0434\\u0432\\u0435\\u0441\\u044b'\r\n        }, {\r\n            'id': '170206',\r\n            'price': 6390,\r\n            'priceWithDiscount': 0,\r\n            'name': '\\u0421\\u0432\\u0435\\u0442\\u0438\\u043b\\u044c\\u043d\\u0438\\u043a Arte Lamp ARENA A2670PL-1WH',\r\n            'quantity': 1,\r\n            'pictureUrl': '\\/assets\\/images\\/products\\/170206\\/a2670pl-1wh.jpg',\r\n            'url': 'https:\\/\\/fandeco.ru\\/assets\\/images\\/products\\/170206\\/a2670pl-1wh.jpg',\r\n            'brand': 'Arte Lamp',\r\n            'brandId': '3',\r\n            'hasDiscount': '0',\r\n            'categoryId': '8726',\r\n            'category': '\\u041f\\u043e\\u0442\\u043e\\u043b\\u043e\\u0447\\u043d\\u044b\\u0435 \\u0441\\u0432\\u0435\\u0442\\u0438\\u043b\\u044c\\u043d\\u0438\\u043a\\u0438'\r\n        }, {\r\n            'id': '200370',\r\n            'price': 19990,\r\n            'priceWithDiscount': 0,\r\n            'name': '\\u041b\\u044e\\u0441\\u0442\\u0440\\u0430 Arte Lamp DEXTER A3619PL-24BK',\r\n            'quantity': 2,\r\n            'pictureUrl': '\\/assets\\/images\\/products\\/200370\\/a3619pl-24bk.jpg',\r\n            'url': 'https:\\/\\/fandeco.ru\\/assets\\/images\\/products\\/200370\\/a3619pl-24bk.jpg',\r\n            'brand': 'Arte Lamp',\r\n            'brandId': '3',\r\n            'hasDiscount': '0',\r\n            'categoryId': '8731',\r\n            'category': '\\u041b\\u044e\\u0441\\u0442\\u0440\\u0430 \\u043f\\u043e\\u0442\\u043e\\u043b\\u043e\\u0447\\u043d\\u0430\\u044f'\r\n        }]\r\n    }\r\n}\r\n\r\nif (typeof mse2Config == 'undefined') {mse2Config = {'cssUrl': '\\/assets\\/components\\/msearch2\\/css\\/web\\/', 'jsUrl': '\\/assets\\/components\\/msearch2\\/js\\/web\\/', 'actionUrl': '\\/assets\\/components\\/msearch2\\/action.php'}}\r\nif (typeof mse2FormConfig == 'undefined') {mse2FormConfig = {}}\r\nmse2FormConfig['f7c893f2fa6662f005869dbb33911b300f054055'] = {'autocomplete': 'results', 'queryVar': 'query', 'minQuery': 3, 'pageId': 6}\r\n\r\ncmlUser = {}\r\ncmlUserConfig = {'actionUrl': 'https:\\/\\/cmluser.massive.ru\\/assets\\/components\\/cmluser\\/action.php', 'ctx': 'web', 'source': '', 'target': '', 'page_id': 1, 'user_id': 25245}\r\n\r\nvar msEc = {\r\n    'detailId': 0,\r\n    'measurementProtocol': 1,\r\n    'maxChunkImpression': 3,\r\n    'useEC': '1',\r\n    'detail': [],\r\n    'checkout': [],\r\n    'lexicon': {\r\n        'category': {'ec': 'order_fandeco', 'promo': 'promo', 'checkout': 'Checkout'},\r\n        'label': {\r\n            'add_to_cart': '\\u0414\\u043e\\u0431\\u0430\\u0432\\u043b\\u0435\\u043d\\u0438\\u0435 \\u0442\\u043e\\u0432\\u0430\\u0440\\u0430 \\u0432 \\u043a\\u043e\\u0440\\u0437\\u0438\\u043d\\u0443',\r\n            'remove_from_cart': '\\u0423\\u0434\\u0430\\u043b\\u0435\\u043d\\u0438\\u0435 \\u0442\\u043e\\u0432\\u0430\\u0440\\u0430 \\u0438\\u0437 \\u043a\\u043e\\u0440\\u0437\\u0438\\u043d\\u044b',\r\n            'option': '\\u041e\\u043f\\u0446\\u0438\\u044f',\r\n            'click': '\\u041a\\u043b\\u0438\\u043a\\u0430 \\u043f\\u043e \\u0442\\u043e\\u0432\\u0430\\u0440\\u0443'\r\n        },\r\n        'action': {'option': 'Option', 'click': 'Click'}\r\n    }\r\n}\r\n\r\nmsFavoritesConfig = {'actionUrl': '\\/assets\\/components\\/msfavorites\\/action.php', 'ctx': 'web', 'version': '2.1.15-beta', 'options': null}\r\n/*! jQuery v2.2.4 | (c) jQuery Foundation | jquery.org/license */\r\n!function(a,b){\"object\"==typeof module&&\"object\"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error(\"jQuery requires a window with a document\");return b(a)}:b(a)}(\"undefined\"!=typeof window?window:this,function(a,b){var c=[],d=a.document,e=c.slice,f=c.concat,g=c.push,h=c.indexOf,i={},j=i.toString,k=i.hasOwnProperty,l={},m=\"2.2.4\",n=function(a,b){return new n.fn.init(a,b)},o=/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,p=/^-ms-/,q=/-([\\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:\"\",length:0,toArray:function(){return e.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:e.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a){return n.each(this,a)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(e.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:g,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for(\"boolean\"==typeof g&&(j=g,g=arguments[h]||{},h++),\"object\"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:\"jQuery\"+(m+Math.random()).replace(/\\D/g,\"\"),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return\"function\"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=a&&a.toString();return!n.isArray(a)&&b-parseFloat(b)+1>=0},isPlainObject:function(a){var b;if(\"object\"!==n.type(a)||a.nodeType||n.isWindow(a))return!1;if(a.constructor&&!k.call(a,\"constructor\")&&!k.call(a.constructor.prototype||{},\"isPrototypeOf\"))return!1;for(b in a);return void 0===b||k.call(a,b)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+\"\":\"object\"==typeof a||\"function\"==typeof a?i[j.call(a)]||\"object\":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf(\"use strict\")?(b=d.createElement(\"script\"),b.text=a,d.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,\"ms-\").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var c,d=0;if(s(a)){for(c=a.length;c>d;d++)if(b.call(a[d],d,a[d])===!1)break}else for(d in a)if(b.call(a[d],d,a[d])===!1)break;return a},trim:function(a){return null==a?\"\":(a+\"\").replace(o,\"\")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,\"string\"==typeof a?[a]:a):g.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:h.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,e,g=0,h=[];if(s(a))for(d=a.length;d>g;g++)e=b(a[g],g,c),null!=e&&h.push(e);else for(g in a)e=b(a[g],g,c),null!=e&&h.push(e);return f.apply([],h)},guid:1,proxy:function(a,b){var c,d,f;return\"string\"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(d=e.call(arguments,2),f=function(){return a.apply(b||this,d.concat(e.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:l}),\"function\"==typeof Symbol&&(n.fn[Symbol.iterator]=c[Symbol.iterator]),n.each(\"Boolean Number String Function Array Date RegExp Object Error Symbol\".split(\" \"),function(a,b){i[\"[object \"+b+\"]\"]=b.toLowerCase()});function s(a){var b=!!a&&\"length\"in a&&a.length,c=n.type(a);return\"function\"===c||n.isWindow(a)?!1:\"array\"===c||0===b||\"number\"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u=\"sizzle\"+1*new Date,v=a.document,w=0,x=0,y=ga(),z=ga(),A=ga(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K=\"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",L=\"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",M=\"(?:\\\\\\\\.|[\\\\w-]|[^\\\\x00-\\\\xa0])+\",N=\"\\\\[\"+L+\"*(\"+M+\")(?:\"+L+\"*([*^$|!~]?=)\"+L+\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\"+M+\"))|)\"+L+\"*\\\\]\",O=\":(\"+M+\")(?:\\\\((('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\"+N+\")*)|.*)\\\\)|)\",P=new RegExp(L+\"+\",\"g\"),Q=new RegExp(\"^\"+L+\"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\"+L+\"+$\",\"g\"),R=new RegExp(\"^\"+L+\"*,\"+L+\"*\"),S=new RegExp(\"^\"+L+\"*([>+~]|\"+L+\")\"+L+\"*\"),T=new RegExp(\"=\"+L+\"*([^\\\\]'\\\"]*?)\"+L+\"*\\\\]\",\"g\"),U=new RegExp(O),V=new RegExp(\"^\"+M+\"$\"),W={ID:new RegExp(\"^#(\"+M+\")\"),CLASS:new RegExp(\"^\\\\.(\"+M+\")\"),TAG:new RegExp(\"^(\"+M+\"|[*])\"),ATTR:new RegExp(\"^\"+N),PSEUDO:new RegExp(\"^\"+O),CHILD:new RegExp(\"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\"+L+\"*(even|odd|(([+-]|)(\\\\d*)n|)\"+L+\"*(?:([+-]|)\"+L+\"*(\\\\d+)|))\"+L+\"*\\\\)|)\",\"i\"),bool:new RegExp(\"^(?:\"+K+\")$\",\"i\"),needsContext:new RegExp(\"^\"+L+\"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\"+L+\"*((?:-\\\\d)?\\\\d*)\"+L+\"*\\\\)|)(?=[^-]|$)\",\"i\")},X=/^(?:input|select|textarea|button)$/i,Y=/^h\\d$/i,Z=/^[^{]+\\{\\s*\\[native \\w/,$=/^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,_=/[+~]/,aa=/'|\\\\/g,ba=new RegExp(\"\\\\\\\\([\\\\da-f]{1,6}\"+L+\"?|(\"+L+\")|.)\",\"ig\"),ca=function(a,b,c){var d=\"0x\"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},da=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(ea){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function fa(a,b,d,e){var f,h,j,k,l,o,r,s,w=b&&b.ownerDocument,x=b?b.nodeType:9;if(d=d||[],\"string\"!=typeof a||!a||1!==x&&9!==x&&11!==x)return d;if(!e&&((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,p)){if(11!==x&&(o=$.exec(a)))if(f=o[1]){if(9===x){if(!(j=b.getElementById(f)))return d;if(j.id===f)return d.push(j),d}else if(w&&(j=w.getElementById(f))&&t(b,j)&&j.id===f)return d.push(j),d}else{if(o[2])return H.apply(d,b.getElementsByTagName(a)),d;if((f=o[3])&&c.getElementsByClassName&&b.getElementsByClassName)return H.apply(d,b.getElementsByClassName(f)),d}if(c.qsa&&!A[a+\" \"]&&(!q||!q.test(a))){if(1!==x)w=b,s=a;else if(\"object\"!==b.nodeName.toLowerCase()){(k=b.getAttribute(\"id\"))?k=k.replace(aa,\"\\\\$&\"):b.setAttribute(\"id\",k=u),r=g(a),h=r.length,l=V.test(k)?\"#\"+k:\"[id='\"+k+\"']\";while(h--)r[h]=l+\" \"+qa(r[h]);s=r.join(\",\"),w=_.test(a)&&oa(b.parentNode)||b}if(s)try{return H.apply(d,w.querySelectorAll(s)),d}catch(y){}finally{k===u&&b.removeAttribute(\"id\")}}}return i(a.replace(Q,\"$1\"),b,d,e)}function ga(){var a=[];function b(c,e){return a.push(c+\" \")>d.cacheLength&&delete b[a.shift()],b[c+\" \"]=e}return b}function ha(a){return a[u]=!0,a}function ia(a){var b=n.createElement(\"div\");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ja(a,b){var c=a.split(\"|\"),e=c.length;while(e--)d.attrHandle[c[e]]=b}function ka(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function la(a){return function(b){var c=b.nodeName.toLowerCase();return\"input\"===c&&b.type===a}}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return(\"input\"===c||\"button\"===c)&&b.type===a}}function na(a){return ha(function(b){return b=+b,ha(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function oa(a){return a&&\"undefined\"!=typeof a.getElementsByTagName&&a}c=fa.support={},f=fa.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?\"HTML\"!==b.nodeName:!1},m=fa.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=n.documentElement,p=!f(n),(e=n.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener(\"unload\",da,!1):e.attachEvent&&e.attachEvent(\"onunload\",da)),c.attributes=ia(function(a){return a.className=\"i\",!a.getAttribute(\"className\")}),c.getElementsByTagName=ia(function(a){return a.appendChild(n.createComment(\"\")),!a.getElementsByTagName(\"*\").length}),c.getElementsByClassName=Z.test(n.getElementsByClassName),c.getById=ia(function(a){return o.appendChild(a).id=u,!n.getElementsByName||!n.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if(\"undefined\"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){return a.getAttribute(\"id\")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){var c=\"undefined\"!=typeof a.getAttributeNode&&a.getAttributeNode(\"id\");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return\"undefined\"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if(\"*\"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return\"undefined\"!=typeof b.getElementsByClassName&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=Z.test(n.querySelectorAll))&&(ia(function(a){o.appendChild(a).innerHTML=\"<a id='\"+u+\"'></a><select id='\"+u+\"-\\r\\\\' msallowcapture=''><option selected=''></option></select>\",a.querySelectorAll(\"[msallowcapture^='']\").length&&q.push(\"[*^$]=\"+L+\"*(?:''|\\\"\\\")\"),a.querySelectorAll(\"[selected]\").length||q.push(\"\\\\[\"+L+\"*(?:value|\"+K+\")\"),a.querySelectorAll(\"[id~=\"+u+\"-]\").length||q.push(\"~=\"),a.querySelectorAll(\":checked\").length||q.push(\":checked\"),a.querySelectorAll(\"a#\"+u+\"+*\").length||q.push(\".#.+[+~]\")}),ia(function(a){var b=n.createElement(\"input\");b.setAttribute(\"type\",\"hidden\"),a.appendChild(b).setAttribute(\"name\",\"D\"),a.querySelectorAll(\"[name=d]\").length&&q.push(\"name\"+L+\"*[*^$|!~]?=\"),a.querySelectorAll(\":enabled\").length||q.push(\":enabled\",\":disabled\"),a.querySelectorAll(\"*,:x\"),q.push(\",.*:\")})),(c.matchesSelector=Z.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ia(function(a){c.disconnectedMatch=s.call(a,\"div\"),s.call(a,\"[s!='']:x\"),r.push(\"!=\",O)}),q=q.length&&new RegExp(q.join(\"|\")),r=r.length&&new RegExp(r.join(\"|\")),b=Z.test(o.compareDocumentPosition),t=b||Z.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===n||a.ownerDocument===v&&t(v,a)?-1:b===n||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,g=[a],h=[b];if(!e||!f)return a===n?-1:b===n?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return ka(a,b);c=a;while(c=c.parentNode)g.unshift(c);c=b;while(c=c.parentNode)h.unshift(c);while(g[d]===h[d])d++;return d?ka(g[d],h[d]):g[d]===v?-1:h[d]===v?1:0},n):n},fa.matches=function(a,b){return fa(a,null,null,b)},fa.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(T,\"='$1']\"),c.matchesSelector&&p&&!A[b+\" \"]&&(!r||!r.test(b))&&(!q||!q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return fa(b,n,null,[a]).length>0},fa.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fa.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fa.error=function(a){throw new Error(\"Syntax error, unrecognized expression: \"+a)},fa.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=fa.getText=function(a){var b,c=\"\",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if(\"string\"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=fa.selectors={cacheLength:50,createPseudo:ha,match:W,attrHandle:{},find:{},relative:{\">\":{dir:\"parentNode\",first:!0},\" \":{dir:\"parentNode\"},\"+\":{dir:\"previousSibling\",first:!0},\"~\":{dir:\"previousSibling\"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ba,ca),a[3]=(a[3]||a[4]||a[5]||\"\").replace(ba,ca),\"~=\"===a[2]&&(a[3]=\" \"+a[3]+\" \"),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),\"nth\"===a[1].slice(0,3)?(a[3]||fa.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*(\"even\"===a[3]||\"odd\"===a[3])),a[5]=+(a[7]+a[8]||\"odd\"===a[3])):a[3]&&fa.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return W.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||\"\":c&&U.test(c)&&(b=g(c,!0))&&(b=c.indexOf(\")\",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ba,ca).toLowerCase();return\"*\"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+\" \"];return b||(b=new RegExp(\"(^|\"+L+\")\"+a+\"(\"+L+\"|$)\"))&&y(a,function(a){return b.test(\"string\"==typeof a.className&&a.className||\"undefined\"!=typeof a.getAttribute&&a.getAttribute(\"class\")||\"\")})},ATTR:function(a,b,c){return function(d){var e=fa.attr(d,a);return null==e?\"!=\"===b:b?(e+=\"\",\"=\"===b?e===c:\"!=\"===b?e!==c:\"^=\"===b?c&&0===e.indexOf(c):\"*=\"===b?c&&e.indexOf(c)>-1:\"$=\"===b?c&&e.slice(-c.length)===c:\"~=\"===b?(\" \"+e.replace(P,\" \")+\" \").indexOf(c)>-1:\"|=\"===b?e===c||e.slice(0,c.length+1)===c+\"-\":!1):!0}},CHILD:function(a,b,c,d,e){var f=\"nth\"!==a.slice(0,3),g=\"last\"!==a.slice(-4),h=\"of-type\"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?\"nextSibling\":\"previousSibling\",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){while(p){m=b;while(m=m[p])if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p=\"only\"===a&&!o&&\"nextSibling\"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){m=q,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n&&j[2],m=n&&q.childNodes[n];while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if(1===m.nodeType&&++t&&m===b){k[a]=[w,n,t];break}}else if(s&&(m=b,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n),t===!1)while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if((h?m.nodeName.toLowerCase()===r:1===m.nodeType)&&++t&&(s&&(l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[w,t]),m===b))break;return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fa.error(\"unsupported pseudo: \"+a);return e[u]?e(b):e.length>1?(c=[a,a,\"\",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ha(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ha(function(a){var b=[],c=[],d=h(a.replace(Q,\"$1\"));return d[u]?ha(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ha(function(a){return function(b){return fa(a,b).length>0}}),contains:ha(function(a){return a=a.replace(ba,ca),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ha(function(a){return V.test(a||\"\")||fa.error(\"unsupported lang: \"+a),a=a.replace(ba,ca).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute(\"xml:lang\")||b.getAttribute(\"lang\"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+\"-\");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return\"input\"===b&&!!a.checked||\"option\"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Y.test(a.nodeName)},input:function(a){return X.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return\"input\"===b&&\"button\"===a.type||\"button\"===b},text:function(a){var b;return\"input\"===a.nodeName.toLowerCase()&&\"text\"===a.type&&(null==(b=a.getAttribute(\"type\"))||\"text\"===b.toLowerCase())},first:na(function(){return[0]}),last:na(function(a,b){return[b-1]}),eq:na(function(a,b,c){return[0>c?c+b:c]}),even:na(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:na(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:na(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:na(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=la(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=ma(b);function pa(){}pa.prototype=d.filters=d.pseudos,d.setFilters=new pa,g=fa.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+\" \"];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){c&&!(e=R.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=S.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(Q,\" \")}),h=h.slice(c.length));for(g in d.filter)!(e=W[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?fa.error(a):z(a,i).slice(0)};function qa(a){for(var b=0,c=a.length,d=\"\";c>b;b++)d+=a[b].value;return d}function ra(a,b,c){var d=b.dir,e=c&&\"parentNode\"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(j=b[u]||(b[u]={}),i=j[b.uniqueID]||(j[b.uniqueID]={}),(h=i[d])&&h[0]===w&&h[1]===f)return k[2]=h[2];if(i[d]=k,k[2]=a(b,c,g))return!0}}}function sa(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ta(a,b,c){for(var d=0,e=b.length;e>d;d++)fa(a,b[d],c);return c}function ua(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function va(a,b,c,d,e,f){return d&&!d[u]&&(d=va(d)),e&&!e[u]&&(e=va(e,f)),ha(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ta(b||\"*\",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ua(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=ua(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=ua(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function wa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[\" \"],i=g?1:0,k=ra(function(a){return a===b},h,!0),l=ra(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[ra(sa(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return va(i>1&&sa(m),i>1&&qa(a.slice(0,i-1).concat({value:\" \"===a[i-2].type?\"*\":\"\"})).replace(Q,\"$1\"),c,e>i&&wa(a.slice(i,e)),f>e&&wa(a=a.slice(e)),f>e&&qa(a))}m.push(c)}return sa(m)}function xa(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,o,q,r=0,s=\"0\",t=f&&[],u=[],v=j,x=f||e&&d.find.TAG(\"*\",k),y=w+=null==v?1:Math.random()||.1,z=x.length;for(k&&(j=g===n||g||k);s!==z&&null!=(l=x[s]);s++){if(e&&l){o=0,g||l.ownerDocument===n||(m(l),h=!p);while(q=a[o++])if(q(l,g||n,h)){i.push(l);break}k&&(w=y)}c&&((l=!q&&l)&&r--,f&&t.push(l))}if(r+=s,c&&s!==r){o=0;while(q=b[o++])q(t,u,g,h);if(f){if(r>0)while(s--)t[s]||u[s]||(u[s]=F.call(i));u=ua(u)}H.apply(i,u),k&&!f&&u.length>0&&r+b.length>1&&fa.uniqueSort(i)}return k&&(w=y,j=v),t};return c?ha(f):f}return h=fa.compile=function(a,b){var c,d=[],e=[],f=A[a+\" \"];if(!f){b||(b=g(a)),c=b.length;while(c--)f=wa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,xa(e,d)),f.selector=a}return f},i=fa.select=function(a,b,e,f){var i,j,k,l,m,n=\"function\"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&\"ID\"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ba,ca),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=W.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(ba,ca),_.test(j[0].type)&&oa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qa(j),!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,!b||_.test(a)&&oa(b.parentNode)||b),e},c.sortStable=u.split(\"\").sort(B).join(\"\")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ia(function(a){return 1&a.compareDocumentPosition(n.createElement(\"div\"))}),ia(function(a){return a.innerHTML=\"<a href='#'></a>\",\"#\"===a.firstChild.getAttribute(\"href\")})||ja(\"type|href|height|width\",function(a,b,c){return c?void 0:a.getAttribute(b,\"type\"===b.toLowerCase()?1:2)}),c.attributes&&ia(function(a){return a.innerHTML=\"<input/>\",a.firstChild.setAttribute(\"value\",\"\"),\"\"===a.firstChild.getAttribute(\"value\")})||ja(\"value\",function(a,b,c){return c||\"input\"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ia(function(a){return null==a.getAttribute(\"disabled\")})||ja(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fa}(a);n.find=t,n.expr=t.selectors,n.expr[\":\"]=n.expr.pseudos,n.uniqueSort=n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},v=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},w=n.expr.match.needsContext,x=/^<([\\w-]+)\\s*\\/?>(?:<\\/\\1>|)$/,y=/^.[^:#\\[\\.,]*$/;function z(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if(\"string\"==typeof b){if(y.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return h.call(b,a)>-1!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=\":not(\"+a+\")\"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if(\"string\"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)if(n.contains(e[b],this))return!0}));for(b=0;c>b;b++)n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+\" \"+a:a,d},filter:function(a){return this.pushStack(z(this,a||[],!1))},not:function(a){return this.pushStack(z(this,a||[],!0))},is:function(a){return!!z(this,\"string\"==typeof a&&w.test(a)?n(a):a||[],!1).length}});var A,B=/^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]*))$/,C=n.fn.init=function(a,b,c){var e,f;if(!a)return this;if(c=c||A,\"string\"==typeof a){if(e=\"<\"===a[0]&&\">\"===a[a.length-1]&&a.length>=3?[null,a,null]:B.exec(a),!e||!e[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:d,!0)),x.test(e[1])&&n.isPlainObject(b))for(e in b)n.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e]);return this}return f=d.getElementById(e[2]),f&&f.parentNode&&(this.length=1,this[0]=f),this.context=d,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?void 0!==c.ready?c.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};C.prototype=n.fn,A=n(d);var D=/^(?:parents|prev(?:Until|All))/,E={children:!0,contents:!0,next:!0,prev:!0};n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=w.test(a)||\"string\"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.uniqueSort(f):f)},index:function(a){return a?\"string\"==typeof a?h.call(n(a),this[0]):h.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.uniqueSort(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function F(a,b){while((a=a[b])&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return u(a,\"parentNode\")},parentsUntil:function(a,b,c){return u(a,\"parentNode\",c)},next:function(a){return F(a,\"nextSibling\")},prev:function(a){return F(a,\"previousSibling\")},nextAll:function(a){return u(a,\"nextSibling\")},prevAll:function(a){return u(a,\"previousSibling\")},nextUntil:function(a,b,c){return u(a,\"nextSibling\",c)},prevUntil:function(a,b,c){return u(a,\"previousSibling\",c)},siblings:function(a){return v((a.parentNode||{}).firstChild,a)},children:function(a){return v(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return\"Until\"!==a.slice(-5)&&(d=c),d&&\"string\"==typeof d&&(e=n.filter(d,e)),this.length>1&&(E[a]||n.uniqueSort(e),D.test(a)&&e.reverse()),this.pushStack(e)}});var G=/\\S+/g;function H(a){var b={};return n.each(a.match(G)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a=\"string\"==typeof a?H(a):n.extend({},a);var b,c,d,e,f=[],g=[],h=-1,i=function(){for(e=a.once,d=b=!0;g.length;h=-1){c=g.shift();while(++h<f.length)f[h].apply(c[0],c[1])===!1&&a.stopOnFalse&&(h=f.length,c=!1)}a.memory||(c=!1),b=!1,e&&(f=c?[]:\"\")},j={add:function(){return f&&(c&&!b&&(h=f.length-1,g.push(c)),function d(b){n.each(b,function(b,c){n.isFunction(c)?a.unique&&j.has(c)||f.push(c):c&&c.length&&\"string\"!==n.type(c)&&d(c)})}(arguments),c&&!b&&i()),this},remove:function(){return n.each(arguments,function(a,b){var c;while((c=n.inArray(b,f,c))>-1)f.splice(c,1),h>=c&&h--}),this},has:function(a){return a?n.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=g=[],f=c=\"\",this},disabled:function(){return!f},lock:function(){return e=g=[],c||(f=c=\"\"),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],g.push(c),b||i()),this},fire:function(){return j.fireWith(this,arguments),this},fired:function(){return!!d}};return j},n.extend({Deferred:function(a){var b=[[\"resolve\",\"done\",n.Callbacks(\"once memory\"),\"resolved\"],[\"reject\",\"fail\",n.Callbacks(\"once memory\"),\"rejected\"],[\"notify\",\"progress\",n.Callbacks(\"memory\")]],c=\"pending\",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[f[0]+\"With\"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+\"With\"](this===e?d:this,arguments),this},e[f[0]+\"With\"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=e.call(arguments),d=c.length,f=1!==d||a&&n.isFunction(a.promise)?d:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(d){b[a]=this,c[a]=arguments.length>1?e.call(arguments):d,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(d>1)for(i=new Array(d),j=new Array(d),k=new Array(d);d>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().progress(h(b,j,i)).done(h(b,k,c)).fail(g.reject):--f;return f||g.resolveWith(k,c),g.promise()}});var I;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(I.resolveWith(d,[n]),n.fn.triggerHandler&&(n(d).triggerHandler(\"ready\"),n(d).off(\"ready\"))))}});function J(){d.removeEventListener(\"DOMContentLoaded\",J),a.removeEventListener(\"load\",J),n.ready()}n.ready.promise=function(b){return I||(I=n.Deferred(),\"complete\"===d.readyState||\"loading\"!==d.readyState&&!d.documentElement.doScroll?a.setTimeout(n.ready):(d.addEventListener(\"DOMContentLoaded\",J),a.addEventListener(\"load\",J))),I.promise(b)},n.ready.promise();var K=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if(\"object\"===n.type(c)){e=!0;for(h in c)K(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},L=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function M(){this.expando=n.expando+M.uid++}M.uid=1,M.prototype={register:function(a,b){var c=b||{};return a.nodeType?a[this.expando]=c:Object.defineProperty(a,this.expando,{value:c,writable:!0,configurable:!0}),a[this.expando]},cache:function(a){if(!L(a))return{};var b=a[this.expando];return b||(b={},L(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if(\"string\"==typeof b)e[b]=c;else for(d in b)e[d]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][b]},access:function(a,b,c){var d;return void 0===b||b&&\"string\"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=a[this.expando];if(void 0!==f){if(void 0===b)this.register(a);else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in f?d=[b,e]:(d=e,d=d in f?[d]:d.match(G)||[])),c=d.length;while(c--)delete f[d[c]]}(void 0===b||n.isEmptyObject(f))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!n.isEmptyObject(b)}};var N=new M,O=new M,P=/^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,Q=/[A-Z]/g;function R(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d=\"data-\"+b.replace(Q,\"-$&\").toLowerCase(),c=a.getAttribute(d),\"string\"==typeof c){try{c=\"true\"===c?!0:\"false\"===c?!1:\"null\"===c?null:+c+\"\"===c?+c:P.test(c)?n.parseJSON(c):c;\r\n}catch(e){}O.set(a,b,c)}else c=void 0;return c}n.extend({hasData:function(a){return O.hasData(a)||N.hasData(a)},data:function(a,b,c){return O.access(a,b,c)},removeData:function(a,b){O.remove(a,b)},_data:function(a,b,c){return N.access(a,b,c)},_removeData:function(a,b){N.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=O.get(f),1===f.nodeType&&!N.get(f,\"hasDataAttrs\"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf(\"data-\")&&(d=n.camelCase(d.slice(5)),R(f,d,e[d])));N.set(f,\"hasDataAttrs\",!0)}return e}return\"object\"==typeof a?this.each(function(){O.set(this,a)}):K(this,function(b){var c,d;if(f&&void 0===b){if(c=O.get(f,a)||O.get(f,a.replace(Q,\"-$&\").toLowerCase()),void 0!==c)return c;if(d=n.camelCase(a),c=O.get(f,d),void 0!==c)return c;if(c=R(f,d,void 0),void 0!==c)return c}else d=n.camelCase(a),this.each(function(){var c=O.get(this,d);O.set(this,d,b),a.indexOf(\"-\")>-1&&void 0!==c&&O.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){O.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||\"fx\")+\"queue\",d=N.get(a,b),c&&(!d||n.isArray(c)?d=N.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||\"fx\";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};\"inprogress\"===e&&(e=c.shift(),d--),e&&(\"fx\"===b&&c.unshift(\"inprogress\"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+\"queueHooks\";return N.get(a,c)||N.access(a,c,{empty:n.Callbacks(\"once memory\").add(function(){N.remove(a,[b+\"queue\",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return\"string\"!=typeof a&&(b=a,a=\"fx\",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),\"fx\"===a&&\"inprogress\"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||\"fx\",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};\"string\"!=typeof a&&(b=a,a=void 0),a=a||\"fx\";while(g--)c=N.get(f[g],a+\"queueHooks\"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var S=/[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/.source,T=new RegExp(\"^(?:([+-])=|)(\"+S+\")([a-z%]*)$\",\"i\"),U=[\"Top\",\"Right\",\"Bottom\",\"Left\"],V=function(a,b){return a=b||a,\"none\"===n.css(a,\"display\")||!n.contains(a.ownerDocument,a)};function W(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return n.css(a,b,\"\")},i=h(),j=c&&c[3]||(n.cssNumber[b]?\"\":\"px\"),k=(n.cssNumber[b]||\"px\"!==j&&+i)&&T.exec(n.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||\".5\",k/=f,n.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}var X=/^(?:checkbox|radio)$/i,Y=/<([\\w:-]+)/,Z=/^$|\\/(?:java|ecma)script/i,$={option:[1,\"<select multiple='multiple'>\",\"</select>\"],thead:[1,\"<table>\",\"</table>\"],col:[2,\"<table><colgroup>\",\"</colgroup></table>\"],tr:[2,\"<table><tbody>\",\"</tbody></table>\"],td:[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"],_default:[0,\"\",\"\"]};$.optgroup=$.option,$.tbody=$.tfoot=$.colgroup=$.caption=$.thead,$.th=$.td;function _(a,b){var c=\"undefined\"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||\"*\"):\"undefined\"!=typeof a.querySelectorAll?a.querySelectorAll(b||\"*\"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function aa(a,b){for(var c=0,d=a.length;d>c;c++)N.set(a[c],\"globalEval\",!b||N.get(b[c],\"globalEval\"))}var ba=/<|&#?\\w+;/;function ca(a,b,c,d,e){for(var f,g,h,i,j,k,l=b.createDocumentFragment(),m=[],o=0,p=a.length;p>o;o++)if(f=a[o],f||0===f)if(\"object\"===n.type(f))n.merge(m,f.nodeType?[f]:f);else if(ba.test(f)){g=g||l.appendChild(b.createElement(\"div\")),h=(Y.exec(f)||[\"\",\"\"])[1].toLowerCase(),i=$[h]||$._default,g.innerHTML=i[1]+n.htmlPrefilter(f)+i[2],k=i[0];while(k--)g=g.lastChild;n.merge(m,g.childNodes),g=l.firstChild,g.textContent=\"\"}else m.push(b.createTextNode(f));l.textContent=\"\",o=0;while(f=m[o++])if(d&&n.inArray(f,d)>-1)e&&e.push(f);else if(j=n.contains(f.ownerDocument,f),g=_(l.appendChild(f),\"script\"),j&&aa(g),c){k=0;while(f=g[k++])Z.test(f.type||\"\")&&c.push(f)}return l}!function(){var a=d.createDocumentFragment(),b=a.appendChild(d.createElement(\"div\")),c=d.createElement(\"input\");c.setAttribute(\"type\",\"radio\"),c.setAttribute(\"checked\",\"checked\"),c.setAttribute(\"name\",\"t\"),b.appendChild(c),l.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML=\"<textarea>x</textarea>\",l.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var da=/^key/,ea=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,fa=/^([^.]*)(?:\\.(.+)|)/;function ga(){return!0}function ha(){return!1}function ia(){try{return d.activeElement}catch(a){}}function ja(a,b,c,d,e,f){var g,h;if(\"object\"==typeof b){\"string\"!=typeof c&&(d=d||c,c=void 0);for(h in b)ja(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&(\"string\"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=ha;else if(!e)return a;return 1===f&&(g=e,e=function(a){return n().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=n.guid++)),a.each(function(){n.event.add(this,b,e,d,c)})}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.get(a);if(r){c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return\"undefined\"!=typeof n&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||\"\").match(G)||[\"\"],j=b.length;while(j--)h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||\"\").split(\".\").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(\".\")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.hasData(a)&&N.get(a);if(r&&(i=r.events)){b=(b||\"\").match(G)||[\"\"],j=b.length;while(j--)if(h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||\"\").split(\".\").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp(\"(^|\\\\.)\"+p.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"),g=f=m.length;while(f--)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&(\"**\"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else for(o in i)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&N.remove(a,\"handle events\")}},dispatch:function(a){a=n.event.fix(a);var b,c,d,f,g,h=[],i=e.call(arguments),j=(N.get(this,\"events\")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped())a.rnamespace&&!a.rnamespace.test(g.namespace)||(a.handleObj=g,a.data=g.data,d=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(\"click\"!==a.type||isNaN(a.button)||a.button<1))for(;i!==this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||\"click\"!==a.type)){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+\" \",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>-1:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:\"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which\".split(\" \"),fixHooks:{},keyHooks:{props:\"char charCode key keyCode\".split(\" \"),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:\"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement\".split(\" \"),filter:function(a,b){var c,e,f,g=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||d,e=c.documentElement,f=c.body,a.pageX=b.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),a.which||void 0===g||(a.which=1&g?1:2&g?3:4&g?2:0),a}},fix:function(a){if(a[n.expando])return a;var b,c,e,f=a.type,g=a,h=this.fixHooks[f];h||(this.fixHooks[f]=h=ea.test(f)?this.mouseHooks:da.test(f)?this.keyHooks:{}),e=h.props?this.props.concat(h.props):this.props,a=new n.Event(g),b=e.length;while(b--)c=e[b],a[c]=g[c];return a.target||(a.target=d),3===a.target.nodeType&&(a.target=a.target.parentNode),h.filter?h.filter(a,g):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==ia()&&this.focus?(this.focus(),!1):void 0},delegateType:\"focusin\"},blur:{trigger:function(){return this===ia()&&this.blur?(this.blur(),!1):void 0},delegateType:\"focusout\"},click:{trigger:function(){return\"checkbox\"===this.type&&this.click&&n.nodeName(this,\"input\")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,\"a\")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?ga:ha):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={constructor:n.Event,isDefaultPrevented:ha,isPropagationStopped:ha,isImmediatePropagationStopped:ha,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ga,a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ga,a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ga,a&&!this.isSimulated&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:\"mouseover\",mouseleave:\"mouseout\",pointerenter:\"pointerover\",pointerleave:\"pointerout\"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||n.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),n.fn.extend({on:function(a,b,c,d){return ja(this,a,b,c,d)},one:function(a,b,c,d){return ja(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+\".\"+d.namespace:d.origType,d.selector,d.handler),this;if(\"object\"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return b!==!1&&\"function\"!=typeof b||(c=b,b=void 0),c===!1&&(c=ha),this.each(function(){n.event.remove(this,a,c,b)})}});var ka=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:-]+)[^>]*)\\/>/gi,la=/<script|<style|<link/i,ma=/checked\\s*(?:[^=]|=\\s*.checked.)/i,na=/^true\\/(.*)/,oa=/^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g;function pa(a,b){return n.nodeName(a,\"table\")&&n.nodeName(11!==b.nodeType?b:b.firstChild,\"tr\")?a.getElementsByTagName(\"tbody\")[0]||a.appendChild(a.ownerDocument.createElement(\"tbody\")):a}function qa(a){return a.type=(null!==a.getAttribute(\"type\"))+\"/\"+a.type,a}function ra(a){var b=na.exec(a.type);return b?a.type=b[1]:a.removeAttribute(\"type\"),a}function sa(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(N.hasData(a)&&(f=N.access(a),g=N.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)n.event.add(b,e,j[e][c])}O.hasData(a)&&(h=O.access(a),i=n.extend({},h),O.set(b,i))}}function ta(a,b){var c=b.nodeName.toLowerCase();\"input\"===c&&X.test(a.type)?b.checked=a.checked:\"input\"!==c&&\"textarea\"!==c||(b.defaultValue=a.defaultValue)}function ua(a,b,c,d){b=f.apply([],b);var e,g,h,i,j,k,m=0,o=a.length,p=o-1,q=b[0],r=n.isFunction(q);if(r||o>1&&\"string\"==typeof q&&!l.checkClone&&ma.test(q))return a.each(function(e){var f=a.eq(e);r&&(b[0]=q.call(this,e,f.html())),ua(f,b,c,d)});if(o&&(e=ca(b,a[0].ownerDocument,!1,a,d),g=e.firstChild,1===e.childNodes.length&&(e=g),g||d)){for(h=n.map(_(e,\"script\"),qa),i=h.length;o>m;m++)j=e,m!==p&&(j=n.clone(j,!0,!0),i&&n.merge(h,_(j,\"script\"))),c.call(a[m],j,m);if(i)for(k=h[h.length-1].ownerDocument,n.map(h,ra),m=0;i>m;m++)j=h[m],Z.test(j.type||\"\")&&!N.access(j,\"globalEval\")&&n.contains(k,j)&&(j.src?n._evalUrl&&n._evalUrl(j.src):n.globalEval(j.textContent.replace(oa,\"\")))}return a}function va(a,b,c){for(var d,e=b?n.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||n.cleanData(_(d)),d.parentNode&&(c&&n.contains(d.ownerDocument,d)&&aa(_(d,\"script\")),d.parentNode.removeChild(d));return a}n.extend({htmlPrefilter:function(a){return a.replace(ka,\"<$1></$2>\")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(l.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(g=_(h),f=_(a),d=0,e=f.length;e>d;d++)ta(f[d],g[d]);if(b)if(c)for(f=f||_(a),g=g||_(h),d=0,e=f.length;e>d;d++)sa(f[d],g[d]);else sa(a,h);return g=_(h,\"script\"),g.length>0&&aa(g,!i&&_(a,\"script\")),h},cleanData:function(a){for(var b,c,d,e=n.event.special,f=0;void 0!==(c=a[f]);f++)if(L(c)){if(b=c[N.expando]){if(b.events)for(d in b.events)e[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);c[N.expando]=void 0}c[O.expando]&&(c[O.expando]=void 0)}}}),n.fn.extend({domManip:ua,detach:function(a){return va(this,a,!0)},remove:function(a){return va(this,a)},text:function(a){return K(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.appendChild(a)}})},prepend:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(_(a,!1)),a.textContent=\"\");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return K(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if(\"string\"==typeof a&&!la.test(a)&&!$[(Y.exec(a)||[\"\",\"\"])[1].toLowerCase()]){a=n.htmlPrefilter(a);try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(_(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return ua(this,arguments,function(b){var c=this.parentNode;n.inArray(this,a)<0&&(n.cleanData(_(this)),c&&c.replaceChild(b,this))},a)}}),n.each({appendTo:\"append\",prependTo:\"prepend\",insertBefore:\"before\",insertAfter:\"after\",replaceAll:\"replaceWith\"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),f=e.length-1,h=0;f>=h;h++)c=h===f?this:this.clone(!0),n(e[h])[b](c),g.apply(d,c.get());return this.pushStack(d)}});var wa,xa={HTML:\"block\",BODY:\"block\"};function ya(a,b){var c=n(b.createElement(a)).appendTo(b.body),d=n.css(c[0],\"display\");return c.detach(),d}function za(a){var b=d,c=xa[a];return c||(c=ya(a,b),\"none\"!==c&&c||(wa=(wa||n(\"<iframe frameborder='0' width='0' height='0'/>\")).appendTo(b.documentElement),b=wa[0].contentDocument,b.write(),b.close(),c=ya(a,b),wa.detach()),xa[a]=c),c}var Aa=/^margin/,Ba=new RegExp(\"^(\"+S+\")(?!px)[a-z%]+$\",\"i\"),Ca=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)},Da=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e},Ea=d.documentElement;!function(){var b,c,e,f,g=d.createElement(\"div\"),h=d.createElement(\"div\");if(h.style){h.style.backgroundClip=\"content-box\",h.cloneNode(!0).style.backgroundClip=\"\",l.clearCloneStyle=\"content-box\"===h.style.backgroundClip,g.style.cssText=\"border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute\",g.appendChild(h);function i(){h.style.cssText=\"-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%\",h.innerHTML=\"\",Ea.appendChild(g);var d=a.getComputedStyle(h);b=\"1%\"!==d.top,f=\"2px\"===d.marginLeft,c=\"4px\"===d.width,h.style.marginRight=\"50%\",e=\"4px\"===d.marginRight,Ea.removeChild(g)}n.extend(l,{pixelPosition:function(){return i(),b},boxSizingReliable:function(){return null==c&&i(),c},pixelMarginRight:function(){return null==c&&i(),e},reliableMarginLeft:function(){return null==c&&i(),f},reliableMarginRight:function(){var b,c=h.appendChild(d.createElement(\"div\"));return c.style.cssText=h.style.cssText=\"-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0\",c.style.marginRight=c.style.width=\"0\",h.style.width=\"1px\",Ea.appendChild(g),b=!parseFloat(a.getComputedStyle(c).marginRight),Ea.removeChild(g),h.removeChild(c),b}})}}();function Fa(a,b,c){var d,e,f,g,h=a.style;return c=c||Ca(a),g=c?c.getPropertyValue(b)||c[b]:void 0,\"\"!==g&&void 0!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),c&&!l.pixelMarginRight()&&Ba.test(g)&&Aa.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f),void 0!==g?g+\"\":g}function Ga(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}var Ha=/^(none|table(?!-c[ea]).+)/,Ia={position:\"absolute\",visibility:\"hidden\",display:\"block\"},Ja={letterSpacing:\"0\",fontWeight:\"400\"},Ka=[\"Webkit\",\"O\",\"Moz\",\"ms\"],La=d.createElement(\"div\").style;function Ma(a){if(a in La)return a;var b=a[0].toUpperCase()+a.slice(1),c=Ka.length;while(c--)if(a=Ka[c]+b,a in La)return a}function Na(a,b,c){var d=T.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||\"px\"):b}function Oa(a,b,c,d,e){for(var f=c===(d?\"border\":\"content\")?4:\"width\"===b?1:0,g=0;4>f;f+=2)\"margin\"===c&&(g+=n.css(a,c+U[f],!0,e)),d?(\"content\"===c&&(g-=n.css(a,\"padding\"+U[f],!0,e)),\"margin\"!==c&&(g-=n.css(a,\"border\"+U[f]+\"Width\",!0,e))):(g+=n.css(a,\"padding\"+U[f],!0,e),\"padding\"!==c&&(g+=n.css(a,\"border\"+U[f]+\"Width\",!0,e)));return g}function Pa(a,b,c){var d=!0,e=\"width\"===b?a.offsetWidth:a.offsetHeight,f=Ca(a),g=\"border-box\"===n.css(a,\"boxSizing\",!1,f);if(0>=e||null==e){if(e=Fa(a,b,f),(0>e||null==e)&&(e=a.style[b]),Ba.test(e))return e;d=g&&(l.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Oa(a,b,c||(g?\"border\":\"content\"),d,f)+\"px\"}function Qa(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=N.get(d,\"olddisplay\"),c=d.style.display,b?(f[g]||\"none\"!==c||(d.style.display=\"\"),\"\"===d.style.display&&V(d)&&(f[g]=N.access(d,\"olddisplay\",za(d.nodeName)))):(e=V(d),\"none\"===c&&e||N.set(d,\"olddisplay\",e?c:n.css(d,\"display\"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&\"none\"!==d.style.display&&\"\"!==d.style.display||(d.style.display=b?f[g]||\"\":\"none\"));return a}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Fa(a,\"opacity\");return\"\"===c?\"1\":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{\"float\":\"cssFloat\"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&\"get\"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,\"string\"===f&&(e=T.exec(c))&&e[1]&&(c=W(a,b,e),f=\"number\"),null!=c&&c===c&&(\"number\"===f&&(c+=e&&e[3]||(n.cssNumber[h]?\"\":\"px\")),l.clearCloneStyle||\"\"!==c||0!==b.indexOf(\"background\")||(i[b]=\"inherit\"),g&&\"set\"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],g&&\"get\"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=Fa(a,b,d)),\"normal\"===e&&b in Ja&&(e=Ja[b]),\"\"===c||c?(f=parseFloat(e),c===!0||isFinite(f)?f||0:e):e}}),n.each([\"height\",\"width\"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?Ha.test(n.css(a,\"display\"))&&0===a.offsetWidth?Da(a,Ia,function(){return Pa(a,b,d)}):Pa(a,b,d):void 0},set:function(a,c,d){var e,f=d&&Ca(a),g=d&&Oa(a,b,d,\"border-box\"===n.css(a,\"boxSizing\",!1,f),f);return g&&(e=T.exec(c))&&\"px\"!==(e[3]||\"px\")&&(a.style[b]=c,c=n.css(a,b)),Na(a,c,g)}}}),n.cssHooks.marginLeft=Ga(l.reliableMarginLeft,function(a,b){return b?(parseFloat(Fa(a,\"marginLeft\"))||a.getBoundingClientRect().left-Da(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+\"px\":void 0}),n.cssHooks.marginRight=Ga(l.reliableMarginRight,function(a,b){return b?Da(a,{display:\"inline-block\"},Fa,[a,\"marginRight\"]):void 0}),n.each({margin:\"\",padding:\"\",border:\"Width\"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f=\"string\"==typeof c?c.split(\" \"):[c];4>d;d++)e[a+U[d]+b]=f[d]||f[d-2]||f[0];return e}},Aa.test(a)||(n.cssHooks[a+b].set=Na)}),n.fn.extend({css:function(a,b){return K(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=Ca(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Qa(this,!0)},hide:function(){return Qa(this)},toggle:function(a){return\"boolean\"==typeof a?a?this.show():this.hide():this.each(function(){V(this)?n(this).show():n(this).hide()})}});function Ra(a,b,c,d,e){return new Ra.prototype.init(a,b,c,d,e)}n.Tween=Ra,Ra.prototype={constructor:Ra,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||n.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?\"\":\"px\")},cur:function(){var a=Ra.propHooks[this.prop];return a&&a.get?a.get(this):Ra.propHooks._default.get(this)},run:function(a){var b,c=Ra.propHooks[this.prop];return this.options.duration?this.pos=b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Ra.propHooks._default.set(this),this}},Ra.prototype.init.prototype=Ra.prototype,Ra.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=n.css(a.elem,a.prop,\"\"),b&&\"auto\"!==b?b:0)},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[n.cssProps[a.prop]]&&!n.cssHooks[a.prop]?a.elem[a.prop]=a.now:n.style(a.elem,a.prop,a.now+a.unit)}}},Ra.propHooks.scrollTop=Ra.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:\"swing\"},n.fx=Ra.prototype.init,n.fx.step={};var Sa,Ta,Ua=/^(?:toggle|show|hide)$/,Va=/queueHooks$/;function Wa(){return a.setTimeout(function(){Sa=void 0}),Sa=n.now()}function Xa(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=U[d],e[\"margin\"+c]=e[\"padding\"+c]=a;return b&&(e.opacity=e.width=a),e}function Ya(a,b,c){for(var d,e=(_a.tweeners[b]||[]).concat(_a.tweeners[\"*\"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function Za(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&V(a),q=N.get(a,\"fxshow\");c.queue||(h=n._queueHooks(a,\"fx\"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,\"fx\").length||h.empty.fire()})})),1===a.nodeType&&(\"height\"in b||\"width\"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,\"display\"),k=\"none\"===j?N.get(a,\"olddisplay\")||za(a.nodeName):j,\"inline\"===k&&\"none\"===n.css(a,\"float\")&&(o.display=\"inline-block\")),c.overflow&&(o.overflow=\"hidden\",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Ua.exec(e)){if(delete b[d],f=f||\"toggle\"===e,e===(p?\"hide\":\"show\")){if(\"show\"!==e||!q||void 0===q[d])continue;p=!0}m[d]=q&&q[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(m))\"inline\"===(\"none\"===j?za(a.nodeName):j)&&(o.display=j);else{q?\"hidden\"in q&&(p=q.hidden):q=N.access(a,\"fxshow\",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;N.remove(a,\"fxshow\");for(b in m)n.style(a,b,m[b])});for(d in m)g=Ya(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start=\"width\"===d||\"height\"===d?1:0))}}function $a(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&\"expand\"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function _a(a,b,c){var d,e,f=0,g=_a.prefilters.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Sa||Wa(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{},easing:n.easing._default},c),originalProperties:b,originalOptions:c,startTime:Sa||Wa(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for($a(k,j.opts.specialEasing);g>f;f++)if(d=_a.prefilters[f].call(j,a,k,j.opts))return n.isFunction(d.stop)&&(n._queueHooks(j.elem,j.opts.queue).stop=n.proxy(d.stop,d)),d;return n.map(k,Ya,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(_a,{tweeners:{\"*\":[function(a,b){var c=this.createTween(a,b);return W(c.elem,a,T.exec(b),c),c}]},tweener:function(a,b){n.isFunction(a)?(b=a,a=[\"*\"]):a=a.match(G);for(var c,d=0,e=a.length;e>d;d++)c=a[d],_a.tweeners[c]=_a.tweeners[c]||[],_a.tweeners[c].unshift(b)},prefilters:[Za],prefilter:function(a,b){b?_a.prefilters.unshift(a):_a.prefilters.push(a)}}),n.speed=function(a,b,c){var d=a&&\"object\"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:\"number\"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,null!=d.queue&&d.queue!==!0||(d.queue=\"fx\"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(V).css(\"opacity\",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=_a(this,n.extend({},a),f);(e||N.get(this,\"finish\"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return\"string\"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||\"fx\",[]),this.each(function(){var b=!0,e=null!=a&&a+\"queueHooks\",f=n.timers,g=N.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Va.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||\"fx\"),this.each(function(){var b,c=N.get(this),d=c[a+\"queue\"],e=c[a+\"queueHooks\"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each([\"toggle\",\"show\",\"hide\"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||\"boolean\"==typeof a?c.apply(this,arguments):this.animate(Xa(b,!0),a,d,e)}}),n.each({slideDown:Xa(\"show\"),slideUp:Xa(\"hide\"),slideToggle:Xa(\"toggle\"),fadeIn:{opacity:\"show\"},fadeOut:{opacity:\"hide\"},fadeToggle:{opacity:\"toggle\"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(Sa=n.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),Sa=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Ta||(Ta=a.setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){a.clearInterval(Ta),Ta=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(b,c){return b=n.fx?n.fx.speeds[b]||b:b,c=c||\"fx\",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=d.createElement(\"input\"),b=d.createElement(\"select\"),c=b.appendChild(d.createElement(\"option\"));a.type=\"checkbox\",l.checkOn=\"\"!==a.value,l.optSelected=c.selected,b.disabled=!0,l.optDisabled=!c.disabled,a=d.createElement(\"input\"),a.value=\"t\",a.type=\"radio\",l.radioValue=\"t\"===a.value}();var ab,bb=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return K(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return\"undefined\"==typeof a.getAttribute?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),e=n.attrHooks[b]||(n.expr.match.bool.test(b)?ab:void 0)),void 0!==c?null===c?void n.removeAttr(a,b):e&&\"set\"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+\"\"),c):e&&\"get\"in e&&null!==(d=e.get(a,b))?d:(d=n.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!l.radioValue&&\"radio\"===b&&n.nodeName(a,\"input\")){var c=a.value;return a.setAttribute(\"type\",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(G);if(f&&1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)}}),ab={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\\w+/g),function(a,b){var c=bb[b]||n.find.attr;bb[b]=function(a,b,d){var e,f;return d||(f=bb[b],bb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,bb[b]=f),e}});var cb=/^(?:input|select|textarea|button)$/i,db=/^(?:a|area)$/i;n.fn.extend({prop:function(a,b){return K(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&n.isXMLDoc(a)||(b=n.propFix[b]||b,e=n.propHooks[b]),\r\nvoid 0!==c?e&&\"set\"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&\"get\"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=n.find.attr(a,\"tabindex\");return b?parseInt(b,10):cb.test(a.nodeName)||db.test(a.nodeName)&&a.href?0:-1}}},propFix:{\"for\":\"htmlFor\",\"class\":\"className\"}}),l.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),n.each([\"tabIndex\",\"readOnly\",\"maxLength\",\"cellSpacing\",\"cellPadding\",\"rowSpan\",\"colSpan\",\"useMap\",\"frameBorder\",\"contentEditable\"],function(){n.propFix[this.toLowerCase()]=this});var eb=/[\\t\\r\\n\\f]/g;function fb(a){return a.getAttribute&&a.getAttribute(\"class\")||\"\"}n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,fb(this)))});if(\"string\"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=fb(c),d=1===c.nodeType&&(\" \"+e+\" \").replace(eb,\" \")){g=0;while(f=b[g++])d.indexOf(\" \"+f+\" \")<0&&(d+=f+\" \");h=n.trim(d),e!==h&&c.setAttribute(\"class\",h)}}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,fb(this)))});if(!arguments.length)return this.attr(\"class\",\"\");if(\"string\"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=fb(c),d=1===c.nodeType&&(\" \"+e+\" \").replace(eb,\" \")){g=0;while(f=b[g++])while(d.indexOf(\" \"+f+\" \")>-1)d=d.replace(\" \"+f+\" \",\" \");h=n.trim(d),e!==h&&c.setAttribute(\"class\",h)}}return this},toggleClass:function(a,b){var c=typeof a;return\"boolean\"==typeof b&&\"string\"===c?b?this.addClass(a):this.removeClass(a):n.isFunction(a)?this.each(function(c){n(this).toggleClass(a.call(this,c,fb(this),b),b)}):this.each(function(){var b,d,e,f;if(\"string\"===c){d=0,e=n(this),f=a.match(G)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else void 0!==a&&\"boolean\"!==c||(b=fb(this),b&&N.set(this,\"__className__\",b),this.setAttribute&&this.setAttribute(\"class\",b||a===!1?\"\":N.get(this,\"__className__\")||\"\"))})},hasClass:function(a){var b,c,d=0;b=\" \"+a+\" \";while(c=this[d++])if(1===c.nodeType&&(\" \"+fb(c)+\" \").replace(eb,\" \").indexOf(b)>-1)return!0;return!1}});var gb=/\\r/g,hb=/[\\x20\\t\\r\\n\\f]+/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e=\"\":\"number\"==typeof e?e+=\"\":n.isArray(e)&&(e=n.map(e,function(a){return null==a?\"\":a+\"\"})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&\"set\"in b&&void 0!==b.set(this,e,\"value\")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&\"get\"in b&&void 0!==(c=b.get(e,\"value\"))?c:(c=e.value,\"string\"==typeof c?c.replace(gb,\"\"):null==c?\"\":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,\"value\");return null!=b?b:n.trim(n.text(a)).replace(hb,\" \")}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f=\"select-one\"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],(c.selected||i===e)&&(l.optDisabled?!c.disabled:null===c.getAttribute(\"disabled\"))&&(!c.parentNode.disabled||!n.nodeName(c.parentNode,\"optgroup\"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=n.inArray(n.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each([\"radio\",\"checkbox\"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>-1:void 0}},l.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute(\"value\")?\"on\":a.value})});var ib=/^(?:focusinfocus|focusoutblur)$/;n.extend(n.event,{trigger:function(b,c,e,f){var g,h,i,j,l,m,o,p=[e||d],q=k.call(b,\"type\")?b.type:b,r=k.call(b,\"namespace\")?b.namespace.split(\".\"):[];if(h=i=e=e||d,3!==e.nodeType&&8!==e.nodeType&&!ib.test(q+n.event.triggered)&&(q.indexOf(\".\")>-1&&(r=q.split(\".\"),q=r.shift(),r.sort()),l=q.indexOf(\":\")<0&&\"on\"+q,b=b[n.expando]?b:new n.Event(q,\"object\"==typeof b&&b),b.isTrigger=f?2:3,b.namespace=r.join(\".\"),b.rnamespace=b.namespace?new RegExp(\"(^|\\\\.)\"+r.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"):null,b.result=void 0,b.target||(b.target=e),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},f||!o.trigger||o.trigger.apply(e,c)!==!1)){if(!f&&!o.noBubble&&!n.isWindow(e)){for(j=o.delegateType||q,ib.test(j+q)||(h=h.parentNode);h;h=h.parentNode)p.push(h),i=h;i===(e.ownerDocument||d)&&p.push(i.defaultView||i.parentWindow||a)}g=0;while((h=p[g++])&&!b.isPropagationStopped())b.type=g>1?j:o.bindType||q,m=(N.get(h,\"events\")||{})[b.type]&&N.get(h,\"handle\"),m&&m.apply(h,c),m=l&&h[l],m&&m.apply&&L(h)&&(b.result=m.apply(h,c),b.result===!1&&b.preventDefault());return b.type=q,f||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!L(e)||l&&n.isFunction(e[q])&&!n.isWindow(e)&&(i=e[l],i&&(e[l]=null),n.event.triggered=q,e[q](),n.event.triggered=void 0,i&&(e[l]=i)),b.result}},simulate:function(a,b,c){var d=n.extend(new n.Event,c,{type:a,isSimulated:!0});n.event.trigger(d,null,b)}}),n.fn.extend({trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}}),n.each(\"blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu\".split(\" \"),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),l.focusin=\"onfocusin\"in a,l.focusin||n.each({focus:\"focusin\",blur:\"focusout\"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a))};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=N.access(d,b);e||d.addEventListener(a,c,!0),N.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=N.access(d,b)-1;e?N.access(d,b,e):(d.removeEventListener(a,c,!0),N.remove(d,b))}}});var jb=a.location,kb=n.now(),lb=/\\?/;n.parseJSON=function(a){return JSON.parse(a+\"\")},n.parseXML=function(b){var c;if(!b||\"string\"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,\"text/xml\")}catch(d){c=void 0}return c&&!c.getElementsByTagName(\"parsererror\").length||n.error(\"Invalid XML: \"+b),c};var mb=/#.*$/,nb=/([?&])_=[^&]*/,ob=/^(.*?):[ \\t]*([^\\r\\n]*)$/gm,pb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,qb=/^(?:GET|HEAD)$/,rb=/^\\/\\//,sb={},tb={},ub=\"*/\".concat(\"*\"),vb=d.createElement(\"a\");vb.href=jb.href;function wb(a){return function(b,c){\"string\"!=typeof b&&(c=b,b=\"*\");var d,e=0,f=b.toLowerCase().match(G)||[];if(n.isFunction(c))while(d=f[e++])\"+\"===d[0]?(d=d.slice(1)||\"*\",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function xb(a,b,c,d){var e={},f=a===tb;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return\"string\"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e[\"*\"]&&g(\"*\")}function yb(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}function zb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while(\"*\"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader(\"Content-Type\"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+\" \"+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Ab(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if(\"*\"===f)f=i;else if(\"*\"!==i&&i!==f){if(g=j[i+\" \"+f]||j[\"* \"+f],!g)for(e in j)if(h=e.split(\" \"),h[1]===f&&(g=j[i+\" \"+h[0]]||j[\"* \"+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a[\"throws\"])b=g(b);else try{b=g(b)}catch(l){return{state:\"parsererror\",error:g?l:\"No conversion from \"+i+\" to \"+f}}}return{state:\"success\",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:jb.href,type:\"GET\",isLocal:pb.test(jb.protocol),global:!0,processData:!0,async:!0,contentType:\"application/x-www-form-urlencoded; charset=UTF-8\",accepts:{\"*\":ub,text:\"text/plain\",html:\"text/html\",xml:\"application/xml, text/xml\",json:\"application/json, text/javascript\"},contents:{xml:/\\bxml\\b/,html:/\\bhtml/,json:/\\bjson\\b/},responseFields:{xml:\"responseXML\",text:\"responseText\",json:\"responseJSON\"},converters:{\"* text\":String,\"text html\":!0,\"text json\":n.parseJSON,\"text xml\":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?yb(yb(a,n.ajaxSettings),b):yb(n.ajaxSettings,a)},ajaxPrefilter:wb(sb),ajaxTransport:wb(tb),ajax:function(b,c){\"object\"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m=n.ajaxSetup({},c),o=m.context||m,p=m.context&&(o.nodeType||o.jquery)?n(o):n.event,q=n.Deferred(),r=n.Callbacks(\"once memory\"),s=m.statusCode||{},t={},u={},v=0,w=\"canceled\",x={readyState:0,getResponseHeader:function(a){var b;if(2===v){if(!h){h={};while(b=ob.exec(g))h[b[1].toLowerCase()]=b[2]}b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===v?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return v||(a=u[c]=u[c]||a,t[a]=b),this},overrideMimeType:function(a){return v||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>v)for(b in a)s[b]=[s[b],a[b]];else x.always(a[x.status]);return this},abort:function(a){var b=a||w;return e&&e.abort(b),z(0,b),this}};if(q.promise(x).complete=r.add,x.success=x.done,x.error=x.fail,m.url=((b||m.url||jb.href)+\"\").replace(mb,\"\").replace(rb,jb.protocol+\"//\"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=n.trim(m.dataType||\"*\").toLowerCase().match(G)||[\"\"],null==m.crossDomain){j=d.createElement(\"a\");try{j.href=m.url,j.href=j.href,m.crossDomain=vb.protocol+\"//\"+vb.host!=j.protocol+\"//\"+j.host}catch(y){m.crossDomain=!0}}if(m.data&&m.processData&&\"string\"!=typeof m.data&&(m.data=n.param(m.data,m.traditional)),xb(sb,m,c,x),2===v)return x;k=n.event&&m.global,k&&0===n.active++&&n.event.trigger(\"ajaxStart\"),m.type=m.type.toUpperCase(),m.hasContent=!qb.test(m.type),f=m.url,m.hasContent||(m.data&&(f=m.url+=(lb.test(f)?\"&\":\"?\")+m.data,delete m.data),m.cache===!1&&(m.url=nb.test(f)?f.replace(nb,\"$1_=\"+kb++):f+(lb.test(f)?\"&\":\"?\")+\"_=\"+kb++)),m.ifModified&&(n.lastModified[f]&&x.setRequestHeader(\"If-Modified-Since\",n.lastModified[f]),n.etag[f]&&x.setRequestHeader(\"If-None-Match\",n.etag[f])),(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&x.setRequestHeader(\"Content-Type\",m.contentType),x.setRequestHeader(\"Accept\",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+(\"*\"!==m.dataTypes[0]?\", \"+ub+\"; q=0.01\":\"\"):m.accepts[\"*\"]);for(l in m.headers)x.setRequestHeader(l,m.headers[l]);if(m.beforeSend&&(m.beforeSend.call(o,x,m)===!1||2===v))return x.abort();w=\"abort\";for(l in{success:1,error:1,complete:1})x[l](m[l]);if(e=xb(tb,m,c,x)){if(x.readyState=1,k&&p.trigger(\"ajaxSend\",[x,m]),2===v)return x;m.async&&m.timeout>0&&(i=a.setTimeout(function(){x.abort(\"timeout\")},m.timeout));try{v=1,e.send(t,z)}catch(y){if(!(2>v))throw y;z(-1,y)}}else z(-1,\"No Transport\");function z(b,c,d,h){var j,l,t,u,w,y=c;2!==v&&(v=2,i&&a.clearTimeout(i),e=void 0,g=h||\"\",x.readyState=b>0?4:0,j=b>=200&&300>b||304===b,d&&(u=zb(m,x,d)),u=Ab(m,u,x,j),j?(m.ifModified&&(w=x.getResponseHeader(\"Last-Modified\"),w&&(n.lastModified[f]=w),w=x.getResponseHeader(\"etag\"),w&&(n.etag[f]=w)),204===b||\"HEAD\"===m.type?y=\"nocontent\":304===b?y=\"notmodified\":(y=u.state,l=u.data,t=u.error,j=!t)):(t=y,!b&&y||(y=\"error\",0>b&&(b=0))),x.status=b,x.statusText=(c||y)+\"\",j?q.resolveWith(o,[l,y,x]):q.rejectWith(o,[x,y,t]),x.statusCode(s),s=void 0,k&&p.trigger(j?\"ajaxSuccess\":\"ajaxError\",[x,m,j?l:t]),r.fireWith(o,[x,y]),k&&(p.trigger(\"ajaxComplete\",[x,m]),--n.active||n.event.trigger(\"ajaxStop\")))}return x},getJSON:function(a,b,c){return n.get(a,b,c,\"json\")},getScript:function(a,b){return n.get(a,void 0,b,\"script\")}}),n.each([\"get\",\"post\"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax(n.extend({url:a,type:b,dataType:e,data:c,success:d},n.isPlainObject(a)&&a))}}),n._evalUrl=function(a){return n.ajax({url:a,type:\"GET\",dataType:\"script\",async:!1,global:!1,\"throws\":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return n.isFunction(a)?this.each(function(b){n(this).wrapInner(a.call(this,b))}):this.each(function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,\"body\")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return!n.expr.filters.visible(a)},n.expr.filters.visible=function(a){return a.offsetWidth>0||a.offsetHeight>0||a.getClientRects().length>0};var Bb=/%20/g,Cb=/\\[\\]$/,Db=/\\r?\\n/g,Eb=/^(?:submit|button|image|reset|file)$/i,Fb=/^(?:input|select|textarea|keygen)/i;function Gb(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||Cb.test(a)?d(a,e):Gb(a+\"[\"+(\"object\"==typeof e&&null!=e?b:\"\")+\"]\",e,c,d)});else if(c||\"object\"!==n.type(b))d(a,b);else for(e in b)Gb(a+\"[\"+e+\"]\",b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?\"\":b,d[d.length]=encodeURIComponent(a)+\"=\"+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Gb(c,a[c],b,e);return d.join(\"&\").replace(Bb,\"+\")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,\"elements\");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(\":disabled\")&&Fb.test(this.nodeName)&&!Eb.test(a)&&(this.checked||!X.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(Db,\"\\r\\n\")}}):{name:b.name,value:c.replace(Db,\"\\r\\n\")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var Hb={0:200,1223:204},Ib=n.ajaxSettings.xhr();l.cors=!!Ib&&\"withCredentials\"in Ib,l.ajax=Ib=!!Ib,n.ajaxTransport(function(b){var c,d;return l.cors||Ib&&!b.crossDomain?{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e[\"X-Requested-With\"]||(e[\"X-Requested-With\"]=\"XMLHttpRequest\");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,\"abort\"===a?h.abort():\"error\"===a?\"number\"!=typeof h.status?f(0,\"error\"):f(h.status,h.statusText):f(Hb[h.status]||h.status,h.statusText,\"text\"!==(h.responseType||\"text\")||\"string\"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c(\"error\"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c(\"abort\");try{h.send(b.hasContent&&b.data||null)}catch(i){if(c)throw i}},abort:function(){c&&c()}}:void 0}),n.ajaxSetup({accepts:{script:\"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"},contents:{script:/\\b(?:java|ecma)script\\b/},converters:{\"text script\":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter(\"script\",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type=\"GET\")}),n.ajaxTransport(\"script\",function(a){if(a.crossDomain){var b,c;return{send:function(e,f){b=n(\"<script>\").prop({charset:a.scriptCharset,src:a.url}).on(\"load error\",c=function(a){b.remove(),c=null,a&&f(\"error\"===a.type?404:200,a.type)}),d.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Jb=[],Kb=/(=)\\?(?=&|$)|\\?\\?/;n.ajaxSetup({jsonp:\"callback\",jsonpCallback:function(){var a=Jb.pop()||n.expando+\"_\"+kb++;return this[a]=!0,a}}),n.ajaxPrefilter(\"json jsonp\",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Kb.test(b.url)?\"url\":\"string\"==typeof b.data&&0===(b.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&Kb.test(b.data)&&\"data\");return h||\"jsonp\"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Kb,\"$1\"+e):b.jsonp!==!1&&(b.url+=(lb.test(b.url)?\"&\":\"?\")+b.jsonp+\"=\"+e),b.converters[\"script json\"]=function(){return g||n.error(e+\" was not called\"),g[0]},b.dataTypes[0]=\"json\",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?n(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Jb.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),\"script\"):void 0}),n.parseHTML=function(a,b,c){if(!a||\"string\"!=typeof a)return null;\"boolean\"==typeof b&&(c=b,b=!1),b=b||d;var e=x.exec(a),f=!c&&[];return e?[b.createElement(e[1])]:(e=ca([a],b,f),f&&f.length&&n(f).remove(),n.merge([],e.childNodes))};var Lb=n.fn.load;n.fn.load=function(a,b,c){if(\"string\"!=typeof a&&Lb)return Lb.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(\" \");return h>-1&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&\"object\"==typeof b&&(e=\"POST\"),g.length>0&&n.ajax({url:a,type:e||\"GET\",dataType:\"html\",data:b}).done(function(a){f=arguments,g.html(d?n(\"<div>\").append(n.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},n.each([\"ajaxStart\",\"ajaxStop\",\"ajaxComplete\",\"ajaxError\",\"ajaxSuccess\",\"ajaxSend\"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};function Mb(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,\"position\"),l=n(a),m={};\"static\"===k&&(a.style.position=\"relative\"),h=l.offset(),f=n.css(a,\"top\"),i=n.css(a,\"left\"),j=(\"absolute\"===k||\"fixed\"===k)&&(f+i).indexOf(\"auto\")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,n.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),\"using\"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,n.contains(b,d)?(e=d.getBoundingClientRect(),c=Mb(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return\"fixed\"===n.css(c,\"position\")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],\"html\")||(d=a.offset()),d.top+=n.css(a[0],\"borderTopWidth\",!0),d.left+=n.css(a[0],\"borderLeftWidth\",!0)),{top:b.top-d.top-n.css(c,\"marginTop\",!0),left:b.left-d.left-n.css(c,\"marginLeft\",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent;while(a&&\"static\"===n.css(a,\"position\"))a=a.offsetParent;return a||Ea})}}),n.each({scrollLeft:\"pageXOffset\",scrollTop:\"pageYOffset\"},function(a,b){var c=\"pageYOffset\"===b;n.fn[a]=function(d){return K(this,function(a,d,e){var f=Mb(a);return void 0===e?f?f[b]:a[d]:void(f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e)},a,d,arguments.length)}}),n.each([\"top\",\"left\"],function(a,b){n.cssHooks[b]=Ga(l.pixelPosition,function(a,c){return c?(c=Fa(a,b),Ba.test(c)?n(a).position()[b]+\"px\":c):void 0})}),n.each({Height:\"height\",Width:\"width\"},function(a,b){n.each({padding:\"inner\"+a,content:b,\"\":\"outer\"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||\"boolean\"!=typeof d),g=c||(d===!0||e===!0?\"margin\":\"border\");return K(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement[\"client\"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body[\"scroll\"+a],e[\"scroll\"+a],b.body[\"offset\"+a],e[\"offset\"+a],e[\"client\"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,\"**\"):this.off(b,a||\"**\",c)},size:function(){return this.length}}),n.fn.andSelf=n.fn.addBack,\"function\"==typeof define&&define.amd&&define(\"jquery\",[],function(){return n});var Nb=a.jQuery,Ob=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Ob),b&&a.jQuery===n&&(a.jQuery=Nb),n},b||(a.jQuery=a.$=n),n});\r\n\r\n!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{(\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this).adapter=e()}}(function(){return function a(o,s,c){function d(t,e){if(!s[t]){if(!o[t]){var r=\"function\"==typeof require&&require;if(!e&&r)return r(t,!0);if(p)return p(t,!0);var n=new Error(\"Cannot find module '\"+t+\"'\");throw n.code=\"MODULE_NOT_FOUND\",n}var i=s[t]={exports:{}};o[t][0].call(i.exports,function(e){return d(o[t][1][e]||e)},i,i.exports,a,o,s,c)}return s[t].exports}for(var p=\"function\"==typeof require&&require,e=0;e<c.length;e++)d(c[e]);return d}({1:[function(e,t,r){\"use strict\";var N=e(\"sdp\");function c(e,t,r,n,i){var a=N.writeRtpDescription(e.kind,t);if(a+=N.writeIceParameters(e.iceGatherer.getLocalParameters()),a+=N.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),\"offer\"===r?\"actpass\":i||\"active\"),a+=\"a=mid:\"+e.mid+\"\\r\\n\",e.rtpSender&&e.rtpReceiver?a+=\"a=sendrecv\\r\\n\":e.rtpSender?a+=\"a=sendonly\\r\\n\":e.rtpReceiver?a+=\"a=recvonly\\r\\n\":a+=\"a=inactive\\r\\n\",e.rtpSender){var o=e.rtpSender._initialTrackId||e.rtpSender.track.id;e.rtpSender._initialTrackId=o;var s=\"msid:\"+(n?n.id:\"-\")+\" \"+o+\"\\r\\n\";a+=\"a=\"+s,a+=\"a=ssrc:\"+e.sendEncodingParameters[0].ssrc+\" \"+s,e.sendEncodingParameters[0].rtx&&(a+=\"a=ssrc:\"+e.sendEncodingParameters[0].rtx.ssrc+\" \"+s,a+=\"a=ssrc-group:FID \"+e.sendEncodingParameters[0].ssrc+\" \"+e.sendEncodingParameters[0].rtx.ssrc+\"\\r\\n\")}return a+=\"a=ssrc:\"+e.sendEncodingParameters[0].ssrc+\" cname:\"+N.localCName+\"\\r\\n\",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(a+=\"a=ssrc:\"+e.sendEncodingParameters[0].rtx.ssrc+\" cname:\"+N.localCName+\"\\r\\n\"),a}function A(d,p){var u={codecs:[],headerExtensions:[],fecMechanisms:[]},f=function(e,t){e=parseInt(e,10);for(var r=0;r<t.length;r++)if(t[r].payloadType===e||t[r].preferredPayloadType===e)return t[r]};return d.codecs.forEach(function(r){for(var e=0;e<p.codecs.length;e++){var t=p.codecs[e];if(r.name.toLowerCase()===t.name.toLowerCase()&&r.clockRate===t.clockRate){if(\"rtx\"===r.name.toLowerCase()&&r.parameters&&t.parameters.apt&&(n=r,i=t,a=d.codecs,o=p.codecs,c=s=void 0,s=f(n.parameters.apt,a),c=f(i.parameters.apt,o),!s||!c||s.name.toLowerCase()!==c.name.toLowerCase()))continue;(t=JSON.parse(JSON.stringify(t))).numChannels=Math.min(r.numChannels,t.numChannels),u.codecs.push(t),t.rtcpFeedback=t.rtcpFeedback.filter(function(e){for(var t=0;t<r.rtcpFeedback.length;t++)if(r.rtcpFeedback[t].type===e.type&&r.rtcpFeedback[t].parameter===e.parameter)return!0;return!1});break}}var n,i,a,o,s,c}),d.headerExtensions.forEach(function(e){for(var t=0;t<p.headerExtensions.length;t++){var r=p.headerExtensions[t];if(e.uri===r.uri){u.headerExtensions.push(r);break}}}),u}function a(e,t,r){return-1!=={offer:{setLocalDescription:[\"stable\",\"have-local-offer\"],setRemoteDescription:[\"stable\",\"have-remote-offer\"]},answer:{setLocalDescription:[\"have-remote-offer\",\"have-local-pranswer\"],setRemoteDescription:[\"have-local-offer\",\"have-remote-pranswer\"]}}[t][e].indexOf(r)}function U(e,t){var r=e.getRemoteCandidates().find(function(e){return t.foundation===e.foundation&&t.ip===e.ip&&t.port===e.port&&t.priority===e.priority&&t.protocol===e.protocol&&t.type===e.type});return r||e.addRemoteCandidate(t),!r}function m(e,t){var r=new Error(t);return r.name=e,r.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],r}t.exports=function(I,L){function j(e,t){t.addTrack(e),t.dispatchEvent(new I.MediaStreamTrackEvent(\"addtrack\",{track:e}))}function i(e,t,r,n){var i=new Event(\"track\");i.track=t,i.receiver=r,i.transceiver={receiver:r},i.streams=n,I.setTimeout(function(){e._dispatchEvent(\"track\",i)})}var n=function(e){var t,n,i,r=this,a=document.createDocumentFragment();if([\"addEventListener\",\"removeEventListener\",\"dispatchEvent\"].forEach(function(e){r[e]=a[e].bind(a)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState=\"stable\",this.iceConnectionState=\"new\",this.connectionState=\"new\",this.iceGatheringState=\"new\",e=JSON.parse(JSON.stringify(e||{})),this.usingBundle=\"max-bundle\"===e.bundlePolicy,\"negotiate\"===e.rtcpMuxPolicy)throw m(\"NotSupportedError\",\"rtcpMuxPolicy 'negotiate' is not supported\");switch(e.rtcpMuxPolicy||(e.rtcpMuxPolicy=\"require\"),e.iceTransportPolicy){case\"all\":case\"relay\":break;default:e.iceTransportPolicy=\"all\"}switch(e.bundlePolicy){case\"balanced\":case\"max-compat\":case\"max-bundle\":break;default:e.bundlePolicy=\"balanced\"}if(e.iceServers=(t=e.iceServers||[],n=L,i=!1,(t=JSON.parse(JSON.stringify(t))).filter(function(e){if(e&&(e.urls||e.url)){var t=e.urls||e.url;e.url&&!e.urls&&console.warn(\"RTCIceServer.url is deprecated! Use urls instead.\");var r=\"string\"==typeof t;return r&&(t=[t]),t=t.filter(function(e){return 0!==e.indexOf(\"turn:\")||-1===e.indexOf(\"transport=udp\")||-1!==e.indexOf(\"turn:[\")||i?0===e.indexOf(\"stun:\")&&14393<=n&&-1===e.indexOf(\"?transport=udp\"):i=!0}),delete e.url,e.urls=r?t[0]:t,!!t.length}})),this._iceGatherers=[],e.iceCandidatePoolSize)for(var o=e.iceCandidatePoolSize;0<o;o--)this._iceGatherers.push(new I.RTCIceGatherer({iceServers:e.iceServers,gatherPolicy:e.iceTransportPolicy}));else e.iceCandidatePoolSize=0;this._config=e,this.transceivers=[],this._sdpSessionId=N.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(n.prototype,\"localDescription\",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(n.prototype,\"remoteDescription\",{configurable:!0,get:function(){return this._remoteDescription}}),n.prototype.onicecandidate=null,n.prototype.onaddstream=null,n.prototype.ontrack=null,n.prototype.onremovestream=null,n.prototype.onsignalingstatechange=null,n.prototype.oniceconnectionstatechange=null,n.prototype.onconnectionstatechange=null,n.prototype.onicegatheringstatechange=null,n.prototype.onnegotiationneeded=null,n.prototype.ondatachannel=null,n.prototype._dispatchEvent=function(e,t){this._isClosed||(this.dispatchEvent(t),\"function\"==typeof this[\"on\"+e]&&this[\"on\"+e](t))},n.prototype._emitGatheringStateChange=function(){var e=new Event(\"icegatheringstatechange\");this._dispatchEvent(\"icegatheringstatechange\",e)},n.prototype.getConfiguration=function(){return this._config},n.prototype.getLocalStreams=function(){return this.localStreams},n.prototype.getRemoteStreams=function(){return this.remoteStreams},n.prototype._createTransceiver=function(e,t){var r=0<this.transceivers.length,n={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:e,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&r)n.iceTransport=this.transceivers[0].iceTransport,n.dtlsTransport=this.transceivers[0].dtlsTransport;else{var i=this._createIceAndDtlsTransports();n.iceTransport=i.iceTransport,n.dtlsTransport=i.dtlsTransport}return t||this.transceivers.push(n),n},n.prototype.addTrack=function(t,e){if(this._isClosed)throw m(\"InvalidStateError\",\"Attempted to call addTrack on a closed peerconnection.\");var r;if(this.transceivers.find(function(e){return e.track===t}))throw m(\"InvalidAccessError\",\"Track already exists.\");for(var n=0;n<this.transceivers.length;n++)this.transceivers[n].track||this.transceivers[n].kind!==t.kind||(r=this.transceivers[n]);return r||(r=this._createTransceiver(t.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(e)&&this.localStreams.push(e),r.track=t,r.stream=e,r.rtpSender=new I.RTCRtpSender(t,r.dtlsTransport),r.rtpSender},n.prototype.addStream=function(t){var r=this;if(15025<=L)t.getTracks().forEach(function(e){r.addTrack(e,t)});else{var n=t.clone();t.getTracks().forEach(function(e,t){var r=n.getTracks()[t];e.addEventListener(\"enabled\",function(e){r.enabled=e.enabled})}),n.getTracks().forEach(function(e){r.addTrack(e,n)})}},n.prototype.removeTrack=function(t){if(this._isClosed)throw m(\"InvalidStateError\",\"Attempted to call removeTrack on a closed peerconnection.\");if(!(t instanceof I.RTCRtpSender))throw new TypeError(\"Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.\");var e=this.transceivers.find(function(e){return e.rtpSender===t});if(!e)throw m(\"InvalidAccessError\",\"Sender was not created by this connection.\");var r=e.stream;e.rtpSender.stop(),e.rtpSender=null,e.track=null,e.stream=null,-1===this.transceivers.map(function(e){return e.stream}).indexOf(r)&&-1<this.localStreams.indexOf(r)&&this.localStreams.splice(this.localStreams.indexOf(r),1),this._maybeFireNegotiationNeeded()},n.prototype.removeStream=function(e){var r=this;e.getTracks().forEach(function(t){var e=r.getSenders().find(function(e){return e.track===t});e&&r.removeTrack(e)})},n.prototype.getSenders=function(){return this.transceivers.filter(function(e){return!!e.rtpSender}).map(function(e){return e.rtpSender})},n.prototype.getReceivers=function(){return this.transceivers.filter(function(e){return!!e.rtpReceiver}).map(function(e){return e.rtpReceiver})},n.prototype._createIceGatherer=function(r,e){var n=this;if(e&&0<r)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var i=new I.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(i,\"state\",{value:\"new\",writable:!0}),this.transceivers[r].bufferedCandidateEvents=[],this.transceivers[r].bufferCandidates=function(e){var t=!e.candidate||0===Object.keys(e.candidate).length;i.state=t?\"completed\":\"gathering\",null!==n.transceivers[r].bufferedCandidateEvents&&n.transceivers[r].bufferedCandidateEvents.push(e)},i.addEventListener(\"localcandidate\",this.transceivers[r].bufferCandidates),i},n.prototype._gather=function(s,c){var d=this,p=this.transceivers[c].iceGatherer;if(!p.onlocalcandidate){var e=this.transceivers[c].bufferedCandidateEvents;this.transceivers[c].bufferedCandidateEvents=null,p.removeEventListener(\"localcandidate\",this.transceivers[c].bufferCandidates),p.onlocalcandidate=function(e){if(!(d.usingBundle&&0<c)){var t=new Event(\"icecandidate\");t.candidate={sdpMid:s,sdpMLineIndex:c};var r=e.candidate,n=!r||0===Object.keys(r).length;if(n)\"new\"!==p.state&&\"gathering\"!==p.state||(p.state=\"completed\");else{\"new\"===p.state&&(p.state=\"gathering\"),r.component=1,r.ufrag=p.getLocalParameters().usernameFragment;var i=N.writeCandidate(r);t.candidate=Object.assign(t.candidate,N.parseCandidate(i)),t.candidate.candidate=i,t.candidate.toJSON=function(){return{candidate:t.candidate.candidate,sdpMid:t.candidate.sdpMid,sdpMLineIndex:t.candidate.sdpMLineIndex,usernameFragment:t.candidate.usernameFragment}}}var a=N.getMediaSections(d._localDescription.sdp);a[t.candidate.sdpMLineIndex]+=n?\"a=end-of-candidates\\r\\n\":\"a=\"+t.candidate.candidate+\"\\r\\n\",d._localDescription.sdp=N.getDescription(d._localDescription.sdp)+a.join(\"\");var o=d.transceivers.every(function(e){return e.iceGatherer&&\"completed\"===e.iceGatherer.state});\"gathering\"!==d.iceGatheringState&&(d.iceGatheringState=\"gathering\",d._emitGatheringStateChange()),n||d._dispatchEvent(\"icecandidate\",t),o&&(d._dispatchEvent(\"icecandidate\",new Event(\"icecandidate\")),d.iceGatheringState=\"complete\",d._emitGatheringStateChange())}},I.setTimeout(function(){e.forEach(function(e){p.onlocalcandidate(e)})},0)}},n.prototype._createIceAndDtlsTransports=function(){var e=this,t=new I.RTCIceTransport(null);t.onicestatechange=function(){e._updateIceConnectionState(),e._updateConnectionState()};var r=new I.RTCDtlsTransport(t);return r.ondtlsstatechange=function(){e._updateConnectionState()},r.onerror=function(){Object.defineProperty(r,\"state\",{value:\"failed\",writable:!0}),e._updateConnectionState()},{iceTransport:t,dtlsTransport:r}},n.prototype._disposeIceAndDtlsTransports=function(e){var t=this.transceivers[e].iceGatherer;t&&(delete t.onlocalcandidate,delete this.transceivers[e].iceGatherer);var r=this.transceivers[e].iceTransport;r&&(delete r.onicestatechange,delete this.transceivers[e].iceTransport);var n=this.transceivers[e].dtlsTransport;n&&(delete n.ondtlsstatechange,delete n.onerror,delete this.transceivers[e].dtlsTransport)},n.prototype._transceive=function(e,t,r){var n=A(e.localCapabilities,e.remoteCapabilities);t&&e.rtpSender&&(n.encodings=e.sendEncodingParameters,n.rtcp={cname:N.localCName,compound:e.rtcpParameters.compound},e.recvEncodingParameters.length&&(n.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(n)),r&&e.rtpReceiver&&0<n.codecs.length&&(\"video\"===e.kind&&e.recvEncodingParameters&&L<15019&&e.recvEncodingParameters.forEach(function(e){delete e.rtx}),e.recvEncodingParameters.length?n.encodings=e.recvEncodingParameters:n.encodings=[{}],n.rtcp={compound:e.rtcpParameters.compound},e.rtcpParameters.cname&&(n.rtcp.cname=e.rtcpParameters.cname),e.sendEncodingParameters.length&&(n.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(n))},n.prototype.setLocalDescription=function(e){var t,u,f=this;if(-1===[\"offer\",\"answer\"].indexOf(e.type))return Promise.reject(m(\"TypeError\",'Unsupported type \"'+e.type+'\"'));if(!a(\"setLocalDescription\",e.type,f.signalingState)||f._isClosed)return Promise.reject(m(\"InvalidStateError\",\"Can not set local \"+e.type+\" in state \"+f.signalingState));if(\"offer\"===e.type)t=N.splitSections(e.sdp),u=t.shift(),t.forEach(function(e,t){var r=N.parseRtpParameters(e);f.transceivers[t].localCapabilities=r}),f.transceivers.forEach(function(e,t){f._gather(e.mid,t)});else if(\"answer\"===e.type){t=N.splitSections(f._remoteDescription.sdp),u=t.shift();var l=0<N.matchPrefix(u,\"a=ice-lite\").length;t.forEach(function(e,t){var r=f.transceivers[t],n=r.iceGatherer,i=r.iceTransport,a=r.dtlsTransport,o=r.localCapabilities,s=r.remoteCapabilities;if(!(N.isRejected(e)&&0===N.matchPrefix(e,\"a=bundle-only\").length)&&!r.rejected){var c=N.getIceParameters(e,u),d=N.getDtlsParameters(e,u);l&&(d.role=\"server\"),f.usingBundle&&0!==t||(f._gather(r.mid,t),\"new\"===i.state&&i.start(n,c,l?\"controlling\":\"controlled\"),\"new\"===a.state&&a.start(d));var p=A(o,s);f._transceive(r,0<p.codecs.length,!1)}})}return f._localDescription={type:e.type,sdp:e.sdp},\"offer\"===e.type?f._updateSignalingState(\"have-local-offer\"):f._updateSignalingState(\"stable\"),Promise.resolve()},n.prototype.setRemoteDescription=function(k){var w=this;if(-1===[\"offer\",\"answer\"].indexOf(k.type))return Promise.reject(m(\"TypeError\",'Unsupported type \"'+k.type+'\"'));if(!a(\"setRemoteDescription\",k.type,w.signalingState)||w._isClosed)return Promise.reject(m(\"InvalidStateError\",\"Can not set remote \"+k.type+\" in state \"+w.signalingState));var _={};w.remoteStreams.forEach(function(e){_[e.id]=e});var x=[],e=N.splitSections(k.sdp),D=e.shift(),O=0<N.matchPrefix(D,\"a=ice-lite\").length,M=0<N.matchPrefix(D,\"a=group:BUNDLE \").length;w.usingBundle=M;var t=N.matchPrefix(D,\"a=ice-options:\")[0];return w.canTrickleIceCandidates=!!t&&0<=t.substr(14).split(\" \").indexOf(\"trickle\"),e.forEach(function(e,t){var r=N.splitLines(e),n=N.getKind(e),i=N.isRejected(e)&&0===N.matchPrefix(e,\"a=bundle-only\").length,a=r[0].substr(2).split(\" \")[2],o=N.getDirection(e,D),s=N.parseMsid(e),c=N.getMid(e)||N.generateIdentifier();if(i||\"application\"===n&&(\"DTLS/SCTP\"===a||\"UDP/DTLS/SCTP\"===a))w.transceivers[t]={mid:c,kind:n,protocol:a,rejected:!0};else{var d,p,u,f,l,m,v,h,g;!i&&w.transceivers[t]&&w.transceivers[t].rejected&&(w.transceivers[t]=w._createTransceiver(n,!0));var y,C,T=N.parseRtpParameters(e);i||(y=N.getIceParameters(e,D),(C=N.getDtlsParameters(e,D)).role=\"client\"),v=N.parseRtpEncodingParameters(e);var S=N.parseRtcpParameters(e),R=0<N.matchPrefix(e,\"a=end-of-candidates\",D).length,P=N.matchPrefix(e,\"a=candidate:\").map(function(e){return N.parseCandidate(e)}).filter(function(e){return 1===e.component});if((\"offer\"===k.type||\"answer\"===k.type)&&!i&&M&&0<t&&w.transceivers[t]&&(w._disposeIceAndDtlsTransports(t),w.transceivers[t].iceGatherer=w.transceivers[0].iceGatherer,w.transceivers[t].iceTransport=w.transceivers[0].iceTransport,w.transceivers[t].dtlsTransport=w.transceivers[0].dtlsTransport,w.transceivers[t].rtpSender&&w.transceivers[t].rtpSender.setTransport(w.transceivers[0].dtlsTransport),w.transceivers[t].rtpReceiver&&w.transceivers[t].rtpReceiver.setTransport(w.transceivers[0].dtlsTransport)),\"offer\"!==k.type||i){if(\"answer\"===k.type&&!i){p=(d=w.transceivers[t]).iceGatherer,u=d.iceTransport,f=d.dtlsTransport,l=d.rtpReceiver,m=d.sendEncodingParameters,h=d.localCapabilities,w.transceivers[t].recvEncodingParameters=v,w.transceivers[t].remoteCapabilities=T,w.transceivers[t].rtcpParameters=S,P.length&&\"new\"===u.state&&(!O&&!R||M&&0!==t?P.forEach(function(e){U(d.iceTransport,e)}):u.setRemoteCandidates(P)),M&&0!==t||(\"new\"===u.state&&u.start(p,y,\"controlling\"),\"new\"===f.state&&f.start(C)),!A(d.localCapabilities,d.remoteCapabilities).codecs.filter(function(e){return\"rtx\"===e.name.toLowerCase()}).length&&d.sendEncodingParameters[0].rtx&&delete d.sendEncodingParameters[0].rtx,w._transceive(d,\"sendrecv\"===o||\"recvonly\"===o,\"sendrecv\"===o||\"sendonly\"===o),!l||\"sendrecv\"!==o&&\"sendonly\"!==o?delete d.rtpReceiver:(g=l.track,s?(_[s.stream]||(_[s.stream]=new I.MediaStream),j(g,_[s.stream]),x.push([g,l,_[s.stream]])):(_.default||(_.default=new I.MediaStream),j(g,_.default),x.push([g,l,_.default])))}}else{(d=w.transceivers[t]||w._createTransceiver(n)).mid=c,d.iceGatherer||(d.iceGatherer=w._createIceGatherer(t,M)),P.length&&\"new\"===d.iceTransport.state&&(!R||M&&0!==t?P.forEach(function(e){U(d.iceTransport,e)}):d.iceTransport.setRemoteCandidates(P)),h=I.RTCRtpReceiver.getCapabilities(n),L<15019&&(h.codecs=h.codecs.filter(function(e){return\"rtx\"!==e.name})),m=d.sendEncodingParameters||[{ssrc:1001*(2*t+2)}];var E,b=!1;if(\"sendrecv\"===o||\"sendonly\"===o){if(b=!d.rtpReceiver,l=d.rtpReceiver||new I.RTCRtpReceiver(d.dtlsTransport,n),b)g=l.track,s&&\"-\"===s.stream||(s?(_[s.stream]||(_[s.stream]=new I.MediaStream,Object.defineProperty(_[s.stream],\"id\",{get:function(){return s.stream}})),Object.defineProperty(g,\"id\",{get:function(){return s.track}}),E=_[s.stream]):(_.default||(_.default=new I.MediaStream),E=_.default)),E&&(j(g,E),d.associatedRemoteMediaStreams.push(E)),x.push([g,l,E])}else d.rtpReceiver&&d.rtpReceiver.track&&(d.associatedRemoteMediaStreams.forEach(function(e){var t,r,n=e.getTracks().find(function(e){return e.id===d.rtpReceiver.track.id});n&&(t=n,(r=e).removeTrack(t),r.dispatchEvent(new I.MediaStreamTrackEvent(\"removetrack\",{track:t})))}),d.associatedRemoteMediaStreams=[]);d.localCapabilities=h,d.remoteCapabilities=T,d.rtpReceiver=l,d.rtcpParameters=S,d.sendEncodingParameters=m,d.recvEncodingParameters=v,w._transceive(w.transceivers[t],!1,b)}}}),void 0===w._dtlsRole&&(w._dtlsRole=\"offer\"===k.type?\"active\":\"passive\"),w._remoteDescription={type:k.type,sdp:k.sdp},\"offer\"===k.type?w._updateSignalingState(\"have-remote-offer\"):w._updateSignalingState(\"stable\"),Object.keys(_).forEach(function(e){var n=_[e];if(n.getTracks().length){if(-1===w.remoteStreams.indexOf(n)){w.remoteStreams.push(n);var t=new Event(\"addstream\");t.stream=n,I.setTimeout(function(){w._dispatchEvent(\"addstream\",t)})}x.forEach(function(e){var t=e[0],r=e[1];n.id===e[2].id&&i(w,t,r,[n])})}}),x.forEach(function(e){e[2]||i(w,e[0],e[1],[])}),I.setTimeout(function(){w&&w.transceivers&&w.transceivers.forEach(function(e){e.iceTransport&&\"new\"===e.iceTransport.state&&0<e.iceTransport.getRemoteCandidates().length&&(console.warn(\"Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification\"),e.iceTransport.addRemoteCandidate({}))})},4e3),Promise.resolve()},n.prototype.close=function(){this.transceivers.forEach(function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState(\"closed\")},n.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event(\"signalingstatechange\");this._dispatchEvent(\"signalingstatechange\",t)},n.prototype._maybeFireNegotiationNeeded=function(){var t=this;\"stable\"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,I.setTimeout(function(){if(t.needNegotiation){t.needNegotiation=!1;var e=new Event(\"negotiationneeded\");t._dispatchEvent(\"negotiationneeded\",e)}},0))},n.prototype._updateIceConnectionState=function(){var e,t={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(e){t[e.iceTransport.state]++}),e=\"new\",0<t.failed?e=\"failed\":0<t.checking?e=\"checking\":0<t.disconnected?e=\"disconnected\":0<t.new?e=\"new\":0<t.connected?e=\"connected\":0<t.completed&&(e=\"completed\"),e!==this.iceConnectionState){this.iceConnectionState=e;var r=new Event(\"iceconnectionstatechange\");this._dispatchEvent(\"iceconnectionstatechange\",r)}},n.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(e){t[e.iceTransport.state]++,t[e.dtlsTransport.state]++}),t.connected+=t.completed,e=\"new\",0<t.failed?e=\"failed\":0<t.connecting?e=\"connecting\":0<t.disconnected?e=\"disconnected\":0<t.new?e=\"new\":0<t.connected&&(e=\"connected\"),e!==this.connectionState){this.connectionState=e;var r=new Event(\"connectionstatechange\");this._dispatchEvent(\"connectionstatechange\",r)}},n.prototype.createOffer=function(){var s=this;if(s._isClosed)return Promise.reject(m(\"InvalidStateError\",\"Can not call createOffer after close\"));var t=s.transceivers.filter(function(e){return\"audio\"===e.kind}).length,r=s.transceivers.filter(function(e){return\"video\"===e.kind}).length,e=arguments[0];if(e){if(e.mandatory||e.optional)throw new TypeError(\"Legacy mandatory/optional constraints not supported.\");void 0!==e.offerToReceiveAudio&&(t=!0===e.offerToReceiveAudio?1:!1===e.offerToReceiveAudio?0:e.offerToReceiveAudio),void 0!==e.offerToReceiveVideo&&(r=!0===e.offerToReceiveVideo?1:!1===e.offerToReceiveVideo?0:e.offerToReceiveVideo)}for(s.transceivers.forEach(function(e){\"audio\"===e.kind?--t<0&&(e.wantReceive=!1):\"video\"===e.kind&&--r<0&&(e.wantReceive=!1)});0<t||0<r;)0<t&&(s._createTransceiver(\"audio\"),t--),0<r&&(s._createTransceiver(\"video\"),r--);var n=N.writeSessionBoilerplate(s._sdpSessionId,s._sdpSessionVersion++);s.transceivers.forEach(function(e,t){var r=e.track,n=e.kind,i=e.mid||N.generateIdentifier();e.mid=i,e.iceGatherer||(e.iceGatherer=s._createIceGatherer(t,s.usingBundle));var a=I.RTCRtpSender.getCapabilities(n);L<15019&&(a.codecs=a.codecs.filter(function(e){return\"rtx\"!==e.name})),a.codecs.forEach(function(t){\"H264\"===t.name&&void 0===t.parameters[\"level-asymmetry-allowed\"]&&(t.parameters[\"level-asymmetry-allowed\"]=\"1\"),e.remoteCapabilities&&e.remoteCapabilities.codecs&&e.remoteCapabilities.codecs.forEach(function(e){t.name.toLowerCase()===e.name.toLowerCase()&&t.clockRate===e.clockRate&&(t.preferredPayloadType=e.payloadType)})}),a.headerExtensions.forEach(function(t){(e.remoteCapabilities&&e.remoteCapabilities.headerExtensions||[]).forEach(function(e){t.uri===e.uri&&(t.id=e.id)})});var o=e.sendEncodingParameters||[{ssrc:1001*(2*t+1)}];r&&15019<=L&&\"video\"===n&&!o[0].rtx&&(o[0].rtx={ssrc:o[0].ssrc+1}),e.wantReceive&&(e.rtpReceiver=new I.RTCRtpReceiver(e.dtlsTransport,n)),e.localCapabilities=a,e.sendEncodingParameters=o}),\"max-compat\"!==s._config.bundlePolicy&&(n+=\"a=group:BUNDLE \"+s.transceivers.map(function(e){return e.mid}).join(\" \")+\"\\r\\n\"),n+=\"a=ice-options:trickle\\r\\n\",s.transceivers.forEach(function(e,t){n+=c(e,e.localCapabilities,\"offer\",e.stream,s._dtlsRole),n+=\"a=rtcp-rsize\\r\\n\",!e.iceGatherer||\"new\"===s.iceGatheringState||0!==t&&s.usingBundle||(e.iceGatherer.getLocalCandidates().forEach(function(e){e.component=1,n+=\"a=\"+N.writeCandidate(e)+\"\\r\\n\"}),\"completed\"===e.iceGatherer.state&&(n+=\"a=end-of-candidates\\r\\n\"))});var i=new I.RTCSessionDescription({type:\"offer\",sdp:n});return Promise.resolve(i)},n.prototype.createAnswer=function(){var i=this;if(i._isClosed)return Promise.reject(m(\"InvalidStateError\",\"Can not call createAnswer after close\"));if(\"have-remote-offer\"!==i.signalingState&&\"have-local-pranswer\"!==i.signalingState)return Promise.reject(m(\"InvalidStateError\",\"Can not call createAnswer in signalingState \"+i.signalingState));var a=N.writeSessionBoilerplate(i._sdpSessionId,i._sdpSessionVersion++);i.usingBundle&&(a+=\"a=group:BUNDLE \"+i.transceivers.map(function(e){return e.mid}).join(\" \")+\"\\r\\n\"),a+=\"a=ice-options:trickle\\r\\n\";var o=N.getMediaSections(i._remoteDescription.sdp).length;i.transceivers.forEach(function(e,t){if(!(o<t+1)){if(e.rejected)return\"application\"===e.kind?\"DTLS/SCTP\"===e.protocol?a+=\"m=application 0 DTLS/SCTP 5000\\r\\n\":a+=\"m=application 0 \"+e.protocol+\" webrtc-datachannel\\r\\n\":\"audio\"===e.kind?a+=\"m=audio 0 UDP/TLS/RTP/SAVPF 0\\r\\na=rtpmap:0 PCMU/8000\\r\\n\":\"video\"===e.kind&&(a+=\"m=video 0 UDP/TLS/RTP/SAVPF 120\\r\\na=rtpmap:120 VP8/90000\\r\\n\"),void(a+=\"c=IN IP4 0.0.0.0\\r\\na=inactive\\r\\na=mid:\"+e.mid+\"\\r\\n\");var r;if(e.stream)\"audio\"===e.kind?r=e.stream.getAudioTracks()[0]:\"video\"===e.kind&&(r=e.stream.getVideoTracks()[0]),r&&15019<=L&&\"video\"===e.kind&&!e.sendEncodingParameters[0].rtx&&(e.sendEncodingParameters[0].rtx={ssrc:e.sendEncodingParameters[0].ssrc+1});var n=A(e.localCapabilities,e.remoteCapabilities);!n.codecs.filter(function(e){return\"rtx\"===e.name.toLowerCase()}).length&&e.sendEncodingParameters[0].rtx&&delete e.sendEncodingParameters[0].rtx,a+=c(e,n,\"answer\",e.stream,i._dtlsRole),e.rtcpParameters&&e.rtcpParameters.reducedSize&&(a+=\"a=rtcp-rsize\\r\\n\")}});var e=new I.RTCSessionDescription({type:\"answer\",sdp:a});return Promise.resolve(e)},n.prototype.addIceCandidate=function(c){var d,p=this;return c&&void 0===c.sdpMLineIndex&&!c.sdpMid?Promise.reject(new TypeError(\"sdpMLineIndex or sdpMid required\")):new Promise(function(e,t){if(!p._remoteDescription)return t(m(\"InvalidStateError\",\"Can not add ICE candidate without a remote description\"));if(c&&\"\"!==c.candidate){var r=c.sdpMLineIndex;if(c.sdpMid)for(var n=0;n<p.transceivers.length;n++)if(p.transceivers[n].mid===c.sdpMid){r=n;break}var i=p.transceivers[r];if(!i)return t(m(\"OperationError\",\"Can not add ICE candidate\"));if(i.rejected)return e();var a=0<Object.keys(c.candidate).length?N.parseCandidate(c.candidate):{};if(\"tcp\"===a.protocol&&(0===a.port||9===a.port))return e();if(a.component&&1!==a.component)return e();if((0===r||0<r&&i.iceTransport!==p.transceivers[0].iceTransport)&&!U(i.iceTransport,a))return t(m(\"OperationError\",\"Can not add ICE candidate\"));var o=c.candidate.trim();0===o.indexOf(\"a=\")&&(o=o.substr(2)),(d=N.getMediaSections(p._remoteDescription.sdp))[r]+=\"a=\"+(a.type?o:\"end-of-candidates\")+\"\\r\\n\",p._remoteDescription.sdp=N.getDescription(p._remoteDescription.sdp)+d.join(\"\")}else for(var s=0;s<p.transceivers.length&&(p.transceivers[s].rejected||(p.transceivers[s].iceTransport.addRemoteCandidate({}),(d=N.getMediaSections(p._remoteDescription.sdp))[s]+=\"a=end-of-candidates\\r\\n\",p._remoteDescription.sdp=N.getDescription(p._remoteDescription.sdp)+d.join(\"\"),!p.usingBundle));s++);e()})},n.prototype.getStats=function(t){if(t&&t instanceof I.MediaStreamTrack){var r=null;if(this.transceivers.forEach(function(e){e.rtpSender&&e.rtpSender.track===t?r=e.rtpSender:e.rtpReceiver&&e.rtpReceiver.track===t&&(r=e.rtpReceiver)}),!r)throw m(\"InvalidAccessError\",\"Invalid selector.\");return r.getStats()}var n=[];return this.transceivers.forEach(function(t){[\"rtpSender\",\"rtpReceiver\",\"iceGatherer\",\"iceTransport\",\"dtlsTransport\"].forEach(function(e){t[e]&&n.push(t[e].getStats())})}),Promise.all(n).then(function(e){var t=new Map;return e.forEach(function(e){e.forEach(function(e){t.set(e.id,e)})}),t})};[\"RTCRtpSender\",\"RTCRtpReceiver\",\"RTCIceGatherer\",\"RTCIceTransport\",\"RTCDtlsTransport\"].forEach(function(e){var t=I[e];if(t&&t.prototype&&t.prototype.getStats){var r=t.prototype.getStats;t.prototype.getStats=function(){return r.apply(this).then(function(r){var n=new Map;return Object.keys(r).forEach(function(e){var t;r[e].type={inboundrtp:\"inbound-rtp\",outboundrtp:\"outbound-rtp\",candidatepair:\"candidate-pair\",localcandidate:\"local-candidate\",remotecandidate:\"remote-candidate\"}[(t=r[e]).type]||t.type,n.set(e,r[e])}),n})}}});var e=[\"createOffer\",\"createAnswer\"];return e.forEach(function(e){var r=n.prototype[e];n.prototype[e]=function(){var t=arguments;return\"function\"==typeof t[0]||\"function\"==typeof t[1]?r.apply(this,[arguments[2]]).then(function(e){\"function\"==typeof t[0]&&t[0].apply(null,[e])},function(e){\"function\"==typeof t[1]&&t[1].apply(null,[e])}):r.apply(this,arguments)}}),(e=[\"setLocalDescription\",\"setRemoteDescription\",\"addIceCandidate\"]).forEach(function(e){var r=n.prototype[e];n.prototype[e]=function(){var t=arguments;return\"function\"==typeof t[1]||\"function\"==typeof t[2]?r.apply(this,arguments).then(function(){\"function\"==typeof t[1]&&t[1].apply(null)},function(e){\"function\"==typeof t[2]&&t[2].apply(null,[e])}):r.apply(this,arguments)}}),[\"getStats\"].forEach(function(e){var t=n.prototype[e];n.prototype[e]=function(){var e=arguments;return\"function\"==typeof e[1]?t.apply(this,arguments).then(function(){\"function\"==typeof e[1]&&e[1].apply(null)}):t.apply(this,arguments)}}),n}},{sdp:2}],2:[function(e,t,r){\"use strict\";var p={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};p.localCName=p.generateIdentifier(),p.splitLines=function(e){return e.trim().split(\"\\n\").map(function(e){return e.trim()})},p.splitSections=function(e){return e.split(\"\\nm=\").map(function(e,t){return(0<t?\"m=\"+e:e).trim()+\"\\r\\n\"})},p.getDescription=function(e){var t=p.splitSections(e);return t&&t[0]},p.getMediaSections=function(e){var t=p.splitSections(e);return t.shift(),t},p.matchPrefix=function(e,t){return p.splitLines(e).filter(function(e){return 0===e.indexOf(t)})},p.parseCandidate=function(e){for(var t,r={foundation:(t=0===e.indexOf(\"a=candidate:\")?e.substring(12).split(\" \"):e.substring(10).split(\" \"))[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},n=8;n<t.length;n+=2)switch(t[n]){case\"raddr\":r.relatedAddress=t[n+1];break;case\"rport\":r.relatedPort=parseInt(t[n+1],10);break;case\"tcptype\":r.tcpType=t[n+1];break;case\"ufrag\":r.ufrag=t[n+1],r.usernameFragment=t[n+1];break;default:r[t[n]]=t[n+1]}return r},p.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var r=e.type;return t.push(\"typ\"),t.push(r),\"host\"!==r&&e.relatedAddress&&e.relatedPort&&(t.push(\"raddr\"),t.push(e.relatedAddress),t.push(\"rport\"),t.push(e.relatedPort)),e.tcpType&&\"tcp\"===e.protocol.toLowerCase()&&(t.push(\"tcptype\"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push(\"ufrag\"),t.push(e.usernameFragment||e.ufrag)),\"candidate:\"+t.join(\" \")},p.parseIceOptions=function(e){return e.substr(14).split(\" \")},p.parseRtpMap=function(e){var t=e.substr(9).split(\" \"),r={payloadType:parseInt(t.shift(),10)};return t=t[0].split(\"/\"),r.name=t[0],r.clockRate=parseInt(t[1],10),r.channels=3===t.length?parseInt(t[2],10):1,r.numChannels=r.channels,r},p.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var r=e.channels||e.numChannels||1;return\"a=rtpmap:\"+t+\" \"+e.name+\"/\"+e.clockRate+(1!==r?\"/\"+r:\"\")+\"\\r\\n\"},p.parseExtmap=function(e){var t=e.substr(9).split(\" \");return{id:parseInt(t[0],10),direction:0<t[0].indexOf(\"/\")?t[0].split(\"/\")[1]:\"sendrecv\",uri:t[1]}},p.writeExtmap=function(e){return\"a=extmap:\"+(e.id||e.preferredId)+(e.direction&&\"sendrecv\"!==e.direction?\"/\"+e.direction:\"\")+\" \"+e.uri+\"\\r\\n\"},p.parseFmtp=function(e){for(var t,r={},n=e.substr(e.indexOf(\" \")+1).split(\";\"),i=0;i<n.length;i++)r[(t=n[i].trim().split(\"=\"))[0].trim()]=t[1];return r},p.writeFmtp=function(t){var e=\"\",r=t.payloadType;if(void 0!==t.preferredPayloadType&&(r=t.preferredPayloadType),t.parameters&&Object.keys(t.parameters).length){var n=[];Object.keys(t.parameters).forEach(function(e){t.parameters[e]?n.push(e+\"=\"+t.parameters[e]):n.push(e)}),e+=\"a=fmtp:\"+r+\" \"+n.join(\";\")+\"\\r\\n\"}return e},p.parseRtcpFb=function(e){var t=e.substr(e.indexOf(\" \")+1).split(\" \");return{type:t.shift(),parameter:t.join(\" \")}},p.writeRtcpFb=function(e){var t=\"\",r=e.payloadType;return void 0!==e.preferredPayloadType&&(r=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach(function(e){t+=\"a=rtcp-fb:\"+r+\" \"+e.type+(e.parameter&&e.parameter.length?\" \"+e.parameter:\"\")+\"\\r\\n\"}),t},p.parseSsrcMedia=function(e){var t=e.indexOf(\" \"),r={ssrc:parseInt(e.substr(7,t-7),10)},n=e.indexOf(\":\",t);return-1<n?(r.attribute=e.substr(t+1,n-t-1),r.value=e.substr(n+1)):r.attribute=e.substr(t+1),r},p.parseSsrcGroup=function(e){var t=e.substr(13).split(\" \");return{semantics:t.shift(),ssrcs:t.map(function(e){return parseInt(e,10)})}},p.getMid=function(e){var t=p.matchPrefix(e,\"a=mid:\")[0];if(t)return t.substr(6)},p.parseFingerprint=function(e){var t=e.substr(14).split(\" \");return{algorithm:t[0].toLowerCase(),value:t[1]}},p.getDtlsParameters=function(e,t){return{role:\"auto\",fingerprints:p.matchPrefix(e+t,\"a=fingerprint:\").map(p.parseFingerprint)}},p.writeDtlsParameters=function(e,t){var r=\"a=setup:\"+t+\"\\r\\n\";return e.fingerprints.forEach(function(e){r+=\"a=fingerprint:\"+e.algorithm+\" \"+e.value+\"\\r\\n\"}),r},p.getIceParameters=function(e,t){var r=p.splitLines(e);return{usernameFragment:(r=r.concat(p.splitLines(t))).filter(function(e){return 0===e.indexOf(\"a=ice-ufrag:\")})[0].substr(12),password:r.filter(function(e){return 0===e.indexOf(\"a=ice-pwd:\")})[0].substr(10)}},p.writeIceParameters=function(e){return\"a=ice-ufrag:\"+e.usernameFragment+\"\\r\\na=ice-pwd:\"+e.password+\"\\r\\n\"},p.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},r=p.splitLines(e)[0].split(\" \"),n=3;n<r.length;n++){var i=r[n],a=p.matchPrefix(e,\"a=rtpmap:\"+i+\" \")[0];if(a){var o=p.parseRtpMap(a),s=p.matchPrefix(e,\"a=fmtp:\"+i+\" \");switch(o.parameters=s.length?p.parseFmtp(s[0]):{},o.rtcpFeedback=p.matchPrefix(e,\"a=rtcp-fb:\"+i+\" \").map(p.parseRtcpFb),t.codecs.push(o),o.name.toUpperCase()){case\"RED\":case\"ULPFEC\":t.fecMechanisms.push(o.name.toUpperCase())}}}return p.matchPrefix(e,\"a=extmap:\").forEach(function(e){t.headerExtensions.push(p.parseExtmap(e))}),t},p.writeRtpDescription=function(e,t){var r=\"\";r+=\"m=\"+e+\" \",r+=0<t.codecs.length?\"9\":\"0\",r+=\" UDP/TLS/RTP/SAVPF \",r+=t.codecs.map(function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType}).join(\" \")+\"\\r\\n\",r+=\"c=IN IP4 0.0.0.0\\r\\n\",r+=\"a=rtcp:9 IN IP4 0.0.0.0\\r\\n\",t.codecs.forEach(function(e){r+=p.writeRtpMap(e),r+=p.writeFmtp(e),r+=p.writeRtcpFb(e)});var n=0;return t.codecs.forEach(function(e){e.maxptime>n&&(n=e.maxptime)}),0<n&&(r+=\"a=maxptime:\"+n+\"\\r\\n\"),r+=\"a=rtcp-mux\\r\\n\",t.headerExtensions&&t.headerExtensions.forEach(function(e){r+=p.writeExtmap(e)}),r},p.parseRtpEncodingParameters=function(e){var r,n=[],t=p.parseRtpParameters(e),i=-1!==t.fecMechanisms.indexOf(\"RED\"),a=-1!==t.fecMechanisms.indexOf(\"ULPFEC\"),o=p.matchPrefix(e,\"a=ssrc:\").map(function(e){return p.parseSsrcMedia(e)}).filter(function(e){return\"cname\"===e.attribute}),s=0<o.length&&o[0].ssrc,c=p.matchPrefix(e,\"a=ssrc-group:FID\").map(function(e){return e.substr(17).split(\" \").map(function(e){return parseInt(e,10)})});0<c.length&&1<c[0].length&&c[0][0]===s&&(r=c[0][1]),t.codecs.forEach(function(e){if(\"RTX\"===e.name.toUpperCase()&&e.parameters.apt){var t={ssrc:s,codecPayloadType:parseInt(e.parameters.apt,10)};s&&r&&(t.rtx={ssrc:r}),n.push(t),i&&((t=JSON.parse(JSON.stringify(t))).fec={ssrc:s,mechanism:a?\"red+ulpfec\":\"red\"},n.push(t))}}),0===n.length&&s&&n.push({ssrc:s});var d=p.matchPrefix(e,\"b=\");return d.length&&(d=0===d[0].indexOf(\"b=TIAS:\")?parseInt(d[0].substr(7),10):0===d[0].indexOf(\"b=AS:\")?1e3*parseInt(d[0].substr(5),10)*.95-16e3:void 0,n.forEach(function(e){e.maxBitrate=d})),n},p.parseRtcpParameters=function(e){var t={},r=p.matchPrefix(e,\"a=ssrc:\").map(function(e){return p.parseSsrcMedia(e)}).filter(function(e){return\"cname\"===e.attribute})[0];r&&(t.cname=r.value,t.ssrc=r.ssrc);var n=p.matchPrefix(e,\"a=rtcp-rsize\");t.reducedSize=0<n.length,t.compound=0===n.length;var i=p.matchPrefix(e,\"a=rtcp-mux\");return t.mux=0<i.length,t},p.parseMsid=function(e){var t,r=p.matchPrefix(e,\"a=msid:\");if(1===r.length)return{stream:(t=r[0].substr(7).split(\" \"))[0],track:t[1]};var n=p.matchPrefix(e,\"a=ssrc:\").map(function(e){return p.parseSsrcMedia(e)}).filter(function(e){return\"msid\"===e.attribute});return 0<n.length?{stream:(t=n[0].value.split(\" \"))[0],track:t[1]}:void 0},p.generateSessionId=function(){return Math.random().toString().substr(2,21)},p.writeSessionBoilerplate=function(e,t,r){var n=void 0!==t?t:2;return\"v=0\\r\\no=\"+(r||\"thisisadapterortc\")+\" \"+(e||p.generateSessionId())+\" \"+n+\" IN IP4 127.0.0.1\\r\\ns=-\\r\\nt=0 0\\r\\n\"},p.writeMediaSection=function(e,t,r,n){var i=p.writeRtpDescription(e.kind,t);if(i+=p.writeIceParameters(e.iceGatherer.getLocalParameters()),i+=p.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),\"offer\"===r?\"actpass\":\"active\"),i+=\"a=mid:\"+e.mid+\"\\r\\n\",e.direction?i+=\"a=\"+e.direction+\"\\r\\n\":e.rtpSender&&e.rtpReceiver?i+=\"a=sendrecv\\r\\n\":e.rtpSender?i+=\"a=sendonly\\r\\n\":e.rtpReceiver?i+=\"a=recvonly\\r\\n\":i+=\"a=inactive\\r\\n\",e.rtpSender){var a=\"msid:\"+n.id+\" \"+e.rtpSender.track.id+\"\\r\\n\";i+=\"a=\"+a,i+=\"a=ssrc:\"+e.sendEncodingParameters[0].ssrc+\" \"+a,e.sendEncodingParameters[0].rtx&&(i+=\"a=ssrc:\"+e.sendEncodingParameters[0].rtx.ssrc+\" \"+a,i+=\"a=ssrc-group:FID \"+e.sendEncodingParameters[0].ssrc+\" \"+e.sendEncodingParameters[0].rtx.ssrc+\"\\r\\n\")}return i+=\"a=ssrc:\"+e.sendEncodingParameters[0].ssrc+\" cname:\"+p.localCName+\"\\r\\n\",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(i+=\"a=ssrc:\"+e.sendEncodingParameters[0].rtx.ssrc+\" cname:\"+p.localCName+\"\\r\\n\"),i},p.getDirection=function(e,t){for(var r=p.splitLines(e),n=0;n<r.length;n++)switch(r[n]){case\"a=sendrecv\":case\"a=sendonly\":case\"a=recvonly\":case\"a=inactive\":return r[n].substr(2)}return t?p.getDirection(t):\"sendrecv\"},p.getKind=function(e){return p.splitLines(e)[0].split(\" \")[0].substr(2)},p.isRejected=function(e){return\"0\"===e.split(\" \",2)[1]},p.parseMLine=function(e){var t=p.splitLines(e)[0].substr(2).split(\" \");return{kind:t[0],port:parseInt(t[1],10),protocol:t[2],fmt:t.slice(3).join(\" \")}},p.parseOLine=function(e){var t=p.matchPrefix(e,\"o=\")[0].substr(2).split(\" \");return{username:t[0],sessionId:t[1],sessionVersion:parseInt(t[2],10),netType:t[3],addressType:t[4],address:t[5]}},p.isValidSDP=function(e){if(\"string\"!=typeof e||0===e.length)return!1;for(var t=p.splitLines(e),r=0;r<t.length;r++)if(t[r].length<2||\"=\"!==t[r].charAt(1))return!1;return!0},\"object\"==typeof t&&(t.exports=p)},{}],3:[function(r,n,e){(function(e){\"use strict\";var t=r(\"./adapter_factory.js\");n.exports=t({window:e.window})}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{\"./adapter_factory.js\":4}],4:[function(l,e,t){\"use strict\";var m=l(\"./utils\");e.exports=function(e,t){var r=e&&e.window,n={shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0};for(var i in t)hasOwnProperty.call(t,i)&&(n[i]=t[i]);var a=m.log,o=m.detectBrowser(r),s=l(\"./chrome/chrome_shim\")||null,c=l(\"./edge/edge_shim\")||null,d=l(\"./firefox/firefox_shim\")||null,p=l(\"./safari/safari_shim\")||null,u=l(\"./common_shim\")||null,f={browserDetails:o,commonShim:u,extractVersion:m.extractVersion,disableLog:m.disableLog,disableWarnings:m.disableWarnings};switch(o.browser){case\"chrome\":if(!s||!s.shimPeerConnection||!n.shimChrome)return a(\"Chrome shim is not included in this adapter release.\"),f;a(\"adapter.js shimming chrome.\"),f.browserShim=s,u.shimCreateObjectURL(r),s.shimGetUserMedia(r),s.shimMediaStream(r),s.shimSourceObject(r),s.shimPeerConnection(r),s.shimOnTrack(r),s.shimAddTrackRemoveTrack(r),s.shimGetSendersWithDtmf(r),s.shimSenderReceiverGetStats(r),s.fixNegotiationNeeded(r),u.shimRTCIceCandidate(r),u.shimMaxMessageSize(r),u.shimSendThrowTypeError(r);break;case\"firefox\":if(!d||!d.shimPeerConnection||!n.shimFirefox)return a(\"Firefox shim is not included in this adapter release.\"),f;a(\"adapter.js shimming firefox.\"),f.browserShim=d,u.shimCreateObjectURL(r),d.shimGetUserMedia(r),d.shimSourceObject(r),d.shimPeerConnection(r),d.shimOnTrack(r),d.shimRemoveStream(r),d.shimSenderGetStats(r),d.shimReceiverGetStats(r),d.shimRTCDataChannel(r),u.shimRTCIceCandidate(r),u.shimMaxMessageSize(r),u.shimSendThrowTypeError(r);break;case\"edge\":if(!c||!c.shimPeerConnection||!n.shimEdge)return a(\"MS edge shim is not included in this adapter release.\"),f;a(\"adapter.js shimming edge.\"),f.browserShim=c,u.shimCreateObjectURL(r),c.shimGetUserMedia(r),c.shimPeerConnection(r),c.shimReplaceTrack(r),u.shimMaxMessageSize(r),u.shimSendThrowTypeError(r);break;case\"safari\":if(!p||!n.shimSafari)return a(\"Safari shim is not included in this adapter release.\"),f;a(\"adapter.js shimming safari.\"),f.browserShim=p,u.shimCreateObjectURL(r),p.shimRTCIceServerUrls(r),p.shimCreateOfferLegacy(r),p.shimCallbacksAPI(r),p.shimLocalStreamsAPI(r),p.shimRemoteStreamsAPI(r),p.shimTrackEventTransceiver(r),p.shimGetUserMedia(r),u.shimRTCIceCandidate(r),u.shimMaxMessageSize(r),u.shimSendThrowTypeError(r);break;default:a(\"Unsupported browser!\")}return f}},{\"./chrome/chrome_shim\":5,\"./common_shim\":7,\"./edge/edge_shim\":8,\"./firefox/firefox_shim\":11,\"./safari/safari_shim\":13,\"./utils\":14}],5:[function(e,t,r){\"use strict\";var c=e(\"../utils.js\"),n=c.log;function i(r,t,e){var n=e?\"outbound-rtp\":\"inbound-rtp\",i=new Map;if(null===t)return i;var a=[];return r.forEach(function(e){\"track\"===e.type&&e.trackIdentifier===t.id&&a.push(e)}),a.forEach(function(t){r.forEach(function(e){e.type===n&&e.trackId===t.id&&function t(r,n,i){n&&!i.has(n.id)&&(i.set(n.id,n),Object.keys(n).forEach(function(e){e.endsWith(\"Id\")?t(r,r.get(n[e]),i):e.endsWith(\"Ids\")&&n[e].forEach(function(e){t(r,r.get(e),i)})}))}(r,e,i)})}),i}t.exports={shimGetUserMedia:e(\"./getusermedia\"),shimMediaStream:function(e){e.MediaStream=e.MediaStream||e.webkitMediaStream},shimOnTrack:function(a){if(\"object\"!=typeof a||!a.RTCPeerConnection||\"ontrack\"in a.RTCPeerConnection.prototype)c.wrapPeerConnectionEvent(a,\"track\",function(e){return e.transceiver||Object.defineProperty(e,\"transceiver\",{value:{receiver:e.receiver}}),e});else{Object.defineProperty(a.RTCPeerConnection.prototype,\"ontrack\",{get:function(){return this._ontrack},set:function(e){this._ontrack&&this.removeEventListener(\"track\",this._ontrack),this.addEventListener(\"track\",this._ontrack=e)},enumerable:!0,configurable:!0});var e=a.RTCPeerConnection.prototype.setRemoteDescription;a.RTCPeerConnection.prototype.setRemoteDescription=function(){var i=this;return i._ontrackpoly||(i._ontrackpoly=function(n){n.stream.addEventListener(\"addtrack\",function(t){var e;e=a.RTCPeerConnection.prototype.getReceivers?i.getReceivers().find(function(e){return e.track&&e.track.id===t.track.id}):{track:t.track};var r=new Event(\"track\");r.track=t.track,r.receiver=e,r.transceiver={receiver:e},r.streams=[n.stream],i.dispatchEvent(r)}),n.stream.getTracks().forEach(function(t){var e;e=a.RTCPeerConnection.prototype.getReceivers?i.getReceivers().find(function(e){return e.track&&e.track.id===t.id}):{track:t};var r=new Event(\"track\");r.track=t,r.receiver=e,r.transceiver={receiver:e},r.streams=[n.stream],i.dispatchEvent(r)})},i.addEventListener(\"addstream\",i._ontrackpoly)),e.apply(i,arguments)}}},shimGetSendersWithDtmf:function(e){if(\"object\"==typeof e&&e.RTCPeerConnection&&!(\"getSenders\"in e.RTCPeerConnection.prototype)&&\"createDTMFSender\"in e.RTCPeerConnection.prototype){var n=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&(\"audio\"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var i=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,t){var r=i.apply(this,arguments);return r||(r=n(this,e),this._senders.push(r)),r};var r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){r.apply(this,arguments);var t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}var a=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var t=this;t._senders=t._senders||[],a.apply(t,[e]),e.getTracks().forEach(function(e){t._senders.push(n(t,e))})};var t=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var r=this;r._senders=r._senders||[],t.apply(r,[e]),e.getTracks().forEach(function(t){var e=r._senders.find(function(e){return e.track===t});e&&r._senders.splice(r._senders.indexOf(e),1)})}}else if(\"object\"==typeof e&&e.RTCPeerConnection&&\"getSenders\"in e.RTCPeerConnection.prototype&&\"createDTMFSender\"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!(\"dtmf\"in e.RTCRtpSender.prototype)){var o=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){var t=this,e=o.apply(t,[]);return e.forEach(function(e){e._pc=t}),e},Object.defineProperty(e.RTCRtpSender.prototype,\"dtmf\",{get:function(){return void 0===this._dtmf&&(\"audio\"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}},shimSenderReceiverGetStats:function(e){if(\"object\"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver){if(!(\"getStats\"in e.RTCRtpSender.prototype)){var r=e.RTCPeerConnection.prototype.getSenders;r&&(e.RTCPeerConnection.prototype.getSenders=function(){var t=this,e=r.apply(t,[]);return e.forEach(function(e){e._pc=t}),e});var t=e.RTCPeerConnection.prototype.addTrack;t&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=t.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){var t=this;return this._pc.getStats().then(function(e){return i(e,t.track,!0)})}}if(!(\"getStats\"in e.RTCRtpReceiver.prototype)){var n=e.RTCPeerConnection.prototype.getReceivers;n&&(e.RTCPeerConnection.prototype.getReceivers=function(){var t=this,e=n.apply(t,[]);return e.forEach(function(e){e._pc=t}),e}),c.wrapPeerConnectionEvent(e,\"track\",function(e){return e.receiver._pc=e.srcElement,e}),e.RTCRtpReceiver.prototype.getStats=function(){var t=this;return this._pc.getStats().then(function(e){return i(e,t.track,!1)})}}if(\"getStats\"in e.RTCRtpSender.prototype&&\"getStats\"in e.RTCRtpReceiver.prototype){var a=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(0<arguments.length&&arguments[0]instanceof e.MediaStreamTrack){var t,r,n,i=arguments[0];return this.getSenders().forEach(function(e){e.track===i&&(t?n=!0:t=e)}),this.getReceivers().forEach(function(e){return e.track===i&&(r?n=!0:r=e),e.track===i}),n||t&&r?Promise.reject(new DOMException(\"There are more than one sender or receiver for the track.\",\"InvalidAccessError\")):t?t.getStats():r?r.getStats():Promise.reject(new DOMException(\"There is no sender or receiver for the track.\",\"InvalidAccessError\"))}return a.apply(this,arguments)}}}},shimSourceObject:function(e){var r=e&&e.URL;\"object\"==typeof e&&(!e.HTMLMediaElement||\"srcObject\"in e.HTMLMediaElement.prototype||Object.defineProperty(e.HTMLMediaElement.prototype,\"srcObject\",{get:function(){return this._srcObject},set:function(e){var t=this;this._srcObject=e,this.src&&r.revokeObjectURL(this.src),e?(this.src=r.createObjectURL(e),e.addEventListener(\"addtrack\",function(){t.src&&r.revokeObjectURL(t.src),t.src=r.createObjectURL(e)}),e.addEventListener(\"removetrack\",function(){t.src&&r.revokeObjectURL(t.src),t.src=r.createObjectURL(e)})):this.src=\"\"}}))},shimAddTrackRemoveTrackWithNative:function(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){var t=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(function(e){return t._shimmedLocalStreams[e][0]})};var n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,t){if(!t)return n.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var r=n.apply(this,arguments);return this._shimmedLocalStreams[t.id]?-1===this._shimmedLocalStreams[t.id].indexOf(r)&&this._shimmedLocalStreams[t.id].push(r):this._shimmedLocalStreams[t.id]=[t,r],r};var i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var r=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach(function(t){if(r.getSenders().find(function(e){return e.track===t}))throw new DOMException(\"Track already exists.\",\"InvalidAccessError\")});var t=r.getSenders();i.apply(this,arguments);var n=r.getSenders().filter(function(e){return-1===t.indexOf(e)});this._shimmedLocalStreams[e.id]=[e].concat(n)};var t=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],t.apply(this,arguments)};var a=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(r){var n=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},r&&Object.keys(this._shimmedLocalStreams).forEach(function(e){var t=n._shimmedLocalStreams[e].indexOf(r);-1!==t&&n._shimmedLocalStreams[e].splice(t,1),1===n._shimmedLocalStreams[e].length&&delete n._shimmedLocalStreams[e]}),a.apply(this,arguments)}},shimAddTrackRemoveTrack:function(o){var e=c.detectBrowser(o);if(o.RTCPeerConnection.prototype.addTrack&&65<=e.version)return this.shimAddTrackRemoveTrackWithNative(o);var r=o.RTCPeerConnection.prototype.getLocalStreams;o.RTCPeerConnection.prototype.getLocalStreams=function(){var t=this,e=r.apply(this);return t._reverseStreams=t._reverseStreams||{},e.map(function(e){return t._reverseStreams[e.id]})};var n=o.RTCPeerConnection.prototype.addStream;o.RTCPeerConnection.prototype.addStream=function(e){var r=this;if(r._streams=r._streams||{},r._reverseStreams=r._reverseStreams||{},e.getTracks().forEach(function(t){if(r.getSenders().find(function(e){return e.track===t}))throw new DOMException(\"Track already exists.\",\"InvalidAccessError\")}),!r._reverseStreams[e.id]){var t=new o.MediaStream(e.getTracks());r._streams[e.id]=t,r._reverseStreams[t.id]=e,e=t}n.apply(r,[e])};var i=o.RTCPeerConnection.prototype.removeStream;function a(n,e){var i=e.sdp;return Object.keys(n._reverseStreams||[]).forEach(function(e){var t=n._reverseStreams[e],r=n._streams[t.id];i=i.replace(new RegExp(r.id,\"g\"),t.id)}),new RTCSessionDescription({type:e.type,sdp:i})}o.RTCPeerConnection.prototype.removeStream=function(e){var t=this;t._streams=t._streams||{},t._reverseStreams=t._reverseStreams||{},i.apply(t,[t._streams[e.id]||e]),delete t._reverseStreams[t._streams[e.id]?t._streams[e.id].id:e.id],delete t._streams[e.id]},o.RTCPeerConnection.prototype.addTrack=function(t,e){var r=this;if(\"closed\"===r.signalingState)throw new DOMException(\"The RTCPeerConnection's signalingState is 'closed'.\",\"InvalidStateError\");var n=[].slice.call(arguments,1);if(1!==n.length||!n[0].getTracks().find(function(e){return e===t}))throw new DOMException(\"The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.\",\"NotSupportedError\");if(r.getSenders().find(function(e){return e.track===t}))throw new DOMException(\"Track already exists.\",\"InvalidAccessError\");r._streams=r._streams||{},r._reverseStreams=r._reverseStreams||{};var i=r._streams[e.id];if(i)i.addTrack(t),Promise.resolve().then(function(){r.dispatchEvent(new Event(\"negotiationneeded\"))});else{var a=new o.MediaStream([t]);r._streams[e.id]=a,r._reverseStreams[a.id]=e,r.addStream(a)}return r.getSenders().find(function(e){return e.track===t})},[\"createOffer\",\"createAnswer\"].forEach(function(e){var t=o.RTCPeerConnection.prototype[e];o.RTCPeerConnection.prototype[e]=function(){var r=this,n=arguments;return arguments.length&&\"function\"==typeof arguments[0]?t.apply(r,[function(e){var t=a(r,e);n[0].apply(null,[t])},function(e){n[1]&&n[1].apply(null,e)},arguments[2]]):t.apply(r,arguments).then(function(e){return a(r,e)})}});var t=o.RTCPeerConnection.prototype.setLocalDescription;o.RTCPeerConnection.prototype.setLocalDescription=function(){var n,e,i;return arguments.length&&arguments[0].type&&(arguments[0]=(n=this,e=arguments[0],i=e.sdp,Object.keys(n._reverseStreams||[]).forEach(function(e){var t=n._reverseStreams[e],r=n._streams[t.id];i=i.replace(new RegExp(t.id,\"g\"),r.id)}),new RTCSessionDescription({type:e.type,sdp:i}))),t.apply(this,arguments)};var s=Object.getOwnPropertyDescriptor(o.RTCPeerConnection.prototype,\"localDescription\");Object.defineProperty(o.RTCPeerConnection.prototype,\"localDescription\",{get:function(){var e=s.get.apply(this);return\"\"===e.type?e:a(this,e)}}),o.RTCPeerConnection.prototype.removeTrack=function(t){var r,n=this;if(\"closed\"===n.signalingState)throw new DOMException(\"The RTCPeerConnection's signalingState is 'closed'.\",\"InvalidStateError\");if(!t._pc)throw new DOMException(\"Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.\",\"TypeError\");if(!(t._pc===n))throw new DOMException(\"Sender was not created by this connection.\",\"InvalidAccessError\");n._streams=n._streams||{},Object.keys(n._streams).forEach(function(e){n._streams[e].getTracks().find(function(e){return t.track===e})&&(r=n._streams[e])}),r&&(1===r.getTracks().length?n.removeStream(n._reverseStreams[r.id]):r.removeTrack(t.track),n.dispatchEvent(new Event(\"negotiationneeded\")))}},shimPeerConnection:function(r){var e=c.detectBrowser(r);!r.RTCPeerConnection&&r.webkitRTCPeerConnection&&(r.RTCPeerConnection=function(e,t){return n(\"PeerConnection\"),e&&e.iceTransportPolicy&&(e.iceTransports=e.iceTransportPolicy),new r.webkitRTCPeerConnection(e,t)},r.RTCPeerConnection.prototype=r.webkitRTCPeerConnection.prototype,r.webkitRTCPeerConnection.generateCertificate&&Object.defineProperty(r.RTCPeerConnection,\"generateCertificate\",{get:function(){return r.webkitRTCPeerConnection.generateCertificate}}));var s=r.RTCPeerConnection.prototype.getStats;r.RTCPeerConnection.prototype.getStats=function(e,t,r){var n=this,i=arguments;if(0<arguments.length&&\"function\"==typeof e)return s.apply(this,arguments);if(0===s.length&&(0===arguments.length||\"function\"!=typeof e))return s.apply(this,[]);var a=function(e){var n={};return e.result().forEach(function(t){var r={id:t.id,timestamp:t.timestamp,type:{localcandidate:\"local-candidate\",remotecandidate:\"remote-candidate\"}[t.type]||t.type};t.names().forEach(function(e){r[e]=t.stat(e)}),n[r.id]=r}),n},o=function(t){return new Map(Object.keys(t).map(function(e){return[e,t[e]]}))};if(2<=arguments.length){return s.apply(this,[function(e){i[1](o(a(e)))},e])}return new Promise(function(t,e){s.apply(n,[function(e){t(o(a(e)))},e])}).then(t,r)},e.version<51&&[\"setLocalDescription\",\"setRemoteDescription\",\"addIceCandidate\"].forEach(function(e){var i=r.RTCPeerConnection.prototype[e];r.RTCPeerConnection.prototype[e]=function(){var r=arguments,n=this,e=new Promise(function(e,t){i.apply(n,[r[0],e,t])});return r.length<2?e:e.then(function(){r[1].apply(null,[])},function(e){3<=r.length&&r[2].apply(null,[e])})}}),e.version<52&&[\"createOffer\",\"createAnswer\"].forEach(function(e){var i=r.RTCPeerConnection.prototype[e];r.RTCPeerConnection.prototype[e]=function(){var r=this;if(arguments.length<1||1===arguments.length&&\"object\"==typeof arguments[0]){var n=1===arguments.length?arguments[0]:void 0;return new Promise(function(e,t){i.apply(r,[e,t,n])})}return i.apply(this,arguments)}}),[\"setLocalDescription\",\"setRemoteDescription\",\"addIceCandidate\"].forEach(function(e){var t=r.RTCPeerConnection.prototype[e];r.RTCPeerConnection.prototype[e]=function(){return arguments[0]=new(\"addIceCandidate\"===e?r.RTCIceCandidate:r.RTCSessionDescription)(arguments[0]),t.apply(this,arguments)}});var t=r.RTCPeerConnection.prototype.addIceCandidate;r.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?t.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}},fixNegotiationNeeded:function(e){c.wrapPeerConnectionEvent(e,\"negotiationneeded\",function(e){if(\"stable\"===e.target.signalingState)return e})},shimGetDisplayMedia:function(e,r){\"getDisplayMedia\"in e.navigator||(\"function\"==typeof r?navigator.getDisplayMedia=function(t){return r(t).then(function(e){return t.video={mandatory:{chromeMediaSource:\"desktop\",chromeMediaSourceId:e,maxFrameRate:t.video.frameRate||3}},navigator.mediaDevices.getUserMedia(t)})}:console.error(\"shimGetDisplayMedia: getSourceId argument is not a function\"))}}},{\"../utils.js\":14,\"./getusermedia\":6}],6:[function(e,t,r){\"use strict\";var a=e(\"../utils.js\"),d=a.log;t.exports=function(e){var o=a.detectBrowser(e),s=e&&e.navigator,c=function(i){if(\"object\"!=typeof i||i.mandatory||i.optional)return i;var a={};return Object.keys(i).forEach(function(t){if(\"require\"!==t&&\"advanced\"!==t&&\"mediaSource\"!==t){var r=\"object\"==typeof i[t]?i[t]:{ideal:i[t]};void 0!==r.exact&&\"number\"==typeof r.exact&&(r.min=r.max=r.exact);var n=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):\"deviceId\"===t?\"sourceId\":t};if(void 0!==r.ideal){a.optional=a.optional||[];var e={};\"number\"==typeof r.ideal?(e[n(\"min\",t)]=r.ideal,a.optional.push(e),(e={})[n(\"max\",t)]=r.ideal):e[n(\"\",t)]=r.ideal,a.optional.push(e)}void 0!==r.exact&&\"number\"!=typeof r.exact?(a.mandatory=a.mandatory||{},a.mandatory[n(\"\",t)]=r.exact):[\"min\",\"max\"].forEach(function(e){void 0!==r[e]&&(a.mandatory=a.mandatory||{},a.mandatory[n(e,t)]=r[e])})}}),i.advanced&&(a.optional=(a.optional||[]).concat(i.advanced)),a},n=function(r,n){if(61<=o.version)return n(r);if((r=JSON.parse(JSON.stringify(r)))&&\"object\"==typeof r.audio){var e=function(e,t,r){t in e&&!(r in e)&&(e[r]=e[t],delete e[t])};e((r=JSON.parse(JSON.stringify(r))).audio,\"autoGainControl\",\"googAutoGainControl\"),e(r.audio,\"noiseSuppression\",\"googNoiseSuppression\"),r.audio=c(r.audio)}if(r&&\"object\"==typeof r.video){var i=r.video.facingMode;i=i&&(\"object\"==typeof i?i:{ideal:i});var a,t=o.version<66;if(i&&(\"user\"===i.exact||\"environment\"===i.exact||\"user\"===i.ideal||\"environment\"===i.ideal)&&(!s.mediaDevices.getSupportedConstraints||!s.mediaDevices.getSupportedConstraints().facingMode||t))if(delete r.video.facingMode,\"environment\"===i.exact||\"environment\"===i.ideal?a=[\"back\",\"rear\"]:\"user\"!==i.exact&&\"user\"!==i.ideal||(a=[\"front\"]),a)return s.mediaDevices.enumerateDevices().then(function(e){var t=(e=e.filter(function(e){return\"videoinput\"===e.kind})).find(function(t){return a.some(function(e){return-1!==t.label.toLowerCase().indexOf(e)})});return!t&&e.length&&-1!==a.indexOf(\"back\")&&(t=e[e.length-1]),t&&(r.video.deviceId=i.exact?{exact:t.deviceId}:{ideal:t.deviceId}),r.video=c(r.video),d(\"chrome: \"+JSON.stringify(r)),n(r)});r.video=c(r.video)}return d(\"chrome: \"+JSON.stringify(r)),n(r)},i=function(e){return 64<=o.version?e:{name:{PermissionDeniedError:\"NotAllowedError\",PermissionDismissedError:\"NotAllowedError\",InvalidStateError:\"NotAllowedError\",DevicesNotFoundError:\"NotFoundError\",ConstraintNotSatisfiedError:\"OverconstrainedError\",TrackStartError:\"NotReadableError\",MediaDeviceFailedDueToShutdown:\"NotAllowedError\",MediaDeviceKillSwitchOn:\"NotAllowedError\",TabCaptureError:\"AbortError\",ScreenCaptureError:\"AbortError\",DeviceCaptureError:\"AbortError\"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString:function(){return this.name+(this.message&&\": \")+this.message}}};s.getUserMedia=function(e,t,r){n(e,function(e){s.webkitGetUserMedia(e,t,function(e){r&&r(i(e))})})};var t=function(r){return new Promise(function(e,t){s.getUserMedia(r,e,t)})};if(s.mediaDevices||(s.mediaDevices={getUserMedia:t,enumerateDevices:function(){return new Promise(function(t){var r={audio:\"audioinput\",video:\"videoinput\"};return e.MediaStreamTrack.getSources(function(e){t(e.map(function(e){return{label:e.label,kind:r[e.kind],deviceId:e.id,groupId:\"\"}}))})})},getSupportedConstraints:function(){return{deviceId:!0,echoCancellation:!0,facingMode:!0,frameRate:!0,height:!0,width:!0}}}),s.mediaDevices.getUserMedia){var r=s.mediaDevices.getUserMedia.bind(s.mediaDevices);s.mediaDevices.getUserMedia=function(e){return n(e,function(t){return r(t).then(function(e){if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach(function(e){e.stop()}),new DOMException(\"\",\"NotFoundError\");return e},function(e){return Promise.reject(i(e))})})}}else s.mediaDevices.getUserMedia=function(e){return t(e)};void 0===s.mediaDevices.addEventListener&&(s.mediaDevices.addEventListener=function(){d(\"Dummy mediaDevices.addEventListener called.\")}),void 0===s.mediaDevices.removeEventListener&&(s.mediaDevices.removeEventListener=function(){d(\"Dummy mediaDevices.removeEventListener called.\")})}},{\"../utils.js\":14}],7:[function(e,t,r){\"use strict\";var u=e(\"sdp\"),c=e(\"./utils\");t.exports={shimRTCIceCandidate:function(t){if(t.RTCIceCandidate&&!(t.RTCIceCandidate&&\"foundation\"in t.RTCIceCandidate.prototype)){var i=t.RTCIceCandidate;t.RTCIceCandidate=function(e){if(\"object\"==typeof e&&e.candidate&&0===e.candidate.indexOf(\"a=\")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){var t=new i(e),r=u.parseCandidate(e.candidate),n=Object.assign(t,r);return n.toJSON=function(){return{candidate:n.candidate,sdpMid:n.sdpMid,sdpMLineIndex:n.sdpMLineIndex,usernameFragment:n.usernameFragment}},n}return new i(e)},t.RTCIceCandidate.prototype=i.prototype,c.wrapPeerConnectionEvent(t,\"icecandidate\",function(e){return e.candidate&&Object.defineProperty(e,\"candidate\",{value:new t.RTCIceCandidate(e.candidate),writable:\"false\"}),e})}},shimCreateObjectURL:function(e){var t=e&&e.URL;if(\"object\"==typeof e&&e.HTMLMediaElement&&\"srcObject\"in e.HTMLMediaElement.prototype&&t.createObjectURL&&t.revokeObjectURL){var r=t.createObjectURL.bind(t),n=t.revokeObjectURL.bind(t),i=new Map,a=0;t.createObjectURL=function(e){if(\"getTracks\"in e){var t=\"polyblob:\"+ ++a;return i.set(t,e),c.deprecated(\"URL.createObjectURL(stream)\",\"elem.srcObject = stream\"),t}return r(e)},t.revokeObjectURL=function(e){n(e),i.delete(e)};var o=Object.getOwnPropertyDescriptor(e.HTMLMediaElement.prototype,\"src\");Object.defineProperty(e.HTMLMediaElement.prototype,\"src\",{get:function(){return o.get.apply(this)},set:function(e){return this.srcObject=i.get(e)||null,o.set.apply(this,[e])}});var s=e.HTMLMediaElement.prototype.setAttribute;e.HTMLMediaElement.prototype.setAttribute=function(){return 2===arguments.length&&\"src\"===(\"\"+arguments[0]).toLowerCase()&&(this.srcObject=i.get(arguments[1])||null),s.apply(this,arguments)}}},shimMaxMessageSize:function(e){if(!e.RTCSctpTransport&&e.RTCPeerConnection){var d=c.detectBrowser(e);\"sctp\"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,\"sctp\",{get:function(){return void 0===this._sctp?null:this._sctp}});var p=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e,t,r,n;if(this._sctp=null,r=arguments[0],(n=u.splitSections(r.sdp)).shift(),n.some(function(e){var t=u.parseMLine(e);return t&&\"application\"===t.kind&&-1!==t.protocol.indexOf(\"SCTP\")})){var i,a=function(e){var t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\\d+)/);if(null===t||t.length<2)return-1;var r=parseInt(t[1],10);return r!=r?-1:r}(arguments[0]),o=(e=a,t=65536,\"firefox\"===d.browser&&(t=d.version<57?-1===e?16384:2147483637:d.version<60?57===d.version?65535:65536:2147483637),t),s=function(e,t){var r=65536;\"firefox\"===d.browser&&57===d.version&&(r=65535);var n=u.matchPrefix(e.sdp,\"a=max-message-size:\");return 0<n.length?r=parseInt(n[0].substr(19),10):\"firefox\"===d.browser&&-1!==t&&(r=2147483637),r}(arguments[0],a);i=0===o&&0===s?Number.POSITIVE_INFINITY:0===o||0===s?Math.max(o,s):Math.min(o,s);var c={};Object.defineProperty(c,\"maxMessageSize\",{get:function(){return i}}),this._sctp=c}return p.apply(this,arguments)}}},shimSendThrowTypeError:function(e){if(e.RTCPeerConnection&&\"createDataChannel\"in e.RTCPeerConnection.prototype){var t=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){var e=t.apply(this,arguments);return r(e,this),e},c.wrapPeerConnectionEvent(e,\"datachannel\",function(e){return r(e.channel,e.target),e})}function r(r,n){var i=r.send;r.send=function(){var e=arguments[0],t=e.length||e.size||e.byteLength;if(\"open\"===r.readyState&&n.sctp&&t>n.sctp.maxMessageSize)throw new TypeError(\"Message too large (can send a maximum of \"+n.sctp.maxMessageSize+\" bytes)\");return i.apply(r,arguments)}}}}},{\"./utils\":14,sdp:2}],8:[function(e,t,r){\"use strict\";var i=e(\"../utils\"),a=e(\"./filtericeservers\"),o=e(\"rtcpeerconnection-shim\");t.exports={shimGetUserMedia:e(\"./getusermedia\"),shimPeerConnection:function(e){var t=i.detectBrowser(e);if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(e){return e}),e.RTCSessionDescription||(e.RTCSessionDescription=function(e){return e}),t.version<15025)){var r=Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype,\"enabled\");Object.defineProperty(e.MediaStreamTrack.prototype,\"enabled\",{set:function(e){r.set.call(this,e);var t=new Event(\"enabled\");t.enabled=e,this.dispatchEvent(t)}})}!e.RTCRtpSender||\"dtmf\"in e.RTCRtpSender.prototype||Object.defineProperty(e.RTCRtpSender.prototype,\"dtmf\",{get:function(){return void 0===this._dtmf&&(\"audio\"===this.track.kind?this._dtmf=new e.RTCDtmfSender(this):\"video\"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),e.RTCDtmfSender&&!e.RTCDTMFSender&&(e.RTCDTMFSender=e.RTCDtmfSender);var n=o(e,t.version);e.RTCPeerConnection=function(e){return e&&e.iceServers&&(e.iceServers=a(e.iceServers)),new n(e)},e.RTCPeerConnection.prototype=n.prototype},shimReplaceTrack:function(e){!e.RTCRtpSender||\"replaceTrack\"in e.RTCRtpSender.prototype||(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)}}},{\"../utils\":14,\"./filtericeservers\":9,\"./getusermedia\":10,\"rtcpeerconnection-shim\":1}],9:[function(e,t,r){\"use strict\";var a=e(\"../utils\");t.exports=function(e,n){var i=!1;return(e=JSON.parse(JSON.stringify(e))).filter(function(e){if(e&&(e.urls||e.url)){var t=e.urls||e.url;e.url&&!e.urls&&a.deprecated(\"RTCIceServer.url\",\"RTCIceServer.urls\");var r=\"string\"==typeof t;return r&&(t=[t]),t=t.filter(function(e){return 0===e.indexOf(\"turn:\")&&-1!==e.indexOf(\"transport=udp\")&&-1===e.indexOf(\"turn:[\")&&!i?i=!0:0===e.indexOf(\"stun:\")&&14393<=n&&-1===e.indexOf(\"?transport=udp\")}),delete e.url,e.urls=r?t[0]:t,!!t.length}})}},{\"../utils\":14}],10:[function(e,t,r){\"use strict\";t.exports=function(e){var t=e&&e.navigator,r=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return r(e).catch(function(e){return Promise.reject({name:{PermissionDeniedError:\"NotAllowedError\"}[(t=e).name]||t.name,message:t.message,constraint:t.constraint,toString:function(){return this.name}});var t})}}},{}],11:[function(e,t,r){\"use strict\";var n=e(\"../utils\");t.exports={shimGetUserMedia:e(\"./getusermedia\"),shimOnTrack:function(e){\"object\"!=typeof e||!e.RTCPeerConnection||\"ontrack\"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,\"ontrack\",{get:function(){return this._ontrack},set:function(e){this._ontrack&&(this.removeEventListener(\"track\",this._ontrack),this.removeEventListener(\"addstream\",this._ontrackpoly)),this.addEventListener(\"track\",this._ontrack=e),this.addEventListener(\"addstream\",this._ontrackpoly=function(r){r.stream.getTracks().forEach(function(e){var t=new Event(\"track\");t.track=e,t.receiver={track:e},t.transceiver={receiver:t.receiver},t.streams=[r.stream],this.dispatchEvent(t)}.bind(this))}.bind(this))},enumerable:!0,configurable:!0}),\"object\"==typeof e&&e.RTCTrackEvent&&\"receiver\"in e.RTCTrackEvent.prototype&&!(\"transceiver\"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,\"transceiver\",{get:function(){return{receiver:this.receiver}}})},shimSourceObject:function(e){\"object\"==typeof e&&(!e.HTMLMediaElement||\"srcObject\"in e.HTMLMediaElement.prototype||Object.defineProperty(e.HTMLMediaElement.prototype,\"srcObject\",{get:function(){return this.mozSrcObject},set:function(e){this.mozSrcObject=e}}))},shimPeerConnection:function(s){var c=n.detectBrowser(s);if(\"object\"==typeof s&&(s.RTCPeerConnection||s.mozRTCPeerConnection)){s.RTCPeerConnection||(s.RTCPeerConnection=function(e,t){if(c.version<38&&e&&e.iceServers){for(var r=[],n=0;n<e.iceServers.length;n++){var i=e.iceServers[n];if(i.hasOwnProperty(\"urls\"))for(var a=0;a<i.urls.length;a++){var o={url:i.urls[a]};0===i.urls[a].indexOf(\"turn\")&&(o.username=i.username,o.credential=i.credential),r.push(o)}else r.push(e.iceServers[n])}e.iceServers=r}return new s.mozRTCPeerConnection(e,t)},s.RTCPeerConnection.prototype=s.mozRTCPeerConnection.prototype,s.mozRTCPeerConnection.generateCertificate&&Object.defineProperty(s.RTCPeerConnection,\"generateCertificate\",{get:function(){return s.mozRTCPeerConnection.generateCertificate}}),s.RTCSessionDescription=s.mozRTCSessionDescription,s.RTCIceCandidate=s.mozRTCIceCandidate),[\"setLocalDescription\",\"setRemoteDescription\",\"addIceCandidate\"].forEach(function(e){var t=s.RTCPeerConnection.prototype[e];s.RTCPeerConnection.prototype[e]=function(){return arguments[0]=new(\"addIceCandidate\"===e?s.RTCIceCandidate:s.RTCSessionDescription)(arguments[0]),t.apply(this,arguments)}});var e=s.RTCPeerConnection.prototype.addIceCandidate;s.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?e.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())};var a={inboundrtp:\"inbound-rtp\",outboundrtp:\"outbound-rtp\",candidatepair:\"candidate-pair\",localcandidate:\"local-candidate\",remotecandidate:\"remote-candidate\"},r=s.RTCPeerConnection.prototype.getStats;s.RTCPeerConnection.prototype.getStats=function(e,i,t){return r.apply(this,[e||null]).then(function(r){var t,n;if(c.version<48&&(t=r,n=new Map,Object.keys(t).forEach(function(e){n.set(e,t[e]),n[e]=t[e]}),r=n),c.version<53&&!i)try{r.forEach(function(e){e.type=a[e.type]||e.type})}catch(e){if(\"TypeError\"!==e.name)throw e;r.forEach(function(e,t){r.set(t,Object.assign({},e,{type:a[e.type]||e.type}))})}return r}).then(i,t)}}},shimSenderGetStats:function(e){if(\"object\"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&!(e.RTCRtpSender&&\"getStats\"in e.RTCRtpSender.prototype)){var r=e.RTCPeerConnection.prototype.getSenders;r&&(e.RTCPeerConnection.prototype.getSenders=function(){var t=this,e=r.apply(t,[]);return e.forEach(function(e){e._pc=t}),e});var t=e.RTCPeerConnection.prototype.addTrack;t&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=t.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}},shimReceiverGetStats:function(e){if(\"object\"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&!(e.RTCRtpSender&&\"getStats\"in e.RTCRtpReceiver.prototype)){var r=e.RTCPeerConnection.prototype.getReceivers;r&&(e.RTCPeerConnection.prototype.getReceivers=function(){var t=this,e=r.apply(t,[]);return e.forEach(function(e){e._pc=t}),e}),n.wrapPeerConnectionEvent(e,\"track\",function(e){return e.receiver._pc=e.srcElement,e}),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}},shimRemoveStream:function(e){!e.RTCPeerConnection||\"removeStream\"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(t){var r=this;n.deprecated(\"removeStream\",\"removeTrack\"),this.getSenders().forEach(function(e){e.track&&-1!==t.getTracks().indexOf(e.track)&&r.removeTrack(e)})})},shimRTCDataChannel:function(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)},shimGetDisplayMedia:function(e,r){\"getDisplayMedia\"in e.navigator||(navigator.getDisplayMedia=function(e){if(!e||!e.video){var t=new DOMException(\"getDisplayMedia without video constraints is undefined\");return t.name=\"NotFoundError\",t.code=8,Promise.reject(t)}return!0===e.video?e.video={mediaSource:r}:e.video.mediaSource=r,navigator.mediaDevices.getUserMedia(e)})}}},{\"../utils\":14,\"./getusermedia\":12}],12:[function(e,t,r){\"use strict\";var f=e(\"../utils\"),l=f.log;t.exports=function(e){var i=f.detectBrowser(e),a=e&&e.navigator,t=e&&e.MediaStreamTrack,o=function(e){return{name:{InternalError:\"NotReadableError\",NotSupportedError:\"TypeError\",PermissionDeniedError:\"NotAllowedError\",SecurityError:\"NotAllowedError\"}[e.name]||e.name,message:{\"The operation is insecure.\":\"The request is not allowed by the user agent or the platform in the current context.\"}[e.message]||e.message,constraint:e.constraint,toString:function(){return this.name+(this.message&&\": \")+this.message}}},n=function(e,t,r){var n=function(n){if(\"object\"!=typeof n||n.require)return n;var i=[];return Object.keys(n).forEach(function(e){if(\"require\"!==e&&\"advanced\"!==e&&\"mediaSource\"!==e){var t=n[e]=\"object\"==typeof n[e]?n[e]:{ideal:n[e]};if(void 0===t.min&&void 0===t.max&&void 0===t.exact||i.push(e),void 0!==t.exact&&(\"number\"==typeof t.exact?t.min=t.max=t.exact:n[e]=t.exact,delete t.exact),void 0!==t.ideal){n.advanced=n.advanced||[];var r={};\"number\"==typeof t.ideal?r[e]={min:t.ideal,max:t.ideal}:r[e]=t.ideal,n.advanced.push(r),delete t.ideal,Object.keys(t).length||delete n[e]}}}),i.length&&(n.require=i),n};return e=JSON.parse(JSON.stringify(e)),i.version<38&&(l(\"spec: \"+JSON.stringify(e)),e.audio&&(e.audio=n(e.audio)),e.video&&(e.video=n(e.video)),l(\"ff37: \"+JSON.stringify(e))),a.mozGetUserMedia(e,t,function(e){r(o(e))})};if(a.mediaDevices||(a.mediaDevices={getUserMedia:function(r){return new Promise(function(e,t){n(r,e,t)})},addEventListener:function(){},removeEventListener:function(){}}),a.mediaDevices.enumerateDevices=a.mediaDevices.enumerateDevices||function(){return new Promise(function(e){e([{kind:\"audioinput\",deviceId:\"default\",label:\"\",groupId:\"\"},{kind:\"videoinput\",deviceId:\"default\",label:\"\",groupId:\"\"}])})},i.version<41){var r=a.mediaDevices.enumerateDevices.bind(a.mediaDevices);a.mediaDevices.enumerateDevices=function(){return r().then(void 0,function(e){if(\"NotFoundError\"===e.name)return[];throw e})}}if(i.version<49){var s=a.mediaDevices.getUserMedia.bind(a.mediaDevices);a.mediaDevices.getUserMedia=function(t){return s(t).then(function(e){if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach(function(e){e.stop()}),new DOMException(\"The object can not be found here.\",\"NotFoundError\");return e},function(e){return Promise.reject(o(e))})}}if(!(55<i.version&&\"autoGainControl\"in a.mediaDevices.getSupportedConstraints())){var c=function(e,t,r){t in e&&!(r in e)&&(e[r]=e[t],delete e[t])},d=a.mediaDevices.getUserMedia.bind(a.mediaDevices);if(a.mediaDevices.getUserMedia=function(e){return\"object\"==typeof e&&\"object\"==typeof e.audio&&(e=JSON.parse(JSON.stringify(e)),c(e.audio,\"autoGainControl\",\"mozAutoGainControl\"),c(e.audio,\"noiseSuppression\",\"mozNoiseSuppression\")),d(e)},t&&t.prototype.getSettings){var p=t.prototype.getSettings;t.prototype.getSettings=function(){var e=p.apply(this,arguments);return c(e,\"mozAutoGainControl\",\"autoGainControl\"),c(e,\"mozNoiseSuppression\",\"noiseSuppression\"),e}}if(t&&t.prototype.applyConstraints){var u=t.prototype.applyConstraints;t.prototype.applyConstraints=function(e){return\"audio\"===this.kind&&\"object\"==typeof e&&(e=JSON.parse(JSON.stringify(e)),c(e,\"autoGainControl\",\"mozAutoGainControl\"),c(e,\"noiseSuppression\",\"mozNoiseSuppression\")),u.apply(this,[e])}}}a.getUserMedia=function(e,t,r){if(i.version<44)return n(e,t,r);f.deprecated(\"navigator.getUserMedia\",\"navigator.mediaDevices.getUserMedia\"),a.mediaDevices.getUserMedia(e).then(t,r)}}},{\"../utils\":14}],13:[function(e,t,r){\"use strict\";var o=e(\"../utils\");t.exports={shimLocalStreamsAPI:function(e){if(\"object\"==typeof e&&e.RTCPeerConnection){if(\"getLocalStreams\"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),\"getStreamById\"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getStreamById=function(t){var r=null;return this._localStreams&&this._localStreams.forEach(function(e){e.id===t&&(r=e)}),this._remoteStreams&&this._remoteStreams.forEach(function(e){e.id===t&&(r=e)}),r}),!(\"addStream\"in e.RTCPeerConnection.prototype)){var n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(t){this._localStreams||(this._localStreams=[]),-1===this._localStreams.indexOf(t)&&this._localStreams.push(t);var r=this;t.getTracks().forEach(function(e){n.call(r,e,t)})},e.RTCPeerConnection.prototype.addTrack=function(e,t){return t&&(this._localStreams?-1===this._localStreams.indexOf(t)&&this._localStreams.push(t):this._localStreams=[t]),n.call(this,e,t)}}\"removeStream\"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);var t=this._localStreams.indexOf(e);if(-1!==t){this._localStreams.splice(t,1);var r=this,n=e.getTracks();this.getSenders().forEach(function(e){-1!==n.indexOf(e.track)&&r.removeTrack(e)})}})}},shimRemoteStreamsAPI:function(e){if(\"object\"==typeof e&&e.RTCPeerConnection&&(\"getRemoteStreams\"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!(\"onaddstream\"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,\"onaddstream\",{get:function(){return this._onaddstream},set:function(e){this._onaddstream&&this.removeEventListener(\"addstream\",this._onaddstream),this.addEventListener(\"addstream\",this._onaddstream=e)}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var r=this;return this._onaddstreampoly||this.addEventListener(\"track\",this._onaddstreampoly=function(e){e.streams.forEach(function(e){if(r._remoteStreams||(r._remoteStreams=[]),!(0<=r._remoteStreams.indexOf(e))){r._remoteStreams.push(e);var t=new Event(\"addstream\");t.stream=e,r.dispatchEvent(t)}})}),t.apply(r,arguments)}}},shimCallbacksAPI:function(e){if(\"object\"==typeof e&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype,i=t.createOffer,a=t.createAnswer,o=t.setLocalDescription,s=t.setRemoteDescription,c=t.addIceCandidate;t.createOffer=function(e,t){var r=2<=arguments.length?arguments[2]:e,n=i.apply(this,[r]);return t?(n.then(e,t),Promise.resolve()):n},t.createAnswer=function(e,t){var r=2<=arguments.length?arguments[2]:e,n=a.apply(this,[r]);return t?(n.then(e,t),Promise.resolve()):n};var r=function(e,t,r){var n=o.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n};t.setLocalDescription=r,r=function(e,t,r){var n=s.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n},t.setRemoteDescription=r,r=function(e,t,r){var n=c.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n},t.addIceCandidate=r}},shimGetUserMedia:function(e){var n=e&&e.navigator;n.getUserMedia||(n.webkitGetUserMedia?n.getUserMedia=n.webkitGetUserMedia.bind(n):n.mediaDevices&&n.mediaDevices.getUserMedia&&(n.getUserMedia=function(e,t,r){n.mediaDevices.getUserMedia(e).then(t,r)}.bind(n)))},shimRTCIceServerUrls:function(e){var a=e.RTCPeerConnection;e.RTCPeerConnection=function(e,t){if(e&&e.iceServers){for(var r=[],n=0;n<e.iceServers.length;n++){var i=e.iceServers[n];!i.hasOwnProperty(\"urls\")&&i.hasOwnProperty(\"url\")?(o.deprecated(\"RTCIceServer.url\",\"RTCIceServer.urls\"),(i=JSON.parse(JSON.stringify(i))).urls=i.url,delete i.url,r.push(i)):r.push(e.iceServers[n])}e.iceServers=r}return new a(e,t)},e.RTCPeerConnection.prototype=a.prototype,\"generateCertificate\"in e.RTCPeerConnection&&Object.defineProperty(e.RTCPeerConnection,\"generateCertificate\",{get:function(){return a.generateCertificate}})},shimTrackEventTransceiver:function(e){\"object\"==typeof e&&e.RTCPeerConnection&&\"receiver\"in e.RTCTrackEvent.prototype&&!e.RTCTransceiver&&Object.defineProperty(e.RTCTrackEvent.prototype,\"transceiver\",{get:function(){return{receiver:this.receiver}}})},shimCreateOfferLegacy:function(e){var i=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){var t=this;if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);var r=t.getTransceivers().find(function(e){return e.sender.track&&\"audio\"===e.sender.track.kind});!1===e.offerToReceiveAudio&&r?\"sendrecv\"===r.direction?r.setDirection?r.setDirection(\"sendonly\"):r.direction=\"sendonly\":\"recvonly\"===r.direction&&(r.setDirection?r.setDirection(\"inactive\"):r.direction=\"inactive\"):!0!==e.offerToReceiveAudio||r||t.addTransceiver(\"audio\"),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);var n=t.getTransceivers().find(function(e){return e.sender.track&&\"video\"===e.sender.track.kind});!1===e.offerToReceiveVideo&&n?\"sendrecv\"===n.direction?n.setDirection(\"sendonly\"):\"recvonly\"===n.direction&&n.setDirection(\"inactive\"):!0!==e.offerToReceiveVideo||n||t.addTransceiver(\"video\")}return i.apply(t,arguments)}}}},{\"../utils\":14}],14:[function(e,t,r){\"use strict\";var n=!0,i=!0;function a(e,t,r){var n=e.match(t);return n&&n.length>=r&&parseInt(n[r],10)}t.exports={extractVersion:a,wrapPeerConnectionEvent:function(e,n,i){if(e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype,a=t.addEventListener;t.addEventListener=function(e,r){if(e!==n)return a.apply(this,arguments);var t=function(e){var t=i(e);t&&r(t)};return this._eventMap=this._eventMap||{},this._eventMap[r]=t,a.apply(this,[e,t])};var o=t.removeEventListener;t.removeEventListener=function(e,t){if(e!==n||!this._eventMap||!this._eventMap[t])return o.apply(this,arguments);var r=this._eventMap[t];return delete this._eventMap[t],o.apply(this,[e,r])},Object.defineProperty(t,\"on\"+n,{get:function(){return this[\"_on\"+n]},set:function(e){this[\"_on\"+n]&&(this.removeEventListener(n,this[\"_on\"+n]),delete this[\"_on\"+n]),e&&this.addEventListener(n,this[\"_on\"+n]=e)},enumerable:!0,configurable:!0})}},disableLog:function(e){return\"boolean\"!=typeof e?new Error(\"Argument type: \"+typeof e+\". Please use a boolean.\"):(n=e)?\"adapter.js logging disabled\":\"adapter.js logging enabled\"},disableWarnings:function(e){return\"boolean\"!=typeof e?new Error(\"Argument type: \"+typeof e+\". Please use a boolean.\"):(i=!e,\"adapter.js deprecation warnings \"+(e?\"disabled\":\"enabled\"))},log:function(){if(\"object\"==typeof window){if(n)return;\"undefined\"!=typeof console&&\"function\"==typeof console.log&&console.log.apply(console,arguments)}},deprecated:function(e,t){i&&console.warn(e+\" is deprecated, please use \"+t+\" instead.\")},detectBrowser:function(e){var t=e&&e.navigator,r={browser:null,version:null};if(void 0===e||!e.navigator)return r.browser=\"Not a browser.\",r;if(t.mozGetUserMedia)r.browser=\"firefox\",r.version=a(t.userAgent,/Firefox\\/(\\d+)\\./,1);else if(t.webkitGetUserMedia)r.browser=\"chrome\",r.version=a(t.userAgent,/Chrom(e|ium)\\/(\\d+)\\./,2);else if(t.mediaDevices&&t.userAgent.match(/Edge\\/(\\d+).(\\d+)$/))r.browser=\"edge\",r.version=a(t.userAgent,/Edge\\/(\\d+).(\\d+)$/,2);else{if(!e.RTCPeerConnection||!t.userAgent.match(/AppleWebKit\\/(\\d+)\\./))return r.browser=\"Not a supported browser.\",r;r.browser=\"safari\",r.version=a(t.userAgent,/AppleWebKit\\/(\\d+)\\./,1)}return r}}},{}]},{},[3])(3)});\r\n/*!\r\n * Bootstrap v3.3.6 (http://getbootstrap.com)\r\n * Copyright 2011-2015 Twitter, Inc.\r\n * Licensed under the MIT license\r\n */\r\nif(\"undefined\"==typeof jQuery)throw new Error(\"Bootstrap's JavaScript requires jQuery\");+function(a){\"use strict\";var b=a.fn.jquery.split(\" \")[0].split(\".\");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1||b[0]>2)throw new Error(\"Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3\")}(jQuery),+function(a){\"use strict\";function b(){var a=document.createElement(\"bootstrap\"),b={WebkitTransition:\"webkitTransitionEnd\",MozTransition:\"transitionend\",OTransition:\"oTransitionEnd otransitionend\",transition:\"transitionend\"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one(\"bsTransitionEnd\",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){return a(b.target).is(this)?b.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(a){\"use strict\";function b(b){return this.each(function(){var c=a(this),e=c.data(\"bs.alert\");e||c.data(\"bs.alert\",e=new d(this)),\"string\"==typeof b&&e[b].call(c)})}var c='[data-dismiss=\"alert\"]',d=function(b){a(b).on(\"click\",c,this.close)};d.VERSION=\"3.3.6\",d.TRANSITION_DURATION=150,d.prototype.close=function(b){function c(){g.detach().trigger(\"closed.bs.alert\").remove()}var e=a(this),f=e.attr(\"data-target\");f||(f=e.attr(\"href\"),f=f&&f.replace(/.*(?=#[^\\s]*$)/,\"\"));var g=a(f);b&&b.preventDefault(),g.length||(g=e.closest(\".alert\")),g.trigger(b=a.Event(\"close.bs.alert\")),b.isDefaultPrevented()||(g.removeClass(\"in\"),a.support.transition&&g.hasClass(\"fade\")?g.one(\"bsTransitionEnd\",c).emulateTransitionEnd(d.TRANSITION_DURATION):c())};var e=a.fn.alert;a.fn.alert=b,a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on(\"click.bs.alert.data-api\",c,d.prototype.close)}(jQuery),+function(a){\"use strict\";function b(b){return this.each(function(){var d=a(this),e=d.data(\"bs.button\"),f=\"object\"==typeof b&&b;e||d.data(\"bs.button\",e=new c(this,f)),\"toggle\"==b?e.toggle():b&&e.setState(b)})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION=\"3.3.6\",c.DEFAULTS={loadingText:\"loading...\"},c.prototype.setState=function(b){var c=\"disabled\",d=this.$element,e=d.is(\"input\")?\"val\":\"html\",f=d.data();b+=\"Text\",null==f.resetText&&d.data(\"resetText\",d[e]()),setTimeout(a.proxy(function(){d[e](null==f[b]?this.options[b]:f[b]),\"loadingText\"==b?(this.isLoading=!0,d.addClass(c).attr(c,c)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle=\"buttons\"]');if(b.length){var c=this.$element.find(\"input\");\"radio\"==c.prop(\"type\")?(c.prop(\"checked\")&&(a=!1),b.find(\".active\").removeClass(\"active\"),this.$element.addClass(\"active\")):\"checkbox\"==c.prop(\"type\")&&(c.prop(\"checked\")!==this.$element.hasClass(\"active\")&&(a=!1),this.$element.toggleClass(\"active\")),c.prop(\"checked\",this.$element.hasClass(\"active\")),a&&c.trigger(\"change\")}else this.$element.attr(\"aria-pressed\",!this.$element.hasClass(\"active\")),this.$element.toggleClass(\"active\")};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on(\"click.bs.button.data-api\",'[data-toggle^=\"button\"]',function(c){var d=a(c.target);d.hasClass(\"btn\")||(d=d.closest(\".btn\")),b.call(d,\"toggle\"),a(c.target).is('input[type=\"radio\"]')||a(c.target).is('input[type=\"checkbox\"]')||c.preventDefault()}).on(\"focus.bs.button.data-api blur.bs.button.data-api\",'[data-toggle^=\"button\"]',function(b){a(b.target).closest(\".btn\").toggleClass(\"focus\",/^focus(in)?$/.test(b.type))})}(jQuery),+function(a){\"use strict\";function b(b){return this.each(function(){var d=a(this),e=d.data(\"bs.carousel\"),f=a.extend({},c.DEFAULTS,d.data(),\"object\"==typeof b&&b),g=\"string\"==typeof b?b:f.slide;e||d.data(\"bs.carousel\",e=new c(this,f)),\"number\"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}var c=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(\".carousel-indicators\"),this.options=c,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on(\"keydown.bs.carousel\",a.proxy(this.keydown,this)),\"hover\"==this.options.pause&&!(\"ontouchstart\"in document.documentElement)&&this.$element.on(\"mouseenter.bs.carousel\",a.proxy(this.pause,this)).on(\"mouseleave.bs.carousel\",a.proxy(this.cycle,this))};c.VERSION=\"3.3.6\",c.TRANSITION_DURATION=600,c.DEFAULTS={interval:5e3,pause:\"hover\",wrap:!0,keyboard:!0},c.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(\".item\"),this.$items.index(a||this.$active)},c.prototype.getItemForDirection=function(a,b){var c=this.getItemIndex(b),d=\"prev\"==a&&0===c||\"next\"==a&&c==this.$items.length-1;if(d&&!this.options.wrap)return b;var e=\"prev\"==a?-1:1,f=(c+e)%this.$items.length;return this.$items.eq(f)},c.prototype.to=function(a){var b=this,c=this.getItemIndex(this.$active=this.$element.find(\".item.active\"));return a>this.$items.length-1||0>a?void 0:this.sliding?this.$element.one(\"slid.bs.carousel\",function(){b.to(a)}):c==a?this.pause().cycle():this.slide(a>c?\"next\":\"prev\",this.$items.eq(a))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(\".next, .prev\").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){return this.sliding?void 0:this.slide(\"next\")},c.prototype.prev=function(){return this.sliding?void 0:this.slide(\"prev\")},c.prototype.slide=function(b,d){var e=this.$element.find(\".item.active\"),f=d||this.getItemForDirection(b,e),g=this.interval,h=\"next\"==b?\"left\":\"right\",i=this;if(f.hasClass(\"active\"))return this.sliding=!1;var j=f[0],k=a.Event(\"slide.bs.carousel\",{relatedTarget:j,direction:h});if(this.$element.trigger(k),!k.isDefaultPrevented()){if(this.sliding=!0,g&&this.pause(),this.$indicators.length){this.$indicators.find(\".active\").removeClass(\"active\");var l=a(this.$indicators.children()[this.getItemIndex(f)]);l&&l.addClass(\"active\")}var m=a.Event(\"slid.bs.carousel\",{relatedTarget:j,direction:h});return a.support.transition&&this.$element.hasClass(\"slide\")?(f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),e.one(\"bsTransitionEnd\",function(){f.removeClass([b,h].join(\" \")).addClass(\"active\"),e.removeClass([\"active\",h].join(\" \")),i.sliding=!1,setTimeout(function(){i.$element.trigger(m)},0)}).emulateTransitionEnd(c.TRANSITION_DURATION)):(e.removeClass(\"active\"),f.addClass(\"active\"),this.sliding=!1,this.$element.trigger(m)),g&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this};var e=function(c){var d,e=a(this),f=a(e.attr(\"data-target\")||(d=e.attr(\"href\"))&&d.replace(/.*(?=#[^\\s]+$)/,\"\"));if(f.hasClass(\"carousel\")){var g=a.extend({},f.data(),e.data()),h=e.attr(\"data-slide-to\");h&&(g.interval=!1),b.call(f,g),h&&f.data(\"bs.carousel\").to(h),c.preventDefault()}};a(document).on(\"click.bs.carousel.data-api\",\"[data-slide]\",e).on(\"click.bs.carousel.data-api\",\"[data-slide-to]\",e),a(window).on(\"load\",function(){a('[data-ride=\"carousel\"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),+function(a){\"use strict\";function b(b){var c,d=b.attr(\"data-target\")||(c=b.attr(\"href\"))&&c.replace(/.*(?=#[^\\s]+$)/,\"\");return a(d)}function c(b){return this.each(function(){var c=a(this),e=c.data(\"bs.collapse\"),f=a.extend({},d.DEFAULTS,c.data(),\"object\"==typeof b&&b);!e&&f.toggle&&/show|hide/.test(b)&&(f.toggle=!1),e||c.data(\"bs.collapse\",e=new d(this,f)),\"string\"==typeof b&&e[b]()})}var d=function(b,c){this.$element=a(b),this.options=a.extend({},d.DEFAULTS,c),this.$trigger=a('[data-toggle=\"collapse\"][href=\"#'+b.id+'\"],[data-toggle=\"collapse\"][data-target=\"#'+b.id+'\"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};d.VERSION=\"3.3.6\",d.TRANSITION_DURATION=350,d.DEFAULTS={toggle:!0},d.prototype.dimension=function(){var a=this.$element.hasClass(\"width\");return a?\"width\":\"height\"},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass(\"in\")){var b,e=this.$parent&&this.$parent.children(\".panel\").children(\".in, .collapsing\");if(!(e&&e.length&&(b=e.data(\"bs.collapse\"),b&&b.transitioning))){var f=a.Event(\"show.bs.collapse\");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(c.call(e,\"hide\"),b||e.data(\"bs.collapse\",null));var g=this.dimension();this.$element.removeClass(\"collapse\").addClass(\"collapsing\")[g](0).attr(\"aria-expanded\",!0),this.$trigger.removeClass(\"collapsed\").attr(\"aria-expanded\",!0),this.transitioning=1;var h=function(){this.$element.removeClass(\"collapsing\").addClass(\"collapse in\")[g](\"\"),this.transitioning=0,this.$element.trigger(\"shown.bs.collapse\")};if(!a.support.transition)return h.call(this);var i=a.camelCase([\"scroll\",g].join(\"-\"));this.$element.one(\"bsTransitionEnd\",a.proxy(h,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])}}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass(\"in\")){var b=a.Event(\"hide.bs.collapse\");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass(\"collapsing\").removeClass(\"collapse in\").attr(\"aria-expanded\",!1),this.$trigger.addClass(\"collapsed\").attr(\"aria-expanded\",!1),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.removeClass(\"collapsing\").addClass(\"collapse\").trigger(\"hidden.bs.collapse\")};return a.support.transition?void this.$element[c](0).one(\"bsTransitionEnd\",a.proxy(e,this)).emulateTransitionEnd(d.TRANSITION_DURATION):e.call(this)}}},d.prototype.toggle=function(){this[this.$element.hasClass(\"in\")?\"hide\":\"show\"]()},d.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle=\"collapse\"][data-parent=\"'+this.options.parent+'\"]').each(a.proxy(function(c,d){var e=a(d);this.addAriaAndCollapsedClass(b(e),e)},this)).end()},d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass(\"in\");a.attr(\"aria-expanded\",c),b.toggleClass(\"collapsed\",!c).attr(\"aria-expanded\",c)};var e=a.fn.collapse;a.fn.collapse=c,a.fn.collapse.Constructor=d,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on(\"click.bs.collapse.data-api\",'[data-toggle=\"collapse\"]',function(d){var e=a(this);e.attr(\"data-target\")||d.preventDefault();var f=b(e),g=f.data(\"bs.collapse\"),h=g?\"toggle\":e.data();c.call(f,h)})}(jQuery),+function(a){\"use strict\";function b(b){var c=b.attr(\"data-target\");c||(c=b.attr(\"href\"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\\s]*$)/,\"\"));var d=c&&a(c);return d&&d.length?d:b.parent()}function c(c){c&&3===c.which||(a(e).remove(),a(f).each(function(){var d=a(this),e=b(d),f={relatedTarget:this};e.hasClass(\"open\")&&(c&&\"click\"==c.type&&/input|textarea/i.test(c.target.tagName)&&a.contains(e[0],c.target)||(e.trigger(c=a.Event(\"hide.bs.dropdown\",f)),c.isDefaultPrevented()||(d.attr(\"aria-expanded\",\"false\"),e.removeClass(\"open\").trigger(a.Event(\"hidden.bs.dropdown\",f)))))}))}function d(b){return this.each(function(){var c=a(this),d=c.data(\"bs.dropdown\");d||c.data(\"bs.dropdown\",d=new g(this)),\"string\"==typeof b&&d[b].call(c)})}var e=\".dropdown-backdrop\",f='[data-toggle=\"dropdown\"]',g=function(b){a(b).on(\"click.bs.dropdown\",this.toggle)};g.VERSION=\"3.3.6\",g.prototype.toggle=function(d){var e=a(this);if(!e.is(\".disabled, :disabled\")){var f=b(e),g=f.hasClass(\"open\");if(c(),!g){\"ontouchstart\"in document.documentElement&&!f.closest(\".navbar-nav\").length&&a(document.createElement(\"div\")).addClass(\"dropdown-backdrop\").insertAfter(a(this)).on(\"click\",c);var h={relatedTarget:this};if(f.trigger(d=a.Event(\"show.bs.dropdown\",h)),d.isDefaultPrevented())return;e.trigger(\"focus\").attr(\"aria-expanded\",\"true\"),f.toggleClass(\"open\").trigger(a.Event(\"shown.bs.dropdown\",h))}return!1}},g.prototype.keydown=function(c){if(/(38|40|27|32)/.test(c.which)&&!/input|textarea/i.test(c.target.tagName)){var d=a(this);if(c.preventDefault(),c.stopPropagation(),!d.is(\".disabled, :disabled\")){var e=b(d),g=e.hasClass(\"open\");if(!g&&27!=c.which||g&&27==c.which)return 27==c.which&&e.find(f).trigger(\"focus\"),d.trigger(\"click\");var h=\" li:not(.disabled):visible a\",i=e.find(\".dropdown-menu\"+h);if(i.length){var j=i.index(c.target);38==c.which&&j>0&&j--,40==c.which&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger(\"focus\")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on(\"click.bs.dropdown.data-api\",c).on(\"click.bs.dropdown.data-api\",\".dropdown form\",function(a){a.stopPropagation()}).on(\"click.bs.dropdown.data-api\",f,g.prototype.toggle).on(\"keydown.bs.dropdown.data-api\",f,g.prototype.keydown).on(\"keydown.bs.dropdown.data-api\",\".dropdown-menu\",g.prototype.keydown)}(jQuery),+function(a){\"use strict\";function b(b,d){return this.each(function(){var e=a(this),f=e.data(\"bs.modal\"),g=a.extend({},c.DEFAULTS,e.data(),\"object\"==typeof b&&b);f||e.data(\"bs.modal\",f=new c(this,g)),\"string\"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$dialog=this.$element.find(\".modal-dialog\"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(\".modal-content\").load(this.options.remote,a.proxy(function(){this.$element.trigger(\"loaded.bs.modal\")},this))};c.VERSION=\"3.3.6\",c.TRANSITION_DURATION=300,c.BACKDROP_TRANSITION_DURATION=150,c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var d=this,e=a.Event(\"show.bs.modal\",{relatedTarget:b});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass(\"modal-open\"),this.escape(),this.resize(),this.$element.on(\"click.dismiss.bs.modal\",'[data-dismiss=\"modal\"]',a.proxy(this.hide,this)),this.$dialog.on(\"mousedown.dismiss.bs.modal\",function(){d.$element.one(\"mouseup.dismiss.bs.modal\",function(b){a(b.target).is(d.$element)&&(d.ignoreBackdropClick=!0)})}),this.backdrop(function(){var e=a.support.transition&&d.$element.hasClass(\"fade\");d.$element.parent().length||d.$element.appendTo(d.$body),d.$element.show().scrollTop(0),d.adjustDialog(),e&&d.$element[0].offsetWidth,d.$element.addClass(\"in\"),d.enforceFocus();var f=a.Event(\"shown.bs.modal\",{relatedTarget:b});e?d.$dialog.one(\"bsTransitionEnd\",function(){d.$element.trigger(\"focus\").trigger(f)}).emulateTransitionEnd(c.TRANSITION_DURATION):d.$element.trigger(\"focus\").trigger(f)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event(\"hide.bs.modal\"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off(\"focusin.bs.modal\"),this.$element.removeClass(\"in\").off(\"click.dismiss.bs.modal\").off(\"mouseup.dismiss.bs.modal\"),this.$dialog.off(\"mousedown.dismiss.bs.modal\"),a.support.transition&&this.$element.hasClass(\"fade\")?this.$element.one(\"bsTransitionEnd\",a.proxy(this.hideModal,this)).emulateTransitionEnd(c.TRANSITION_DURATION):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off(\"focusin.bs.modal\").on(\"focusin.bs.modal\",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger(\"focus\")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on(\"keydown.dismiss.bs.modal\",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off(\"keydown.dismiss.bs.modal\")},c.prototype.resize=function(){this.isShown?a(window).on(\"resize.bs.modal\",a.proxy(this.handleUpdate,this)):a(window).off(\"resize.bs.modal\")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$body.removeClass(\"modal-open\"),a.resetAdjustments(),a.resetScrollbar(),a.$element.trigger(\"hidden.bs.modal\")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var d=this,e=this.$element.hasClass(\"fade\")?\"fade\":\"\";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&e;if(this.$backdrop=a(document.createElement(\"div\")).addClass(\"modal-backdrop \"+e).appendTo(this.$body),this.$element.on(\"click.dismiss.bs.modal\",a.proxy(function(a){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(a.target===a.currentTarget&&(\"static\"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass(\"in\"),!b)return;f?this.$backdrop.one(\"bsTransitionEnd\",b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass(\"in\");var g=function(){d.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass(\"fade\")?this.$backdrop.one(\"bsTransitionEnd\",g).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):g()}else b&&b()},c.prototype.handleUpdate=function(){this.adjustDialog()},c.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:\"\",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:\"\"})},c.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:\"\",paddingRight:\"\"})},c.prototype.checkScrollbar=function(){var a=window.innerWidth;if(!a){var b=document.documentElement.getBoundingClientRect();a=b.right-Math.abs(b.left)}this.bodyIsOverflowing=document.body.clientWidth<a,this.scrollbarWidth=this.measureScrollbar()},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css(\"padding-right\")||0,10);this.originalBodyPad=document.body.style.paddingRight||\"\",this.bodyIsOverflowing&&this.$body.css(\"padding-right\",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css(\"padding-right\",this.originalBodyPad)},c.prototype.measureScrollbar=function(){var a=document.createElement(\"div\");a.className=\"modal-scrollbar-measure\",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on(\"click.bs.modal.data-api\",'[data-toggle=\"modal\"]',function(c){var d=a(this),e=d.attr(\"href\"),f=a(d.attr(\"data-target\")||e&&e.replace(/.*(?=#[^\\s]+$)/,\"\")),g=f.data(\"bs.modal\")?\"toggle\":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is(\"a\")&&c.preventDefault(),f.one(\"show.bs.modal\",function(a){a.isDefaultPrevented()||f.one(\"hidden.bs.modal\",function(){d.is(\":visible\")&&d.trigger(\"focus\")})}),b.call(f,g,this)})}(jQuery),+function(a){\"use strict\";function b(b){return this.each(function(){var d=a(this),e=d.data(\"bs.tooltip\"),f=\"object\"==typeof b&&b;(e||!/destroy|hide/.test(b))&&(e||d.data(\"bs.tooltip\",e=new c(this,f)),\"string\"==typeof b&&e[b]())})}var c=function(a,b){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init(\"tooltip\",a,b)};c.VERSION=\"3.3.6\",c.TRANSITION_DURATION=150,c.DEFAULTS={animation:!0,placement:\"top\",selector:!1,template:'<div class=\"tooltip\" role=\"tooltip\"><div class=\"tooltip-arrow\"></div><div class=\"tooltip-inner\"></div></div>',trigger:\"hover focus\",title:\"\",delay:0,html:!1,container:!1,viewport:{selector:\"body\",padding:0}},c.prototype.init=function(b,c,d){if(this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(a.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error(\"`selector` option must be specified when initializing \"+this.type+\" on the window.document object!\");for(var e=this.options.trigger.split(\" \"),f=e.length;f--;){var g=e[f];if(\"click\"==g)this.$element.on(\"click.\"+this.type,this.options.selector,a.proxy(this.toggle,this));else if(\"manual\"!=g){var h=\"hover\"==g?\"mouseenter\":\"focusin\",i=\"hover\"==g?\"mouseleave\":\"focusout\";this.$element.on(h+\".\"+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+\".\"+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:\"manual\",selector:\"\"}):this.fixTitle()},c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&\"number\"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data(\"bs.\"+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data(\"bs.\"+this.type,c)),b instanceof a.Event&&(c.inState[\"focusin\"==b.type?\"focus\":\"hover\"]=!0),c.tip().hasClass(\"in\")||\"in\"==c.hoverState?void(c.hoverState=\"in\"):(clearTimeout(c.timeout),c.hoverState=\"in\",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){\"in\"==c.hoverState&&c.show()},c.options.delay.show)):c.show())},c.prototype.isInStateTrue=function(){for(var a in this.inState)if(this.inState[a])return!0;return!1},c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data(\"bs.\"+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data(\"bs.\"+this.type,c)),b instanceof a.Event&&(c.inState[\"focusout\"==b.type?\"focus\":\"hover\"]=!1),c.isInStateTrue()?void 0:(clearTimeout(c.timeout),c.hoverState=\"out\",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){\"out\"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide())},c.prototype.show=function(){var b=a.Event(\"show.bs.\"+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var d=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!d)return;var e=this,f=this.tip(),g=this.getUID(this.type);this.setContent(),f.attr(\"id\",g),this.$element.attr(\"aria-describedby\",g),this.options.animation&&f.addClass(\"fade\");var h=\"function\"==typeof this.options.placement?this.options.placement.call(this,f[0],this.$element[0]):this.options.placement,i=/\\s?auto?\\s?/i,j=i.test(h);j&&(h=h.replace(i,\"\")||\"top\"),f.detach().css({top:0,left:0,display:\"block\"}).addClass(h).data(\"bs.\"+this.type,this),this.options.container?f.appendTo(this.options.container):f.insertAfter(this.$element),this.$element.trigger(\"inserted.bs.\"+this.type);var k=this.getPosition(),l=f[0].offsetWidth,m=f[0].offsetHeight;if(j){var n=h,o=this.getPosition(this.$viewport);h=\"bottom\"==h&&k.bottom+m>o.bottom?\"top\":\"top\"==h&&k.top-m<o.top?\"bottom\":\"right\"==h&&k.right+l>o.width?\"left\":\"left\"==h&&k.left-l<o.left?\"right\":h,f.removeClass(n).addClass(h)}var p=this.getCalculatedOffset(h,k,l,m);this.applyPlacement(p,h);var q=function(){var a=e.hoverState;e.$element.trigger(\"shown.bs.\"+e.type),e.hoverState=null,\"out\"==a&&e.leave(e)};a.support.transition&&this.$tip.hasClass(\"fade\")?f.one(\"bsTransitionEnd\",q).emulateTransitionEnd(c.TRANSITION_DURATION):q()}},c.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css(\"margin-top\"),10),h=parseInt(d.css(\"margin-left\"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top+=g,b.left+=h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass(\"in\");var i=d[0].offsetWidth,j=d[0].offsetHeight;\"top\"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=/top|bottom/.test(c),m=l?2*k.left-e+i:2*k.top-f+j,n=l?\"offsetWidth\":\"offsetHeight\";d.offset(b),this.replaceArrow(m,d[0][n],l)},c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c?\"left\":\"top\",50*(1-a/b)+\"%\").css(c?\"top\":\"left\",\"\")},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(\".tooltip-inner\")[this.options.html?\"html\":\"text\"](b),a.removeClass(\"fade in top bottom left right\")},c.prototype.hide=function(b){function d(){\"in\"!=e.hoverState&&f.detach(),e.$element.removeAttr(\"aria-describedby\").trigger(\"hidden.bs.\"+e.type),b&&b()}var e=this,f=a(this.$tip),g=a.Event(\"hide.bs.\"+this.type);return this.$element.trigger(g),g.isDefaultPrevented()?void 0:(f.removeClass(\"in\"),a.support.transition&&f.hasClass(\"fade\")?f.one(\"bsTransitionEnd\",d).emulateTransitionEnd(c.TRANSITION_DURATION):d(),this.hoverState=null,this)},c.prototype.fixTitle=function(){var a=this.$element;(a.attr(\"title\")||\"string\"!=typeof a.attr(\"data-original-title\"))&&a.attr(\"data-original-title\",a.attr(\"title\")||\"\").attr(\"title\",\"\")},c.prototype.hasContent=function(){return this.getTitle()},c.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d=\"BODY\"==c.tagName,e=c.getBoundingClientRect();null==e.width&&(e=a.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var f=d?{top:0,left:0}:b.offset(),g={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},h=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,g,h,f)},c.prototype.getCalculatedOffset=function(a,b,c,d){return\"bottom\"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:\"top\"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:\"left\"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.right&&(e.left=g.left+g.width-k)}return e},c.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr(\"data-original-title\")||(\"function\"==typeof c.title?c.title.call(b[0]):c.title)},c.prototype.getUID=function(a){do a+=~~(1e6*Math.random());while(document.getElementById(a));return a},c.prototype.tip=function(){if(!this.$tip&&(this.$tip=a(this.options.template),1!=this.$tip.length))throw new Error(this.type+\" `template` option must consist of exactly 1 top-level element!\");return this.$tip},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(\".tooltip-arrow\")},c.prototype.enable=function(){this.enabled=!0},c.prototype.disable=function(){this.enabled=!1},c.prototype.toggleEnabled=function(){this.enabled=!this.enabled},c.prototype.toggle=function(b){var c=this;b&&(c=a(b.currentTarget).data(\"bs.\"+this.type),c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data(\"bs.\"+this.type,c))),b?(c.inState.click=!c.inState.click,c.isInStateTrue()?c.enter(c):c.leave(c)):c.tip().hasClass(\"in\")?c.leave(c):c.enter(c)},c.prototype.destroy=function(){var a=this;clearTimeout(this.timeout),this.hide(function(){a.$element.off(\".\"+a.type).removeData(\"bs.\"+a.type),a.$tip&&a.$tip.detach(),a.$tip=null,a.$arrow=null,a.$viewport=null})};var d=a.fn.tooltip;a.fn.tooltip=b,a.fn.tooltip.Constructor=c,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),+function(a){\"use strict\";function b(b){return this.each(function(){var d=a(this),e=d.data(\"bs.popover\"),f=\"object\"==typeof b&&b;(e||!/destroy|hide/.test(b))&&(e||d.data(\"bs.popover\",e=new c(this,f)),\"string\"==typeof b&&e[b]())})}var c=function(a,b){this.init(\"popover\",a,b)};if(!a.fn.tooltip)throw new Error(\"Popover requires tooltip.js\");c.VERSION=\"3.3.6\",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:\"right\",trigger:\"click\",content:\"\",template:'<div class=\"popover\" role=\"tooltip\"><div class=\"arrow\"></div><h3 class=\"popover-title\"></h3><div class=\"popover-content\"></div></div>'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(\".popover-title\")[this.options.html?\"html\":\"text\"](b),a.find(\".popover-content\").children().detach().end()[this.options.html?\"string\"==typeof c?\"html\":\"append\":\"text\"](c),a.removeClass(\"fade top bottom left right in\"),a.find(\".popover-title\").html()||a.find(\".popover-title\").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr(\"data-content\")||(\"function\"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(\".arrow\")};var d=a.fn.popover;a.fn.popover=b,a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),+function(a){\"use strict\";function b(c,d){this.$body=a(document.body),this.$scrollElement=a(a(c).is(document.body)?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||\"\")+\" .nav li > a\",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on(\"scroll.bs.scrollspy\",a.proxy(this.process,this)),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data(\"bs.scrollspy\"),f=\"object\"==typeof c&&c;e||d.data(\"bs.scrollspy\",e=new b(this,f)),\"string\"==typeof c&&e[c]()})}b.VERSION=\"3.3.6\",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b=this,c=\"offset\",d=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),a.isWindow(this.$scrollElement[0])||(c=\"position\",d=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var b=a(this),e=b.data(\"target\")||b.attr(\"href\"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(\":visible\")&&[[f[c]().top+d,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]),b.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<e[0])return this.activeTarget=null,this.clear();for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(void 0===e[a+1]||b<e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,this.clear();var c=this.selector+'[data-target=\"'+b+'\"],'+this.selector+'[href=\"'+b+'\"]',d=a(c).parents(\"li\").addClass(\"active\");\r\nd.parent(\".dropdown-menu\").length&&(d=d.closest(\"li.dropdown\").addClass(\"active\")),d.trigger(\"activate.bs.scrollspy\")},b.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,\".active\").removeClass(\"active\")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on(\"load.bs.scrollspy.data-api\",function(){a('[data-spy=\"scroll\"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),+function(a){\"use strict\";function b(b){return this.each(function(){var d=a(this),e=d.data(\"bs.tab\");e||d.data(\"bs.tab\",e=new c(this)),\"string\"==typeof b&&e[b]()})}var c=function(b){this.element=a(b)};c.VERSION=\"3.3.6\",c.TRANSITION_DURATION=150,c.prototype.show=function(){var b=this.element,c=b.closest(\"ul:not(.dropdown-menu)\"),d=b.data(\"target\");if(d||(d=b.attr(\"href\"),d=d&&d.replace(/.*(?=#[^\\s]*$)/,\"\")),!b.parent(\"li\").hasClass(\"active\")){var e=c.find(\".active:last a\"),f=a.Event(\"hide.bs.tab\",{relatedTarget:b[0]}),g=a.Event(\"show.bs.tab\",{relatedTarget:e[0]});if(e.trigger(f),b.trigger(g),!g.isDefaultPrevented()&&!f.isDefaultPrevented()){var h=a(d);this.activate(b.closest(\"li\"),c),this.activate(h,h.parent(),function(){e.trigger({type:\"hidden.bs.tab\",relatedTarget:b[0]}),b.trigger({type:\"shown.bs.tab\",relatedTarget:e[0]})})}}},c.prototype.activate=function(b,d,e){function f(){g.removeClass(\"active\").find(\"> .dropdown-menu > .active\").removeClass(\"active\").end().find('[data-toggle=\"tab\"]').attr(\"aria-expanded\",!1),b.addClass(\"active\").find('[data-toggle=\"tab\"]').attr(\"aria-expanded\",!0),h?(b[0].offsetWidth,b.addClass(\"in\")):b.removeClass(\"fade\"),b.parent(\".dropdown-menu\").length&&b.closest(\"li.dropdown\").addClass(\"active\").end().find('[data-toggle=\"tab\"]').attr(\"aria-expanded\",!0),e&&e()}var g=d.find(\"> .active\"),h=e&&a.support.transition&&(g.length&&g.hasClass(\"fade\")||!!d.find(\"> .fade\").length);g.length&&h?g.one(\"bsTransitionEnd\",f).emulateTransitionEnd(c.TRANSITION_DURATION):f(),g.removeClass(\"in\")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this};var e=function(c){c.preventDefault(),b.call(a(this),\"show\")};a(document).on(\"click.bs.tab.data-api\",'[data-toggle=\"tab\"]',e).on(\"click.bs.tab.data-api\",'[data-toggle=\"pill\"]',e)}(jQuery),+function(a){\"use strict\";function b(b){return this.each(function(){var d=a(this),e=d.data(\"bs.affix\"),f=\"object\"==typeof b&&b;e||d.data(\"bs.affix\",e=new c(this,f)),\"string\"==typeof b&&e[b]()})}var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$target=a(this.options.target).on(\"scroll.bs.affix.data-api\",a.proxy(this.checkPosition,this)).on(\"click.bs.affix.data-api\",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};c.VERSION=\"3.3.6\",c.RESET=\"affix affix-top affix-bottom\",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(a,b,c,d){var e=this.$target.scrollTop(),f=this.$element.offset(),g=this.$target.height();if(null!=c&&\"top\"==this.affixed)return c>e?\"top\":!1;if(\"bottom\"==this.affixed)return null!=c?e+this.unpin<=f.top?!1:\"bottom\":a-d>=e+g?!1:\"bottom\";var h=null==this.affixed,i=h?e:f.top,j=h?g:b;return null!=c&&c>=e?\"top\":null!=d&&i+j>=a-d?\"bottom\":!1},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass(\"affix\");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(\":visible\")){var b=this.$element.height(),d=this.options.offset,e=d.top,f=d.bottom,g=Math.max(a(document).height(),a(document.body).height());\"object\"!=typeof d&&(f=e=d),\"function\"==typeof e&&(e=d.top(this.$element)),\"function\"==typeof f&&(f=d.bottom(this.$element));var h=this.getState(g,b,e,f);if(this.affixed!=h){null!=this.unpin&&this.$element.css(\"top\",\"\");var i=\"affix\"+(h?\"-\"+h:\"\"),j=a.Event(i+\".bs.affix\");if(this.$element.trigger(j),j.isDefaultPrevented())return;this.affixed=h,this.unpin=\"bottom\"==h?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(i).trigger(i.replace(\"affix\",\"affixed\")+\".bs.affix\")}\"bottom\"==h&&this.$element.offset({top:g-b-f})}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on(\"load\",function(){a('[data-spy=\"affix\"]').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},null!=d.offsetBottom&&(d.offset.bottom=d.offsetBottom),null!=d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d)})})}(jQuery);\r\n/*!\r\n * hoverIntent r7 // 2013.03.11 // jQuery 1.9.1+\r\n * http://cherne.net/brian/resources/jquery.hoverIntent.html\r\n *\r\n * You may use hoverIntent under the terms of the MIT license.\r\n * Copyright 2007, 2013 Brian Cherne\r\n */\r\n(function(e){e.fn.hoverIntent=function(t,n,r){var i={interval:100,sensitivity:7,timeout:0};if(typeof t===\"object\"){i=e.extend(i,t)}else if(e.isFunction(n)){i=e.extend(i,{over:t,out:n,selector:r})}else{i=e.extend(i,{over:t,out:t,selector:n})}var s,o,u,a;var f=function(e){s=e.pageX;o=e.pageY};var l=function(t,n){n.hoverIntent_t=clearTimeout(n.hoverIntent_t);if(Math.abs(u-s)+Math.abs(a-o)<i.sensitivity){e(n).off(\"mousemove.hoverIntent\",f);n.hoverIntent_s=1;return i.over.apply(n,[t])}else{u=s;a=o;n.hoverIntent_t=setTimeout(function(){l(t,n)},i.interval)}};var c=function(e,t){t.hoverIntent_t=clearTimeout(t.hoverIntent_t);t.hoverIntent_s=0;return i.out.apply(t,[e])};var h=function(t){var n=jQuery.extend({},t);var r=this;if(r.hoverIntent_t){r.hoverIntent_t=clearTimeout(r.hoverIntent_t)}if(t.type==\"mouseenter\"){u=n.pageX;a=n.pageY;e(r).on(\"mousemove.hoverIntent\",f);if(r.hoverIntent_s!=1){r.hoverIntent_t=setTimeout(function(){l(n,r)},i.interval)}}else{e(r).off(\"mousemove.hoverIntent\",f);if(r.hoverIntent_s==1){r.hoverIntent_t=setTimeout(function(){c(n,r)},i.timeout)}}};return this.on({\"mouseenter.hoverIntent\":h,\"mouseleave.hoverIntent\":h},i.selector)}})(jQuery)\r\n!function(a){a.jGrowl=function(b,c){0===a(\"#jGrowl\").length&&a('<div id=\"jGrowl\"></div>').addClass(c&&c.position?c.position:a.jGrowl.defaults.position).appendTo(c&&c.appendTo?c.appendTo:a.jGrowl.defaults.appendTo),a(\"#jGrowl\").jGrowl(b,c)},a.fn.jGrowl=function(b,c){if(void 0===c&&a.isPlainObject(b)&&(c=b,b=c.message),a.isFunction(this.each)){var d=arguments;return this.each(function(){void 0===a(this).data(\"jGrowl.instance\")&&(a(this).data(\"jGrowl.instance\",a.extend(new a.fn.jGrowl,{notifications:[],element:null,interval:null})),a(this).data(\"jGrowl.instance\").startup(this)),a.isFunction(a(this).data(\"jGrowl.instance\")[b])?a(this).data(\"jGrowl.instance\")[b].apply(a(this).data(\"jGrowl.instance\"),a.makeArray(d).slice(1)):a(this).data(\"jGrowl.instance\").create(b,c)})}},a.extend(a.fn.jGrowl.prototype,{defaults:{pool:0,header:\"\",group:\"\",sticky:!1,position:\"top-right\",appendTo:\"body\",glue:\"after\",theme:\"default\",themeState:\"highlight\",corners:\"10px\",check:250,life:3e3,closeDuration:\"normal\",openDuration:\"normal\",easing:\"swing\",closer:!0,closeTemplate:\"&times;\",closerTemplate:\"<div>[ close all ]</div>\",log:function(){},beforeOpen:function(){},afterOpen:function(){},open:function(){},beforeClose:function(){},close:function(){},click:function(){},animateOpen:{opacity:\"show\"},animateClose:{opacity:\"hide\"}},notifications:[],element:null,interval:null,create:function(b,c){var d=a.extend({},this.defaults,c);\"undefined\"!=typeof d.speed&&(d.openDuration=d.speed,d.closeDuration=d.speed),this.notifications.push({message:b,options:d}),d.log.apply(this.element,[this.element,b,d])},render:function(b){var c=this,d=b.message,e=b.options;e.themeState=\"\"===e.themeState?\"\":\"ui-state-\"+e.themeState;var f=a(\"<div/>\").addClass(\"jGrowl-notification alert \"+e.themeState+\" ui-corner-all\"+(void 0!==e.group&&\"\"!==e.group?\" \"+e.group:\"\")).append(a(\"<button/>\").addClass(\"jGrowl-close\").html(e.closeTemplate)).append(a(\"<div/>\").addClass(\"jGrowl-header\").html(e.header)).append(a(\"<div/>\").addClass(\"jGrowl-message\").html(d)).data(\"jGrowl\",e).addClass(e.theme).children(\".jGrowl-close\").bind(\"click.jGrowl\",function(){return a(this).parent().trigger(\"jGrowl.beforeClose\"),!1}).parent();a(f).bind(\"mouseover.jGrowl\",function(){a(\".jGrowl-notification\",c.element).data(\"jGrowl.pause\",!0)}).bind(\"mouseout.jGrowl\",function(){a(\".jGrowl-notification\",c.element).data(\"jGrowl.pause\",!1)}).bind(\"jGrowl.beforeOpen\",function(){e.beforeOpen.apply(f,[f,d,e,c.element])!==!1&&a(this).trigger(\"jGrowl.open\")}).bind(\"jGrowl.open\",function(){e.open.apply(f,[f,d,e,c.element])!==!1&&(\"after\"==e.glue?a(\".jGrowl-notification:last\",c.element).after(f):a(\".jGrowl-notification:first\",c.element).before(f),a(this).animate(e.animateOpen,e.openDuration,e.easing,function(){a.support.opacity===!1&&this.style.removeAttribute(\"filter\"),null!==a(this).data(\"jGrowl\")&&\"undefined\"!=typeof a(this).data(\"jGrowl\")&&(a(this).data(\"jGrowl\").created=new Date),a(this).trigger(\"jGrowl.afterOpen\")}))}).bind(\"jGrowl.afterOpen\",function(){e.afterOpen.apply(f,[f,d,e,c.element])}).bind(\"click\",function(){e.click.apply(f,[f,d,e,c.element])}).bind(\"jGrowl.beforeClose\",function(){e.beforeClose.apply(f,[f,d,e,c.element])!==!1&&a(this).trigger(\"jGrowl.close\")}).bind(\"jGrowl.close\",function(){a(this).data(\"jGrowl.pause\",!0),a(this).animate(e.animateClose,e.closeDuration,e.easing,function(){a.isFunction(e.close)?e.close.apply(f,[f,d,e,c.element])!==!1&&a(this).remove():a(this).remove()})}).trigger(\"jGrowl.beforeOpen\"),\"\"!==e.corners&&void 0!==a.fn.corner&&a(f).corner(e.corners),a(\".jGrowl-notification:parent\",c.element).length>1&&0===a(\".jGrowl-closer\",c.element).length&&this.defaults.closer!==!1&&a(this.defaults.closerTemplate).addClass(\"jGrowl-closer \"+this.defaults.themeState+\" ui-corner-all\").addClass(this.defaults.theme).appendTo(c.element).animate(this.defaults.animateOpen,this.defaults.speed,this.defaults.easing).bind(\"click.jGrowl\",function(){a(this).siblings().trigger(\"jGrowl.beforeClose\"),a.isFunction(c.defaults.closer)&&c.defaults.closer.apply(a(this).parent()[0],[a(this).parent()[0]])})},update:function(){a(this.element).find(\".jGrowl-notification:parent\").each(function(){void 0!==a(this).data(\"jGrowl\")&&void 0!==a(this).data(\"jGrowl\").created&&a(this).data(\"jGrowl\").created.getTime()+parseInt(a(this).data(\"jGrowl\").life,10)<(new Date).getTime()&&a(this).data(\"jGrowl\").sticky!==!0&&(void 0===a(this).data(\"jGrowl.pause\")||a(this).data(\"jGrowl.pause\")!==!0)&&a(this).trigger(\"jGrowl.beforeClose\")}),this.notifications.length>0&&(0===this.defaults.pool||a(this.element).find(\".jGrowl-notification:parent\").length<this.defaults.pool)&&this.render(this.notifications.shift()),a(this.element).find(\".jGrowl-notification:parent\").length<2&&a(this.element).find(\".jGrowl-closer\").animate(this.defaults.animateClose,this.defaults.speed,this.defaults.easing,function(){a(this).remove()})},startup:function(b){this.element=a(b).addClass(\"jGrowl\").append('<div class=\"jGrowl-notification\"></div>'),this.interval=setInterval(function(){var c=a(b).data(\"jGrowl.instance\");void 0!==c&&c.update()},parseInt(this.defaults.check,10))},shutdown:function(){a(this.element).removeClass(\"jGrowl\").find(\".jGrowl-notification\").trigger(\"jGrowl.close\").parent().empty(),clearInterval(this.interval)},close:function(){a(this.element).find(\".jGrowl-notification\").each(function(){a(this).trigger(\"jGrowl.beforeClose\")})}}),a.jGrowl.defaults=a.fn.jGrowl.prototype.defaults}(jQuery);\r\n/* == jquery mousewheel plugin == Version: 3.1.13, License: MIT License (MIT) */\r\n!function(a){\"function\"==typeof define&&define.amd?define([\"jquery\"],a):\"object\"==typeof exports?module.exports=a:a(jQuery)}(function(a){function b(b){var g=b||window.event,h=i.call(arguments,1),j=0,l=0,m=0,n=0,o=0,p=0;if(b=a.event.fix(g),b.type=\"mousewheel\",\"detail\"in g&&(m=-1*g.detail),\"wheelDelta\"in g&&(m=g.wheelDelta),\"wheelDeltaY\"in g&&(m=g.wheelDeltaY),\"wheelDeltaX\"in g&&(l=-1*g.wheelDeltaX),\"axis\"in g&&g.axis===g.HORIZONTAL_AXIS&&(l=-1*m,m=0),j=0===m?l:m,\"deltaY\"in g&&(m=-1*g.deltaY,j=m),\"deltaX\"in g&&(l=g.deltaX,0===m&&(j=-1*l)),0!==m||0!==l){if(1===g.deltaMode){var q=a.data(this,\"mousewheel-line-height\");j*=q,m*=q,l*=q}else if(2===g.deltaMode){var r=a.data(this,\"mousewheel-page-height\");j*=r,m*=r,l*=r}if(n=Math.max(Math.abs(m),Math.abs(l)),(!f||f>n)&&(f=n,d(g,n)&&(f/=40)),d(g,n)&&(j/=40,l/=40,m/=40),j=Math[j>=1?\"floor\":\"ceil\"](j/f),l=Math[l>=1?\"floor\":\"ceil\"](l/f),m=Math[m>=1?\"floor\":\"ceil\"](m/f),k.settings.normalizeOffset&&this.getBoundingClientRect){var s=this.getBoundingClientRect();o=b.clientX-s.left,p=b.clientY-s.top}return b.deltaX=l,b.deltaY=m,b.deltaFactor=f,b.offsetX=o,b.offsetY=p,b.deltaMode=0,h.unshift(b,j,l,m),e&&clearTimeout(e),e=setTimeout(c,200),(a.event.dispatch||a.event.handle).apply(this,h)}}function c(){f=null}function d(a,b){return k.settings.adjustOldDeltas&&\"mousewheel\"===a.type&&b%120===0}var e,f,g=[\"wheel\",\"mousewheel\",\"DOMMouseScroll\",\"MozMousePixelScroll\"],h=\"onwheel\"in document||document.documentMode>=9?[\"wheel\"]:[\"mousewheel\",\"DomMouseScroll\",\"MozMousePixelScroll\"],i=Array.prototype.slice;if(a.event.fixHooks)for(var j=g.length;j;)a.event.fixHooks[g[--j]]=a.event.mouseHooks;var k=a.event.special.mousewheel={version:\"3.1.12\",setup:function(){if(this.addEventListener)for(var c=h.length;c;)this.addEventListener(h[--c],b,!1);else this.onmousewheel=b;a.data(this,\"mousewheel-line-height\",k.getLineHeight(this)),a.data(this,\"mousewheel-page-height\",k.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var c=h.length;c;)this.removeEventListener(h[--c],b,!1);else this.onmousewheel=null;a.removeData(this,\"mousewheel-line-height\"),a.removeData(this,\"mousewheel-page-height\")},getLineHeight:function(b){var c=a(b),d=c[\"offsetParent\"in a.fn?\"offsetParent\":\"parent\"]();return d.length||(d=a(\"body\")),parseInt(d.css(\"fontSize\"),10)||parseInt(c.css(\"fontSize\"),10)||16},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind(\"mousewheel\",a):this.trigger(\"mousewheel\")},unmousewheel:function(a){return this.unbind(\"mousewheel\",a)}})});!function(a){\"function\"==typeof define&&define.amd?define([\"jquery\"],a):\"object\"==typeof exports?module.exports=a:a(jQuery)}(function(a){function b(b){var g=b||window.event,h=i.call(arguments,1),j=0,l=0,m=0,n=0,o=0,p=0;if(b=a.event.fix(g),b.type=\"mousewheel\",\"detail\"in g&&(m=-1*g.detail),\"wheelDelta\"in g&&(m=g.wheelDelta),\"wheelDeltaY\"in g&&(m=g.wheelDeltaY),\"wheelDeltaX\"in g&&(l=-1*g.wheelDeltaX),\"axis\"in g&&g.axis===g.HORIZONTAL_AXIS&&(l=-1*m,m=0),j=0===m?l:m,\"deltaY\"in g&&(m=-1*g.deltaY,j=m),\"deltaX\"in g&&(l=g.deltaX,0===m&&(j=-1*l)),0!==m||0!==l){if(1===g.deltaMode){var q=a.data(this,\"mousewheel-line-height\");j*=q,m*=q,l*=q}else if(2===g.deltaMode){var r=a.data(this,\"mousewheel-page-height\");j*=r,m*=r,l*=r}if(n=Math.max(Math.abs(m),Math.abs(l)),(!f||f>n)&&(f=n,d(g,n)&&(f/=40)),d(g,n)&&(j/=40,l/=40,m/=40),j=Math[j>=1?\"floor\":\"ceil\"](j/f),l=Math[l>=1?\"floor\":\"ceil\"](l/f),m=Math[m>=1?\"floor\":\"ceil\"](m/f),k.settings.normalizeOffset&&this.getBoundingClientRect){var s=this.getBoundingClientRect();o=b.clientX-s.left,p=b.clientY-s.top}return b.deltaX=l,b.deltaY=m,b.deltaFactor=f,b.offsetX=o,b.offsetY=p,b.deltaMode=0,h.unshift(b,j,l,m),e&&clearTimeout(e),e=setTimeout(c,200),(a.event.dispatch||a.event.handle).apply(this,h)}}function c(){f=null}function d(a,b){return k.settings.adjustOldDeltas&&\"mousewheel\"===a.type&&b%120===0}var e,f,g=[\"wheel\",\"mousewheel\",\"DOMMouseScroll\",\"MozMousePixelScroll\"],h=\"onwheel\"in document||document.documentMode>=9?[\"wheel\"]:[\"mousewheel\",\"DomMouseScroll\",\"MozMousePixelScroll\"],i=Array.prototype.slice;if(a.event.fixHooks)for(var j=g.length;j;)a.event.fixHooks[g[--j]]=a.event.mouseHooks;var k=a.event.special.mousewheel={version:\"3.1.12\",setup:function(){if(this.addEventListener)for(var c=h.length;c;)this.addEventListener(h[--c],b,!1);else this.onmousewheel=b;a.data(this,\"mousewheel-line-height\",k.getLineHeight(this)),a.data(this,\"mousewheel-page-height\",k.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var c=h.length;c;)this.removeEventListener(h[--c],b,!1);else this.onmousewheel=null;a.removeData(this,\"mousewheel-line-height\"),a.removeData(this,\"mousewheel-page-height\")},getLineHeight:function(b){var c=a(b),d=c[\"offsetParent\"in a.fn?\"offsetParent\":\"parent\"]();return d.length||(d=a(\"body\")),parseInt(d.css(\"fontSize\"),10)||parseInt(c.css(\"fontSize\"),10)||16},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind(\"mousewheel\",a):this.trigger(\"mousewheel\")},unmousewheel:function(a){return this.unbind(\"mousewheel\",a)}})});\r\n/* == malihu jquery custom scrollbar plugin == Version: 3.1.5, License: MIT License (MIT) */\r\n!function(e){\"function\"==typeof define&&define.amd?define([\"jquery\"],e):\"undefined\"!=typeof module&&module.exports?module.exports=e:e(jQuery,window,document)}(function(e){!function(t){var o=\"function\"==typeof define&&define.amd,a=\"undefined\"!=typeof module&&module.exports,n=\"https:\"==document.location.protocol?\"https:\":\"http:\",i=\"cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js\";o||(a?require(\"jquery-mousewheel\")(e):e.event.special.mousewheel||e(\"head\").append(decodeURI(\"%3Cscript src=\"+n+\"//\"+i+\"%3E%3C/script%3E\"))),t()}(function(){var t,o=\"mCustomScrollbar\",a=\"mCS\",n=\".mCustomScrollbar\",i={setTop:0,setLeft:0,axis:\"y\",scrollbarPosition:\"inside\",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:\"auto\",axis:\"y\",deltaFactor:\"auto\",disableOver:[\"select\",\"option\",\"keygen\",\"datalist\",\"textarea\"]},scrollButtons:{scrollType:\"stepless\",scrollAmount:\"auto\"},keyboard:{enable:!0,scrollType:\"stepless\",scrollAmount:\"auto\"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:\"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']\",updateOnContentResize:!0,updateOnImageLoad:\"auto\",autoUpdateTimeout:60},theme:\"light\",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},r=0,l={},s=window.attachEvent&&!window.addEventListener?1:0,c=!1,d=[\"mCSB_dragger_onDrag\",\"mCSB_scrollTools_onDrag\",\"mCS_img_loaded\",\"mCS_disabled\",\"mCS_destroyed\",\"mCS_no_scrollbar\",\"mCS-autoHide\",\"mCS-dir-rtl\",\"mCS_no_scrollbar_y\",\"mCS_no_scrollbar_x\",\"mCS_y_hidden\",\"mCS_x_hidden\",\"mCSB_draggerContainer\",\"mCSB_buttonUp\",\"mCSB_buttonDown\",\"mCSB_buttonLeft\",\"mCSB_buttonRight\"],u={init:function(t){var t=e.extend(!0,{},i,t),o=f.call(this);if(t.live){var s=t.liveSelector||this.selector||n,c=e(s);if(\"off\"===t.live)return void m(s);l[s]=setTimeout(function(){c.mCustomScrollbar(t),\"once\"===t.live&&c.length&&m(s)},500)}else m(s);return t.setWidth=t.set_width?t.set_width:t.setWidth,t.setHeight=t.set_height?t.set_height:t.setHeight,t.axis=t.horizontalScroll?\"x\":p(t.axis),t.scrollInertia=t.scrollInertia>0&&t.scrollInertia<17?17:t.scrollInertia,\"object\"!=typeof t.mouseWheel&&1==t.mouseWheel&&(t.mouseWheel={enable:!0,scrollAmount:\"auto\",axis:\"y\",preventDefault:!1,deltaFactor:\"auto\",normalizeDelta:!1,invert:!1}),t.mouseWheel.scrollAmount=t.mouseWheelPixels?t.mouseWheelPixels:t.mouseWheel.scrollAmount,t.mouseWheel.normalizeDelta=t.advanced.normalizeMouseWheelDelta?t.advanced.normalizeMouseWheelDelta:t.mouseWheel.normalizeDelta,t.scrollButtons.scrollType=g(t.scrollButtons.scrollType),h(t),e(o).each(function(){var o=e(this);if(!o.data(a)){o.data(a,{idx:++r,opt:t,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:o.css(\"direction\"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var n=o.data(a),i=n.opt,l=o.data(\"mcs-axis\"),s=o.data(\"mcs-scrollbar-position\"),c=o.data(\"mcs-theme\");l&&(i.axis=l),s&&(i.scrollbarPosition=s),c&&(i.theme=c,h(i)),v.call(this),n&&i.callbacks.onCreate&&\"function\"==typeof i.callbacks.onCreate&&i.callbacks.onCreate.call(this),e(\"#mCSB_\"+n.idx+\"_container img:not(.\"+d[2]+\")\").addClass(d[2]),u.update.call(null,o)}})},update:function(t,o){var n=t||f.call(this);return e(n).each(function(){var t=e(this);if(t.data(a)){var n=t.data(a),i=n.opt,r=e(\"#mCSB_\"+n.idx+\"_container\"),l=e(\"#mCSB_\"+n.idx),s=[e(\"#mCSB_\"+n.idx+\"_dragger_vertical\"),e(\"#mCSB_\"+n.idx+\"_dragger_horizontal\")];if(!r.length)return;n.tweenRunning&&Q(t),o&&n&&i.callbacks.onBeforeUpdate&&\"function\"==typeof i.callbacks.onBeforeUpdate&&i.callbacks.onBeforeUpdate.call(this),t.hasClass(d[3])&&t.removeClass(d[3]),t.hasClass(d[4])&&t.removeClass(d[4]),l.css(\"max-height\",\"none\"),l.height()!==t.height()&&l.css(\"max-height\",t.height()),_.call(this),\"y\"===i.axis||i.advanced.autoExpandHorizontalScroll||r.css(\"width\",x(r)),n.overflowed=y.call(this),M.call(this),i.autoDraggerLength&&S.call(this),b.call(this),T.call(this);var c=[Math.abs(r[0].offsetTop),Math.abs(r[0].offsetLeft)];\"x\"!==i.axis&&(n.overflowed[0]?s[0].height()>s[0].parent().height()?B.call(this):(G(t,c[0].toString(),{dir:\"y\",dur:0,overwrite:\"none\"}),n.contentReset.y=null):(B.call(this),\"y\"===i.axis?k.call(this):\"yx\"===i.axis&&n.overflowed[1]&&G(t,c[1].toString(),{dir:\"x\",dur:0,overwrite:\"none\"}))),\"y\"!==i.axis&&(n.overflowed[1]?s[1].width()>s[1].parent().width()?B.call(this):(G(t,c[1].toString(),{dir:\"x\",dur:0,overwrite:\"none\"}),n.contentReset.x=null):(B.call(this),\"x\"===i.axis?k.call(this):\"yx\"===i.axis&&n.overflowed[0]&&G(t,c[0].toString(),{dir:\"y\",dur:0,overwrite:\"none\"}))),o&&n&&(2===o&&i.callbacks.onImageLoad&&\"function\"==typeof i.callbacks.onImageLoad?i.callbacks.onImageLoad.call(this):3===o&&i.callbacks.onSelectorChange&&\"function\"==typeof i.callbacks.onSelectorChange?i.callbacks.onSelectorChange.call(this):i.callbacks.onUpdate&&\"function\"==typeof i.callbacks.onUpdate&&i.callbacks.onUpdate.call(this)),N.call(this)}})},scrollTo:function(t,o){if(\"undefined\"!=typeof t&&null!=t){var n=f.call(this);return e(n).each(function(){var n=e(this);if(n.data(a)){var i=n.data(a),r=i.opt,l={trigger:\"external\",scrollInertia:r.scrollInertia,scrollEasing:\"mcsEaseInOut\",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},s=e.extend(!0,{},l,o),c=Y.call(this,t),d=s.scrollInertia>0&&s.scrollInertia<17?17:s.scrollInertia;c[0]=X.call(this,c[0],\"y\"),c[1]=X.call(this,c[1],\"x\"),s.moveDragger&&(c[0]*=i.scrollRatio.y,c[1]*=i.scrollRatio.x),s.dur=ne()?0:d,setTimeout(function(){null!==c[0]&&\"undefined\"!=typeof c[0]&&\"x\"!==r.axis&&i.overflowed[0]&&(s.dir=\"y\",s.overwrite=\"all\",G(n,c[0].toString(),s)),null!==c[1]&&\"undefined\"!=typeof c[1]&&\"y\"!==r.axis&&i.overflowed[1]&&(s.dir=\"x\",s.overwrite=\"none\",G(n,c[1].toString(),s))},s.timeout)}})}},stop:function(){var t=f.call(this);return e(t).each(function(){var t=e(this);t.data(a)&&Q(t)})},disable:function(t){var o=f.call(this);return e(o).each(function(){var o=e(this);if(o.data(a)){o.data(a);N.call(this,\"remove\"),k.call(this),t&&B.call(this),M.call(this,!0),o.addClass(d[3])}})},destroy:function(){var t=f.call(this);return e(t).each(function(){var n=e(this);if(n.data(a)){var i=n.data(a),r=i.opt,l=e(\"#mCSB_\"+i.idx),s=e(\"#mCSB_\"+i.idx+\"_container\"),c=e(\".mCSB_\"+i.idx+\"_scrollbar\");r.live&&m(r.liveSelector||e(t).selector),N.call(this,\"remove\"),k.call(this),B.call(this),n.removeData(a),$(this,\"mcs\"),c.remove(),s.find(\"img.\"+d[2]).removeClass(d[2]),l.replaceWith(s.contents()),n.removeClass(o+\" _\"+a+\"_\"+i.idx+\" \"+d[6]+\" \"+d[7]+\" \"+d[5]+\" \"+d[3]).addClass(d[4])}})}},f=function(){return\"object\"!=typeof e(this)||e(this).length<1?n:this},h=function(t){var o=[\"rounded\",\"rounded-dark\",\"rounded-dots\",\"rounded-dots-dark\"],a=[\"rounded-dots\",\"rounded-dots-dark\",\"3d\",\"3d-dark\",\"3d-thick\",\"3d-thick-dark\",\"inset\",\"inset-dark\",\"inset-2\",\"inset-2-dark\",\"inset-3\",\"inset-3-dark\"],n=[\"minimal\",\"minimal-dark\"],i=[\"minimal\",\"minimal-dark\"],r=[\"minimal\",\"minimal-dark\"];t.autoDraggerLength=e.inArray(t.theme,o)>-1?!1:t.autoDraggerLength,t.autoExpandScrollbar=e.inArray(t.theme,a)>-1?!1:t.autoExpandScrollbar,t.scrollButtons.enable=e.inArray(t.theme,n)>-1?!1:t.scrollButtons.enable,t.autoHideScrollbar=e.inArray(t.theme,i)>-1?!0:t.autoHideScrollbar,t.scrollbarPosition=e.inArray(t.theme,r)>-1?\"outside\":t.scrollbarPosition},m=function(e){l[e]&&(clearTimeout(l[e]),$(l,e))},p=function(e){return\"yx\"===e||\"xy\"===e||\"auto\"===e?\"yx\":\"x\"===e||\"horizontal\"===e?\"x\":\"y\"},g=function(e){return\"stepped\"===e||\"pixels\"===e||\"step\"===e||\"click\"===e?\"stepped\":\"stepless\"},v=function(){var t=e(this),n=t.data(a),i=n.opt,r=i.autoExpandScrollbar?\" \"+d[1]+\"_expand\":\"\",l=[\"<div id='mCSB_\"+n.idx+\"_scrollbar_vertical' class='mCSB_scrollTools mCSB_\"+n.idx+\"_scrollbar mCS-\"+i.theme+\" mCSB_scrollTools_vertical\"+r+\"'><div class='\"+d[12]+\"'><div id='mCSB_\"+n.idx+\"_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>\",\"<div id='mCSB_\"+n.idx+\"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_\"+n.idx+\"_scrollbar mCS-\"+i.theme+\" mCSB_scrollTools_horizontal\"+r+\"'><div class='\"+d[12]+\"'><div id='mCSB_\"+n.idx+\"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>\"],s=\"yx\"===i.axis?\"mCSB_vertical_horizontal\":\"x\"===i.axis?\"mCSB_horizontal\":\"mCSB_vertical\",c=\"yx\"===i.axis?l[0]+l[1]:\"x\"===i.axis?l[1]:l[0],u=\"yx\"===i.axis?\"<div id='mCSB_\"+n.idx+\"_container_wrapper' class='mCSB_container_wrapper' />\":\"\",f=i.autoHideScrollbar?\" \"+d[6]:\"\",h=\"x\"!==i.axis&&\"rtl\"===n.langDir?\" \"+d[7]:\"\";i.setWidth&&t.css(\"width\",i.setWidth),i.setHeight&&t.css(\"height\",i.setHeight),i.setLeft=\"y\"!==i.axis&&\"rtl\"===n.langDir?\"989999px\":i.setLeft,t.addClass(o+\" _\"+a+\"_\"+n.idx+f+h).wrapInner(\"<div id='mCSB_\"+n.idx+\"' class='mCustomScrollBox mCS-\"+i.theme+\" \"+s+\"'><div id='mCSB_\"+n.idx+\"_container' class='mCSB_container' style='position:relative; top:\"+i.setTop+\"; left:\"+i.setLeft+\";' dir='\"+n.langDir+\"' /></div>\");var m=e(\"#mCSB_\"+n.idx),p=e(\"#mCSB_\"+n.idx+\"_container\");\"y\"===i.axis||i.advanced.autoExpandHorizontalScroll||p.css(\"width\",x(p)),\"outside\"===i.scrollbarPosition?(\"static\"===t.css(\"position\")&&t.css(\"position\",\"relative\"),t.css(\"overflow\",\"visible\"),m.addClass(\"mCSB_outside\").after(c)):(m.addClass(\"mCSB_inside\").append(c),p.wrap(u)),w.call(this);var g=[e(\"#mCSB_\"+n.idx+\"_dragger_vertical\"),e(\"#mCSB_\"+n.idx+\"_dragger_horizontal\")];g[0].css(\"min-height\",g[0].height()),g[1].css(\"min-width\",g[1].width())},x=function(t){var o=[t[0].scrollWidth,Math.max.apply(Math,t.children().map(function(){return e(this).outerWidth(!0)}).get())],a=t.parent().width();return o[0]>a?o[0]:o[1]>a?o[1]:\"100%\"},_=function(){var t=e(this),o=t.data(a),n=o.opt,i=e(\"#mCSB_\"+o.idx+\"_container\");if(n.advanced.autoExpandHorizontalScroll&&\"y\"!==n.axis){i.css({width:\"auto\",\"min-width\":0,\"overflow-x\":\"scroll\"});var r=Math.ceil(i[0].scrollWidth);3===n.advanced.autoExpandHorizontalScroll||2!==n.advanced.autoExpandHorizontalScroll&&r>i.parent().width()?i.css({width:r,\"min-width\":\"100%\",\"overflow-x\":\"inherit\"}):i.css({\"overflow-x\":\"inherit\",position:\"absolute\"}).wrap(\"<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />\").css({width:Math.ceil(i[0].getBoundingClientRect().right+.4)-Math.floor(i[0].getBoundingClientRect().left),\"min-width\":\"100%\",position:\"relative\"}).unwrap()}},w=function(){var t=e(this),o=t.data(a),n=o.opt,i=e(\".mCSB_\"+o.idx+\"_scrollbar:first\"),r=oe(n.scrollButtons.tabindex)?\"tabindex='\"+n.scrollButtons.tabindex+\"'\":\"\",l=[\"<a href='#' class='\"+d[13]+\"' \"+r+\" />\",\"<a href='#' class='\"+d[14]+\"' \"+r+\" />\",\"<a href='#' class='\"+d[15]+\"' \"+r+\" />\",\"<a href='#' class='\"+d[16]+\"' \"+r+\" />\"],s=[\"x\"===n.axis?l[2]:l[0],\"x\"===n.axis?l[3]:l[1],l[2],l[3]];n.scrollButtons.enable&&i.prepend(s[0]).append(s[1]).next(\".mCSB_scrollTools\").prepend(s[2]).append(s[3])},S=function(){var t=e(this),o=t.data(a),n=e(\"#mCSB_\"+o.idx),i=e(\"#mCSB_\"+o.idx+\"_container\"),r=[e(\"#mCSB_\"+o.idx+\"_dragger_vertical\"),e(\"#mCSB_\"+o.idx+\"_dragger_horizontal\")],l=[n.height()/i.outerHeight(!1),n.width()/i.outerWidth(!1)],c=[parseInt(r[0].css(\"min-height\")),Math.round(l[0]*r[0].parent().height()),parseInt(r[1].css(\"min-width\")),Math.round(l[1]*r[1].parent().width())],d=s&&c[1]<c[0]?c[0]:c[1],u=s&&c[3]<c[2]?c[2]:c[3];r[0].css({height:d,\"max-height\":r[0].parent().height()-10}).find(\".mCSB_dragger_bar\").css({\"line-height\":c[0]+\"px\"}),r[1].css({width:u,\"max-width\":r[1].parent().width()-10})},b=function(){var t=e(this),o=t.data(a),n=e(\"#mCSB_\"+o.idx),i=e(\"#mCSB_\"+o.idx+\"_container\"),r=[e(\"#mCSB_\"+o.idx+\"_dragger_vertical\"),e(\"#mCSB_\"+o.idx+\"_dragger_horizontal\")],l=[i.outerHeight(!1)-n.height(),i.outerWidth(!1)-n.width()],s=[l[0]/(r[0].parent().height()-r[0].height()),l[1]/(r[1].parent().width()-r[1].width())];o.scrollRatio={y:s[0],x:s[1]}},C=function(e,t,o){var a=o?d[0]+\"_expanded\":\"\",n=e.closest(\".mCSB_scrollTools\");\"active\"===t?(e.toggleClass(d[0]+\" \"+a),n.toggleClass(d[1]),e[0]._draggable=e[0]._draggable?0:1):e[0]._draggable||(\"hide\"===t?(e.removeClass(d[0]),n.removeClass(d[1])):(e.addClass(d[0]),n.addClass(d[1])))},y=function(){var t=e(this),o=t.data(a),n=e(\"#mCSB_\"+o.idx),i=e(\"#mCSB_\"+o.idx+\"_container\"),r=null==o.overflowed?i.height():i.outerHeight(!1),l=null==o.overflowed?i.width():i.outerWidth(!1),s=i[0].scrollHeight,c=i[0].scrollWidth;return s>r&&(r=s),c>l&&(l=c),[r>n.height(),l>n.width()]},B=function(){var t=e(this),o=t.data(a),n=o.opt,i=e(\"#mCSB_\"+o.idx),r=e(\"#mCSB_\"+o.idx+\"_container\"),l=[e(\"#mCSB_\"+o.idx+\"_dragger_vertical\"),e(\"#mCSB_\"+o.idx+\"_dragger_horizontal\")];if(Q(t),(\"x\"!==n.axis&&!o.overflowed[0]||\"y\"===n.axis&&o.overflowed[0])&&(l[0].add(r).css(\"top\",0),G(t,\"_resetY\")),\"y\"!==n.axis&&!o.overflowed[1]||\"x\"===n.axis&&o.overflowed[1]){var s=dx=0;\"rtl\"===o.langDir&&(s=i.width()-r.outerWidth(!1),dx=Math.abs(s/o.scrollRatio.x)),r.css(\"left\",s),l[1].css(\"left\",dx),G(t,\"_resetX\")}},T=function(){function t(){r=setTimeout(function(){e.event.special.mousewheel?(clearTimeout(r),W.call(o[0])):t()},100)}var o=e(this),n=o.data(a),i=n.opt;if(!n.bindEvents){if(I.call(this),i.contentTouchScroll&&D.call(this),E.call(this),i.mouseWheel.enable){var r;t()}P.call(this),U.call(this),i.advanced.autoScrollOnFocus&&H.call(this),i.scrollButtons.enable&&F.call(this),i.keyboard.enable&&q.call(this),n.bindEvents=!0}},k=function(){var t=e(this),o=t.data(a),n=o.opt,i=a+\"_\"+o.idx,r=\".mCSB_\"+o.idx+\"_scrollbar\",l=e(\"#mCSB_\"+o.idx+\",#mCSB_\"+o.idx+\"_container,#mCSB_\"+o.idx+\"_container_wrapper,\"+r+\" .\"+d[12]+\",#mCSB_\"+o.idx+\"_dragger_vertical,#mCSB_\"+o.idx+\"_dragger_horizontal,\"+r+\">a\"),s=e(\"#mCSB_\"+o.idx+\"_container\");n.advanced.releaseDraggableSelectors&&l.add(e(n.advanced.releaseDraggableSelectors)),n.advanced.extraDraggableSelectors&&l.add(e(n.advanced.extraDraggableSelectors)),o.bindEvents&&(e(document).add(e(!A()||top.document)).unbind(\".\"+i),l.each(function(){e(this).unbind(\".\"+i)}),clearTimeout(t[0]._focusTimeout),$(t[0],\"_focusTimeout\"),clearTimeout(o.sequential.step),$(o.sequential,\"step\"),clearTimeout(s[0].onCompleteTimeout),$(s[0],\"onCompleteTimeout\"),o.bindEvents=!1)},M=function(t){var o=e(this),n=o.data(a),i=n.opt,r=e(\"#mCSB_\"+n.idx+\"_container_wrapper\"),l=r.length?r:e(\"#mCSB_\"+n.idx+\"_container\"),s=[e(\"#mCSB_\"+n.idx+\"_scrollbar_vertical\"),e(\"#mCSB_\"+n.idx+\"_scrollbar_horizontal\")],c=[s[0].find(\".mCSB_dragger\"),s[1].find(\".mCSB_dragger\")];\"x\"!==i.axis&&(n.overflowed[0]&&!t?(s[0].add(c[0]).add(s[0].children(\"a\")).css(\"display\",\"block\"),l.removeClass(d[8]+\" \"+d[10])):(i.alwaysShowScrollbar?(2!==i.alwaysShowScrollbar&&c[0].css(\"display\",\"none\"),l.removeClass(d[10])):(s[0].css(\"display\",\"none\"),l.addClass(d[10])),l.addClass(d[8]))),\"y\"!==i.axis&&(n.overflowed[1]&&!t?(s[1].add(c[1]).add(s[1].children(\"a\")).css(\"display\",\"block\"),l.removeClass(d[9]+\" \"+d[11])):(i.alwaysShowScrollbar?(2!==i.alwaysShowScrollbar&&c[1].css(\"display\",\"none\"),l.removeClass(d[11])):(s[1].css(\"display\",\"none\"),l.addClass(d[11])),l.addClass(d[9]))),n.overflowed[0]||n.overflowed[1]?o.removeClass(d[5]):o.addClass(d[5])},O=function(t){var o=t.type,a=t.target.ownerDocument!==document&&null!==frameElement?[e(frameElement).offset().top,e(frameElement).offset().left]:null,n=A()&&t.target.ownerDocument!==top.document&&null!==frameElement?[e(t.view.frameElement).offset().top,e(t.view.frameElement).offset().left]:[0,0];switch(o){case\"pointerdown\":case\"MSPointerDown\":case\"pointermove\":case\"MSPointerMove\":case\"pointerup\":case\"MSPointerUp\":return a?[t.originalEvent.pageY-a[0]+n[0],t.originalEvent.pageX-a[1]+n[1],!1]:[t.originalEvent.pageY,t.originalEvent.pageX,!1];case\"touchstart\":case\"touchmove\":case\"touchend\":var i=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],r=t.originalEvent.touches.length||t.originalEvent.changedTouches.length;return t.target.ownerDocument!==document?[i.screenY,i.screenX,r>1]:[i.pageY,i.pageX,r>1];default:return a?[t.pageY-a[0]+n[0],t.pageX-a[1]+n[1],!1]:[t.pageY,t.pageX,!1]}},I=function(){function t(e,t,a,n){if(h[0].idleTimer=d.scrollInertia<233?250:0,o.attr(\"id\")===f[1])var i=\"x\",s=(o[0].offsetLeft-t+n)*l.scrollRatio.x;else var i=\"y\",s=(o[0].offsetTop-e+a)*l.scrollRatio.y;G(r,s.toString(),{dir:i,drag:!0})}var o,n,i,r=e(this),l=r.data(a),d=l.opt,u=a+\"_\"+l.idx,f=[\"mCSB_\"+l.idx+\"_dragger_vertical\",\"mCSB_\"+l.idx+\"_dragger_horizontal\"],h=e(\"#mCSB_\"+l.idx+\"_container\"),m=e(\"#\"+f[0]+\",#\"+f[1]),p=d.advanced.releaseDraggableSelectors?m.add(e(d.advanced.releaseDraggableSelectors)):m,g=d.advanced.extraDraggableSelectors?e(!A()||top.document).add(e(d.advanced.extraDraggableSelectors)):e(!A()||top.document);m.bind(\"contextmenu.\"+u,function(e){e.preventDefault()}).bind(\"mousedown.\"+u+\" touchstart.\"+u+\" pointerdown.\"+u+\" MSPointerDown.\"+u,function(t){if(t.stopImmediatePropagation(),t.preventDefault(),ee(t)){c=!0,s&&(document.onselectstart=function(){return!1}),L.call(h,!1),Q(r),o=e(this);var a=o.offset(),l=O(t)[0]-a.top,u=O(t)[1]-a.left,f=o.height()+a.top,m=o.width()+a.left;f>l&&l>0&&m>u&&u>0&&(n=l,i=u),C(o,\"active\",d.autoExpandScrollbar)}}).bind(\"touchmove.\"+u,function(e){e.stopImmediatePropagation(),e.preventDefault();var a=o.offset(),r=O(e)[0]-a.top,l=O(e)[1]-a.left;t(n,i,r,l)}),e(document).add(g).bind(\"mousemove.\"+u+\" pointermove.\"+u+\" MSPointerMove.\"+u,function(e){if(o){var a=o.offset(),r=O(e)[0]-a.top,l=O(e)[1]-a.left;if(n===r&&i===l)return;t(n,i,r,l)}}).add(p).bind(\"mouseup.\"+u+\" touchend.\"+u+\" pointerup.\"+u+\" MSPointerUp.\"+u,function(){o&&(C(o,\"active\",d.autoExpandScrollbar),o=null),c=!1,s&&(document.onselectstart=null),L.call(h,!0)})},D=function(){function o(e){if(!te(e)||c||O(e)[2])return void(t=0);t=1,b=0,C=0,d=1,y.removeClass(\"mCS_touch_action\");var o=I.offset();u=O(e)[0]-o.top,f=O(e)[1]-o.left,z=[O(e)[0],O(e)[1]]}function n(e){if(te(e)&&!c&&!O(e)[2]&&(T.documentTouchScroll||e.preventDefault(),e.stopImmediatePropagation(),(!C||b)&&d)){g=K();var t=M.offset(),o=O(e)[0]-t.top,a=O(e)[1]-t.left,n=\"mcsLinearOut\";if(E.push(o),W.push(a),z[2]=Math.abs(O(e)[0]-z[0]),z[3]=Math.abs(O(e)[1]-z[1]),B.overflowed[0])var i=D[0].parent().height()-D[0].height(),r=u-o>0&&o-u>-(i*B.scrollRatio.y)&&(2*z[3]<z[2]||\"yx\"===T.axis);if(B.overflowed[1])var l=D[1].parent().width()-D[1].width(),h=f-a>0&&a-f>-(l*B.scrollRatio.x)&&(2*z[2]<z[3]||\"yx\"===T.axis);r||h?(U||e.preventDefault(),b=1):(C=1,y.addClass(\"mCS_touch_action\")),U&&e.preventDefault(),w=\"yx\"===T.axis?[u-o,f-a]:\"x\"===T.axis?[null,f-a]:[u-o,null],I[0].idleTimer=250,B.overflowed[0]&&s(w[0],R,n,\"y\",\"all\",!0),B.overflowed[1]&&s(w[1],R,n,\"x\",L,!0)}}function i(e){if(!te(e)||c||O(e)[2])return void(t=0);t=1,e.stopImmediatePropagation(),Q(y),p=K();var o=M.offset();h=O(e)[0]-o.top,m=O(e)[1]-o.left,E=[],W=[]}function r(e){if(te(e)&&!c&&!O(e)[2]){d=0,e.stopImmediatePropagation(),b=0,C=0,v=K();var t=M.offset(),o=O(e)[0]-t.top,a=O(e)[1]-t.left;if(!(v-g>30)){_=1e3/(v-p);var n=\"mcsEaseOut\",i=2.5>_,r=i?[E[E.length-2],W[W.length-2]]:[0,0];x=i?[o-r[0],a-r[1]]:[o-h,a-m];var u=[Math.abs(x[0]),Math.abs(x[1])];_=i?[Math.abs(x[0]/4),Math.abs(x[1]/4)]:[_,_];var f=[Math.abs(I[0].offsetTop)-x[0]*l(u[0]/_[0],_[0]),Math.abs(I[0].offsetLeft)-x[1]*l(u[1]/_[1],_[1])];w=\"yx\"===T.axis?[f[0],f[1]]:\"x\"===T.axis?[null,f[1]]:[f[0],null],S=[4*u[0]+T.scrollInertia,4*u[1]+T.scrollInertia];var y=parseInt(T.contentTouchScroll)||0;w[0]=u[0]>y?w[0]:0,w[1]=u[1]>y?w[1]:0,B.overflowed[0]&&s(w[0],S[0],n,\"y\",L,!1),B.overflowed[1]&&s(w[1],S[1],n,\"x\",L,!1)}}}function l(e,t){var o=[1.5*t,2*t,t/1.5,t/2];return e>90?t>4?o[0]:o[3]:e>60?t>3?o[3]:o[2]:e>30?t>8?o[1]:t>6?o[0]:t>4?t:o[2]:t>8?t:o[3]}function s(e,t,o,a,n,i){e&&G(y,e.toString(),{dur:t,scrollEasing:o,dir:a,overwrite:n,drag:i})}var d,u,f,h,m,p,g,v,x,_,w,S,b,C,y=e(this),B=y.data(a),T=B.opt,k=a+\"_\"+B.idx,M=e(\"#mCSB_\"+B.idx),I=e(\"#mCSB_\"+B.idx+\"_container\"),D=[e(\"#mCSB_\"+B.idx+\"_dragger_vertical\"),e(\"#mCSB_\"+B.idx+\"_dragger_horizontal\")],E=[],W=[],R=0,L=\"yx\"===T.axis?\"none\":\"all\",z=[],P=I.find(\"iframe\"),H=[\"touchstart.\"+k+\" pointerdown.\"+k+\" MSPointerDown.\"+k,\"touchmove.\"+k+\" pointermove.\"+k+\" MSPointerMove.\"+k,\"touchend.\"+k+\" pointerup.\"+k+\" MSPointerUp.\"+k],U=void 0!==document.body.style.touchAction&&\"\"!==document.body.style.touchAction;I.bind(H[0],function(e){o(e)}).bind(H[1],function(e){n(e)}),M.bind(H[0],function(e){i(e)}).bind(H[2],function(e){r(e)}),P.length&&P.each(function(){e(this).bind(\"load\",function(){A(this)&&e(this.contentDocument||this.contentWindow.document).bind(H[0],function(e){o(e),i(e)}).bind(H[1],function(e){n(e)}).bind(H[2],function(e){r(e)})})})},E=function(){function o(){return window.getSelection?window.getSelection().toString():document.selection&&\"Control\"!=document.selection.type?document.selection.createRange().text:0}function n(e,t,o){d.type=o&&i?\"stepped\":\"stepless\",d.scrollAmount=10,j(r,e,t,\"mcsLinearOut\",o?60:null)}var i,r=e(this),l=r.data(a),s=l.opt,d=l.sequential,u=a+\"_\"+l.idx,f=e(\"#mCSB_\"+l.idx+\"_container\"),h=f.parent();f.bind(\"mousedown.\"+u,function(){t||i||(i=1,c=!0)}).add(document).bind(\"mousemove.\"+u,function(e){if(!t&&i&&o()){var a=f.offset(),r=O(e)[0]-a.top+f[0].offsetTop,c=O(e)[1]-a.left+f[0].offsetLeft;r>0&&r<h.height()&&c>0&&c<h.width()?d.step&&n(\"off\",null,\"stepped\"):(\"x\"!==s.axis&&l.overflowed[0]&&(0>r?n(\"on\",38):r>h.height()&&n(\"on\",40)),\"y\"!==s.axis&&l.overflowed[1]&&(0>c?n(\"on\",37):c>h.width()&&n(\"on\",39)))}}).bind(\"mouseup.\"+u+\" dragend.\"+u,function(){t||(i&&(i=0,n(\"off\",null)),c=!1)})},W=function(){function t(t,a){if(Q(o),!z(o,t.target)){var r=\"auto\"!==i.mouseWheel.deltaFactor?parseInt(i.mouseWheel.deltaFactor):s&&t.deltaFactor<100?100:t.deltaFactor||100,d=i.scrollInertia;if(\"x\"===i.axis||\"x\"===i.mouseWheel.axis)var u=\"x\",f=[Math.round(r*n.scrollRatio.x),parseInt(i.mouseWheel.scrollAmount)],h=\"auto\"!==i.mouseWheel.scrollAmount?f[1]:f[0]>=l.width()?.9*l.width():f[0],m=Math.abs(e(\"#mCSB_\"+n.idx+\"_container\")[0].offsetLeft),p=c[1][0].offsetLeft,g=c[1].parent().width()-c[1].width(),v=\"y\"===i.mouseWheel.axis?t.deltaY||a:t.deltaX;else var u=\"y\",f=[Math.round(r*n.scrollRatio.y),parseInt(i.mouseWheel.scrollAmount)],h=\"auto\"!==i.mouseWheel.scrollAmount?f[1]:f[0]>=l.height()?.9*l.height():f[0],m=Math.abs(e(\"#mCSB_\"+n.idx+\"_container\")[0].offsetTop),p=c[0][0].offsetTop,g=c[0].parent().height()-c[0].height(),v=t.deltaY||a;\"y\"===u&&!n.overflowed[0]||\"x\"===u&&!n.overflowed[1]||((i.mouseWheel.invert||t.webkitDirectionInvertedFromDevice)&&(v=-v),i.mouseWheel.normalizeDelta&&(v=0>v?-1:1),(v>0&&0!==p||0>v&&p!==g||i.mouseWheel.preventDefault)&&(t.stopImmediatePropagation(),t.preventDefault()),t.deltaFactor<5&&!i.mouseWheel.normalizeDelta&&(h=t.deltaFactor,d=17),G(o,(m-v*h).toString(),{dir:u,dur:d}))}}if(e(this).data(a)){var o=e(this),n=o.data(a),i=n.opt,r=a+\"_\"+n.idx,l=e(\"#mCSB_\"+n.idx),c=[e(\"#mCSB_\"+n.idx+\"_dragger_vertical\"),e(\"#mCSB_\"+n.idx+\"_dragger_horizontal\")],d=e(\"#mCSB_\"+n.idx+\"_container\").find(\"iframe\");d.length&&d.each(function(){e(this).bind(\"load\",function(){A(this)&&e(this.contentDocument||this.contentWindow.document).bind(\"mousewheel.\"+r,function(e,o){t(e,o)})})}),l.bind(\"mousewheel.\"+r,function(e,o){t(e,o)})}},R=new Object,A=function(t){var o=!1,a=!1,n=null;if(void 0===t?a=\"#empty\":void 0!==e(t).attr(\"id\")&&(a=e(t).attr(\"id\")),a!==!1&&void 0!==R[a])return R[a];if(t){try{var i=t.contentDocument||t.contentWindow.document;n=i.body.innerHTML}catch(r){}o=null!==n}else{try{var i=top.document;n=i.body.innerHTML}catch(r){}o=null!==n}return a!==!1&&(R[a]=o),o},L=function(e){var t=this.find(\"iframe\");if(t.length){var o=e?\"auto\":\"none\";t.css(\"pointer-events\",o)}},z=function(t,o){var n=o.nodeName.toLowerCase(),i=t.data(a).opt.mouseWheel.disableOver,r=[\"select\",\"textarea\"];return e.inArray(n,i)>-1&&!(e.inArray(n,r)>-1&&!e(o).is(\":focus\"))},P=function(){var t,o=e(this),n=o.data(a),i=a+\"_\"+n.idx,r=e(\"#mCSB_\"+n.idx+\"_container\"),l=r.parent(),s=e(\".mCSB_\"+n.idx+\"_scrollbar .\"+d[12]);s.bind(\"mousedown.\"+i+\" touchstart.\"+i+\" pointerdown.\"+i+\" MSPointerDown.\"+i,function(o){c=!0,e(o.target).hasClass(\"mCSB_dragger\")||(t=1)}).bind(\"touchend.\"+i+\" pointerup.\"+i+\" MSPointerUp.\"+i,function(){c=!1}).bind(\"click.\"+i,function(a){if(t&&(t=0,e(a.target).hasClass(d[12])||e(a.target).hasClass(\"mCSB_draggerRail\"))){Q(o);var i=e(this),s=i.find(\".mCSB_dragger\");if(i.parent(\".mCSB_scrollTools_horizontal\").length>0){if(!n.overflowed[1])return;var c=\"x\",u=a.pageX>s.offset().left?-1:1,f=Math.abs(r[0].offsetLeft)-u*(.9*l.width())}else{if(!n.overflowed[0])return;var c=\"y\",u=a.pageY>s.offset().top?-1:1,f=Math.abs(r[0].offsetTop)-u*(.9*l.height())}G(o,f.toString(),{dir:c,scrollEasing:\"mcsEaseInOut\"})}})},H=function(){var t=e(this),o=t.data(a),n=o.opt,i=a+\"_\"+o.idx,r=e(\"#mCSB_\"+o.idx+\"_container\"),l=r.parent();r.bind(\"focusin.\"+i,function(){var o=e(document.activeElement),a=r.find(\".mCustomScrollBox\").length,i=0;o.is(n.advanced.autoScrollOnFocus)&&(Q(t),clearTimeout(t[0]._focusTimeout),t[0]._focusTimer=a?(i+17)*a:0,t[0]._focusTimeout=setTimeout(function(){var e=[ae(o)[0],ae(o)[1]],a=[r[0].offsetTop,r[0].offsetLeft],s=[a[0]+e[0]>=0&&a[0]+e[0]<l.height()-o.outerHeight(!1),a[1]+e[1]>=0&&a[0]+e[1]<l.width()-o.outerWidth(!1)],c=\"yx\"!==n.axis||s[0]||s[1]?\"all\":\"none\";\"x\"===n.axis||s[0]||G(t,e[0].toString(),{dir:\"y\",scrollEasing:\"mcsEaseInOut\",overwrite:c,dur:i}),\"y\"===n.axis||s[1]||G(t,e[1].toString(),{dir:\"x\",scrollEasing:\"mcsEaseInOut\",overwrite:c,dur:i})},t[0]._focusTimer))})},U=function(){var t=e(this),o=t.data(a),n=a+\"_\"+o.idx,i=e(\"#mCSB_\"+o.idx+\"_container\").parent();i.bind(\"scroll.\"+n,function(){0===i.scrollTop()&&0===i.scrollLeft()||e(\".mCSB_\"+o.idx+\"_scrollbar\").css(\"visibility\",\"hidden\")})},F=function(){var t=e(this),o=t.data(a),n=o.opt,i=o.sequential,r=a+\"_\"+o.idx,l=\".mCSB_\"+o.idx+\"_scrollbar\",s=e(l+\">a\");s.bind(\"contextmenu.\"+r,function(e){e.preventDefault()}).bind(\"mousedown.\"+r+\" touchstart.\"+r+\" pointerdown.\"+r+\" MSPointerDown.\"+r+\" mouseup.\"+r+\" touchend.\"+r+\" pointerup.\"+r+\" MSPointerUp.\"+r+\" mouseout.\"+r+\" pointerout.\"+r+\" MSPointerOut.\"+r+\" click.\"+r,function(a){function r(e,o){i.scrollAmount=n.scrollButtons.scrollAmount,j(t,e,o)}if(a.preventDefault(),ee(a)){var l=e(this).attr(\"class\");switch(i.type=n.scrollButtons.scrollType,a.type){case\"mousedown\":case\"touchstart\":case\"pointerdown\":case\"MSPointerDown\":if(\"stepped\"===i.type)return;c=!0,o.tweenRunning=!1,r(\"on\",l);break;case\"mouseup\":case\"touchend\":case\"pointerup\":case\"MSPointerUp\":case\"mouseout\":case\"pointerout\":case\"MSPointerOut\":if(\"stepped\"===i.type)return;c=!1,i.dir&&r(\"off\",l);break;case\"click\":if(\"stepped\"!==i.type||o.tweenRunning)return;r(\"on\",l)}}})},q=function(){function t(t){function a(e,t){r.type=i.keyboard.scrollType,r.scrollAmount=i.keyboard.scrollAmount,\"stepped\"===r.type&&n.tweenRunning||j(o,e,t)}switch(t.type){case\"blur\":n.tweenRunning&&r.dir&&a(\"off\",null);break;case\"keydown\":case\"keyup\":var l=t.keyCode?t.keyCode:t.which,s=\"on\";if(\"x\"!==i.axis&&(38===l||40===l)||\"y\"!==i.axis&&(37===l||39===l)){if((38===l||40===l)&&!n.overflowed[0]||(37===l||39===l)&&!n.overflowed[1])return;\"keyup\"===t.type&&(s=\"off\"),e(document.activeElement).is(u)||(t.preventDefault(),t.stopImmediatePropagation(),a(s,l))}else if(33===l||34===l){if((n.overflowed[0]||n.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),\"keyup\"===t.type){Q(o);var f=34===l?-1:1;if(\"x\"===i.axis||\"yx\"===i.axis&&n.overflowed[1]&&!n.overflowed[0])var h=\"x\",m=Math.abs(c[0].offsetLeft)-f*(.9*d.width());else var h=\"y\",m=Math.abs(c[0].offsetTop)-f*(.9*d.height());G(o,m.toString(),{dir:h,scrollEasing:\"mcsEaseInOut\"})}}else if((35===l||36===l)&&!e(document.activeElement).is(u)&&((n.overflowed[0]||n.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),\"keyup\"===t.type)){if(\"x\"===i.axis||\"yx\"===i.axis&&n.overflowed[1]&&!n.overflowed[0])var h=\"x\",m=35===l?Math.abs(d.width()-c.outerWidth(!1)):0;else var h=\"y\",m=35===l?Math.abs(d.height()-c.outerHeight(!1)):0;G(o,m.toString(),{dir:h,scrollEasing:\"mcsEaseInOut\"})}}}var o=e(this),n=o.data(a),i=n.opt,r=n.sequential,l=a+\"_\"+n.idx,s=e(\"#mCSB_\"+n.idx),c=e(\"#mCSB_\"+n.idx+\"_container\"),d=c.parent(),u=\"input,textarea,select,datalist,keygen,[contenteditable='true']\",f=c.find(\"iframe\"),h=[\"blur.\"+l+\" keydown.\"+l+\" keyup.\"+l];f.length&&f.each(function(){e(this).bind(\"load\",function(){A(this)&&e(this.contentDocument||this.contentWindow.document).bind(h[0],function(e){t(e)})})}),s.attr(\"tabindex\",\"0\").bind(h[0],function(e){t(e)})},j=function(t,o,n,i,r){function l(e){u.snapAmount&&(f.scrollAmount=u.snapAmount instanceof Array?\"x\"===f.dir[0]?u.snapAmount[1]:u.snapAmount[0]:u.snapAmount);var o=\"stepped\"!==f.type,a=r?r:e?o?p/1.5:g:1e3/60,n=e?o?7.5:40:2.5,s=[Math.abs(h[0].offsetTop),Math.abs(h[0].offsetLeft)],d=[c.scrollRatio.y>10?10:c.scrollRatio.y,c.scrollRatio.x>10?10:c.scrollRatio.x],m=\"x\"===f.dir[0]?s[1]+f.dir[1]*(d[1]*n):s[0]+f.dir[1]*(d[0]*n),v=\"x\"===f.dir[0]?s[1]+f.dir[1]*parseInt(f.scrollAmount):s[0]+f.dir[1]*parseInt(f.scrollAmount),x=\"auto\"!==f.scrollAmount?v:m,_=i?i:e?o?\"mcsLinearOut\":\"mcsEaseInOut\":\"mcsLinear\",w=!!e;return e&&17>a&&(x=\"x\"===f.dir[0]?s[1]:s[0]),G(t,x.toString(),{dir:f.dir[0],scrollEasing:_,dur:a,onComplete:w}),e?void(f.dir=!1):(clearTimeout(f.step),void(f.step=setTimeout(function(){l()},a)))}function s(){clearTimeout(f.step),$(f,\"step\"),Q(t)}var c=t.data(a),u=c.opt,f=c.sequential,h=e(\"#mCSB_\"+c.idx+\"_container\"),m=\"stepped\"===f.type,p=u.scrollInertia<26?26:u.scrollInertia,g=u.scrollInertia<1?17:u.scrollInertia;switch(o){case\"on\":if(f.dir=[n===d[16]||n===d[15]||39===n||37===n?\"x\":\"y\",n===d[13]||n===d[15]||38===n||37===n?-1:1],Q(t),oe(n)&&\"stepped\"===f.type)return;l(m);break;case\"off\":s(),(m||c.tweenRunning&&f.dir)&&l(!0)}},Y=function(t){var o=e(this).data(a).opt,n=[];return\"function\"==typeof t&&(t=t()),t instanceof Array?n=t.length>1?[t[0],t[1]]:\"x\"===o.axis?[null,t[0]]:[t[0],null]:(n[0]=t.y?t.y:t.x||\"x\"===o.axis?null:t,n[1]=t.x?t.x:t.y||\"y\"===o.axis?null:t),\"function\"==typeof n[0]&&(n[0]=n[0]()),\"function\"==typeof n[1]&&(n[1]=n[1]()),n},X=function(t,o){if(null!=t&&\"undefined\"!=typeof t){var n=e(this),i=n.data(a),r=i.opt,l=e(\"#mCSB_\"+i.idx+\"_container\"),s=l.parent(),c=typeof t;o||(o=\"x\"===r.axis?\"x\":\"y\");var d=\"x\"===o?l.outerWidth(!1)-s.width():l.outerHeight(!1)-s.height(),f=\"x\"===o?l[0].offsetLeft:l[0].offsetTop,h=\"x\"===o?\"left\":\"top\";switch(c){case\"function\":return t();case\"object\":var m=t.jquery?t:e(t);if(!m.length)return;return\"x\"===o?ae(m)[1]:ae(m)[0];case\"string\":case\"number\":if(oe(t))return Math.abs(t);if(-1!==t.indexOf(\"%\"))return Math.abs(d*parseInt(t)/100);if(-1!==t.indexOf(\"-=\"))return Math.abs(f-parseInt(t.split(\"-=\")[1]));if(-1!==t.indexOf(\"+=\")){var p=f+parseInt(t.split(\"+=\")[1]);return p>=0?0:Math.abs(p)}if(-1!==t.indexOf(\"px\")&&oe(t.split(\"px\")[0]))return Math.abs(t.split(\"px\")[0]);if(\"top\"===t||\"left\"===t)return 0;if(\"bottom\"===t)return Math.abs(s.height()-l.outerHeight(!1));if(\"right\"===t)return Math.abs(s.width()-l.outerWidth(!1));if(\"first\"===t||\"last\"===t){var m=l.find(\":\"+t);return\"x\"===o?ae(m)[1]:ae(m)[0]}return e(t).length?\"x\"===o?ae(e(t))[1]:ae(e(t))[0]:(l.css(h,t),void u.update.call(null,n[0]))}}},N=function(t){function o(){return clearTimeout(f[0].autoUpdate),0===l.parents(\"html\").length?void(l=null):void(f[0].autoUpdate=setTimeout(function(){return c.advanced.updateOnSelectorChange&&(s.poll.change.n=i(),s.poll.change.n!==s.poll.change.o)?(s.poll.change.o=s.poll.change.n,void r(3)):c.advanced.updateOnContentResize&&(s.poll.size.n=l[0].scrollHeight+l[0].scrollWidth+f[0].offsetHeight+l[0].offsetHeight+l[0].offsetWidth,s.poll.size.n!==s.poll.size.o)?(s.poll.size.o=s.poll.size.n,void r(1)):!c.advanced.updateOnImageLoad||\"auto\"===c.advanced.updateOnImageLoad&&\"y\"===c.axis||(s.poll.img.n=f.find(\"img\").length,s.poll.img.n===s.poll.img.o)?void((c.advanced.updateOnSelectorChange||c.advanced.updateOnContentResize||c.advanced.updateOnImageLoad)&&o()):(s.poll.img.o=s.poll.img.n,void f.find(\"img\").each(function(){n(this)}))},c.advanced.autoUpdateTimeout))}function n(t){function o(e,t){return function(){\r\nreturn t.apply(e,arguments)}}function a(){this.onload=null,e(t).addClass(d[2]),r(2)}if(e(t).hasClass(d[2]))return void r();var n=new Image;n.onload=o(n,a),n.src=t.src}function i(){c.advanced.updateOnSelectorChange===!0&&(c.advanced.updateOnSelectorChange=\"*\");var e=0,t=f.find(c.advanced.updateOnSelectorChange);return c.advanced.updateOnSelectorChange&&t.length>0&&t.each(function(){e+=this.offsetHeight+this.offsetWidth}),e}function r(e){clearTimeout(f[0].autoUpdate),u.update.call(null,l[0],e)}var l=e(this),s=l.data(a),c=s.opt,f=e(\"#mCSB_\"+s.idx+\"_container\");return t?(clearTimeout(f[0].autoUpdate),void $(f[0],\"autoUpdate\")):void o()},V=function(e,t,o){return Math.round(e/t)*t-o},Q=function(t){var o=t.data(a),n=e(\"#mCSB_\"+o.idx+\"_container,#mCSB_\"+o.idx+\"_container_wrapper,#mCSB_\"+o.idx+\"_dragger_vertical,#mCSB_\"+o.idx+\"_dragger_horizontal\");n.each(function(){Z.call(this)})},G=function(t,o,n){function i(e){return s&&c.callbacks[e]&&\"function\"==typeof c.callbacks[e]}function r(){return[c.callbacks.alwaysTriggerOffsets||w>=S[0]+y,c.callbacks.alwaysTriggerOffsets||-B>=w]}function l(){var e=[h[0].offsetTop,h[0].offsetLeft],o=[x[0].offsetTop,x[0].offsetLeft],a=[h.outerHeight(!1),h.outerWidth(!1)],i=[f.height(),f.width()];t[0].mcs={content:h,top:e[0],left:e[1],draggerTop:o[0],draggerLeft:o[1],topPct:Math.round(100*Math.abs(e[0])/(Math.abs(a[0])-i[0])),leftPct:Math.round(100*Math.abs(e[1])/(Math.abs(a[1])-i[1])),direction:n.dir}}var s=t.data(a),c=s.opt,d={trigger:\"internal\",dir:\"y\",scrollEasing:\"mcsEaseOut\",drag:!1,dur:c.scrollInertia,overwrite:\"all\",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},n=e.extend(d,n),u=[n.dur,n.drag?0:n.dur],f=e(\"#mCSB_\"+s.idx),h=e(\"#mCSB_\"+s.idx+\"_container\"),m=h.parent(),p=c.callbacks.onTotalScrollOffset?Y.call(t,c.callbacks.onTotalScrollOffset):[0,0],g=c.callbacks.onTotalScrollBackOffset?Y.call(t,c.callbacks.onTotalScrollBackOffset):[0,0];if(s.trigger=n.trigger,0===m.scrollTop()&&0===m.scrollLeft()||(e(\".mCSB_\"+s.idx+\"_scrollbar\").css(\"visibility\",\"visible\"),m.scrollTop(0).scrollLeft(0)),\"_resetY\"!==o||s.contentReset.y||(i(\"onOverflowYNone\")&&c.callbacks.onOverflowYNone.call(t[0]),s.contentReset.y=1),\"_resetX\"!==o||s.contentReset.x||(i(\"onOverflowXNone\")&&c.callbacks.onOverflowXNone.call(t[0]),s.contentReset.x=1),\"_resetY\"!==o&&\"_resetX\"!==o){if(!s.contentReset.y&&t[0].mcs||!s.overflowed[0]||(i(\"onOverflowY\")&&c.callbacks.onOverflowY.call(t[0]),s.contentReset.x=null),!s.contentReset.x&&t[0].mcs||!s.overflowed[1]||(i(\"onOverflowX\")&&c.callbacks.onOverflowX.call(t[0]),s.contentReset.x=null),c.snapAmount){var v=c.snapAmount instanceof Array?\"x\"===n.dir?c.snapAmount[1]:c.snapAmount[0]:c.snapAmount;o=V(o,v,c.snapOffset)}switch(n.dir){case\"x\":var x=e(\"#mCSB_\"+s.idx+\"_dragger_horizontal\"),_=\"left\",w=h[0].offsetLeft,S=[f.width()-h.outerWidth(!1),x.parent().width()-x.width()],b=[o,0===o?0:o/s.scrollRatio.x],y=p[1],B=g[1],T=y>0?y/s.scrollRatio.x:0,k=B>0?B/s.scrollRatio.x:0;break;case\"y\":var x=e(\"#mCSB_\"+s.idx+\"_dragger_vertical\"),_=\"top\",w=h[0].offsetTop,S=[f.height()-h.outerHeight(!1),x.parent().height()-x.height()],b=[o,0===o?0:o/s.scrollRatio.y],y=p[0],B=g[0],T=y>0?y/s.scrollRatio.y:0,k=B>0?B/s.scrollRatio.y:0}b[1]<0||0===b[0]&&0===b[1]?b=[0,0]:b[1]>=S[1]?b=[S[0],S[1]]:b[0]=-b[0],t[0].mcs||(l(),i(\"onInit\")&&c.callbacks.onInit.call(t[0])),clearTimeout(h[0].onCompleteTimeout),J(x[0],_,Math.round(b[1]),u[1],n.scrollEasing),!s.tweenRunning&&(0===w&&b[0]>=0||w===S[0]&&b[0]<=S[0])||J(h[0],_,Math.round(b[0]),u[0],n.scrollEasing,n.overwrite,{onStart:function(){n.callbacks&&n.onStart&&!s.tweenRunning&&(i(\"onScrollStart\")&&(l(),c.callbacks.onScrollStart.call(t[0])),s.tweenRunning=!0,C(x),s.cbOffsets=r())},onUpdate:function(){n.callbacks&&n.onUpdate&&i(\"whileScrolling\")&&(l(),c.callbacks.whileScrolling.call(t[0]))},onComplete:function(){if(n.callbacks&&n.onComplete){\"yx\"===c.axis&&clearTimeout(h[0].onCompleteTimeout);var e=h[0].idleTimer||0;h[0].onCompleteTimeout=setTimeout(function(){i(\"onScroll\")&&(l(),c.callbacks.onScroll.call(t[0])),i(\"onTotalScroll\")&&b[1]>=S[1]-T&&s.cbOffsets[0]&&(l(),c.callbacks.onTotalScroll.call(t[0])),i(\"onTotalScrollBack\")&&b[1]<=k&&s.cbOffsets[1]&&(l(),c.callbacks.onTotalScrollBack.call(t[0])),s.tweenRunning=!1,h[0].idleTimer=0,C(x,\"hide\")},e)}}})}},J=function(e,t,o,a,n,i,r){function l(){S.stop||(x||m.call(),x=K()-v,s(),x>=S.time&&(S.time=x>S.time?x+f-(x-S.time):x+f-1,S.time<x+1&&(S.time=x+1)),S.time<a?S.id=h(l):g.call())}function s(){a>0?(S.currVal=u(S.time,_,b,a,n),w[t]=Math.round(S.currVal)+\"px\"):w[t]=o+\"px\",p.call()}function c(){f=1e3/60,S.time=x+f,h=window.requestAnimationFrame?window.requestAnimationFrame:function(e){return s(),setTimeout(e,.01)},S.id=h(l)}function d(){null!=S.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(S.id):clearTimeout(S.id),S.id=null)}function u(e,t,o,a,n){switch(n){case\"linear\":case\"mcsLinear\":return o*e/a+t;case\"mcsLinearOut\":return e/=a,e--,o*Math.sqrt(1-e*e)+t;case\"easeInOutSmooth\":return e/=a/2,1>e?o/2*e*e+t:(e--,-o/2*(e*(e-2)-1)+t);case\"easeInOutStrong\":return e/=a/2,1>e?o/2*Math.pow(2,10*(e-1))+t:(e--,o/2*(-Math.pow(2,-10*e)+2)+t);case\"easeInOut\":case\"mcsEaseInOut\":return e/=a/2,1>e?o/2*e*e*e+t:(e-=2,o/2*(e*e*e+2)+t);case\"easeOutSmooth\":return e/=a,e--,-o*(e*e*e*e-1)+t;case\"easeOutStrong\":return o*(-Math.pow(2,-10*e/a)+1)+t;case\"easeOut\":case\"mcsEaseOut\":default:var i=(e/=a)*e,r=i*e;return t+o*(.499999999999997*r*i+-2.5*i*i+5.5*r+-6.5*i+4*e)}}e._mTween||(e._mTween={top:{},left:{}});var f,h,r=r||{},m=r.onStart||function(){},p=r.onUpdate||function(){},g=r.onComplete||function(){},v=K(),x=0,_=e.offsetTop,w=e.style,S=e._mTween[t];\"left\"===t&&(_=e.offsetLeft);var b=o-_;S.stop=0,\"none\"!==i&&d(),c()},K=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},Z=function(){var e=this;e._mTween||(e._mTween={top:{},left:{}});for(var t=[\"top\",\"left\"],o=0;o<t.length;o++){var a=t[o];e._mTween[a].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(e._mTween[a].id):clearTimeout(e._mTween[a].id),e._mTween[a].id=null,e._mTween[a].stop=1)}},$=function(e,t){try{delete e[t]}catch(o){e[t]=null}},ee=function(e){return!(e.which&&1!==e.which)},te=function(e){var t=e.originalEvent.pointerType;return!(t&&\"touch\"!==t&&2!==t)},oe=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},ae=function(e){var t=e.parents(\".mCSB_container\");return[e.offset().top-t.offset().top,e.offset().left-t.offset().left]},ne=function(){function e(){var e=[\"webkit\",\"moz\",\"ms\",\"o\"];if(\"hidden\"in document)return\"hidden\";for(var t=0;t<e.length;t++)if(e[t]+\"Hidden\"in document)return e[t]+\"Hidden\";return null}var t=e();return t?document[t]:!1};e.fn[o]=function(t){return u[t]?u[t].apply(this,Array.prototype.slice.call(arguments,1)):\"object\"!=typeof t&&t?void e.error(\"Method \"+t+\" does not exist\"):u.init.apply(this,arguments)},e[o]=function(t){return u[t]?u[t].apply(this,Array.prototype.slice.call(arguments,1)):\"object\"!=typeof t&&t?void e.error(\"Method \"+t+\" does not exist\"):u.init.apply(this,arguments)},e[o].defaults=i,window[o]=!0,e(window).bind(\"load\",function(){e(n)[o](),e.extend(e.expr[\":\"],{mcsInView:e.expr[\":\"].mcsInView||function(t){var o,a,n=e(t),i=n.parents(\".mCSB_container\");if(i.length)return o=i.parent(),a=[i[0].offsetTop,i[0].offsetLeft],a[0]+ae(n)[0]>=0&&a[0]+ae(n)[0]<o.height()-n.outerHeight(!1)&&a[1]+ae(n)[1]>=0&&a[1]+ae(n)[1]<o.width()-n.outerWidth(!1)},mcsInSight:e.expr[\":\"].mcsInSight||function(t,o,a){var n,i,r,l,s=e(t),c=s.parents(\".mCSB_container\"),d=\"exact\"===a[3]?[[1,0],[1,0]]:[[.9,.1],[.6,.4]];if(c.length)return n=[s.outerHeight(!1),s.outerWidth(!1)],r=[c[0].offsetTop+ae(s)[0],c[0].offsetLeft+ae(s)[1]],i=[c.parent()[0].offsetHeight,c.parent()[0].offsetWidth],l=[n[0]<i[0]?d[0]:d[1],n[1]<i[1]?d[0]:d[1]],r[0]-i[0]*l[0][0]<0&&r[0]+n[0]-i[0]*l[0][1]>=0&&r[1]-i[1]*l[1][0]<0&&r[1]+n[1]-i[1]*l[1][1]>=0},mcsOverflow:e.expr[\":\"].mcsOverflow||function(t){var o=e(t).data(a);if(o)return o.overflowed[0]||o.overflowed[1]}})})})});\r\n\r\n/*  jQuery Nice Select - v1.1.0\r\n    https://github.com/hernansartorio/jquery-nice-select\r\n    Made by Hernán Sartorio  */\r\n\r\n(function($) {\r\n\r\n    $.fn.niceSelect = function(method) {\r\n\r\n        // Methods\r\n        if (typeof method == 'string') {\r\n            if (method == 'update') {\r\n                this.each(function() {\r\n                    var $select = $(this);\r\n                    var $dropdown = $(this).next('.nice-select');\r\n                    var open = $dropdown.hasClass('open');\r\n\r\n                    if ($dropdown.length) {\r\n                        $dropdown.remove();\r\n                        create_nice_select($select);\r\n\r\n                        if (open) {\r\n                            $select.next().trigger('click');\r\n                        }\r\n                    }\r\n                });\r\n            } else if (method == 'destroy') {\r\n                this.each(function() {\r\n                    var $select = $(this);\r\n                    var $dropdown = $(this).next('.nice-select');\r\n\r\n                    if ($dropdown.length) {\r\n                        $dropdown.remove();\r\n                        $select.css('display', '');\r\n                    }\r\n                });\r\n                if ($('.nice-select').length == 0) {\r\n                    $(document).off('.nice_select');\r\n                }\r\n            } else {\r\n                console.log('Method \"' + method + '\" does not exist.')\r\n            }\r\n            return this;\r\n        }\r\n\r\n        // Hide native select\r\n        this.hide();\r\n\r\n        // Create custom markup\r\n        this.each(function() {\r\n            var $select = $(this);\r\n\r\n            if (!$select.next().hasClass('nice-select')) {\r\n                create_nice_select($select);\r\n            }\r\n        });\r\n\r\n        function create_nice_select($select) {\r\n            $select.after($('<div></div>')\r\n                .addClass('nice-select')\r\n                .addClass($select.attr('class') || '')\r\n                .removeClass('nice-select-hide')\r\n                .addClass($select.attr('disabled') ? 'disabled' : '')\r\n                .attr('tabindex', $select.attr('disabled') ? null : '0')\r\n                .html('<span class=\"current\"></span><ul class=\"list\"></ul>')\r\n            );\r\n\r\n            var $dropdown = $select.next();\r\n            var $options = $select.find('option');\r\n            var $selected = $select.find('option:selected');\r\n\r\n            $dropdown.find('.current').html($selected.data('display') || $selected.text());\r\n\r\n            $options.each(function(i) {\r\n                var $option = $(this);\r\n                var display = $option.data('display');\r\n\r\n                $dropdown.find('ul').append($('<li></li>')\r\n                    .attr('data-value', $option.val())\r\n                    .attr('data-display', (display || null))\r\n                    .addClass('option' +\r\n                        ($option.is(':selected') ? ' selected' : '') +\r\n                        ($option.is(':disabled') ? ' disabled' : ''))\r\n                    .addClass($option.attr('class') || '')\r\n                    .html($option.text())\r\n                );\r\n            });\r\n\r\n            $(document).trigger('nice_after_init', $select)\r\n        }\r\n\r\n        /* Event listeners */\r\n\r\n        // Unbind existing events in case that the plugin has been initialized before\r\n        $(document).off('.nice_select');\r\n\r\n        // Open/close\r\n        $(document).on('click.nice_select', '.nice-select', function(event) {\r\n            var $dropdown = $(this);\r\n\r\n            $('.nice-select').not($dropdown).removeClass('open');\r\n            $dropdown.toggleClass('open');\r\n\r\n            if ($dropdown.hasClass('open')) {\r\n                $dropdown.find('.option');\r\n                $dropdown.find('.focus').removeClass('focus');\r\n                $dropdown.find('.selected').addClass('focus');\r\n            } else {\r\n                $dropdown.focus();\r\n            }\r\n        });\r\n\r\n        // Close when clicking outside\r\n        $(document).on('click.nice_select', function(event) {\r\n            if ($(event.target).closest('.nice-select').length === 0) {\r\n                $('.nice-select').removeClass('open').find('.option');\r\n            }\r\n        });\r\n\r\n        // Option click\r\n        $(document).on('click.nice_select', '.nice-select .option:not(.disabled)', function(event) {\r\n            var $option = $(this);\r\n            var $dropdown = $option.closest('.nice-select');\r\n\r\n            $dropdown.find('.selected').removeClass('selected');\r\n            $option.addClass('selected');\r\n\r\n            var text = $option.data('display') || $option.text();\r\n            $dropdown.find('.current').text(text);\r\n\r\n            $dropdown.prev('select').val($option.data('value')).trigger('change');\r\n        });\r\n\r\n        // Keyboard events\r\n        $(document).on('keydown.nice_select', '.nice-select', function(event) {\r\n            var $dropdown = $(this);\r\n            var $focused_option = $($dropdown.find('.focus') || $dropdown.find('.list .option.selected'));\r\n\r\n            // Space or Enter\r\n            if (event.keyCode == 32 || event.keyCode == 13) {\r\n                if ($dropdown.hasClass('open')) {\r\n                    $focused_option.trigger('click');\r\n                } else {\r\n                    $dropdown.trigger('click');\r\n                }\r\n                return false;\r\n                // Down\r\n            } else if (event.keyCode == 40) {\r\n                if (!$dropdown.hasClass('open')) {\r\n                    $dropdown.trigger('click');\r\n                } else {\r\n                    var $next = $focused_option.nextAll('.option:not(.disabled)').first();\r\n                    if ($next.length > 0) {\r\n                        $dropdown.find('.focus').removeClass('focus');\r\n                        $next.addClass('focus');\r\n                    }\r\n                }\r\n                return false;\r\n                // Up\r\n            } else if (event.keyCode == 38) {\r\n                if (!$dropdown.hasClass('open')) {\r\n                    $dropdown.trigger('click');\r\n                } else {\r\n                    var $prev = $focused_option.prevAll('.option:not(.disabled)').first();\r\n                    if ($prev.length > 0) {\r\n                        $dropdown.find('.focus').removeClass('focus');\r\n                        $prev.addClass('focus');\r\n                    }\r\n                }\r\n                return false;\r\n                // Esc\r\n            } else if (event.keyCode == 27) {\r\n                if ($dropdown.hasClass('open')) {\r\n                    $dropdown.trigger('click');\r\n                }\r\n                // Tab\r\n            } else if (event.keyCode == 9) {\r\n                if ($dropdown.hasClass('open')) {\r\n                    return false;\r\n                }\r\n            }\r\n        });\r\n\r\n        // Detect CSS pointer-events support, for IE <= 10. From Modernizr.\r\n        var style = document.createElement('a').style;\r\n        style.cssText = 'pointer-events:auto';\r\n        if (style.pointerEvents !== 'auto') {\r\n            $('html').addClass('no-csspointerevents');\r\n        }\r\n\r\n        return this;\r\n\r\n    };\r\n\r\n}(jQuery));\r\n/*!\r\n * Lazy Load - JavaScript plugin for lazy loading images\r\n *\r\n * Copyright (c) 2007-2019 Mika Tuupola\r\n *\r\n * Licensed under the MIT license:\r\n *   http://www.opensource.org/licenses/mit-license.php\r\n *\r\n * Project home:\r\n *   https://appelsiini.net/projects/lazyload\r\n *\r\n * Version: 2.0.0-rc.2\r\n *\r\n */\r\n(function (root, factory) {\r\n  if (typeof exports === 'object') {\r\n    module.exports = factory(root)\r\n  } else if (typeof define === 'function' && define.amd) {\r\n    define([], factory)\r\n  } else {\r\n    root.LazyLoad = factory(root)\r\n  }\r\n})(typeof global !== 'undefined' ? global : this.window || this.global, function (root) {\r\n\r\n  'use strict'\r\n\r\n  if (typeof define === 'function' && define.amd) {\r\n    root = window\r\n  }\r\n\r\n  const defaults = {\r\n    src: 'data-src',\r\n    srcset: 'data-srcset',\r\n    selector: '.lazyload',\r\n    root: null,\r\n    rootMargin: '0px',\r\n    threshold: 0\r\n  }\r\n\r\n  /**\r\n   * Merge two or more objects. Returns a new object.\r\n   * @private\r\n   * @param {Boolean}  deep     If true, do a deep (or recursive) merge [optional]\r\n   * @param {Object}   objects  The objects to merge together\r\n   * @returns {Object}          Merged values of defaults and options\r\n   */\r\n  const extend = function () {\r\n\r\n    var extended = {}\r\n    var deep = false\r\n    var i = 0\r\n    var length = arguments.length\r\n\r\n    /* Check if a deep merge */\r\n    if (Object.prototype.toString.call(arguments[0]) === '[object Boolean]') {\r\n      deep = arguments[0]\r\n      i++\r\n    }\r\n\r\n    /* Merge the object into the extended object */\r\n    var merge = function (obj) {\r\n      for (var prop in obj) {\r\n        if (Object.prototype.hasOwnProperty.call(obj, prop)) {\r\n          /* If deep merge and property is an object, merge properties */\r\n          if (deep && Object.prototype.toString.call(obj[prop]) === '[object Object]') {\r\n            extended[prop] = extend(true, extended[prop], obj[prop])\r\n          } else {\r\n            extended[prop] = obj[prop]\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    /* Loop through each object and conduct a merge */\r\n    for (; i < length; i++) {\r\n      var obj = arguments[i]\r\n      merge(obj)\r\n    }\r\n\r\n    return extended\r\n  }\r\n\r\n  function LazyLoad (images, options) {\r\n    this.settings = extend(defaults, options || {})\r\n    this.images = images || document.querySelectorAll(this.settings.selector)\r\n    this.observer = null\r\n    this.init()\r\n  }\r\n\r\n  LazyLoad.prototype = {\r\n    init: function () {\r\n\r\n      /* Without observers load everything and bail out early. */\r\n      if (!root.IntersectionObserver) {\r\n        this.loadImages()\r\n        return\r\n      }\r\n\r\n      var self = this\r\n      var observerConfig = {\r\n        root: this.settings.root,\r\n        rootMargin: this.settings.rootMargin,\r\n        threshold: [this.settings.threshold]\r\n      }\r\n\r\n      this.observer = new IntersectionObserver(function (entries) {\r\n        Array.prototype.forEach.call(entries, function (entry) {\r\n          if (entry.isIntersecting) {\r\n            self.observer.unobserve(entry.target)\r\n            var src = entry.target.getAttribute(self.settings.src)\r\n            var srcset = entry.target.getAttribute(self.settings.srcset)\r\n            if ('img' === entry.target.tagName.toLowerCase()) {\r\n              if (src) {\r\n                entry.target.src = src\r\n              }\r\n              if (srcset) {\r\n                entry.target.srcset = srcset\r\n              }\r\n            } else {\r\n              entry.target.style.backgroundImage = 'url(' + src + ')'\r\n            }\r\n          }\r\n        })\r\n      }, observerConfig)\r\n\r\n      Array.prototype.forEach.call(this.images, function (image) {\r\n        self.observer.observe(image)\r\n      })\r\n    },\r\n\r\n    loadAndDestroy: function () {\r\n      if (!this.settings) { return }\r\n      this.loadImages()\r\n      this.destroy()\r\n    },\r\n\r\n    loadImages: function () {\r\n      if (!this.settings) { return }\r\n\r\n      var self = this\r\n      Array.prototype.forEach.call(this.images, function (image) {\r\n        var src = image.getAttribute(self.settings.src)\r\n        var srcset = image.getAttribute(self.settings.srcset)\r\n        if ('img' === image.tagName.toLowerCase()) {\r\n          if (src) {\r\n            image.src = src\r\n          }\r\n          if (srcset) {\r\n            image.srcset = srcset\r\n          }\r\n        } else {\r\n          image.style.backgroundImage = 'url(\\'' + src + '\\')'\r\n        }\r\n      })\r\n    },\r\n\r\n    destroy: function () {\r\n      if (!this.settings) { return }\r\n      this.observer.disconnect()\r\n      this.settings = null\r\n    }\r\n  }\r\n\r\n  root.lazyload = function (images, options) {\r\n    return new LazyLoad(images, options)\r\n  }\r\n\r\n  if (root.jQuery) {\r\n    const $ = root.jQuery\r\n    $.fn.lazyload = function (options) {\r\n      options = options || {}\r\n      options.attribute = options.attribute || 'data-src'\r\n      new LazyLoad($.makeArray(this), options)\r\n      return this\r\n    }\r\n  }\r\n\r\n  return LazyLoad\r\n})\r\n/* Modernizr 2.0.6 (Custom Build) | MIT & BSD */\r\n;window.Modernizr=function(a,b,c){function D(a,b){var c=a.charAt(0).toUpperCase()+a.substr(1),d=(a+\" \"+o.join(c+\" \")+c).split(\" \");return C(d,b)}function C(a,b){for(var d in a)if(k[a[d]]!==c)return b==\"pfx\"?a[d]:!0;return!1}function B(a,b){return!!~(\"\"+a).indexOf(b)}function A(a,b){return typeof a===b}function z(a,b){return y(n.join(a+\";\")+(b||\"\"))}function y(a){k.cssText=a}var d=\"2.0.6\",e={},f=!0,g=b.documentElement,h=b.head||b.getElementsByTagName(\"head\")[0],i=\"modernizr\",j=b.createElement(i),k=j.style,l,m=Object.prototype.toString,n=\" -webkit- -moz- -o- -ms- -khtml- \".split(\" \"),o=\"Webkit Moz O ms Khtml\".split(\" \"),p={},q={},r={},s=[],t=function(a,c,d,e){var f,h,j,k=b.createElement(\"div\");if(parseInt(d,10))while(d--)j=b.createElement(\"div\"),j.id=e?e[d]:i+(d+1),k.appendChild(j);f=[\"&shy;\",\"<style>\",a,\"</style>\"].join(\"\"),k.id=i,k.innerHTML+=f,g.appendChild(k),h=c(k,a),k.parentNode.removeChild(k);return!!h},u=function(b){if(a.matchMedia)return matchMedia(b).matches;var c;t(\"@media \"+b+\" { #\"+i+\" { position: absolute; } }\",function(b){c=(a.getComputedStyle?getComputedStyle(b,null):b.currentStyle).position==\"absolute\"});return c},v,w={}.hasOwnProperty,x;!A(w,c)&&!A(w.call,c)?x=function(a,b){return w.call(a,b)}:x=function(a,b){return b in a&&A(a.constructor.prototype[b],c)},p.rgba=function(){y(\"background-color:rgba(150,255,150,.5)\");return B(k.backgroundColor,\"rgba\")},p.boxshadow=function(){return D(\"boxShadow\")},p.csstransitions=function(){return D(\"transitionProperty\")};for(var E in p)x(p,E)&&(v=E.toLowerCase(),e[v]=p[E](),s.push((e[v]?\"\":\"no-\")+v));e.addTest=function(a,b){if(typeof a==\"object\")for(var d in a)x(a,d)&&e.addTest(d,a[d]);else{a=a.toLowerCase();if(e[a]!==c)return;b=typeof b==\"boolean\"?b:!!b(),g.className+=\" \"+(b?\"\":\"no-\")+a,e[a]=b}return e},y(\"\"),j=l=null,a.attachEvent&&function(){var a=b.createElement(\"div\");a.innerHTML=\"<elem></elem>\";return a.childNodes.length!==1}()&&function(a,b){function s(a){var b=-1;while(++b<g)a.createElement(f[b])}a.iepp=a.iepp||{};var d=a.iepp,e=d.html5elements||\"abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video\",f=e.split(\"|\"),g=f.length,h=new RegExp(\"(^|\\\\s)(\"+e+\")\",\"gi\"),i=new RegExp(\"<(/*)(\"+e+\")\",\"gi\"),j=/^\\s*[\\{\\}]\\s*$/,k=new RegExp(\"(^|[^\\\\n]*?\\\\s)(\"+e+\")([^\\\\n]*)({[\\\\n\\\\w\\\\W]*?})\",\"gi\"),l=b.createDocumentFragment(),m=b.documentElement,n=m.firstChild,o=b.createElement(\"body\"),p=b.createElement(\"style\"),q=/print|all/,r;d.getCSS=function(a,b){if(a+\"\"===c)return\"\";var e=-1,f=a.length,g,h=[];while(++e<f){g=a[e];if(g.disabled)continue;b=g.media||b,q.test(b)&&h.push(d.getCSS(g.imports,b),g.cssText),b=\"all\"}return h.join(\"\")},d.parseCSS=function(a){var b=[],c;while((c=k.exec(a))!=null)b.push(((j.exec(c[1])?\"\\n\":c[1])+c[2]+c[3]).replace(h,\"$1.iepp_$2\")+c[4]);return b.join(\"\\n\")},d.writeHTML=function(){var a=-1;r=r||b.body;while(++a<g){var c=b.getElementsByTagName(f[a]),d=c.length,e=-1;while(++e<d)c[e].className.indexOf(\"iepp_\")<0&&(c[e].className+=\" iepp_\"+f[a])}l.appendChild(r),m.appendChild(o),o.className=r.className,o.id=r.id,o.innerHTML=r.innerHTML.replace(i,\"<$1font\")},d._beforePrint=function(){p.styleSheet.cssText=d.parseCSS(d.getCSS(b.styleSheets,\"all\")),d.writeHTML()},d.restoreHTML=function(){o.innerHTML=\"\",m.removeChild(o),m.appendChild(r)},d._afterPrint=function(){d.restoreHTML(),p.styleSheet.cssText=\"\"},s(b),s(l);d.disablePP||(n.insertBefore(p,n.firstChild),p.media=\"print\",p.className=\"iepp-printshim\",a.attachEvent(\"onbeforeprint\",d._beforePrint),a.attachEvent(\"onafterprint\",d._afterPrint))}(a,b),e._version=d,e._prefixes=n,e._domPrefixes=o,e.mq=u,e.testProp=function(a){return C([a])},e.testAllProps=D,e.testStyles=t,g.className=g.className.replace(/\\bno-js\\b/,\"\")+(f?\" js \"+s.join(\" \"):\"\");return e}(this,this.document),function(a,b){function u(){r(!0)}a.respond={},respond.update=function(){},respond.mediaQueriesSupported=b;if(!b){var c=a.document,d=c.documentElement,e=[],f=[],g=[],h={},i=30,j=c.getElementsByTagName(\"head\")[0]||d,k=j.getElementsByTagName(\"link\"),l=[],m=function(){var b=k,c=b.length,d=0,e,f,g,i;for(;d<c;d++)e=b[d],f=e.href,g=e.media,i=e.rel&&e.rel.toLowerCase()===\"stylesheet\",!!f&&i&&!h[f]&&(!/^([a-zA-Z]+?:(\\/\\/)?(www\\.)?)/.test(f)||f.replace(RegExp.$1,\"\").split(\"/\")[0]===a.location.host?l.push({href:f,media:g}):h[f]=!0);n()},n=function(){if(l.length){var a=l.shift();s(a.href,function(b){o(b,a.href,a.media),h[a.href]=!0,n()})}},o=function(a,b,c){var d=a.match(/@media[^\\{]+\\{([^\\{\\}]+\\{[^\\}\\{]+\\})+/gi),g=d&&d.length||0,b=b.substring(0,b.lastIndexOf(\"/\")),h=function(a){return a.replace(/(url\\()['\"]?([^\\/\\)'\"][^:\\)'\"]+)['\"]?(\\))/g,\"$1\"+b+\"$2$3\")},i=!g&&c,j=0,k,l,m,n,o;b.length&&(b+=\"/\"),i&&(g=1);for(;j<g;j++){k=0,i?(l=c,f.push(h(a))):(l=d[j].match(/@media ([^\\{]+)\\{([\\S\\s]+?)$/)&&RegExp.$1,f.push(RegExp.$2&&h(RegExp.$2))),n=l.split(\",\"),o=n.length;for(;k<o;k++)m=n[k],e.push({media:m.match(/(only\\s+)?([a-zA-Z]+)(\\sand)?/)&&RegExp.$2,rules:f.length-1,minw:m.match(/\\(min\\-width:[\\s]*([\\s]*[0-9]+)px[\\s]*\\)/)&&parseFloat(RegExp.$1),maxw:m.match(/\\(max\\-width:[\\s]*([\\s]*[0-9]+)px[\\s]*\\)/)&&parseFloat(RegExp.$1)})}r()},p,q,r=function(a){var b=\"clientWidth\",h=d[b],l=c.compatMode===\"CSS1Compat\"&&h||c.body[b]||h,m={},n=c.createDocumentFragment(),o=k[k.length-1],s=(new Date).getTime();if(a&&p&&s-p<i)clearTimeout(q),q=setTimeout(r,i);else{p=s;for(var t in e){var u=e[t];if(!u.minw&&!u.maxw||(!u.minw||u.minw&&l>=u.minw)&&(!u.maxw||u.maxw&&l<=u.maxw))m[u.media]||(m[u.media]=[]),m[u.media].push(f[u.rules])}for(var t in g)g[t]&&g[t].parentNode===j&&j.removeChild(g[t]);for(var t in m){var v=c.createElement(\"style\"),w=m[t].join(\"\\n\");v.type=\"text/css\",v.media=t,v.styleSheet?v.styleSheet.cssText=w:v.appendChild(c.createTextNode(w)),n.appendChild(v),g.push(v)}j.insertBefore(n,o.nextSibling)}},s=function(a,b){var c=t();if(!!c){c.open(\"GET\",a,!0),c.onreadystatechange=function(){c.readyState==4&&(c.status==200||c.status==304)&&b(c.responseText)};if(c.readyState==4)return;c.send()}},t=function(){var a=!1,b=[function(){return new ActiveXObject(\"Microsoft.XMLHTTP\")},function(){return new XMLHttpRequest}],c=b.length;while(c--){try{a=b[c]()}catch(d){continue}break}return function(){return a}}();m(),respond.update=m,a.addEventListener?a.addEventListener(\"resize\",u,!1):a.attachEvent&&a.attachEvent(\"onresize\",u)}}(this,Modernizr.mq(\"only all\")),function(a,b,c){function k(a){return!a||a==\"loaded\"||a==\"complete\"}function j(){var a=1,b=-1;while(p.length- ++b)if(p[b].s&&!(a=p[b].r))break;a&&g()}function i(a){var c=b.createElement(\"script\"),d;c.src=a.s,c.onreadystatechange=c.onload=function(){!d&&k(c.readyState)&&(d=1,j(),c.onload=c.onreadystatechange=null)},m(function(){d||(d=1,j())},H.errorTimeout),a.e?c.onload():n.parentNode.insertBefore(c,n)}function h(a){var c=b.createElement(\"link\"),d;c.href=a.s,c.rel=\"stylesheet\",c.type=\"text/css\";if(!a.e&&(w||r)){var e=function(a){m(function(){if(!d)try{a.sheet.cssRules.length?(d=1,j()):e(a)}catch(b){b.code==1e3||b.message==\"security\"||b.message==\"denied\"?(d=1,m(function(){j()},0)):e(a)}},0)};e(c)}else c.onload=function(){d||(d=1,m(function(){j()},0))},a.e&&c.onload();m(function(){d||(d=1,j())},H.errorTimeout),!a.e&&n.parentNode.insertBefore(c,n)}function g(){var a=p.shift();q=1,a?a.t?m(function(){a.t==\"c\"?h(a):i(a)},0):(a(),j()):q=0}function f(a,c,d,e,f,h){function i(){!o&&k(l.readyState)&&(r.r=o=1,!q&&j(),l.onload=l.onreadystatechange=null,m(function(){u.removeChild(l)},0))}var l=b.createElement(a),o=0,r={t:d,s:c,e:h};l.src=l.data=c,!s&&(l.style.display=\"none\"),l.width=l.height=\"0\",a!=\"object\"&&(l.type=d),l.onload=l.onreadystatechange=i,a==\"img\"?l.onerror=i:a==\"script\"&&(l.onerror=function(){r.e=r.r=1,g()}),p.splice(e,0,r),u.insertBefore(l,s?null:n),m(function(){o||(u.removeChild(l),r.r=r.e=o=1,j())},H.errorTimeout)}function e(a,b,c){var d=b==\"c\"?z:y;q=0,b=b||\"j\",C(a)?f(d,a,b,this.i++,l,c):(p.splice(this.i++,0,a),p.length==1&&g());return this}function d(){var a=H;a.loader={load:e,i:0};return a}var l=b.documentElement,m=a.setTimeout,n=b.getElementsByTagName(\"script\")[0],o={}.toString,p=[],q=0,r=\"MozAppearance\"in l.style,s=r&&!!b.createRange().compareNode,t=r&&!s,u=s?l:n.parentNode,v=a.opera&&o.call(a.opera)==\"[object Opera]\",w=\"webkitAppearance\"in l.style,x=w&&\"async\"in b.createElement(\"script\"),y=r?\"object\":v||x?\"img\":\"script\",z=w?\"img\":y,A=Array.isArray||function(a){return o.call(a)==\"[object Array]\"},B=function(a){return Object(a)===a},C=function(a){return typeof a==\"string\"},D=function(a){return o.call(a)==\"[object Function]\"},E=[],F={},G,H;H=function(a){function f(a){var b=a.split(\"!\"),c=E.length,d=b.pop(),e=b.length,f={url:d,origUrl:d,prefixes:b},g,h;for(h=0;h<e;h++)g=F[b[h]],g&&(f=g(f));for(h=0;h<c;h++)f=E[h](f);return f}function e(a,b,e,g,h){var i=f(a),j=i.autoCallback;if(!i.bypass){b&&(b=D(b)?b:b[a]||b[g]||b[a.split(\"/\").pop().split(\"?\")[0]]);if(i.instead)return i.instead(a,b,e,g,h);e.load(i.url,i.forceCSS||!i.forceJS&&/css$/.test(i.url)?\"c\":c,i.noexec),(D(b)||D(j))&&e.load(function(){d(),b&&b(i.origUrl,h,g),j&&j(i.origUrl,h,g)})}}function b(a,b){function c(a){if(C(a))e(a,h,b,0,d);else if(B(a))for(i in a)a.hasOwnProperty(i)&&e(a[i],h,b,i,d)}var d=!!a.test,f=d?a.yep:a.nope,g=a.load||a.both,h=a.callback,i;c(f),c(g),a.complete&&b.load(a.complete)}var g,h,i=this.yepnope.loader;if(C(a))e(a,0,i,0);else if(A(a))for(g=0;g<a.length;g++)h=a[g],C(h)?e(h,0,i,0):A(h)?H(h):B(h)&&b(h,i);else B(a)&&b(a,i)},H.addPrefix=function(a,b){F[a]=b},H.addFilter=function(a){E.push(a)},H.errorTimeout=1e4,b.readyState==null&&b.addEventListener&&(b.readyState=\"loading\",b.addEventListener(\"DOMContentLoaded\",G=function(){b.removeEventListener(\"DOMContentLoaded\",G,0),b.readyState=\"complete\"},0)),a.yepnope=d()}(this,this.document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};\r\n/*! nouislider - 14.6.2 - 9/16/2020 */\r\n!function(t){\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?module.exports=t():window.noUiSlider=t()}(function(){\"use strict\";var lt=\"14.6.2\";function ut(t){t.parentElement.removeChild(t)}function a(t){return null!=t}function ct(t){t.preventDefault()}function o(t){return\"number\"==typeof t&&!isNaN(t)&&isFinite(t)}function pt(t,e,r){0<r&&(ht(t,e),setTimeout(function(){mt(t,e)},r))}function ft(t){return Math.max(Math.min(t,100),0)}function dt(t){return Array.isArray(t)?t:[t]}function e(t){var e=(t=String(t)).split(\".\");return 1<e.length?e[1].length:0}function ht(t,e){t.classList&&!/\\s/.test(e)?t.classList.add(e):t.className+=\" \"+e}function mt(t,e){t.classList&&!/\\s/.test(e)?t.classList.remove(e):t.className=t.className.replace(new RegExp(\"(^|\\\\b)\"+e.split(\" \").join(\"|\")+\"(\\\\b|$)\",\"gi\"),\" \")}function gt(t){var e=void 0!==window.pageXOffset,r=\"CSS1Compat\"===(t.compatMode||\"\");return{x:e?window.pageXOffset:r?t.documentElement.scrollLeft:t.body.scrollLeft,y:e?window.pageYOffset:r?t.documentElement.scrollTop:t.body.scrollTop}}function c(t,e){return 100/(e-t)}function p(t,e,r){return 100*e/(t[r+1]-t[r])}function f(t,e){for(var r=1;t>=e[r];)r+=1;return r}function r(t,e,r){if(r>=t.slice(-1)[0])return 100;var n,i,o=f(r,t),s=t[o-1],a=t[o],l=e[o-1],u=e[o];return l+(i=r,p(n=[s,a],n[0]<0?i+Math.abs(n[0]):i-n[0],0)/c(l,u))}function n(t,e,r,n){if(100===n)return n;var i,o,s=f(n,t),a=t[s-1],l=t[s];return r?(l-a)/2<n-a?l:a:e[s-1]?t[s-1]+(i=n-t[s-1],o=e[s-1],Math.round(i/o)*o):n}function s(t,e,r){var n;if(\"number\"==typeof e&&(e=[e]),!Array.isArray(e))throw new Error(\"noUiSlider (\"+lt+\"): 'range' contains invalid value.\");if(!o(n=\"min\"===t?0:\"max\"===t?100:parseFloat(t))||!o(e[0]))throw new Error(\"noUiSlider (\"+lt+\"): 'range' value isn't numeric.\");r.xPct.push(n),r.xVal.push(e[0]),n?r.xSteps.push(!isNaN(e[1])&&e[1]):isNaN(e[1])||(r.xSteps[0]=e[1]),r.xHighestCompleteStep.push(0)}function l(t,e,r){if(e)if(r.xVal[t]!==r.xVal[t+1]){r.xSteps[t]=p([r.xVal[t],r.xVal[t+1]],e,0)/c(r.xPct[t],r.xPct[t+1]);var n=(r.xVal[t+1]-r.xVal[t])/r.xNumSteps[t],i=Math.ceil(Number(n.toFixed(3))-1),o=r.xVal[t]+r.xNumSteps[t]*i;r.xHighestCompleteStep[t]=o}else r.xSteps[t]=r.xHighestCompleteStep[t]=r.xVal[t]}function i(t,e,r){var n;this.xPct=[],this.xVal=[],this.xSteps=[r||!1],this.xNumSteps=[!1],this.xHighestCompleteStep=[],this.snap=e;var i=[];for(n in t)t.hasOwnProperty(n)&&i.push([t[n],n]);for(i.length&&\"object\"==typeof i[0][0]?i.sort(function(t,e){return t[0][0]-e[0][0]}):i.sort(function(t,e){return t[0]-e[0]}),n=0;n<i.length;n++)s(i[n][1],i[n][0],this);for(this.xNumSteps=this.xSteps.slice(0),n=0;n<this.xNumSteps.length;n++)l(n,this.xNumSteps[n],this)}i.prototype.getDistance=function(t){var e,r=[];for(e=0;e<this.xNumSteps.length-1;e++){var n=this.xNumSteps[e];if(n&&t/n%1!=0)throw new Error(\"noUiSlider (\"+lt+\"): 'limit', 'margin' and 'padding' of \"+this.xPct[e]+\"% range must be divisible by step.\");r[e]=p(this.xVal,t,e)}return r},i.prototype.getAbsoluteDistance=function(t,e,r){var n,i=0;if(t<this.xPct[this.xPct.length-1])for(;t>this.xPct[i+1];)i++;else t===this.xPct[this.xPct.length-1]&&(i=this.xPct.length-2);r||t!==this.xPct[i+1]||i++;var o=1,s=e[i],a=0,l=0,u=0,c=0;for(n=r?(t-this.xPct[i])/(this.xPct[i+1]-this.xPct[i]):(this.xPct[i+1]-t)/(this.xPct[i+1]-this.xPct[i]);0<s;)a=this.xPct[i+1+c]-this.xPct[i+c],100<e[i+c]*o+100-100*n?(l=a*n,o=(s-100*n)/e[i+c],n=1):(l=e[i+c]*a/100*o,o=0),r?(u-=l,1<=this.xPct.length+c&&c--):(u+=l,1<=this.xPct.length-c&&c++),s=e[i+c]*o;return t+u},i.prototype.toStepping=function(t){return t=r(this.xVal,this.xPct,t)},i.prototype.fromStepping=function(t){return function(t,e,r){if(100<=r)return t.slice(-1)[0];var n,i=f(r,e),o=t[i-1],s=t[i],a=e[i-1],l=e[i];return n=[o,s],(r-a)*c(a,l)*(n[1]-n[0])/100+n[0]}(this.xVal,this.xPct,t)},i.prototype.getStep=function(t){return t=n(this.xPct,this.xSteps,this.snap,t)},i.prototype.getDefaultStep=function(t,e,r){var n=f(t,this.xPct);return(100===t||e&&t===this.xPct[n-1])&&(n=Math.max(n-1,1)),(this.xVal[n]-this.xVal[n-1])/r},i.prototype.getNearbySteps=function(t){var e=f(t,this.xPct);return{stepBefore:{startValue:this.xVal[e-2],step:this.xNumSteps[e-2],highestStep:this.xHighestCompleteStep[e-2]},thisStep:{startValue:this.xVal[e-1],step:this.xNumSteps[e-1],highestStep:this.xHighestCompleteStep[e-1]},stepAfter:{startValue:this.xVal[e],step:this.xNumSteps[e],highestStep:this.xHighestCompleteStep[e]}}},i.prototype.countStepDecimals=function(){var t=this.xNumSteps.map(e);return Math.max.apply(null,t)},i.prototype.convert=function(t){return this.getStep(this.toStepping(t))};var u={to:function(t){return void 0!==t&&t.toFixed(0)},from:Number},d={target:\"target\",base:\"base\",origin:\"origin\",handle:\"handle\",handleLower:\"handle-lower\",handleUpper:\"handle-upper\",touchArea:\"touch-area\",horizontal:\"horizontal\",vertical:\"vertical\",background:\"background\",connect:\"connect\",connects:\"connects\",ltr:\"ltr\",rtl:\"rtl\",textDirectionLtr:\"txt-dir-ltr\",textDirectionRtl:\"txt-dir-rtl\",draggable:\"draggable\",drag:\"state-drag\",tap:\"state-tap\",active:\"active\",tooltip:\"tooltip\",pips:\"pips\",pipsHorizontal:\"pips-horizontal\",pipsVertical:\"pips-vertical\",marker:\"marker\",markerHorizontal:\"marker-horizontal\",markerVertical:\"marker-vertical\",markerNormal:\"marker-normal\",markerLarge:\"marker-large\",markerSub:\"marker-sub\",value:\"value\",valueHorizontal:\"value-horizontal\",valueVertical:\"value-vertical\",valueNormal:\"value-normal\",valueLarge:\"value-large\",valueSub:\"value-sub\"};function h(t){if(\"object\"==typeof(e=t)&&\"function\"==typeof e.to&&\"function\"==typeof e.from)return!0;var e;throw new Error(\"noUiSlider (\"+lt+\"): 'format' requires 'to' and 'from' methods.\")}function m(t,e){if(!o(e))throw new Error(\"noUiSlider (\"+lt+\"): 'step' is not numeric.\");t.singleStep=e}function g(t,e){if(!o(e))throw new Error(\"noUiSlider (\"+lt+\"): 'keyboardPageMultiplier' is not numeric.\");t.keyboardPageMultiplier=e}function v(t,e){if(!o(e))throw new Error(\"noUiSlider (\"+lt+\"): 'keyboardDefaultStep' is not numeric.\");t.keyboardDefaultStep=e}function b(t,e){if(\"object\"!=typeof e||Array.isArray(e))throw new Error(\"noUiSlider (\"+lt+\"): 'range' is not an object.\");if(void 0===e.min||void 0===e.max)throw new Error(\"noUiSlider (\"+lt+\"): Missing 'min' or 'max' in 'range'.\");if(e.min===e.max)throw new Error(\"noUiSlider (\"+lt+\"): 'range' 'min' and 'max' cannot be equal.\");t.spectrum=new i(e,t.snap,t.singleStep)}function x(t,e){if(e=dt(e),!Array.isArray(e)||!e.length)throw new Error(\"noUiSlider (\"+lt+\"): 'start' option is incorrect.\");t.handles=e.length,t.start=e}function S(t,e){if(\"boolean\"!=typeof(t.snap=e))throw new Error(\"noUiSlider (\"+lt+\"): 'snap' option must be a boolean.\")}function w(t,e){if(\"boolean\"!=typeof(t.animate=e))throw new Error(\"noUiSlider (\"+lt+\"): 'animate' option must be a boolean.\")}function y(t,e){if(\"number\"!=typeof(t.animationDuration=e))throw new Error(\"noUiSlider (\"+lt+\"): 'animationDuration' option must be a number.\")}function E(t,e){var r,n=[!1];if(\"lower\"===e?e=[!0,!1]:\"upper\"===e&&(e=[!1,!0]),!0===e||!1===e){for(r=1;r<t.handles;r++)n.push(e);n.push(!1)}else{if(!Array.isArray(e)||!e.length||e.length!==t.handles+1)throw new Error(\"noUiSlider (\"+lt+\"): 'connect' option doesn't match handle count.\");n=e}t.connect=n}function C(t,e){switch(e){case\"horizontal\":t.ort=0;break;case\"vertical\":t.ort=1;break;default:throw new Error(\"noUiSlider (\"+lt+\"): 'orientation' option is invalid.\")}}function P(t,e){if(!o(e))throw new Error(\"noUiSlider (\"+lt+\"): 'margin' option must be numeric.\");0!==e&&(t.margin=t.spectrum.getDistance(e))}function N(t,e){if(!o(e))throw new Error(\"noUiSlider (\"+lt+\"): 'limit' option must be numeric.\");if(t.limit=t.spectrum.getDistance(e),!t.limit||t.handles<2)throw new Error(\"noUiSlider (\"+lt+\"): 'limit' option is only supported on linear sliders with 2 or more handles.\")}function k(t,e){var r;if(!o(e)&&!Array.isArray(e))throw new Error(\"noUiSlider (\"+lt+\"): 'padding' option must be numeric or array of exactly 2 numbers.\");if(Array.isArray(e)&&2!==e.length&&!o(e[0])&&!o(e[1]))throw new Error(\"noUiSlider (\"+lt+\"): 'padding' option must be numeric or array of exactly 2 numbers.\");if(0!==e){for(Array.isArray(e)||(e=[e,e]),t.padding=[t.spectrum.getDistance(e[0]),t.spectrum.getDistance(e[1])],r=0;r<t.spectrum.xNumSteps.length-1;r++)if(t.padding[0][r]<0||t.padding[1][r]<0)throw new Error(\"noUiSlider (\"+lt+\"): 'padding' option must be a positive number(s).\");var n=e[0]+e[1],i=t.spectrum.xVal[0];if(1<n/(t.spectrum.xVal[t.spectrum.xVal.length-1]-i))throw new Error(\"noUiSlider (\"+lt+\"): 'padding' option must not exceed 100% of the range.\")}}function U(t,e){switch(e){case\"ltr\":t.dir=0;break;case\"rtl\":t.dir=1;break;default:throw new Error(\"noUiSlider (\"+lt+\"): 'direction' option was not recognized.\")}}function A(t,e){if(\"string\"!=typeof e)throw new Error(\"noUiSlider (\"+lt+\"): 'behaviour' must be a string containing options.\");var r=0<=e.indexOf(\"tap\"),n=0<=e.indexOf(\"drag\"),i=0<=e.indexOf(\"fixed\"),o=0<=e.indexOf(\"snap\"),s=0<=e.indexOf(\"hover\"),a=0<=e.indexOf(\"unconstrained\");if(i){if(2!==t.handles)throw new Error(\"noUiSlider (\"+lt+\"): 'fixed' behaviour must be used with 2 handles\");P(t,t.start[1]-t.start[0])}if(a&&(t.margin||t.limit))throw new Error(\"noUiSlider (\"+lt+\"): 'unconstrained' behaviour cannot be used with margin or limit\");t.events={tap:r||o,drag:n,fixed:i,snap:o,hover:s,unconstrained:a}}function V(t,e){if(!1!==e)if(!0===e){t.tooltips=[];for(var r=0;r<t.handles;r++)t.tooltips.push(!0)}else{if(t.tooltips=dt(e),t.tooltips.length!==t.handles)throw new Error(\"noUiSlider (\"+lt+\"): must pass a formatter for all handles.\");t.tooltips.forEach(function(t){if(\"boolean\"!=typeof t&&(\"object\"!=typeof t||\"function\"!=typeof t.to))throw new Error(\"noUiSlider (\"+lt+\"): 'tooltips' must be passed a formatter or 'false'.\")})}}function D(t,e){h(t.ariaFormat=e)}function M(t,e){h(t.format=e)}function O(t,e){if(\"boolean\"!=typeof(t.keyboardSupport=e))throw new Error(\"noUiSlider (\"+lt+\"): 'keyboardSupport' option must be a boolean.\")}function L(t,e){t.documentElement=e}function z(t,e){if(\"string\"!=typeof e&&!1!==e)throw new Error(\"noUiSlider (\"+lt+\"): 'cssPrefix' must be a string or `false`.\");t.cssPrefix=e}function H(t,e){if(\"object\"!=typeof e)throw new Error(\"noUiSlider (\"+lt+\"): 'cssClasses' must be an object.\");if(\"string\"==typeof t.cssPrefix)for(var r in t.cssClasses={},e)e.hasOwnProperty(r)&&(t.cssClasses[r]=t.cssPrefix+e[r]);else t.cssClasses=e}function vt(e){var r={margin:0,limit:0,padding:0,animate:!0,animationDuration:300,ariaFormat:u,format:u},n={step:{r:!1,t:m},keyboardPageMultiplier:{r:!1,t:g},keyboardDefaultStep:{r:!1,t:v},start:{r:!0,t:x},connect:{r:!0,t:E},direction:{r:!0,t:U},snap:{r:!1,t:S},animate:{r:!1,t:w},animationDuration:{r:!1,t:y},range:{r:!0,t:b},orientation:{r:!1,t:C},margin:{r:!1,t:P},limit:{r:!1,t:N},padding:{r:!1,t:k},behaviour:{r:!0,t:A},ariaFormat:{r:!1,t:D},format:{r:!1,t:M},tooltips:{r:!1,t:V},keyboardSupport:{r:!0,t:O},documentElement:{r:!1,t:L},cssPrefix:{r:!0,t:z},cssClasses:{r:!0,t:H}},i={connect:!1,direction:\"ltr\",behaviour:\"tap\",orientation:\"horizontal\",keyboardSupport:!0,cssPrefix:\"noUi-\",cssClasses:d,keyboardPageMultiplier:5,keyboardDefaultStep:10};e.format&&!e.ariaFormat&&(e.ariaFormat=e.format),Object.keys(n).forEach(function(t){if(!a(e[t])&&void 0===i[t]){if(n[t].r)throw new Error(\"noUiSlider (\"+lt+\"): '\"+t+\"' is required.\");return!0}n[t].t(r,a(e[t])?e[t]:i[t])}),r.pips=e.pips;var t=document.createElement(\"div\"),o=void 0!==t.style.msTransform,s=void 0!==t.style.transform;r.transformRule=s?\"transform\":o?\"msTransform\":\"webkitTransform\";return r.style=[[\"left\",\"top\"],[\"right\",\"bottom\"]][r.dir][r.ort],r}function j(t,b,o){var l,u,s,c,i,a,e,p,f=window.navigator.pointerEnabled?{start:\"pointerdown\",move:\"pointermove\",end:\"pointerup\"}:window.navigator.msPointerEnabled?{start:\"MSPointerDown\",move:\"MSPointerMove\",end:\"MSPointerUp\"}:{start:\"mousedown touchstart\",move:\"mousemove touchmove\",end:\"mouseup touchend\"},d=window.CSS&&CSS.supports&&CSS.supports(\"touch-action\",\"none\")&&function(){var t=!1;try{var e=Object.defineProperty({},\"passive\",{get:function(){t=!0}});window.addEventListener(\"test\",null,e)}catch(t){}return t}(),h=t,y=b.spectrum,x=[],S=[],m=[],g=0,v={},w=t.ownerDocument,E=b.documentElement||w.documentElement,C=w.body,P=-1,N=0,k=1,U=2,A=\"rtl\"===w.dir||1===b.ort?0:100;function V(t,e){var r=w.createElement(\"div\");return e&&ht(r,e),t.appendChild(r),r}function D(t,e){var r=V(t,b.cssClasses.origin),n=V(r,b.cssClasses.handle);return V(n,b.cssClasses.touchArea),n.setAttribute(\"data-handle\",e),b.keyboardSupport&&(n.setAttribute(\"tabindex\",\"0\"),n.addEventListener(\"keydown\",function(t){return function(t,e){if(O()||L(e))return!1;var r=[\"Left\",\"Right\"],n=[\"Down\",\"Up\"],i=[\"PageDown\",\"PageUp\"],o=[\"Home\",\"End\"];b.dir&&!b.ort?r.reverse():b.ort&&!b.dir&&(n.reverse(),i.reverse());var s,a=t.key.replace(\"Arrow\",\"\"),l=a===i[0],u=a===i[1],c=a===n[0]||a===r[0]||l,p=a===n[1]||a===r[1]||u,f=a===o[0],d=a===o[1];if(!(c||p||f||d))return!0;if(t.preventDefault(),p||c){var h=b.keyboardPageMultiplier,m=c?0:1,g=at(e),v=g[m];if(null===v)return!1;!1===v&&(v=y.getDefaultStep(S[e],c,b.keyboardDefaultStep)),(u||l)&&(v*=h),v=Math.max(v,1e-7),v*=c?-1:1,s=x[e]+v}else s=d?b.spectrum.xVal[b.spectrum.xVal.length-1]:b.spectrum.xVal[0];return rt(e,y.toStepping(s),!0,!0),J(\"slide\",e),J(\"update\",e),J(\"change\",e),J(\"set\",e),!1}(t,e)})),n.setAttribute(\"role\",\"slider\"),n.setAttribute(\"aria-orientation\",b.ort?\"vertical\":\"horizontal\"),0===e?ht(n,b.cssClasses.handleLower):e===b.handles-1&&ht(n,b.cssClasses.handleUpper),r}function M(t,e){return!!e&&V(t,b.cssClasses.connect)}function r(t,e){return!!b.tooltips[e]&&V(t.firstChild,b.cssClasses.tooltip)}function O(){return h.hasAttribute(\"disabled\")}function L(t){return u[t].hasAttribute(\"disabled\")}function z(){i&&(G(\"update.tooltips\"),i.forEach(function(t){t&&ut(t)}),i=null)}function H(){z(),i=u.map(r),$(\"update.tooltips\",function(t,e,r){if(i[e]){var n=t[e];!0!==b.tooltips[e]&&(n=b.tooltips[e].to(r[e])),i[e].innerHTML=n}})}function j(e,i,o){var s=w.createElement(\"div\"),a=[];a[N]=b.cssClasses.valueNormal,a[k]=b.cssClasses.valueLarge,a[U]=b.cssClasses.valueSub;var l=[];l[N]=b.cssClasses.markerNormal,l[k]=b.cssClasses.markerLarge,l[U]=b.cssClasses.markerSub;var u=[b.cssClasses.valueHorizontal,b.cssClasses.valueVertical],c=[b.cssClasses.markerHorizontal,b.cssClasses.markerVertical];function p(t,e){var r=e===b.cssClasses.value,n=r?a:l;return e+\" \"+(r?u:c)[b.ort]+\" \"+n[t]}return ht(s,b.cssClasses.pips),ht(s,0===b.ort?b.cssClasses.pipsHorizontal:b.cssClasses.pipsVertical),Object.keys(e).forEach(function(t){!function(t,e,r){if((r=i?i(e,r):r)!==P){var n=V(s,!1);n.className=p(r,b.cssClasses.marker),n.style[b.style]=t+\"%\",N<r&&((n=V(s,!1)).className=p(r,b.cssClasses.value),n.setAttribute(\"data-value\",e),n.style[b.style]=t+\"%\",n.innerHTML=o.to(e))}}(t,e[t][0],e[t][1])}),s}function F(){c&&(ut(c),c=null)}function R(t){F();var m,g,v,b,e,r,x,S,w,n=t.mode,i=t.density||1,o=t.filter||!1,s=function(t,e,r){if(\"range\"===t||\"steps\"===t)return y.xVal;if(\"count\"===t){if(e<2)throw new Error(\"noUiSlider (\"+lt+\"): 'values' (>= 2) required for mode 'count'.\");var n=e-1,i=100/n;for(e=[];n--;)e[n]=n*i;e.push(100),t=\"positions\"}return\"positions\"===t?e.map(function(t){return y.fromStepping(r?y.getStep(t):t)}):\"values\"===t?r?e.map(function(t){return y.fromStepping(y.getStep(y.toStepping(t)))}):e:void 0}(n,t.values||!1,t.stepped||!1),a=(m=i,g=n,v=s,b={},e=y.xVal[0],r=y.xVal[y.xVal.length-1],S=x=!1,w=0,(v=v.slice().sort(function(t,e){return t-e}).filter(function(t){return!this[t]&&(this[t]=!0)},{}))[0]!==e&&(v.unshift(e),x=!0),v[v.length-1]!==r&&(v.push(r),S=!0),v.forEach(function(t,e){var r,n,i,o,s,a,l,u,c,p,f=t,d=v[e+1],h=\"steps\"===g;if(h&&(r=y.xNumSteps[e]),r||(r=d-f),!1!==f)for(void 0===d&&(d=f),r=Math.max(r,1e-7),n=f;n<=d;n=(n+r).toFixed(7)/1){for(u=(s=(o=y.toStepping(n))-w)/m,p=s/(c=Math.round(u)),i=1;i<=c;i+=1)b[(a=w+i*p).toFixed(5)]=[y.fromStepping(a),0];l=-1<v.indexOf(n)?k:h?U:N,!e&&x&&n!==d&&(l=0),n===d&&S||(b[o.toFixed(5)]=[n,l]),w=o}}),b),l=t.format||{to:Math.round};return c=h.appendChild(j(a,o,l))}function T(){var t=l.getBoundingClientRect(),e=\"offset\"+[\"Width\",\"Height\"][b.ort];return 0===b.ort?t.width||l[e]:t.height||l[e]}function B(n,i,o,s){var e=function(t){return!!(t=function(t,e,r){var n,i,o=0===t.type.indexOf(\"touch\"),s=0===t.type.indexOf(\"mouse\"),a=0===t.type.indexOf(\"pointer\");0===t.type.indexOf(\"MSPointer\")&&(a=!0);if(\"mousedown\"===t.type&&!t.buttons&&!t.touches)return!1;if(o){var l=function(t){return t.target===r||r.contains(t.target)||t.target.shadowRoot&&t.target.shadowRoot.contains(r)};if(\"touchstart\"===t.type){var u=Array.prototype.filter.call(t.touches,l);if(1<u.length)return!1;n=u[0].pageX,i=u[0].pageY}else{var c=Array.prototype.find.call(t.changedTouches,l);if(!c)return!1;n=c.pageX,i=c.pageY}}e=e||gt(w),(s||a)&&(n=t.clientX+e.x,i=t.clientY+e.y);return t.pageOffset=e,t.points=[n,i],t.cursor=s||a,t}(t,s.pageOffset,s.target||i))&&(!(O()&&!s.doNotReject)&&(e=h,r=b.cssClasses.tap,!((e.classList?e.classList.contains(r):new RegExp(\"\\\\b\"+r+\"\\\\b\").test(e.className))&&!s.doNotReject)&&(!(n===f.start&&void 0!==t.buttons&&1<t.buttons)&&((!s.hover||!t.buttons)&&(d||t.preventDefault(),t.calcPoint=t.points[b.ort],void o(t,s))))));var e,r},r=[];return n.split(\" \").forEach(function(t){i.addEventListener(t,e,!!d&&{passive:!0}),r.push([t,e])}),r}function q(t){var e,r,n,i,o,s,a=100*(t-(e=l,r=b.ort,n=e.getBoundingClientRect(),i=e.ownerDocument,o=i.documentElement,s=gt(i),/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(s.x=0),r?n.top+s.y-o.clientTop:n.left+s.x-o.clientLeft))/T();return a=ft(a),b.dir?100-a:a}function X(t,e){\"mouseout\"===t.type&&\"HTML\"===t.target.nodeName&&null===t.relatedTarget&&_(t,e)}function Y(t,e){if(-1===navigator.appVersion.indexOf(\"MSIE 9\")&&0===t.buttons&&0!==e.buttonsProperty)return _(t,e);var r=(b.dir?-1:1)*(t.calcPoint-e.startCalcPoint);Z(0<r,100*r/e.baseSize,e.locations,e.handleNumbers)}function _(t,e){e.handle&&(mt(e.handle,b.cssClasses.active),g-=1),e.listeners.forEach(function(t){E.removeEventListener(t[0],t[1])}),0===g&&(mt(h,b.cssClasses.drag),et(),t.cursor&&(C.style.cursor=\"\",C.removeEventListener(\"selectstart\",ct))),e.handleNumbers.forEach(function(t){J(\"change\",t),J(\"set\",t),J(\"end\",t)})}function I(t,e){if(e.handleNumbers.some(L))return!1;var r;1===e.handleNumbers.length&&(r=u[e.handleNumbers[0]].children[0],g+=1,ht(r,b.cssClasses.active));t.stopPropagation();var n=[],i=B(f.move,E,Y,{target:t.target,handle:r,listeners:n,startCalcPoint:t.calcPoint,baseSize:T(),pageOffset:t.pageOffset,handleNumbers:e.handleNumbers,buttonsProperty:t.buttons,locations:S.slice()}),o=B(f.end,E,_,{target:t.target,handle:r,listeners:n,doNotReject:!0,handleNumbers:e.handleNumbers}),s=B(\"mouseout\",E,X,{target:t.target,handle:r,listeners:n,doNotReject:!0,handleNumbers:e.handleNumbers});n.push.apply(n,i.concat(o,s)),t.cursor&&(C.style.cursor=getComputedStyle(t.target).cursor,1<u.length&&ht(h,b.cssClasses.drag),C.addEventListener(\"selectstart\",ct,!1)),e.handleNumbers.forEach(function(t){J(\"start\",t)})}function n(t){t.stopPropagation();var i,o,s,e=q(t.calcPoint),r=(i=e,s=!(o=100),u.forEach(function(t,e){if(!L(e)){var r=S[e],n=Math.abs(r-i);(n<o||n<=o&&r<i||100===n&&100===o)&&(s=e,o=n)}}),s);if(!1===r)return!1;b.events.snap||pt(h,b.cssClasses.tap,b.animationDuration),rt(r,e,!0,!0),et(),J(\"slide\",r,!0),J(\"update\",r,!0),J(\"change\",r,!0),J(\"set\",r,!0),b.events.snap&&I(t,{handleNumbers:[r]})}function W(t){var e=q(t.calcPoint),r=y.getStep(e),n=y.fromStepping(r);Object.keys(v).forEach(function(t){\"hover\"===t.split(\".\")[0]&&v[t].forEach(function(t){t.call(a,n)})})}function $(t,e){v[t]=v[t]||[],v[t].push(e),\"update\"===t.split(\".\")[0]&&u.forEach(function(t,e){J(\"update\",e)})}function G(t){var n=t&&t.split(\".\")[0],i=n&&t.substring(n.length);Object.keys(v).forEach(function(t){var e=t.split(\".\")[0],r=t.substring(e.length);n&&n!==e||i&&i!==r||delete v[t]})}function J(r,n,i){Object.keys(v).forEach(function(t){var e=t.split(\".\")[0];r===e&&v[t].forEach(function(t){t.call(a,x.map(b.format.to),n,x.slice(),i||!1,S.slice(),a)})})}function K(t,e,r,n,i,o){var s;return 1<u.length&&!b.events.unconstrained&&(n&&0<e&&(s=y.getAbsoluteDistance(t[e-1],b.margin,0),r=Math.max(r,s)),i&&e<u.length-1&&(s=y.getAbsoluteDistance(t[e+1],b.margin,1),r=Math.min(r,s))),1<u.length&&b.limit&&(n&&0<e&&(s=y.getAbsoluteDistance(t[e-1],b.limit,0),r=Math.min(r,s)),i&&e<u.length-1&&(s=y.getAbsoluteDistance(t[e+1],b.limit,1),r=Math.max(r,s))),b.padding&&(0===e&&(s=y.getAbsoluteDistance(0,b.padding[0],0),r=Math.max(r,s)),e===u.length-1&&(s=y.getAbsoluteDistance(100,b.padding[1],1),r=Math.min(r,s))),!((r=ft(r=y.getStep(r)))===t[e]&&!o)&&r}function Q(t,e){var r=b.ort;return(r?e:t)+\", \"+(r?t:e)}function Z(t,n,r,e){var i=r.slice(),o=[!t,t],s=[t,!t];e=e.slice(),t&&e.reverse(),1<e.length?e.forEach(function(t,e){var r=K(i,t,i[t]+n,o[e],s[e],!1);!1===r?n=0:(n=r-i[t],i[t]=r)}):o=s=[!0];var a=!1;e.forEach(function(t,e){a=rt(t,r[t]+n,o[e],s[e])||a}),a&&e.forEach(function(t){J(\"update\",t),J(\"slide\",t)})}function tt(t,e){return b.dir?100-t-e:t}function et(){m.forEach(function(t){var e=50<S[t]?-1:1,r=3+(u.length+e*t);u[t].style.zIndex=r})}function rt(t,e,r,n,i){return i||(e=K(S,t,e,r,n,!1)),!1!==e&&(function(t,e){S[t]=e,x[t]=y.fromStepping(e);var r=\"translate(\"+Q(10*(tt(e,0)-A)+\"%\",\"0\")+\")\";u[t].style[b.transformRule]=r,nt(t),nt(t+1)}(t,e),!0)}function nt(t){if(s[t]){var e=0,r=100;0!==t&&(e=S[t-1]),t!==s.length-1&&(r=S[t]);var n=r-e,i=\"translate(\"+Q(tt(e,n)+\"%\",\"0\")+\")\",o=\"scale(\"+Q(n/100,\"1\")+\")\";s[t].style[b.transformRule]=i+\" \"+o}}function it(t,e){return null===t||!1===t||void 0===t?S[e]:(\"number\"==typeof t&&(t=String(t)),t=b.format.from(t),!1===(t=y.toStepping(t))||isNaN(t)?S[e]:t)}function ot(t,e,r){var n=dt(t),i=void 0===S[0];e=void 0===e||!!e,b.animate&&!i&&pt(h,b.cssClasses.tap,b.animationDuration),m.forEach(function(t){rt(t,it(n[t],t),!0,!1,r)});for(var o=1===m.length?0:1;o<m.length;++o)m.forEach(function(t){rt(t,S[t],!0,!0,r)});et(),m.forEach(function(t){J(\"update\",t),null!==n[t]&&e&&J(\"set\",t)})}function st(){var t=x.map(b.format.to);return 1===t.length?t[0]:t}function at(t){var e=S[t],r=y.getNearbySteps(e),n=x[t],i=r.thisStep.step,o=null;if(b.snap)return[n-r.stepBefore.startValue||null,r.stepAfter.startValue-n||null];!1!==i&&n+i>r.stepAfter.startValue&&(i=r.stepAfter.startValue-n),o=n>r.thisStep.startValue?r.thisStep.step:!1!==r.stepBefore.step&&n-r.stepBefore.highestStep,100===e?i=null:0===e&&(o=null);var s=y.countStepDecimals();return null!==i&&!1!==i&&(i=Number(i.toFixed(s))),null!==o&&!1!==o&&(o=Number(o.toFixed(s))),[o,i]}return ht(e=h,b.cssClasses.target),0===b.dir?ht(e,b.cssClasses.ltr):ht(e,b.cssClasses.rtl),0===b.ort?ht(e,b.cssClasses.horizontal):ht(e,b.cssClasses.vertical),ht(e,\"rtl\"===getComputedStyle(e).direction?b.cssClasses.textDirectionRtl:b.cssClasses.textDirectionLtr),l=V(e,b.cssClasses.base),function(t,e){var r=V(e,b.cssClasses.connects);u=[],(s=[]).push(M(r,t[0]));for(var n=0;n<b.handles;n++)u.push(D(e,n)),m[n]=n,s.push(M(r,t[n+1]))}(b.connect,l),(p=b.events).fixed||u.forEach(function(t,e){B(f.start,t.children[0],I,{handleNumbers:[e]})}),p.tap&&B(f.start,l,n,{}),p.hover&&B(f.move,l,W,{hover:!0}),p.drag&&s.forEach(function(t,e){if(!1!==t&&0!==e&&e!==s.length-1){var r=u[e-1],n=u[e],i=[t];ht(t,b.cssClasses.draggable),p.fixed&&(i.push(r.children[0]),i.push(n.children[0])),i.forEach(function(t){B(f.start,t,I,{handles:[r,n],handleNumbers:[e-1,e]})})}}),ot(b.start),b.pips&&R(b.pips),b.tooltips&&H(),$(\"update\",function(t,e,s,r,a){m.forEach(function(t){var e=u[t],r=K(S,t,0,!0,!0,!0),n=K(S,t,100,!0,!0,!0),i=a[t],o=b.ariaFormat.to(s[t]);r=y.fromStepping(r).toFixed(1),n=y.fromStepping(n).toFixed(1),i=y.fromStepping(i).toFixed(1),e.children[0].setAttribute(\"aria-valuemin\",r),e.children[0].setAttribute(\"aria-valuemax\",n),e.children[0].setAttribute(\"aria-valuenow\",i),e.children[0].setAttribute(\"aria-valuetext\",o)})}),a={destroy:function(){for(var t in b.cssClasses)b.cssClasses.hasOwnProperty(t)&&mt(h,b.cssClasses[t]);for(;h.firstChild;)h.removeChild(h.firstChild);delete h.noUiSlider},steps:function(){return m.map(at)},on:$,off:G,get:st,set:ot,setHandle:function(t,e,r,n){if(!(0<=(t=Number(t))&&t<m.length))throw new Error(\"noUiSlider (\"+lt+\"): invalid handle number, got: \"+t);rt(t,it(e,t),!0,!0,n),J(\"update\",t),r&&J(\"set\",t)},reset:function(t){ot(b.start,t)},__moveHandles:function(t,e,r){Z(t,e,S,r)},options:o,updateOptions:function(e,t){var r=st(),n=[\"margin\",\"limit\",\"padding\",\"range\",\"animate\",\"snap\",\"step\",\"format\",\"pips\",\"tooltips\"];n.forEach(function(t){void 0!==e[t]&&(o[t]=e[t])});var i=vt(o);n.forEach(function(t){void 0!==e[t]&&(b[t]=i[t])}),y=i.spectrum,b.margin=i.margin,b.limit=i.limit,b.padding=i.padding,b.pips?R(b.pips):F(),b.tooltips?H():z(),S=[],ot(e.start||r,t)},target:h,removePips:F,removeTooltips:z,getTooltips:function(){return i},getOrigins:function(){return u},pips:R}}return{__spectrum:i,version:lt,cssClasses:d,create:function(t,e){if(!t||!t.nodeName)throw new Error(\"noUiSlider (\"+lt+\"): create requires a single element, got: \"+t);if(t.noUiSlider)throw new Error(\"noUiSlider (\"+lt+\"): Slider was already initialized.\");var r=j(t,vt(e),e);return t.noUiSlider=r}}});\r\n/*!\r\n * perfect-scrollbar v1.5.0\r\n * Copyright 2020 Hyunje Jun, MDBootstrap and Contributors\r\n * Licensed under MIT\r\n */\r\n\r\n(function (global, factory) {\r\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\r\n  typeof define === 'function' && define.amd ? define(factory) :\r\n  (global = global || self, global.PerfectScrollbar = factory());\r\n}(this, (function () { 'use strict';\r\n\r\n  function get(element) {\r\n    return getComputedStyle(element);\r\n  }\r\n\r\n  function set(element, obj) {\r\n    for (var key in obj) {\r\n      var val = obj[key];\r\n      if (typeof val === 'number') {\r\n        val = val + \"px\";\r\n      }\r\n      element.style[key] = val;\r\n    }\r\n    return element;\r\n  }\r\n\r\n  function div(className) {\r\n    var div = document.createElement('div');\r\n    div.className = className;\r\n    return div;\r\n  }\r\n\r\n  var elMatches =\r\n    typeof Element !== 'undefined' &&\r\n    (Element.prototype.matches ||\r\n      Element.prototype.webkitMatchesSelector ||\r\n      Element.prototype.mozMatchesSelector ||\r\n      Element.prototype.msMatchesSelector);\r\n\r\n  function matches(element, query) {\r\n    if (!elMatches) {\r\n      throw new Error('No element matching method supported');\r\n    }\r\n\r\n    return elMatches.call(element, query);\r\n  }\r\n\r\n  function remove(element) {\r\n    if (element.remove) {\r\n      element.remove();\r\n    } else {\r\n      if (element.parentNode) {\r\n        element.parentNode.removeChild(element);\r\n      }\r\n    }\r\n  }\r\n\r\n  function queryChildren(element, selector) {\r\n    return Array.prototype.filter.call(element.children, function (child) { return matches(child, selector); }\r\n    );\r\n  }\r\n\r\n  var cls = {\r\n    main: 'ps',\r\n    rtl: 'ps__rtl',\r\n    element: {\r\n      thumb: function (x) { return (\"ps__thumb-\" + x); },\r\n      rail: function (x) { return (\"ps__rail-\" + x); },\r\n      consuming: 'ps__child--consume',\r\n    },\r\n    state: {\r\n      focus: 'ps--focus',\r\n      clicking: 'ps--clicking',\r\n      active: function (x) { return (\"ps--active-\" + x); },\r\n      scrolling: function (x) { return (\"ps--scrolling-\" + x); },\r\n    },\r\n  };\r\n\r\n  /*\r\n   * Helper methods\r\n   */\r\n  var scrollingClassTimeout = { x: null, y: null };\r\n\r\n  function addScrollingClass(i, x) {\r\n    var classList = i.element.classList;\r\n    var className = cls.state.scrolling(x);\r\n\r\n    if (classList.contains(className)) {\r\n      clearTimeout(scrollingClassTimeout[x]);\r\n    } else {\r\n      classList.add(className);\r\n    }\r\n  }\r\n\r\n  function removeScrollingClass(i, x) {\r\n    scrollingClassTimeout[x] = setTimeout(\r\n      function () { return i.isAlive && i.element.classList.remove(cls.state.scrolling(x)); },\r\n      i.settings.scrollingThreshold\r\n    );\r\n  }\r\n\r\n  function setScrollingClassInstantly(i, x) {\r\n    addScrollingClass(i, x);\r\n    removeScrollingClass(i, x);\r\n  }\r\n\r\n  var EventElement = function EventElement(element) {\r\n    this.element = element;\r\n    this.handlers = {};\r\n  };\r\n\r\n  var prototypeAccessors = { isEmpty: { configurable: true } };\r\n\r\n  EventElement.prototype.bind = function bind (eventName, handler) {\r\n    if (typeof this.handlers[eventName] === 'undefined') {\r\n      this.handlers[eventName] = [];\r\n    }\r\n    this.handlers[eventName].push(handler);\r\n    this.element.addEventListener(eventName, handler, false);\r\n  };\r\n\r\n  EventElement.prototype.unbind = function unbind (eventName, target) {\r\n      var this$1 = this;\r\n\r\n    this.handlers[eventName] = this.handlers[eventName].filter(function (handler) {\r\n      if (target && handler !== target) {\r\n        return true;\r\n      }\r\n      this$1.element.removeEventListener(eventName, handler, false);\r\n      return false;\r\n    });\r\n  };\r\n\r\n  EventElement.prototype.unbindAll = function unbindAll () {\r\n    for (var name in this.handlers) {\r\n      this.unbind(name);\r\n    }\r\n  };\r\n\r\n  prototypeAccessors.isEmpty.get = function () {\r\n      var this$1 = this;\r\n\r\n    return Object.keys(this.handlers).every(\r\n      function (key) { return this$1.handlers[key].length === 0; }\r\n    );\r\n  };\r\n\r\n  Object.defineProperties( EventElement.prototype, prototypeAccessors );\r\n\r\n  var EventManager = function EventManager() {\r\n    this.eventElements = [];\r\n  };\r\n\r\n  EventManager.prototype.eventElement = function eventElement (element) {\r\n    var ee = this.eventElements.filter(function (ee) { return ee.element === element; })[0];\r\n    if (!ee) {\r\n      ee = new EventElement(element);\r\n      this.eventElements.push(ee);\r\n    }\r\n    return ee;\r\n  };\r\n\r\n  EventManager.prototype.bind = function bind (element, eventName, handler) {\r\n    this.eventElement(element).bind(eventName, handler);\r\n  };\r\n\r\n  EventManager.prototype.unbind = function unbind (element, eventName, handler) {\r\n    var ee = this.eventElement(element);\r\n    ee.unbind(eventName, handler);\r\n\r\n    if (ee.isEmpty) {\r\n      // remove\r\n      this.eventElements.splice(this.eventElements.indexOf(ee), 1);\r\n    }\r\n  };\r\n\r\n  EventManager.prototype.unbindAll = function unbindAll () {\r\n    this.eventElements.forEach(function (e) { return e.unbindAll(); });\r\n    this.eventElements = [];\r\n  };\r\n\r\n  EventManager.prototype.once = function once (element, eventName, handler) {\r\n    var ee = this.eventElement(element);\r\n    var onceHandler = function (evt) {\r\n      ee.unbind(eventName, onceHandler);\r\n      handler(evt);\r\n    };\r\n    ee.bind(eventName, onceHandler);\r\n  };\r\n\r\n  function createEvent(name) {\r\n    if (typeof window.CustomEvent === 'function') {\r\n      return new CustomEvent(name);\r\n    } else {\r\n      var evt = document.createEvent('CustomEvent');\r\n      evt.initCustomEvent(name, false, false, undefined);\r\n      return evt;\r\n    }\r\n  }\r\n\r\n  function processScrollDiff(\r\n    i,\r\n    axis,\r\n    diff,\r\n    useScrollingClass,\r\n    forceFireReachEvent\r\n  ) {\r\n    if ( useScrollingClass === void 0 ) useScrollingClass = true;\r\n    if ( forceFireReachEvent === void 0 ) forceFireReachEvent = false;\r\n\r\n    var fields;\r\n    if (axis === 'top') {\r\n      fields = [\r\n        'contentHeight',\r\n        'containerHeight',\r\n        'scrollTop',\r\n        'y',\r\n        'up',\r\n        'down' ];\r\n    } else if (axis === 'left') {\r\n      fields = [\r\n        'contentWidth',\r\n        'containerWidth',\r\n        'scrollLeft',\r\n        'x',\r\n        'left',\r\n        'right' ];\r\n    } else {\r\n      throw new Error('A proper axis should be provided');\r\n    }\r\n\r\n    processScrollDiff$1(i, diff, fields, useScrollingClass, forceFireReachEvent);\r\n  }\r\n\r\n  function processScrollDiff$1(\r\n    i,\r\n    diff,\r\n    ref,\r\n    useScrollingClass,\r\n    forceFireReachEvent\r\n  ) {\r\n    var contentHeight = ref[0];\r\n    var containerHeight = ref[1];\r\n    var scrollTop = ref[2];\r\n    var y = ref[3];\r\n    var up = ref[4];\r\n    var down = ref[5];\r\n    if ( useScrollingClass === void 0 ) useScrollingClass = true;\r\n    if ( forceFireReachEvent === void 0 ) forceFireReachEvent = false;\r\n\r\n    var element = i.element;\r\n\r\n    // reset reach\r\n    i.reach[y] = null;\r\n\r\n    // 1 for subpixel rounding\r\n    if (element[scrollTop] < 1) {\r\n      i.reach[y] = 'start';\r\n    }\r\n\r\n    // 1 for subpixel rounding\r\n    if (element[scrollTop] > i[contentHeight] - i[containerHeight] - 1) {\r\n      i.reach[y] = 'end';\r\n    }\r\n\r\n    if (diff) {\r\n      element.dispatchEvent(createEvent((\"ps-scroll-\" + y)));\r\n\r\n      if (diff < 0) {\r\n        element.dispatchEvent(createEvent((\"ps-scroll-\" + up)));\r\n      } else if (diff > 0) {\r\n        element.dispatchEvent(createEvent((\"ps-scroll-\" + down)));\r\n      }\r\n\r\n      if (useScrollingClass) {\r\n        setScrollingClassInstantly(i, y);\r\n      }\r\n    }\r\n\r\n    if (i.reach[y] && (diff || forceFireReachEvent)) {\r\n      element.dispatchEvent(createEvent((\"ps-\" + y + \"-reach-\" + (i.reach[y]))));\r\n    }\r\n  }\r\n\r\n  function toInt(x) {\r\n    return parseInt(x, 10) || 0;\r\n  }\r\n\r\n  function isEditable(el) {\r\n    return (\r\n      matches(el, 'input,[contenteditable]') ||\r\n      matches(el, 'select,[contenteditable]') ||\r\n      matches(el, 'textarea,[contenteditable]') ||\r\n      matches(el, 'button,[contenteditable]')\r\n    );\r\n  }\r\n\r\n  function outerWidth(element) {\r\n    var styles = get(element);\r\n    return (\r\n      toInt(styles.width) +\r\n      toInt(styles.paddingLeft) +\r\n      toInt(styles.paddingRight) +\r\n      toInt(styles.borderLeftWidth) +\r\n      toInt(styles.borderRightWidth)\r\n    );\r\n  }\r\n\r\n  var env = {\r\n    isWebKit:\r\n      typeof document !== 'undefined' &&\r\n      'WebkitAppearance' in document.documentElement.style,\r\n    supportsTouch:\r\n      typeof window !== 'undefined' &&\r\n      ('ontouchstart' in window ||\r\n        ('maxTouchPoints' in window.navigator &&\r\n          window.navigator.maxTouchPoints > 0) ||\r\n        (window.DocumentTouch && document instanceof window.DocumentTouch)),\r\n    supportsIePointer:\r\n      typeof navigator !== 'undefined' && navigator.msMaxTouchPoints,\r\n    isChrome:\r\n      typeof navigator !== 'undefined' &&\r\n      /Chrome/i.test(navigator && navigator.userAgent),\r\n  };\r\n\r\n  function updateGeometry(i) {\r\n    var element = i.element;\r\n    var roundedScrollTop = Math.floor(element.scrollTop);\r\n    var rect = element.getBoundingClientRect();\r\n\r\n    i.containerWidth = Math.ceil(rect.width);\r\n    i.containerHeight = Math.ceil(rect.height);\r\n    i.contentWidth = element.scrollWidth;\r\n    i.contentHeight = element.scrollHeight;\r\n\r\n    if (!element.contains(i.scrollbarXRail)) {\r\n      // clean up and append\r\n      queryChildren(element, cls.element.rail('x')).forEach(function (el) { return remove(el); }\r\n      );\r\n      element.appendChild(i.scrollbarXRail);\r\n    }\r\n    if (!element.contains(i.scrollbarYRail)) {\r\n      // clean up and append\r\n      queryChildren(element, cls.element.rail('y')).forEach(function (el) { return remove(el); }\r\n      );\r\n      element.appendChild(i.scrollbarYRail);\r\n    }\r\n\r\n    if (\r\n      !i.settings.suppressScrollX &&\r\n      i.containerWidth + i.settings.scrollXMarginOffset < i.contentWidth\r\n    ) {\r\n      i.scrollbarXActive = true;\r\n      i.railXWidth = i.containerWidth - i.railXMarginWidth;\r\n      i.railXRatio = i.containerWidth / i.railXWidth;\r\n      i.scrollbarXWidth = getThumbSize(\r\n        i,\r\n        toInt((i.railXWidth * i.containerWidth) / i.contentWidth)\r\n      );\r\n      i.scrollbarXLeft = toInt(\r\n        ((i.negativeScrollAdjustment + element.scrollLeft) *\r\n          (i.railXWidth - i.scrollbarXWidth)) /\r\n          (i.contentWidth - i.containerWidth)\r\n      );\r\n    } else {\r\n      i.scrollbarXActive = false;\r\n    }\r\n\r\n    if (\r\n      !i.settings.suppressScrollY &&\r\n      i.containerHeight + i.settings.scrollYMarginOffset < i.contentHeight\r\n    ) {\r\n      i.scrollbarYActive = true;\r\n      i.railYHeight = i.containerHeight - i.railYMarginHeight;\r\n      i.railYRatio = i.containerHeight / i.railYHeight;\r\n      i.scrollbarYHeight = getThumbSize(\r\n        i,\r\n        toInt((i.railYHeight * i.containerHeight) / i.contentHeight)\r\n      );\r\n      i.scrollbarYTop = toInt(\r\n        (roundedScrollTop * (i.railYHeight - i.scrollbarYHeight)) /\r\n          (i.contentHeight - i.containerHeight)\r\n      );\r\n    } else {\r\n      i.scrollbarYActive = false;\r\n    }\r\n\r\n    if (i.scrollbarXLeft >= i.railXWidth - i.scrollbarXWidth) {\r\n      i.scrollbarXLeft = i.railXWidth - i.scrollbarXWidth;\r\n    }\r\n    if (i.scrollbarYTop >= i.railYHeight - i.scrollbarYHeight) {\r\n      i.scrollbarYTop = i.railYHeight - i.scrollbarYHeight;\r\n    }\r\n\r\n    updateCss(element, i);\r\n\r\n    if (i.scrollbarXActive) {\r\n      element.classList.add(cls.state.active('x'));\r\n    } else {\r\n      element.classList.remove(cls.state.active('x'));\r\n      i.scrollbarXWidth = 0;\r\n      i.scrollbarXLeft = 0;\r\n      element.scrollLeft = i.isRtl === true ? i.contentWidth : 0;\r\n    }\r\n    if (i.scrollbarYActive) {\r\n      element.classList.add(cls.state.active('y'));\r\n    } else {\r\n      element.classList.remove(cls.state.active('y'));\r\n      i.scrollbarYHeight = 0;\r\n      i.scrollbarYTop = 0;\r\n      element.scrollTop = 0;\r\n    }\r\n  }\r\n\r\n  function getThumbSize(i, thumbSize) {\r\n    if (i.settings.minScrollbarLength) {\r\n      thumbSize = Math.max(thumbSize, i.settings.minScrollbarLength);\r\n    }\r\n    if (i.settings.maxScrollbarLength) {\r\n      thumbSize = Math.min(thumbSize, i.settings.maxScrollbarLength);\r\n    }\r\n    return thumbSize;\r\n  }\r\n\r\n  function updateCss(element, i) {\r\n    var xRailOffset = { width: i.railXWidth };\r\n    var roundedScrollTop = Math.floor(element.scrollTop);\r\n\r\n    if (i.isRtl) {\r\n      xRailOffset.left =\r\n        i.negativeScrollAdjustment +\r\n        element.scrollLeft +\r\n        i.containerWidth -\r\n        i.contentWidth;\r\n    } else {\r\n      xRailOffset.left = element.scrollLeft;\r\n    }\r\n    if (i.isScrollbarXUsingBottom) {\r\n      xRailOffset.bottom = i.scrollbarXBottom - roundedScrollTop;\r\n    } else {\r\n      xRailOffset.top = i.scrollbarXTop + roundedScrollTop;\r\n    }\r\n    set(i.scrollbarXRail, xRailOffset);\r\n\r\n    var yRailOffset = { top: roundedScrollTop, height: i.railYHeight };\r\n    if (i.isScrollbarYUsingRight) {\r\n      if (i.isRtl) {\r\n        yRailOffset.right =\r\n          i.contentWidth -\r\n          (i.negativeScrollAdjustment + element.scrollLeft) -\r\n          i.scrollbarYRight -\r\n          i.scrollbarYOuterWidth -\r\n          9;\r\n      } else {\r\n        yRailOffset.right = i.scrollbarYRight - element.scrollLeft;\r\n      }\r\n    } else {\r\n      if (i.isRtl) {\r\n        yRailOffset.left =\r\n          i.negativeScrollAdjustment +\r\n          element.scrollLeft +\r\n          i.containerWidth * 2 -\r\n          i.contentWidth -\r\n          i.scrollbarYLeft -\r\n          i.scrollbarYOuterWidth;\r\n      } else {\r\n        yRailOffset.left = i.scrollbarYLeft + element.scrollLeft;\r\n      }\r\n    }\r\n    set(i.scrollbarYRail, yRailOffset);\r\n\r\n    set(i.scrollbarX, {\r\n      left: i.scrollbarXLeft,\r\n      width: i.scrollbarXWidth - i.railBorderXWidth,\r\n    });\r\n    set(i.scrollbarY, {\r\n      top: i.scrollbarYTop,\r\n      height: i.scrollbarYHeight - i.railBorderYWidth,\r\n    });\r\n  }\r\n\r\n  function clickRail(i) {\r\n    var element = i.element;\r\n\r\n    i.event.bind(i.scrollbarY, 'mousedown', function (e) { return e.stopPropagation(); });\r\n    i.event.bind(i.scrollbarYRail, 'mousedown', function (e) {\r\n      var positionTop =\r\n        e.pageY -\r\n        window.pageYOffset -\r\n        i.scrollbarYRail.getBoundingClientRect().top;\r\n      var direction = positionTop > i.scrollbarYTop ? 1 : -1;\r\n\r\n      i.element.scrollTop += direction * i.containerHeight;\r\n      updateGeometry(i);\r\n\r\n      e.stopPropagation();\r\n    });\r\n\r\n    i.event.bind(i.scrollbarX, 'mousedown', function (e) { return e.stopPropagation(); });\r\n    i.event.bind(i.scrollbarXRail, 'mousedown', function (e) {\r\n      var positionLeft =\r\n        e.pageX -\r\n        window.pageXOffset -\r\n        i.scrollbarXRail.getBoundingClientRect().left;\r\n      var direction = positionLeft > i.scrollbarXLeft ? 1 : -1;\r\n\r\n      i.element.scrollLeft += direction * i.containerWidth;\r\n      updateGeometry(i);\r\n\r\n      e.stopPropagation();\r\n    });\r\n  }\r\n\r\n  function dragThumb(i) {\r\n    bindMouseScrollHandler(i, [\r\n      'containerWidth',\r\n      'contentWidth',\r\n      'pageX',\r\n      'railXWidth',\r\n      'scrollbarX',\r\n      'scrollbarXWidth',\r\n      'scrollLeft',\r\n      'x',\r\n      'scrollbarXRail' ]);\r\n    bindMouseScrollHandler(i, [\r\n      'containerHeight',\r\n      'contentHeight',\r\n      'pageY',\r\n      'railYHeight',\r\n      'scrollbarY',\r\n      'scrollbarYHeight',\r\n      'scrollTop',\r\n      'y',\r\n      'scrollbarYRail' ]);\r\n  }\r\n\r\n  function bindMouseScrollHandler(\r\n    i,\r\n    ref\r\n  ) {\r\n    var containerHeight = ref[0];\r\n    var contentHeight = ref[1];\r\n    var pageY = ref[2];\r\n    var railYHeight = ref[3];\r\n    var scrollbarY = ref[4];\r\n    var scrollbarYHeight = ref[5];\r\n    var scrollTop = ref[6];\r\n    var y = ref[7];\r\n    var scrollbarYRail = ref[8];\r\n\r\n    var element = i.element;\r\n\r\n    var startingScrollTop = null;\r\n    var startingMousePageY = null;\r\n    var scrollBy = null;\r\n\r\n    function mouseMoveHandler(e) {\r\n      if (e.touches && e.touches[0]) {\r\n        e[pageY] = e.touches[0].pageY;\r\n      }\r\n      element[scrollTop] =\r\n        startingScrollTop + scrollBy * (e[pageY] - startingMousePageY);\r\n      addScrollingClass(i, y);\r\n      updateGeometry(i);\r\n\r\n      e.stopPropagation();\r\n      e.preventDefault();\r\n    }\r\n\r\n    function mouseUpHandler() {\r\n      removeScrollingClass(i, y);\r\n      i[scrollbarYRail].classList.remove(cls.state.clicking);\r\n      i.event.unbind(i.ownerDocument, 'mousemove', mouseMoveHandler);\r\n    }\r\n\r\n    function bindMoves(e, touchMode) {\r\n      startingScrollTop = element[scrollTop];\r\n      if (touchMode && e.touches) {\r\n        e[pageY] = e.touches[0].pageY;\r\n      }\r\n      startingMousePageY = e[pageY];\r\n      scrollBy =\r\n        (i[contentHeight] - i[containerHeight]) /\r\n        (i[railYHeight] - i[scrollbarYHeight]);\r\n      if (!touchMode) {\r\n        i.event.bind(i.ownerDocument, 'mousemove', mouseMoveHandler);\r\n        i.event.once(i.ownerDocument, 'mouseup', mouseUpHandler);\r\n        e.preventDefault();\r\n      } else {\r\n        i.event.bind(i.ownerDocument, 'touchmove', mouseMoveHandler);\r\n      }\r\n\r\n      i[scrollbarYRail].classList.add(cls.state.clicking);\r\n\r\n      e.stopPropagation();\r\n    }\r\n\r\n    i.event.bind(i[scrollbarY], 'mousedown', function (e) {\r\n      bindMoves(e);\r\n    });\r\n    i.event.bind(i[scrollbarY], 'touchstart', function (e) {\r\n      bindMoves(e, true);\r\n    });\r\n  }\r\n\r\n  function keyboard(i) {\r\n    var element = i.element;\r\n\r\n    var elementHovered = function () { return matches(element, ':hover'); };\r\n    var scrollbarFocused = function () { return matches(i.scrollbarX, ':focus') || matches(i.scrollbarY, ':focus'); };\r\n\r\n    function shouldPreventDefault(deltaX, deltaY) {\r\n      var scrollTop = Math.floor(element.scrollTop);\r\n      if (deltaX === 0) {\r\n        if (!i.scrollbarYActive) {\r\n          return false;\r\n        }\r\n        if (\r\n          (scrollTop === 0 && deltaY > 0) ||\r\n          (scrollTop >= i.contentHeight - i.containerHeight && deltaY < 0)\r\n        ) {\r\n          return !i.settings.wheelPropagation;\r\n        }\r\n      }\r\n\r\n      var scrollLeft = element.scrollLeft;\r\n      if (deltaY === 0) {\r\n        if (!i.scrollbarXActive) {\r\n          return false;\r\n        }\r\n        if (\r\n          (scrollLeft === 0 && deltaX < 0) ||\r\n          (scrollLeft >= i.contentWidth - i.containerWidth && deltaX > 0)\r\n        ) {\r\n          return !i.settings.wheelPropagation;\r\n        }\r\n      }\r\n      return true;\r\n    }\r\n\r\n    i.event.bind(i.ownerDocument, 'keydown', function (e) {\r\n      if (\r\n        (e.isDefaultPrevented && e.isDefaultPrevented()) ||\r\n        e.defaultPrevented\r\n      ) {\r\n        return;\r\n      }\r\n\r\n      if (!elementHovered() && !scrollbarFocused()) {\r\n        return;\r\n      }\r\n\r\n      var activeElement = document.activeElement\r\n        ? document.activeElement\r\n        : i.ownerDocument.activeElement;\r\n      if (activeElement) {\r\n        if (activeElement.tagName === 'IFRAME') {\r\n          activeElement = activeElement.contentDocument.activeElement;\r\n        } else {\r\n          // go deeper if element is a webcomponent\r\n          while (activeElement.shadowRoot) {\r\n            activeElement = activeElement.shadowRoot.activeElement;\r\n          }\r\n        }\r\n        if (isEditable(activeElement)) {\r\n          return;\r\n        }\r\n      }\r\n\r\n      var deltaX = 0;\r\n      var deltaY = 0;\r\n\r\n      switch (e.which) {\r\n        case 37: // left\r\n          if (e.metaKey) {\r\n            deltaX = -i.contentWidth;\r\n          } else if (e.altKey) {\r\n            deltaX = -i.containerWidth;\r\n          } else {\r\n            deltaX = -30;\r\n          }\r\n          break;\r\n        case 38: // up\r\n          if (e.metaKey) {\r\n            deltaY = i.contentHeight;\r\n          } else if (e.altKey) {\r\n            deltaY = i.containerHeight;\r\n          } else {\r\n            deltaY = 30;\r\n          }\r\n          break;\r\n        case 39: // right\r\n          if (e.metaKey) {\r\n            deltaX = i.contentWidth;\r\n          } else if (e.altKey) {\r\n            deltaX = i.containerWidth;\r\n          } else {\r\n            deltaX = 30;\r\n          }\r\n          break;\r\n        case 40: // down\r\n          if (e.metaKey) {\r\n            deltaY = -i.contentHeight;\r\n          } else if (e.altKey) {\r\n            deltaY = -i.containerHeight;\r\n          } else {\r\n            deltaY = -30;\r\n          }\r\n          break;\r\n        case 32: // space bar\r\n          if (e.shiftKey) {\r\n            deltaY = i.containerHeight;\r\n          } else {\r\n            deltaY = -i.containerHeight;\r\n          }\r\n          break;\r\n        case 33: // page up\r\n          deltaY = i.containerHeight;\r\n          break;\r\n        case 34: // page down\r\n          deltaY = -i.containerHeight;\r\n          break;\r\n        case 36: // home\r\n          deltaY = i.contentHeight;\r\n          break;\r\n        case 35: // end\r\n          deltaY = -i.contentHeight;\r\n          break;\r\n        default:\r\n          return;\r\n      }\r\n\r\n      if (i.settings.suppressScrollX && deltaX !== 0) {\r\n        return;\r\n      }\r\n      if (i.settings.suppressScrollY && deltaY !== 0) {\r\n        return;\r\n      }\r\n\r\n      element.scrollTop -= deltaY;\r\n      element.scrollLeft += deltaX;\r\n      updateGeometry(i);\r\n\r\n      if (shouldPreventDefault(deltaX, deltaY)) {\r\n        e.preventDefault();\r\n      }\r\n    });\r\n  }\r\n\r\n  function wheel(i) {\r\n    var element = i.element;\r\n\r\n    function shouldPreventDefault(deltaX, deltaY) {\r\n      var roundedScrollTop = Math.floor(element.scrollTop);\r\n      var isTop = element.scrollTop === 0;\r\n      var isBottom =\r\n        roundedScrollTop + element.offsetHeight === element.scrollHeight;\r\n      var isLeft = element.scrollLeft === 0;\r\n      var isRight =\r\n        element.scrollLeft + element.offsetWidth === element.scrollWidth;\r\n\r\n      var hitsBound;\r\n\r\n      // pick axis with primary direction\r\n      if (Math.abs(deltaY) > Math.abs(deltaX)) {\r\n        hitsBound = isTop || isBottom;\r\n      } else {\r\n        hitsBound = isLeft || isRight;\r\n      }\r\n\r\n      return hitsBound ? !i.settings.wheelPropagation : true;\r\n    }\r\n\r\n    function getDeltaFromEvent(e) {\r\n      var deltaX = e.deltaX;\r\n      var deltaY = -1 * e.deltaY;\r\n\r\n      if (typeof deltaX === 'undefined' || typeof deltaY === 'undefined') {\r\n        // OS X Safari\r\n        deltaX = (-1 * e.wheelDeltaX) / 6;\r\n        deltaY = e.wheelDeltaY / 6;\r\n      }\r\n\r\n      if (e.deltaMode && e.deltaMode === 1) {\r\n        // Firefox in deltaMode 1: Line scrolling\r\n        deltaX *= 10;\r\n        deltaY *= 10;\r\n      }\r\n\r\n      if (deltaX !== deltaX && deltaY !== deltaY /* NaN checks */) {\r\n        // IE in some mouse drivers\r\n        deltaX = 0;\r\n        deltaY = e.wheelDelta;\r\n      }\r\n\r\n      if (e.shiftKey) {\r\n        // reverse axis with shift key\r\n        return [-deltaY, -deltaX];\r\n      }\r\n      return [deltaX, deltaY];\r\n    }\r\n\r\n    function shouldBeConsumedByChild(target, deltaX, deltaY) {\r\n      // FIXME: this is a workaround for <select> issue in FF and IE #571\r\n      if (!env.isWebKit && element.querySelector('select:focus')) {\r\n        return true;\r\n      }\r\n\r\n      if (!element.contains(target)) {\r\n        return false;\r\n      }\r\n\r\n      var cursor = target;\r\n\r\n      while (cursor && cursor !== element) {\r\n        if (cursor.classList.contains(cls.element.consuming)) {\r\n          return true;\r\n        }\r\n\r\n        var style = get(cursor);\r\n\r\n        // if deltaY && vertical scrollable\r\n        if (deltaY && style.overflowY.match(/(scroll|auto)/)) {\r\n          var maxScrollTop = cursor.scrollHeight - cursor.clientHeight;\r\n          if (maxScrollTop > 0) {\r\n            if (\r\n              (cursor.scrollTop > 0 && deltaY < 0) ||\r\n              (cursor.scrollTop < maxScrollTop && deltaY > 0)\r\n            ) {\r\n              return true;\r\n            }\r\n          }\r\n        }\r\n        // if deltaX && horizontal scrollable\r\n        if (deltaX && style.overflowX.match(/(scroll|auto)/)) {\r\n          var maxScrollLeft = cursor.scrollWidth - cursor.clientWidth;\r\n          if (maxScrollLeft > 0) {\r\n            if (\r\n              (cursor.scrollLeft > 0 && deltaX < 0) ||\r\n              (cursor.scrollLeft < maxScrollLeft && deltaX > 0)\r\n            ) {\r\n              return true;\r\n            }\r\n          }\r\n        }\r\n\r\n        cursor = cursor.parentNode;\r\n      }\r\n\r\n      return false;\r\n    }\r\n\r\n    function mousewheelHandler(e) {\r\n      var ref = getDeltaFromEvent(e);\r\n      var deltaX = ref[0];\r\n      var deltaY = ref[1];\r\n\r\n      if (shouldBeConsumedByChild(e.target, deltaX, deltaY)) {\r\n        return;\r\n      }\r\n\r\n      var shouldPrevent = false;\r\n      if (!i.settings.useBothWheelAxes) {\r\n        // deltaX will only be used for horizontal scrolling and deltaY will\r\n        // only be used for vertical scrolling - this is the default\r\n        element.scrollTop -= deltaY * i.settings.wheelSpeed;\r\n        element.scrollLeft += deltaX * i.settings.wheelSpeed;\r\n      } else if (i.scrollbarYActive && !i.scrollbarXActive) {\r\n        // only vertical scrollbar is active and useBothWheelAxes option is\r\n        // active, so let's scroll vertical bar using both mouse wheel axes\r\n        if (deltaY) {\r\n          element.scrollTop -= deltaY * i.settings.wheelSpeed;\r\n        } else {\r\n          element.scrollTop += deltaX * i.settings.wheelSpeed;\r\n        }\r\n        shouldPrevent = true;\r\n      } else if (i.scrollbarXActive && !i.scrollbarYActive) {\r\n        // useBothWheelAxes and only horizontal bar is active, so use both\r\n        // wheel axes for horizontal bar\r\n        if (deltaX) {\r\n          element.scrollLeft += deltaX * i.settings.wheelSpeed;\r\n        } else {\r\n          element.scrollLeft -= deltaY * i.settings.wheelSpeed;\r\n        }\r\n        shouldPrevent = true;\r\n      }\r\n\r\n      updateGeometry(i);\r\n\r\n      shouldPrevent = shouldPrevent || shouldPreventDefault(deltaX, deltaY);\r\n      if (shouldPrevent && !e.ctrlKey) {\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n      }\r\n    }\r\n\r\n    if (typeof window.onwheel !== 'undefined') {\r\n      i.event.bind(element, 'wheel', mousewheelHandler);\r\n    } else if (typeof window.onmousewheel !== 'undefined') {\r\n      i.event.bind(element, 'mousewheel', mousewheelHandler);\r\n    }\r\n  }\r\n\r\n  function touch(i) {\r\n    if (!env.supportsTouch && !env.supportsIePointer) {\r\n      return;\r\n    }\r\n\r\n    var element = i.element;\r\n\r\n    function shouldPrevent(deltaX, deltaY) {\r\n      var scrollTop = Math.floor(element.scrollTop);\r\n      var scrollLeft = element.scrollLeft;\r\n      var magnitudeX = Math.abs(deltaX);\r\n      var magnitudeY = Math.abs(deltaY);\r\n\r\n      if (magnitudeY > magnitudeX) {\r\n        // user is perhaps trying to swipe up/down the page\r\n\r\n        if (\r\n          (deltaY < 0 && scrollTop === i.contentHeight - i.containerHeight) ||\r\n          (deltaY > 0 && scrollTop === 0)\r\n        ) {\r\n          // set prevent for mobile Chrome refresh\r\n          return window.scrollY === 0 && deltaY > 0 && env.isChrome;\r\n        }\r\n      } else if (magnitudeX > magnitudeY) {\r\n        // user is perhaps trying to swipe left/right across the page\r\n\r\n        if (\r\n          (deltaX < 0 && scrollLeft === i.contentWidth - i.containerWidth) ||\r\n          (deltaX > 0 && scrollLeft === 0)\r\n        ) {\r\n          return true;\r\n        }\r\n      }\r\n\r\n      return true;\r\n    }\r\n\r\n    function applyTouchMove(differenceX, differenceY) {\r\n      element.scrollTop -= differenceY;\r\n      element.scrollLeft -= differenceX;\r\n\r\n      updateGeometry(i);\r\n    }\r\n\r\n    var startOffset = {};\r\n    var startTime = 0;\r\n    var speed = {};\r\n    var easingLoop = null;\r\n\r\n    function getTouch(e) {\r\n      if (e.targetTouches) {\r\n        return e.targetTouches[0];\r\n      } else {\r\n        // Maybe IE pointer\r\n        return e;\r\n      }\r\n    }\r\n\r\n    function shouldHandle(e) {\r\n      if (e.pointerType && e.pointerType === 'pen' && e.buttons === 0) {\r\n        return false;\r\n      }\r\n      if (e.targetTouches && e.targetTouches.length === 1) {\r\n        return true;\r\n      }\r\n      if (\r\n        e.pointerType &&\r\n        e.pointerType !== 'mouse' &&\r\n        e.pointerType !== e.MSPOINTER_TYPE_MOUSE\r\n      ) {\r\n        return true;\r\n      }\r\n      return false;\r\n    }\r\n\r\n    function touchStart(e) {\r\n      if (!shouldHandle(e)) {\r\n        return;\r\n      }\r\n\r\n      var touch = getTouch(e);\r\n\r\n      startOffset.pageX = touch.pageX;\r\n      startOffset.pageY = touch.pageY;\r\n\r\n      startTime = new Date().getTime();\r\n\r\n      if (easingLoop !== null) {\r\n        clearInterval(easingLoop);\r\n      }\r\n    }\r\n\r\n    function shouldBeConsumedByChild(target, deltaX, deltaY) {\r\n      if (!element.contains(target)) {\r\n        return false;\r\n      }\r\n\r\n      var cursor = target;\r\n\r\n      while (cursor && cursor !== element) {\r\n        if (cursor.classList.contains(cls.element.consuming)) {\r\n          return true;\r\n        }\r\n\r\n        var style = get(cursor);\r\n\r\n        // if deltaY && vertical scrollable\r\n        if (deltaY && style.overflowY.match(/(scroll|auto)/)) {\r\n          var maxScrollTop = cursor.scrollHeight - cursor.clientHeight;\r\n          if (maxScrollTop > 0) {\r\n            if (\r\n              (cursor.scrollTop > 0 && deltaY < 0) ||\r\n              (cursor.scrollTop < maxScrollTop && deltaY > 0)\r\n            ) {\r\n              return true;\r\n            }\r\n          }\r\n        }\r\n        // if deltaX && horizontal scrollable\r\n        if (deltaX && style.overflowX.match(/(scroll|auto)/)) {\r\n          var maxScrollLeft = cursor.scrollWidth - cursor.clientWidth;\r\n          if (maxScrollLeft > 0) {\r\n            if (\r\n              (cursor.scrollLeft > 0 && deltaX < 0) ||\r\n              (cursor.scrollLeft < maxScrollLeft && deltaX > 0)\r\n            ) {\r\n              return true;\r\n            }\r\n          }\r\n        }\r\n\r\n        cursor = cursor.parentNode;\r\n      }\r\n\r\n      return false;\r\n    }\r\n\r\n    function touchMove(e) {\r\n      if (shouldHandle(e)) {\r\n        var touch = getTouch(e);\r\n\r\n        var currentOffset = { pageX: touch.pageX, pageY: touch.pageY };\r\n\r\n        var differenceX = currentOffset.pageX - startOffset.pageX;\r\n        var differenceY = currentOffset.pageY - startOffset.pageY;\r\n\r\n        if (shouldBeConsumedByChild(e.target, differenceX, differenceY)) {\r\n          return;\r\n        }\r\n\r\n        applyTouchMove(differenceX, differenceY);\r\n        startOffset = currentOffset;\r\n\r\n        var currentTime = new Date().getTime();\r\n\r\n        var timeGap = currentTime - startTime;\r\n        if (timeGap > 0) {\r\n          speed.x = differenceX / timeGap;\r\n          speed.y = differenceY / timeGap;\r\n          startTime = currentTime;\r\n        }\r\n\r\n        if (shouldPrevent(differenceX, differenceY)) {\r\n          e.preventDefault();\r\n        }\r\n      }\r\n    }\r\n    function touchEnd() {\r\n      if (i.settings.swipeEasing) {\r\n        clearInterval(easingLoop);\r\n        easingLoop = setInterval(function() {\r\n          if (i.isInitialized) {\r\n            clearInterval(easingLoop);\r\n            return;\r\n          }\r\n\r\n          if (!speed.x && !speed.y) {\r\n            clearInterval(easingLoop);\r\n            return;\r\n          }\r\n\r\n          if (Math.abs(speed.x) < 0.01 && Math.abs(speed.y) < 0.01) {\r\n            clearInterval(easingLoop);\r\n            return;\r\n          }\r\n\r\n          applyTouchMove(speed.x * 30, speed.y * 30);\r\n\r\n          speed.x *= 0.8;\r\n          speed.y *= 0.8;\r\n        }, 10);\r\n      }\r\n    }\r\n\r\n    if (env.supportsTouch) {\r\n      i.event.bind(element, 'touchstart', touchStart);\r\n      i.event.bind(element, 'touchmove', touchMove);\r\n      i.event.bind(element, 'touchend', touchEnd);\r\n    } else if (env.supportsIePointer) {\r\n      if (window.PointerEvent) {\r\n        i.event.bind(element, 'pointerdown', touchStart);\r\n        i.event.bind(element, 'pointermove', touchMove);\r\n        i.event.bind(element, 'pointerup', touchEnd);\r\n      } else if (window.MSPointerEvent) {\r\n        i.event.bind(element, 'MSPointerDown', touchStart);\r\n        i.event.bind(element, 'MSPointerMove', touchMove);\r\n        i.event.bind(element, 'MSPointerUp', touchEnd);\r\n      }\r\n    }\r\n  }\r\n\r\n  var defaultSettings = function () { return ({\r\n    handlers: ['click-rail', 'drag-thumb', 'keyboard', 'wheel', 'touch'],\r\n    maxScrollbarLength: null,\r\n    minScrollbarLength: null,\r\n    scrollingThreshold: 1000,\r\n    scrollXMarginOffset: 0,\r\n    scrollYMarginOffset: 0,\r\n    suppressScrollX: false,\r\n    suppressScrollY: false,\r\n    swipeEasing: true,\r\n    useBothWheelAxes: false,\r\n    wheelPropagation: true,\r\n    wheelSpeed: 1,\r\n  }); };\r\n\r\n  var handlers = {\r\n    'click-rail': clickRail,\r\n    'drag-thumb': dragThumb,\r\n    keyboard: keyboard,\r\n    wheel: wheel,\r\n    touch: touch,\r\n  };\r\n\r\n  var PerfectScrollbar = function PerfectScrollbar(element, userSettings) {\r\n    var this$1 = this;\r\n    if ( userSettings === void 0 ) userSettings = {};\r\n\r\n    if (typeof element === 'string') {\r\n      element = document.querySelector(element);\r\n    }\r\n\r\n    if (!element || !element.nodeName) {\r\n      throw new Error('no element is specified to initialize PerfectScrollbar');\r\n    }\r\n\r\n    this.element = element;\r\n\r\n    element.classList.add(cls.main);\r\n\r\n    this.settings = defaultSettings();\r\n    for (var key in userSettings) {\r\n      this.settings[key] = userSettings[key];\r\n    }\r\n\r\n    this.containerWidth = null;\r\n    this.containerHeight = null;\r\n    this.contentWidth = null;\r\n    this.contentHeight = null;\r\n\r\n    var focus = function () { return element.classList.add(cls.state.focus); };\r\n    var blur = function () { return element.classList.remove(cls.state.focus); };\r\n\r\n    this.isRtl = get(element).direction === 'rtl';\r\n    if (this.isRtl === true) {\r\n      element.classList.add(cls.rtl);\r\n    }\r\n    this.isNegativeScroll = (function () {\r\n      var originalScrollLeft = element.scrollLeft;\r\n      var result = null;\r\n      element.scrollLeft = -1;\r\n      result = element.scrollLeft < 0;\r\n      element.scrollLeft = originalScrollLeft;\r\n      return result;\r\n    })();\r\n    this.negativeScrollAdjustment = this.isNegativeScroll\r\n      ? element.scrollWidth - element.clientWidth\r\n      : 0;\r\n    this.event = new EventManager();\r\n    this.ownerDocument = element.ownerDocument || document;\r\n\r\n    this.scrollbarXRail = div(cls.element.rail('x'));\r\n    element.appendChild(this.scrollbarXRail);\r\n    this.scrollbarX = div(cls.element.thumb('x'));\r\n    this.scrollbarXRail.appendChild(this.scrollbarX);\r\n    this.scrollbarX.setAttribute('tabindex', 0);\r\n    this.event.bind(this.scrollbarX, 'focus', focus);\r\n    this.event.bind(this.scrollbarX, 'blur', blur);\r\n    this.scrollbarXActive = null;\r\n    this.scrollbarXWidth = null;\r\n    this.scrollbarXLeft = null;\r\n    var railXStyle = get(this.scrollbarXRail);\r\n    this.scrollbarXBottom = parseInt(railXStyle.bottom, 10);\r\n    if (isNaN(this.scrollbarXBottom)) {\r\n      this.isScrollbarXUsingBottom = false;\r\n      this.scrollbarXTop = toInt(railXStyle.top);\r\n    } else {\r\n      this.isScrollbarXUsingBottom = true;\r\n    }\r\n    this.railBorderXWidth =\r\n      toInt(railXStyle.borderLeftWidth) + toInt(railXStyle.borderRightWidth);\r\n    // Set rail to display:block to calculate margins\r\n    set(this.scrollbarXRail, { display: 'block' });\r\n    this.railXMarginWidth =\r\n      toInt(railXStyle.marginLeft) + toInt(railXStyle.marginRight);\r\n    set(this.scrollbarXRail, { display: '' });\r\n    this.railXWidth = null;\r\n    this.railXRatio = null;\r\n\r\n    this.scrollbarYRail = div(cls.element.rail('y'));\r\n    element.appendChild(this.scrollbarYRail);\r\n    this.scrollbarY = div(cls.element.thumb('y'));\r\n    this.scrollbarYRail.appendChild(this.scrollbarY);\r\n    this.scrollbarY.setAttribute('tabindex', 0);\r\n    this.event.bind(this.scrollbarY, 'focus', focus);\r\n    this.event.bind(this.scrollbarY, 'blur', blur);\r\n    this.scrollbarYActive = null;\r\n    this.scrollbarYHeight = null;\r\n    this.scrollbarYTop = null;\r\n    var railYStyle = get(this.scrollbarYRail);\r\n    this.scrollbarYRight = parseInt(railYStyle.right, 10);\r\n    if (isNaN(this.scrollbarYRight)) {\r\n      this.isScrollbarYUsingRight = false;\r\n      this.scrollbarYLeft = toInt(railYStyle.left);\r\n    } else {\r\n      this.isScrollbarYUsingRight = true;\r\n    }\r\n    this.scrollbarYOuterWidth = this.isRtl ? outerWidth(this.scrollbarY) : null;\r\n    this.railBorderYWidth =\r\n      toInt(railYStyle.borderTopWidth) + toInt(railYStyle.borderBottomWidth);\r\n    set(this.scrollbarYRail, { display: 'block' });\r\n    this.railYMarginHeight =\r\n      toInt(railYStyle.marginTop) + toInt(railYStyle.marginBottom);\r\n    set(this.scrollbarYRail, { display: '' });\r\n    this.railYHeight = null;\r\n    this.railYRatio = null;\r\n\r\n    this.reach = {\r\n      x:\r\n        element.scrollLeft <= 0\r\n          ? 'start'\r\n          : element.scrollLeft >= this.contentWidth - this.containerWidth\r\n          ? 'end'\r\n          : null,\r\n      y:\r\n        element.scrollTop <= 0\r\n          ? 'start'\r\n          : element.scrollTop >= this.contentHeight - this.containerHeight\r\n          ? 'end'\r\n          : null,\r\n    };\r\n\r\n    this.isAlive = true;\r\n\r\n    this.settings.handlers.forEach(function (handlerName) { return handlers[handlerName](this$1); });\r\n\r\n    this.lastScrollTop = Math.floor(element.scrollTop); // for onScroll only\r\n    this.lastScrollLeft = element.scrollLeft; // for onScroll only\r\n    this.event.bind(this.element, 'scroll', function (e) { return this$1.onScroll(e); });\r\n    updateGeometry(this);\r\n  };\r\n\r\n  PerfectScrollbar.prototype.update = function update () {\r\n    if (!this.isAlive) {\r\n      return;\r\n    }\r\n\r\n    // Recalcuate negative scrollLeft adjustment\r\n    this.negativeScrollAdjustment = this.isNegativeScroll\r\n      ? this.element.scrollWidth - this.element.clientWidth\r\n      : 0;\r\n\r\n    // Recalculate rail margins\r\n    set(this.scrollbarXRail, { display: 'block' });\r\n    set(this.scrollbarYRail, { display: 'block' });\r\n    this.railXMarginWidth =\r\n      toInt(get(this.scrollbarXRail).marginLeft) +\r\n      toInt(get(this.scrollbarXRail).marginRight);\r\n    this.railYMarginHeight =\r\n      toInt(get(this.scrollbarYRail).marginTop) +\r\n      toInt(get(this.scrollbarYRail).marginBottom);\r\n\r\n    // Hide scrollbars not to affect scrollWidth and scrollHeight\r\n    set(this.scrollbarXRail, { display: 'none' });\r\n    set(this.scrollbarYRail, { display: 'none' });\r\n\r\n    updateGeometry(this);\r\n\r\n    processScrollDiff(this, 'top', 0, false, true);\r\n    processScrollDiff(this, 'left', 0, false, true);\r\n\r\n    set(this.scrollbarXRail, { display: '' });\r\n    set(this.scrollbarYRail, { display: '' });\r\n  };\r\n\r\n  PerfectScrollbar.prototype.onScroll = function onScroll (e) {\r\n    if (!this.isAlive) {\r\n      return;\r\n    }\r\n\r\n    updateGeometry(this);\r\n    processScrollDiff(this, 'top', this.element.scrollTop - this.lastScrollTop);\r\n    processScrollDiff(\r\n      this,\r\n      'left',\r\n      this.element.scrollLeft - this.lastScrollLeft\r\n    );\r\n\r\n    this.lastScrollTop = Math.floor(this.element.scrollTop);\r\n    this.lastScrollLeft = this.element.scrollLeft;\r\n  };\r\n\r\n  PerfectScrollbar.prototype.destroy = function destroy () {\r\n    if (!this.isAlive) {\r\n      return;\r\n    }\r\n\r\n    this.event.unbindAll();\r\n    remove(this.scrollbarX);\r\n    remove(this.scrollbarY);\r\n    remove(this.scrollbarXRail);\r\n    remove(this.scrollbarYRail);\r\n    this.removePsClasses();\r\n\r\n    // unset elements\r\n    this.element = null;\r\n    this.scrollbarX = null;\r\n    this.scrollbarY = null;\r\n    this.scrollbarXRail = null;\r\n    this.scrollbarYRail = null;\r\n\r\n    this.isAlive = false;\r\n  };\r\n\r\n  PerfectScrollbar.prototype.removePsClasses = function removePsClasses () {\r\n    this.element.className = this.element.className\r\n      .split(' ')\r\n      .filter(function (name) { return !name.match(/^ps([-_].+|)$/); })\r\n      .join(' ');\r\n  };\r\n\r\n  return PerfectScrollbar;\r\n\r\n})));\r\n// ==================================================\r\n// fancyBox v3.3.5\r\n//\r\n// Licensed GPLv3 for open source use\r\n// or fancyBox Commercial License for commercial use\r\n//\r\n// http://fancyapps.com/fancybox/\r\n// Copyright 2018 fancyApps\r\n//\r\n// ==================================================\r\n(function(window, document, $, undefined) {\r\n  \"use strict\";\r\n\r\n  window.console = window.console || {\r\n    info: function(stuff) {}\r\n  };\r\n\r\n  // If there's no jQuery, fancyBox can't work\r\n  // =========================================\r\n\r\n  if (!$) {\r\n    return;\r\n  }\r\n\r\n  // Check if fancyBox is already initialized\r\n  // ========================================\r\n\r\n  if ($.fn.fancybox) {\r\n    console.info(\"fancyBox already initialized\");\r\n\r\n    return;\r\n  }\r\n\r\n  // Private default settings\r\n  // ========================\r\n\r\n  var defaults = {\r\n    // Enable infinite gallery navigation\r\n    loop: false,\r\n\r\n    // Horizontal space between slides\r\n    gutter: 50,\r\n\r\n    // Enable keyboard navigation\r\n    keyboard: true,\r\n\r\n    // Should display navigation arrows at the screen edges\r\n    arrows: true,\r\n\r\n    // Should display counter at the top left corner\r\n    infobar: true,\r\n\r\n    // Should display close button (using `btnTpl.smallBtn` template) over the content\r\n    // Can be true, false, \"auto\"\r\n    // If \"auto\" - will be automatically enabled for \"html\", \"inline\" or \"ajax\" items\r\n    smallBtn: \"auto\",\r\n\r\n    // Should display toolbar (buttons at the top)\r\n    // Can be true, false, \"auto\"\r\n    // If \"auto\" - will be automatically hidden if \"smallBtn\" is enabled\r\n    toolbar: \"auto\",\r\n\r\n    // What buttons should appear in the top right corner.\r\n    // Buttons will be created using templates from `btnTpl` option\r\n    // and they will be placed into toolbar (class=\"fancybox-toolbar\"` element)\r\n    buttons: [\r\n      \"zoom\",\r\n      //\"share\",\r\n      //\"slideShow\",\r\n      //\"fullScreen\",\r\n      //\"download\",\r\n      \"thumbs\",\r\n      \"close\"\r\n    ],\r\n\r\n    // Detect \"idle\" time in seconds\r\n    idleTime: 3,\r\n\r\n    // Disable right-click and use simple image protection for images\r\n    protect: false,\r\n\r\n    // Shortcut to make content \"modal\" - disable keyboard navigtion, hide buttons, etc\r\n    modal: false,\r\n\r\n    image: {\r\n      // Wait for images to load before displaying\r\n      //   true  - wait for image to load and then display;\r\n      //   false - display thumbnail and load the full-sized image over top,\r\n      //           requires predefined image dimensions (`data-width` and `data-height` attributes)\r\n      preload: false\r\n    },\r\n\r\n    ajax: {\r\n      // Object containing settings for ajax request\r\n      settings: {\r\n        // This helps to indicate that request comes from the modal\r\n        // Feel free to change naming\r\n        data: {\r\n          fancybox: true\r\n        }\r\n      }\r\n    },\r\n\r\n    iframe: {\r\n      // Iframe template\r\n      tpl:\r\n        '<iframe id=\"fancybox-frame{rnd}\" name=\"fancybox-frame{rnd}\" class=\"fancybox-iframe\" frameborder=\"0\" vspace=\"0\" hspace=\"0\" webkitAllowFullScreen mozallowfullscreen allowFullScreen allowtransparency=\"true\" src=\"\"></iframe>',\r\n\r\n      // Preload iframe before displaying it\r\n      // This allows to calculate iframe content width and height\r\n      // (note: Due to \"Same Origin Policy\", you can't get cross domain data).\r\n      preload: true,\r\n\r\n      // Custom CSS styling for iframe wrapping element\r\n      // You can use this to set custom iframe dimensions\r\n      css: {},\r\n\r\n      // Iframe tag attributes\r\n      attr: {\r\n        scrolling: \"auto\"\r\n      }\r\n    },\r\n\r\n    // Default content type if cannot be detected automatically\r\n    defaultType: \"image\",\r\n\r\n    // Open/close animation type\r\n    // Possible values:\r\n    //   false            - disable\r\n    //   \"zoom\"           - zoom images from/to thumbnail\r\n    //   \"fade\"\r\n    //   \"zoom-in-out\"\r\n    //\r\n    animationEffect: \"zoom\",\r\n\r\n    // Duration in ms for open/close animation\r\n    animationDuration: 366,\r\n\r\n    // Should image change opacity while zooming\r\n    // If opacity is \"auto\", then opacity will be changed if image and thumbnail have different aspect ratios\r\n    zoomOpacity: \"auto\",\r\n\r\n    // Transition effect between slides\r\n    //\r\n    // Possible values:\r\n    //   false            - disable\r\n    //   \"fade'\r\n    //   \"slide'\r\n    //   \"circular'\r\n    //   \"tube'\r\n    //   \"zoom-in-out'\r\n    //   \"rotate'\r\n    //\r\n    transitionEffect: \"fade\",\r\n\r\n    // Duration in ms for transition animation\r\n    transitionDuration: 366,\r\n\r\n    // Custom CSS class for slide element\r\n    slideClass: \"\",\r\n\r\n    // Custom CSS class for layout\r\n    baseClass: \"\",\r\n\r\n    // Base template for layout\r\n    baseTpl:\r\n      '<div class=\"fancybox-container\" role=\"dialog\" tabindex=\"-1\">' +\r\n      '<div class=\"fancybox-bg\"></div>' +\r\n      '<div class=\"fancybox-inner\">' +\r\n      '<div class=\"fancybox-infobar\">' +\r\n      \"<span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span>\" +\r\n      \"</div>\" +\r\n      '<div class=\"fancybox-toolbar\">{{buttons}}</div>' +\r\n      '<div class=\"fancybox-navigation\">{{arrows}}</div>' +\r\n      '<div class=\"fancybox-stage\"></div>' +\r\n      '<div class=\"fancybox-caption\"></div>' +\r\n      \"</div>\" +\r\n      \"</div>\",\r\n\r\n    // Loading indicator template\r\n    spinnerTpl: '<div class=\"fancybox-loading\"></div>',\r\n\r\n    // Error message template\r\n    errorTpl: '<div class=\"fancybox-error\"><p>{{ERROR}}</p></div>',\r\n\r\n    btnTpl: {\r\n      download:\r\n        '<a download data-fancybox-download class=\"fancybox-button fancybox-button--download\" title=\"{{DOWNLOAD}}\" href=\"javascript:;\">' +\r\n        '<svg viewBox=\"0 0 40 40\">' +\r\n        '<path d=\"M13,16 L20,23 L27,16 M20,7 L20,23 M10,24 L10,28 L30,28 L30,24\" />' +\r\n        \"</svg>\" +\r\n        \"</a>\",\r\n\r\n      zoom:\r\n        '<button data-fancybox-zoom class=\"fancybox-button fancybox-button--zoom\" title=\"{{ZOOM}}\">' +\r\n        '<svg viewBox=\"0 0 40 40\">' +\r\n        '<path d=\"M18,17 m-8,0 a8,8 0 1,0 16,0 a8,8 0 1,0 -16,0 M24,22 L31,29\" />' +\r\n        \"</svg>\" +\r\n        \"</button>\",\r\n\r\n      close:\r\n        '<button data-fancybox-close class=\"fancybox-button fancybox-button--close\" title=\"{{CLOSE}}\">' +\r\n        '<svg viewBox=\"0 0 40 40\">' +\r\n        '<path d=\"M10,10 L30,30 M30,10 L10,30\" />' +\r\n        \"</svg>\" +\r\n        \"</button>\",\r\n\r\n      // This small close button will be appended to your html/inline/ajax content by default,\r\n      // if \"smallBtn\" option is not set to false\r\n      smallBtn:\r\n        '<button data-fancybox-close class=\"fancybox-close-small\" title=\"{{CLOSE}}\"><svg viewBox=\"0 0 32 32\"><path d=\"M10,10 L22,22 M22,10 L10,22\"></path></svg></button>',\r\n\r\n      // Arrows\r\n      arrowLeft:\r\n        '<a data-fancybox-prev class=\"fancybox-button fancybox-button--arrow_left\" title=\"{{PREV}}\" href=\"javascript:;\">' +\r\n        '<svg viewBox=\"0 0 40 40\">' +\r\n        '<path d=\"M18,12 L10,20 L18,28 M10,20 L30,20\"></path>' +\r\n        \"</svg>\" +\r\n        \"</a>\",\r\n\r\n      arrowRight:\r\n        '<a data-fancybox-next class=\"fancybox-button fancybox-button--arrow_right\" title=\"{{NEXT}}\" href=\"javascript:;\">' +\r\n        '<svg viewBox=\"0 0 40 40\">' +\r\n        '<path d=\"M10,20 L30,20 M22,12 L30,20 L22,28\"></path>' +\r\n        \"</svg>\" +\r\n        \"</a>\"\r\n    },\r\n\r\n    // Container is injected into this element\r\n    parentEl: \"body\",\r\n\r\n    // Focus handling\r\n    // ==============\r\n\r\n    // Try to focus on the first focusable element after opening\r\n    autoFocus: false,\r\n\r\n    // Put focus back to active element after closing\r\n    backFocus: true,\r\n\r\n    // Do not let user to focus on element outside modal content\r\n    trapFocus: true,\r\n\r\n    // Module specific options\r\n    // =======================\r\n\r\n    fullScreen: {\r\n      autoStart: false\r\n    },\r\n\r\n    // Set `touch: false` to disable dragging/swiping\r\n    touch: {\r\n      vertical: true, // Allow to drag content vertically\r\n      momentum: true // Continue movement after releasing mouse/touch when panning\r\n    },\r\n\r\n    // Hash value when initializing manually,\r\n    // set `false` to disable hash change\r\n    hash: null,\r\n\r\n    // Customize or add new media types\r\n    // Example:\r\n    /*\r\n        media : {\r\n            youtube : {\r\n                params : {\r\n                    autoplay : 0\r\n                }\r\n            }\r\n        }\r\n        */\r\n    media: {},\r\n\r\n    slideShow: {\r\n      autoStart: false,\r\n      speed: 4000\r\n    },\r\n\r\n    thumbs: {\r\n      autoStart: false, // Display thumbnails on opening\r\n      hideOnClose: true, // Hide thumbnail grid when closing animation starts\r\n      parentEl: \".fancybox-container\", // Container is injected into this element\r\n      axis: \"y\" // Vertical (y) or horizontal (x) scrolling\r\n    },\r\n\r\n    // Use mousewheel to navigate gallery\r\n    // If 'auto' - enabled for images only\r\n    wheel: \"auto\",\r\n\r\n    // Callbacks\r\n    //==========\r\n\r\n    // See Documentation/API/Events for more information\r\n    // Example:\r\n    /*\r\n\t\tafterShow: function( instance, current ) {\r\n\t\t\tconsole.info( 'Clicked element:' );\r\n\t\t\tconsole.info( current.opts.$orig );\r\n\t\t}\r\n\t*/\r\n\r\n    onInit: $.noop, // When instance has been initialized\r\n\r\n    beforeLoad: $.noop, // Before the content of a slide is being loaded\r\n    afterLoad: $.noop, // When the content of a slide is done loading\r\n\r\n    beforeShow: $.noop, // Before open animation starts\r\n    afterShow: $.noop, // When content is done loading and animating\r\n\r\n    beforeClose: $.noop, // Before the instance attempts to close. Return false to cancel the close.\r\n    afterClose: $.noop, // After instance has been closed\r\n\r\n    onActivate: $.noop, // When instance is brought to front\r\n    onDeactivate: $.noop, // When other instance has been activated\r\n\r\n    // Interaction\r\n    // ===========\r\n\r\n    // Use options below to customize taken action when user clicks or double clicks on the fancyBox area,\r\n    // each option can be string or method that returns value.\r\n    //\r\n    // Possible values:\r\n    //   \"close\"           - close instance\r\n    //   \"next\"            - move to next gallery item\r\n    //   \"nextOrClose\"     - move to next gallery item or close if gallery has only one item\r\n    //   \"toggleControls\"  - show/hide controls\r\n    //   \"zoom\"            - zoom image (if loaded)\r\n    //   false             - do nothing\r\n\r\n    // Clicked on the content\r\n    clickContent: function(current, event) {\r\n      return current.type === \"image\" ? \"zoom\" : false;\r\n    },\r\n\r\n    // Clicked on the slide\r\n    clickSlide: \"close\",\r\n\r\n    // Clicked on the background (backdrop) element;\r\n    // if you have not changed the layout, then most likely you need to use `clickSlide` option\r\n    clickOutside: \"close\",\r\n\r\n    // Same as previous two, but for double click\r\n    dblclickContent: false,\r\n    dblclickSlide: false,\r\n    dblclickOutside: false,\r\n\r\n    // Custom options when mobile device is detected\r\n    // =============================================\r\n\r\n    mobile: {\r\n      idleTime: false,\r\n      clickContent: function(current, event) {\r\n        return current.type === \"image\" ? \"toggleControls\" : false;\r\n      },\r\n      clickSlide: function(current, event) {\r\n        return current.type === \"image\" ? \"toggleControls\" : \"close\";\r\n      },\r\n      dblclickContent: function(current, event) {\r\n        return current.type === \"image\" ? \"zoom\" : false;\r\n      },\r\n      dblclickSlide: function(current, event) {\r\n        return current.type === \"image\" ? \"zoom\" : false;\r\n      }\r\n    },\r\n\r\n    // Internationalization\r\n    // ====================\r\n\r\n    lang: \"en\",\r\n    i18n: {\r\n      en: {\r\n        CLOSE: \"Close\",\r\n        NEXT: \"Next\",\r\n        PREV: \"Previous\",\r\n        ERROR: \"The requested content cannot be loaded. <br/> Please try again later.\",\r\n        PLAY_START: \"Start slideshow\",\r\n        PLAY_STOP: \"Pause slideshow\",\r\n        FULL_SCREEN: \"Full screen\",\r\n        THUMBS: \"Thumbnails\",\r\n        DOWNLOAD: \"Download\",\r\n        SHARE: \"Share\",\r\n        ZOOM: \"Zoom\"\r\n      },\r\n      de: {\r\n        CLOSE: \"Schliessen\",\r\n        NEXT: \"Weiter\",\r\n        PREV: \"Zurück\",\r\n        ERROR: \"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es später nochmal.\",\r\n        PLAY_START: \"Diaschau starten\",\r\n        PLAY_STOP: \"Diaschau beenden\",\r\n        FULL_SCREEN: \"Vollbild\",\r\n        THUMBS: \"Vorschaubilder\",\r\n        DOWNLOAD: \"Herunterladen\",\r\n        SHARE: \"Teilen\",\r\n        ZOOM: \"Maßstab\"\r\n      }\r\n    }\r\n  };\r\n\r\n  // Few useful variables and methods\r\n  // ================================\r\n\r\n  var $W = $(window);\r\n  var $D = $(document);\r\n\r\n  var called = 0;\r\n\r\n  // Check if an object is a jQuery object and not a native JavaScript object\r\n  // ========================================================================\r\n  var isQuery = function(obj) {\r\n    return obj && obj.hasOwnProperty && obj instanceof $;\r\n  };\r\n\r\n  // Handle multiple browsers for \"requestAnimationFrame\" and \"cancelAnimationFrame\"\r\n  // ===============================================================================\r\n  var requestAFrame = (function() {\r\n    return (\r\n      window.requestAnimationFrame ||\r\n      window.webkitRequestAnimationFrame ||\r\n      window.mozRequestAnimationFrame ||\r\n      window.oRequestAnimationFrame ||\r\n      // if all else fails, use setTimeout\r\n      function(callback) {\r\n        return window.setTimeout(callback, 1000 / 60);\r\n      }\r\n    );\r\n  })();\r\n\r\n  // Detect the supported transition-end event property name\r\n  // =======================================================\r\n  var transitionEnd = (function() {\r\n    var el = document.createElement(\"fakeelement\"),\r\n      t;\r\n\r\n    var transitions = {\r\n      transition: \"transitionend\",\r\n      OTransition: \"oTransitionEnd\",\r\n      MozTransition: \"transitionend\",\r\n      WebkitTransition: \"webkitTransitionEnd\"\r\n    };\r\n\r\n    for (t in transitions) {\r\n      if (el.style[t] !== undefined) {\r\n        return transitions[t];\r\n      }\r\n    }\r\n\r\n    return \"transitionend\";\r\n  })();\r\n\r\n  // Force redraw on an element.\r\n  // This helps in cases where the browser doesn't redraw an updated element properly\r\n  // ================================================================================\r\n  var forceRedraw = function($el) {\r\n    return $el && $el.length && $el[0].offsetHeight;\r\n  };\r\n\r\n  // Exclude array (`buttons`) options from deep merging\r\n  // ===================================================\r\n  var mergeOpts = function(opts1, opts2) {\r\n    var rez = $.extend(true, {}, opts1, opts2);\r\n\r\n    $.each(opts2, function(key, value) {\r\n      if ($.isArray(value)) {\r\n        rez[key] = value;\r\n      }\r\n    });\r\n\r\n    return rez;\r\n  };\r\n\r\n  // Class definition\r\n  // ================\r\n\r\n  var FancyBox = function(content, opts, index) {\r\n    var self = this;\r\n\r\n    self.opts = mergeOpts({index: index}, $.fancybox.defaults);\r\n\r\n    if ($.isPlainObject(opts)) {\r\n      self.opts = mergeOpts(self.opts, opts);\r\n    }\r\n\r\n    if ($.fancybox.isMobile) {\r\n      self.opts = mergeOpts(self.opts, self.opts.mobile);\r\n    }\r\n\r\n    self.id = self.opts.id || ++called;\r\n\r\n    self.currIndex = parseInt(self.opts.index, 10) || 0;\r\n    self.prevIndex = null;\r\n\r\n    self.prevPos = null;\r\n    self.currPos = 0;\r\n\r\n    self.firstRun = true;\r\n\r\n    // All group items\r\n    self.group = [];\r\n\r\n    // Existing slides (for current, next and previous gallery items)\r\n    self.slides = {};\r\n\r\n    // Create group elements\r\n    self.addContent(content);\r\n\r\n    if (!self.group.length) {\r\n      return;\r\n    }\r\n\r\n    // Save last active element\r\n    self.$lastFocus = $(document.activeElement).trigger(\"blur\");\r\n\r\n    self.init();\r\n  };\r\n\r\n  $.extend(FancyBox.prototype, {\r\n    // Create DOM structure\r\n    // ====================\r\n\r\n    init: function() {\r\n      var self = this,\r\n        firstItem = self.group[self.currIndex],\r\n        firstItemOpts = firstItem.opts,\r\n        scrollbarWidth = $.fancybox.scrollbarWidth,\r\n        $scrollDiv,\r\n        $container,\r\n        buttonStr;\r\n\r\n      // Hide scrollbars\r\n      // ===============\r\n\r\n      if (!$.fancybox.getInstance() && firstItemOpts.hideScrollbar !== false) {\r\n        $(\"body\").addClass(\"fancybox-active\");\r\n\r\n        if (!$.fancybox.isMobile && document.body.scrollHeight > window.innerHeight) {\r\n          if (scrollbarWidth === undefined) {\r\n            $scrollDiv = $('<div style=\"width:100px;height:100px;overflow:scroll;\" />').appendTo(\"body\");\r\n\r\n            scrollbarWidth = $.fancybox.scrollbarWidth = $scrollDiv[0].offsetWidth - $scrollDiv[0].clientWidth;\r\n\r\n            $scrollDiv.remove();\r\n          }\r\n\r\n          $(\"head\").append(\r\n            '<style id=\"fancybox-style-noscroll\" type=\"text/css\">.compensate-for-scrollbar { margin-right: ' +\r\n              scrollbarWidth +\r\n              \"px; }</style>\"\r\n          );\r\n\r\n          $(\"body\").addClass(\"compensate-for-scrollbar\");\r\n        }\r\n      }\r\n\r\n      // Build html markup and set references\r\n      // ====================================\r\n\r\n      // Build html code for buttons and insert into main template\r\n      buttonStr = \"\";\r\n\r\n      $.each(firstItemOpts.buttons, function(index, value) {\r\n        buttonStr += firstItemOpts.btnTpl[value] || \"\";\r\n      });\r\n\r\n      // Create markup from base template, it will be initially hidden to\r\n      // avoid unnecessary work like painting while initializing is not complete\r\n      $container = $(\r\n        self.translate(\r\n          self,\r\n          firstItemOpts.baseTpl\r\n            .replace(\"{{buttons}}\", buttonStr)\r\n            .replace(\"{{arrows}}\", firstItemOpts.btnTpl.arrowLeft + firstItemOpts.btnTpl.arrowRight)\r\n        )\r\n      )\r\n        .attr(\"id\", \"fancybox-container-\" + self.id)\r\n        .addClass(\"fancybox-is-hidden\")\r\n        .addClass(firstItemOpts.baseClass)\r\n        .data(\"FancyBox\", self)\r\n        .appendTo(firstItemOpts.parentEl);\r\n\r\n      // Create object holding references to jQuery wrapped nodes\r\n      self.$refs = {\r\n        container: $container\r\n      };\r\n\r\n      [\"bg\", \"inner\", \"infobar\", \"toolbar\", \"stage\", \"caption\", \"navigation\"].forEach(function(item) {\r\n        self.$refs[item] = $container.find(\".fancybox-\" + item);\r\n      });\r\n\r\n      self.trigger(\"onInit\");\r\n\r\n      // Enable events, deactive previous instances\r\n      self.activate();\r\n\r\n      // Build slides, load and reveal content\r\n      self.jumpTo(self.currIndex);\r\n    },\r\n\r\n    // Simple i18n support - replaces object keys found in template\r\n    // with corresponding values\r\n    // ============================================================\r\n\r\n    translate: function(obj, str) {\r\n      var arr = obj.opts.i18n[obj.opts.lang];\r\n\r\n      return str.replace(/\\{\\{(\\w+)\\}\\}/g, function(match, n) {\r\n        var value = arr[n];\r\n\r\n        if (value === undefined) {\r\n          return match;\r\n        }\r\n\r\n        return value;\r\n      });\r\n    },\r\n\r\n    // Populate current group with fresh content\r\n    // Check if each object has valid type and content\r\n    // ===============================================\r\n\r\n    addContent: function(content) {\r\n      var self = this,\r\n        items = $.makeArray(content),\r\n        thumbs;\r\n\r\n      $.each(items, function(i, item) {\r\n        var obj = {},\r\n          opts = {},\r\n          $item,\r\n          type,\r\n          found,\r\n          src,\r\n          srcParts;\r\n\r\n        // Step 1 - Make sure we have an object\r\n        // ====================================\r\n\r\n        if ($.isPlainObject(item)) {\r\n          // We probably have manual usage here, something like\r\n          // $.fancybox.open( [ { src : \"image.jpg\", type : \"image\" } ] )\r\n\r\n          obj = item;\r\n          opts = item.opts || item;\r\n        } else if ($.type(item) === \"object\" && $(item).length) {\r\n          // Here we probably have jQuery collection returned by some selector\r\n          $item = $(item);\r\n\r\n          // Support attributes like `data-options='{\"touch\" : false}'` and `data-touch='false'`\r\n          opts = $item.data() || {};\r\n          opts = $.extend(true, {}, opts, opts.options);\r\n\r\n          // Here we store clicked element\r\n          opts.$orig = $item;\r\n\r\n          obj.src = self.opts.src || opts.src || $item.attr(\"href\");\r\n\r\n          // Assume that simple syntax is used, for example:\r\n          //   `$.fancybox.open( $(\"#test\"), {} );`\r\n          if (!obj.type && !obj.src) {\r\n            obj.type = \"inline\";\r\n            obj.src = item;\r\n          }\r\n        } else {\r\n          // Assume we have a simple html code, for example:\r\n          //   $.fancybox.open( '<div><h1>Hi!</h1></div>' );\r\n          obj = {\r\n            type: \"html\",\r\n            src: item + \"\"\r\n          };\r\n        }\r\n\r\n        // Each gallery object has full collection of options\r\n        obj.opts = $.extend(true, {}, self.opts, opts);\r\n\r\n        // Do not merge buttons array\r\n        if ($.isArray(opts.buttons)) {\r\n          obj.opts.buttons = opts.buttons;\r\n        }\r\n\r\n        // Step 2 - Make sure we have content type, if not - try to guess\r\n        // ==============================================================\r\n\r\n        type = obj.type || obj.opts.type;\r\n        src = obj.src || \"\";\r\n\r\n        if (!type && src) {\r\n          if ((found = src.match(/\\.(mp4|mov|ogv)((\\?|#).*)?$/i))) {\r\n            type = \"video\";\r\n\r\n            if (!obj.opts.videoFormat) {\r\n              obj.opts.videoFormat = \"video/\" + (found[1] === \"ogv\" ? \"ogg\" : found[1]);\r\n            }\r\n          } else if (src.match(/(^data:image\\/[a-z0-9+\\/=]*,)|(\\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\\?|#).*)?$)/i)) {\r\n            type = \"image\";\r\n          } else if (src.match(/\\.(pdf)((\\?|#).*)?$/i)) {\r\n            type = \"iframe\";\r\n          } else if (src.charAt(0) === \"#\") {\r\n            type = \"inline\";\r\n          }\r\n        }\r\n\r\n        if (type) {\r\n          obj.type = type;\r\n        } else {\r\n          self.trigger(\"objectNeedsType\", obj);\r\n        }\r\n\r\n        if (!obj.contentType) {\r\n          obj.contentType = $.inArray(obj.type, [\"html\", \"inline\", \"ajax\"]) > -1 ? \"html\" : obj.type;\r\n        }\r\n\r\n        // Step 3 - Some adjustments\r\n        // =========================\r\n\r\n        obj.index = self.group.length;\r\n\r\n        if (obj.opts.smallBtn == \"auto\") {\r\n          obj.opts.smallBtn = $.inArray(obj.type, [\"html\", \"inline\", \"ajax\"]) > -1;\r\n        }\r\n\r\n        if (obj.opts.toolbar === \"auto\") {\r\n          obj.opts.toolbar = !obj.opts.smallBtn;\r\n        }\r\n\r\n        // Find thumbnail image\r\n        if (obj.opts.$trigger && obj.index === self.opts.index) {\r\n          obj.opts.$thumb = obj.opts.$trigger.find(\"img:first\");\r\n        }\r\n\r\n        if ((!obj.opts.$thumb || !obj.opts.$thumb.length) && obj.opts.$orig) {\r\n          obj.opts.$thumb = obj.opts.$orig.find(\"img:first\");\r\n        }\r\n\r\n        // \"caption\" is a \"special\" option, it can be used to customize caption per gallery item ..\r\n        if ($.type(obj.opts.caption) === \"function\") {\r\n          obj.opts.caption = obj.opts.caption.apply(item, [self, obj]);\r\n        }\r\n\r\n        if ($.type(self.opts.caption) === \"function\") {\r\n          obj.opts.caption = self.opts.caption.apply(item, [self, obj]);\r\n        }\r\n\r\n        // Make sure we have caption as a string or jQuery object\r\n        if (!(obj.opts.caption instanceof $)) {\r\n          obj.opts.caption = obj.opts.caption === undefined ? \"\" : obj.opts.caption + \"\";\r\n        }\r\n\r\n        // Check if url contains \"filter\" used to filter the content\r\n        // Example: \"ajax.html #something\"\r\n        if (obj.type === \"ajax\") {\r\n          srcParts = src.split(/\\s+/, 2);\r\n\r\n          if (srcParts.length > 1) {\r\n            obj.src = srcParts.shift();\r\n\r\n            obj.opts.filter = srcParts.shift();\r\n          }\r\n        }\r\n\r\n        // Hide all buttons and disable interactivity for modal items\r\n        if (obj.opts.modal) {\r\n          obj.opts = $.extend(true, obj.opts, {\r\n            // Remove buttons\r\n            infobar: 0,\r\n            toolbar: 0,\r\n\r\n            smallBtn: 0,\r\n\r\n            // Disable keyboard navigation\r\n            keyboard: 0,\r\n\r\n            // Disable some modules\r\n            slideShow: 0,\r\n            fullScreen: 0,\r\n            thumbs: 0,\r\n            touch: 0,\r\n\r\n            // Disable click event handlers\r\n            clickContent: false,\r\n            clickSlide: false,\r\n            clickOutside: false,\r\n            dblclickContent: false,\r\n            dblclickSlide: false,\r\n            dblclickOutside: false\r\n          });\r\n        }\r\n\r\n        // Step 4 - Add processed object to group\r\n        // ======================================\r\n\r\n        self.group.push(obj);\r\n      });\r\n\r\n      // Update controls if gallery is already opened\r\n      if (Object.keys(self.slides).length) {\r\n        self.updateControls();\r\n\r\n        // Update thumbnails, if needed\r\n        thumbs = self.Thumbs;\r\n\r\n        if (thumbs && thumbs.isActive) {\r\n          thumbs.create();\r\n\r\n          thumbs.focus();\r\n        }\r\n      }\r\n    },\r\n\r\n    // Attach an event handler functions for:\r\n    //   - navigation buttons\r\n    //   - browser scrolling, resizing;\r\n    //   - focusing\r\n    //   - keyboard\r\n    //   - detect idle\r\n    // ======================================\r\n\r\n    addEvents: function() {\r\n      var self = this;\r\n\r\n      self.removeEvents();\r\n\r\n      // Make navigation elements clickable\r\n      self.$refs.container\r\n        .on(\"click.fb-close\", \"[data-fancybox-close]\", function(e) {\r\n          e.stopPropagation();\r\n          e.preventDefault();\r\n\r\n          self.close(e);\r\n        })\r\n        .on(\"touchstart.fb-prev click.fb-prev\", \"[data-fancybox-prev]\", function(e) {\r\n          e.stopPropagation();\r\n          e.preventDefault();\r\n\r\n          self.previous();\r\n        })\r\n        .on(\"touchstart.fb-next click.fb-next\", \"[data-fancybox-next]\", function(e) {\r\n          e.stopPropagation();\r\n          e.preventDefault();\r\n\r\n          self.next();\r\n        })\r\n        .on(\"click.fb\", \"[data-fancybox-zoom]\", function(e) {\r\n          // Click handler for zoom button\r\n          self[self.isScaledDown() ? \"scaleToActual\" : \"scaleToFit\"]();\r\n        });\r\n\r\n      // Handle page scrolling and browser resizing\r\n      $W.on(\"orientationchange.fb resize.fb\", function(e) {\r\n        if (e && e.originalEvent && e.originalEvent.type === \"resize\") {\r\n          requestAFrame(function() {\r\n            self.update();\r\n          });\r\n        } else {\r\n          self.$refs.stage.hide();\r\n\r\n          setTimeout(function() {\r\n            self.$refs.stage.show();\r\n\r\n            self.update();\r\n          }, $.fancybox.isMobile ? 600 : 250);\r\n        }\r\n      });\r\n\r\n      // Trap keyboard focus inside of the modal, so the user does not accidentally tab outside of the modal\r\n      // (a.k.a. \"escaping the modal\")\r\n      $D.on(\"focusin.fb\", function(e) {\r\n        var instance = $.fancybox ? $.fancybox.getInstance() : null;\r\n\r\n        if (\r\n          instance.isClosing ||\r\n          !instance.current ||\r\n          !instance.current.opts.trapFocus ||\r\n          $(e.target).hasClass(\"fancybox-container\") ||\r\n          $(e.target).is(document)\r\n        ) {\r\n          return;\r\n        }\r\n\r\n        if (instance && $(e.target).css(\"position\") !== \"fixed\" && !instance.$refs.container.has(e.target).length) {\r\n          e.stopPropagation();\r\n\r\n          instance.focus();\r\n        }\r\n      });\r\n\r\n      // Enable keyboard navigation\r\n      $D.on(\"keydown.fb\", function(e) {\r\n        var current = self.current,\r\n          keycode = e.keyCode || e.which;\r\n\r\n        if (!current || !current.opts.keyboard) {\r\n          return;\r\n        }\r\n\r\n        if (e.ctrlKey || e.altKey || e.shiftKey || $(e.target).is(\"input\") || $(e.target).is(\"textarea\")) {\r\n          return;\r\n        }\r\n\r\n        // Backspace and Esc keys\r\n        if (keycode === 8 || keycode === 27) {\r\n          e.preventDefault();\r\n\r\n          self.close(e);\r\n\r\n          return;\r\n        }\r\n\r\n        // Left arrow and Up arrow\r\n        if (keycode === 37 || keycode === 38) {\r\n          e.preventDefault();\r\n\r\n          self.previous();\r\n\r\n          return;\r\n        }\r\n\r\n        // Righ arrow and Down arrow\r\n        if (keycode === 39 || keycode === 40) {\r\n          e.preventDefault();\r\n\r\n          self.next();\r\n\r\n          return;\r\n        }\r\n\r\n        self.trigger(\"afterKeydown\", e, keycode);\r\n      });\r\n\r\n      // Hide controls after some inactivity period\r\n      if (self.group[self.currIndex].opts.idleTime) {\r\n        self.idleSecondsCounter = 0;\r\n\r\n        $D.on(\r\n          \"mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle\",\r\n          function(e) {\r\n            self.idleSecondsCounter = 0;\r\n\r\n            if (self.isIdle) {\r\n              self.showControls();\r\n            }\r\n\r\n            self.isIdle = false;\r\n          }\r\n        );\r\n\r\n        self.idleInterval = window.setInterval(function() {\r\n          self.idleSecondsCounter++;\r\n\r\n          if (self.idleSecondsCounter >= self.group[self.currIndex].opts.idleTime && !self.isDragging) {\r\n            self.isIdle = true;\r\n            self.idleSecondsCounter = 0;\r\n\r\n            self.hideControls();\r\n          }\r\n        }, 1000);\r\n      }\r\n    },\r\n\r\n    // Remove events added by the core\r\n    // ===============================\r\n\r\n    removeEvents: function() {\r\n      var self = this;\r\n\r\n      $W.off(\"orientationchange.fb resize.fb\");\r\n      $D.off(\"focusin.fb keydown.fb .fb-idle\");\r\n\r\n      this.$refs.container.off(\".fb-close .fb-prev .fb-next\");\r\n\r\n      if (self.idleInterval) {\r\n        window.clearInterval(self.idleInterval);\r\n\r\n        self.idleInterval = null;\r\n      }\r\n    },\r\n\r\n    // Change to previous gallery item\r\n    // ===============================\r\n\r\n    previous: function(duration) {\r\n      return this.jumpTo(this.currPos - 1, duration);\r\n    },\r\n\r\n    // Change to next gallery item\r\n    // ===========================\r\n\r\n    next: function(duration) {\r\n      return this.jumpTo(this.currPos + 1, duration);\r\n    },\r\n\r\n    // Switch to selected gallery item\r\n    // ===============================\r\n\r\n    jumpTo: function(pos, duration) {\r\n      var self = this,\r\n        groupLen = self.group.length,\r\n        firstRun,\r\n        loop,\r\n        current,\r\n        previous,\r\n        canvasWidth,\r\n        currentPos,\r\n        transitionProps;\r\n\r\n      if (self.isDragging || self.isClosing || (self.isAnimating && self.firstRun)) {\r\n        return;\r\n      }\r\n\r\n      pos = parseInt(pos, 10);\r\n\r\n      // Should loop?\r\n      loop = self.current ? self.current.opts.loop : self.opts.loop;\r\n\r\n      if (!loop && (pos < 0 || pos >= groupLen)) {\r\n        return false;\r\n      }\r\n\r\n      firstRun = self.firstRun = !Object.keys(self.slides).length;\r\n\r\n      if (groupLen < 2 && !firstRun && !!self.isDragging) {\r\n        return;\r\n      }\r\n\r\n      previous = self.current;\r\n\r\n      self.prevIndex = self.currIndex;\r\n      self.prevPos = self.currPos;\r\n\r\n      // Create slides\r\n      current = self.createSlide(pos);\r\n\r\n      if (groupLen > 1) {\r\n        if (loop || current.index > 0) {\r\n          self.createSlide(pos - 1);\r\n        }\r\n\r\n        if (loop || current.index < groupLen - 1) {\r\n          self.createSlide(pos + 1);\r\n        }\r\n      }\r\n\r\n      self.current = current;\r\n      self.currIndex = current.index;\r\n      self.currPos = current.pos;\r\n\r\n      self.trigger(\"beforeShow\", firstRun);\r\n\r\n      self.updateControls();\r\n\r\n      currentPos = $.fancybox.getTranslate(current.$slide);\r\n\r\n      current.isMoved = (currentPos.left !== 0 || currentPos.top !== 0) && !current.$slide.hasClass(\"fancybox-animated\");\r\n\r\n      // Validate duration length\r\n      current.forcedDuration = undefined;\r\n\r\n      if ($.isNumeric(duration)) {\r\n        current.forcedDuration = duration;\r\n      } else {\r\n        duration = current.opts[firstRun ? \"animationDuration\" : \"transitionDuration\"];\r\n      }\r\n\r\n      duration = parseInt(duration, 10);\r\n\r\n      // Fresh start - reveal container, current slide and start loading content\r\n      if (firstRun) {\r\n        if (current.opts.animationEffect && duration) {\r\n          self.$refs.container.css(\"transition-duration\", duration + \"ms\");\r\n        }\r\n\r\n        self.$refs.container.removeClass(\"fancybox-is-hidden\");\r\n\r\n        forceRedraw(self.$refs.container);\r\n\r\n        self.$refs.container.addClass(\"fancybox-is-open\");\r\n\r\n        forceRedraw(self.$refs.container);\r\n\r\n        // Make current slide visible\r\n        current.$slide.addClass(\"fancybox-slide--previous\");\r\n\r\n        // Attempt to load content into slide;\r\n        // at this point image would start loading, but inline/html content would load immediately\r\n        self.loadSlide(current);\r\n\r\n        current.$slide.removeClass(\"fancybox-slide--previous\").addClass(\"fancybox-slide--current\");\r\n\r\n        self.preload(\"image\");\r\n\r\n        return;\r\n      }\r\n\r\n      // Clean up\r\n      $.each(self.slides, function(index, slide) {\r\n        $.fancybox.stop(slide.$slide);\r\n      });\r\n\r\n      // Make current that slide is visible even if content is still loading\r\n      current.$slide.removeClass(\"fancybox-slide--next fancybox-slide--previous\").addClass(\"fancybox-slide--current\");\r\n\r\n      // If slides have been dragged, animate them to correct position\r\n      if (current.isMoved) {\r\n        canvasWidth = Math.round(current.$slide.width());\r\n\r\n        $.each(self.slides, function(index, slide) {\r\n          var pos = slide.pos - current.pos;\r\n\r\n          $.fancybox.animate(\r\n            slide.$slide,\r\n            {\r\n              top: 0,\r\n              left: pos * canvasWidth + pos * slide.opts.gutter\r\n            },\r\n            duration,\r\n            function() {\r\n              slide.$slide.removeAttr(\"style\").removeClass(\"fancybox-slide--next fancybox-slide--previous\");\r\n\r\n              if (slide.pos === self.currPos) {\r\n                current.isMoved = false;\r\n\r\n                self.complete();\r\n              }\r\n            }\r\n          );\r\n        });\r\n      } else {\r\n        self.$refs.stage.children().removeAttr(\"style\");\r\n      }\r\n\r\n      // Start transition that reveals current content\r\n      // or wait when it will be loaded\r\n\r\n      if (current.isLoaded) {\r\n        self.revealContent(current);\r\n      } else {\r\n        self.loadSlide(current);\r\n      }\r\n\r\n      self.preload(\"image\");\r\n\r\n      if (previous.pos === current.pos) {\r\n        return;\r\n      }\r\n\r\n      // Handle previous slide\r\n      // =====================\r\n\r\n      transitionProps = \"fancybox-slide--\" + (previous.pos > current.pos ? \"next\" : \"previous\");\r\n\r\n      previous.$slide.removeClass(\"fancybox-slide--complete fancybox-slide--current fancybox-slide--next fancybox-slide--previous\");\r\n\r\n      previous.isComplete = false;\r\n\r\n      if (!duration || (!current.isMoved && !current.opts.transitionEffect)) {\r\n        return;\r\n      }\r\n\r\n      if (current.isMoved) {\r\n        previous.$slide.addClass(transitionProps);\r\n      } else {\r\n        transitionProps = \"fancybox-animated \" + transitionProps + \" fancybox-fx-\" + current.opts.transitionEffect;\r\n\r\n        $.fancybox.animate(previous.$slide, transitionProps, duration, function() {\r\n          previous.$slide.removeClass(transitionProps).removeAttr(\"style\");\r\n        });\r\n      }\r\n    },\r\n\r\n    // Create new \"slide\" element\r\n    // These are gallery items  that are actually added to DOM\r\n    // =======================================================\r\n\r\n    createSlide: function(pos) {\r\n      var self = this,\r\n        $slide,\r\n        index;\r\n\r\n      index = pos % self.group.length;\r\n      index = index < 0 ? self.group.length + index : index;\r\n\r\n      if (!self.slides[pos] && self.group[index]) {\r\n        $slide = $('<div class=\"fancybox-slide\"></div>').appendTo(self.$refs.stage);\r\n\r\n        self.slides[pos] = $.extend(true, {}, self.group[index], {\r\n          pos: pos,\r\n          $slide: $slide,\r\n          isLoaded: false\r\n        });\r\n\r\n        self.updateSlide(self.slides[pos]);\r\n      }\r\n\r\n      return self.slides[pos];\r\n    },\r\n\r\n    // Scale image to the actual size of the image;\r\n    // x and y values should be relative to the slide\r\n    // ==============================================\r\n\r\n    scaleToActual: function(x, y, duration) {\r\n      var self = this,\r\n        current = self.current,\r\n        $content = current.$content,\r\n        canvasWidth = $.fancybox.getTranslate(current.$slide).width,\r\n        canvasHeight = $.fancybox.getTranslate(current.$slide).height,\r\n        newImgWidth = current.width,\r\n        newImgHeight = current.height,\r\n        imgPos,\r\n        posX,\r\n        posY,\r\n        scaleX,\r\n        scaleY;\r\n\r\n      if (self.isAnimating || !$content || !(current.type == \"image\" && current.isLoaded && !current.hasError)) {\r\n        return;\r\n      }\r\n\r\n      $.fancybox.stop($content);\r\n\r\n      self.isAnimating = true;\r\n\r\n      x = x === undefined ? canvasWidth * 0.5 : x;\r\n      y = y === undefined ? canvasHeight * 0.5 : y;\r\n\r\n      imgPos = $.fancybox.getTranslate($content);\r\n\r\n      imgPos.top -= $.fancybox.getTranslate(current.$slide).top;\r\n      imgPos.left -= $.fancybox.getTranslate(current.$slide).left;\r\n\r\n      scaleX = newImgWidth / imgPos.width;\r\n      scaleY = newImgHeight / imgPos.height;\r\n\r\n      // Get center position for original image\r\n      posX = canvasWidth * 0.5 - newImgWidth * 0.5;\r\n      posY = canvasHeight * 0.5 - newImgHeight * 0.5;\r\n\r\n      // Make sure image does not move away from edges\r\n      if (newImgWidth > canvasWidth) {\r\n        posX = imgPos.left * scaleX - (x * scaleX - x);\r\n\r\n        if (posX > 0) {\r\n          posX = 0;\r\n        }\r\n\r\n        if (posX < canvasWidth - newImgWidth) {\r\n          posX = canvasWidth - newImgWidth;\r\n        }\r\n      }\r\n\r\n      if (newImgHeight > canvasHeight) {\r\n        posY = imgPos.top * scaleY - (y * scaleY - y);\r\n\r\n        if (posY > 0) {\r\n          posY = 0;\r\n        }\r\n\r\n        if (posY < canvasHeight - newImgHeight) {\r\n          posY = canvasHeight - newImgHeight;\r\n        }\r\n      }\r\n\r\n      self.updateCursor(newImgWidth, newImgHeight);\r\n\r\n      $.fancybox.animate(\r\n        $content,\r\n        {\r\n          top: posY,\r\n          left: posX,\r\n          scaleX: scaleX,\r\n          scaleY: scaleY\r\n        },\r\n        duration || 330,\r\n        function() {\r\n          self.isAnimating = false;\r\n        }\r\n      );\r\n\r\n      // Stop slideshow\r\n      if (self.SlideShow && self.SlideShow.isActive) {\r\n        self.SlideShow.stop();\r\n      }\r\n    },\r\n\r\n    // Scale image to fit inside parent element\r\n    // ========================================\r\n\r\n    scaleToFit: function(duration) {\r\n      var self = this,\r\n        current = self.current,\r\n        $content = current.$content,\r\n        end;\r\n\r\n      if (self.isAnimating || !$content || !(current.type == \"image\" && current.isLoaded && !current.hasError)) {\r\n        return;\r\n      }\r\n\r\n      $.fancybox.stop($content);\r\n\r\n      self.isAnimating = true;\r\n\r\n      end = self.getFitPos(current);\r\n\r\n      self.updateCursor(end.width, end.height);\r\n\r\n      $.fancybox.animate(\r\n        $content,\r\n        {\r\n          top: end.top,\r\n          left: end.left,\r\n          scaleX: end.width / $content.width(),\r\n          scaleY: end.height / $content.height()\r\n        },\r\n        duration || 330,\r\n        function() {\r\n          self.isAnimating = false;\r\n        }\r\n      );\r\n    },\r\n\r\n    // Calculate image size to fit inside viewport\r\n    // ===========================================\r\n\r\n    getFitPos: function(slide) {\r\n      var self = this,\r\n        $content = slide.$content,\r\n        width = slide.width || slide.opts.width,\r\n        height = slide.height || slide.opts.height,\r\n        maxWidth,\r\n        maxHeight,\r\n        minRatio,\r\n        margin,\r\n        aspectRatio,\r\n        rez = {};\r\n\r\n      if (!slide.isLoaded || !$content || !$content.length) {\r\n        return false;\r\n      }\r\n\r\n      margin = {\r\n        top: parseInt(slide.$slide.css(\"paddingTop\"), 10),\r\n        right: parseInt(slide.$slide.css(\"paddingRight\"), 10),\r\n        bottom: parseInt(slide.$slide.css(\"paddingBottom\"), 10),\r\n        left: parseInt(slide.$slide.css(\"paddingLeft\"), 10)\r\n      };\r\n\r\n      // We can not use $slide width here, because it can have different diemensions while in transiton\r\n      maxWidth = parseInt(self.$refs.stage.width(), 10) - (margin.left + margin.right);\r\n      maxHeight = parseInt(self.$refs.stage.height(), 10) - (margin.top + margin.bottom);\r\n\r\n      if (!width || !height) {\r\n        width = maxWidth;\r\n        height = maxHeight;\r\n      }\r\n\r\n      minRatio = Math.min(1, maxWidth / width, maxHeight / height);\r\n\r\n      // Use floor rounding to make sure it really fits\r\n      width = Math.floor(minRatio * width);\r\n      height = Math.floor(minRatio * height);\r\n\r\n      if (slide.type === \"image\") {\r\n        rez.top = Math.floor((maxHeight - height) * 0.5) + margin.top;\r\n        rez.left = Math.floor((maxWidth - width) * 0.5) + margin.left;\r\n      } else if (slide.contentType === \"video\") {\r\n        // Force aspect ratio for the video\r\n        // \"I say the whole world must learn of our peaceful ways… by force!\"\r\n        aspectRatio = slide.opts.width && slide.opts.height ? width / height : slide.opts.ratio || 16 / 9;\r\n\r\n        if (height > width / aspectRatio) {\r\n          height = width / aspectRatio;\r\n        } else if (width > height * aspectRatio) {\r\n          width = height * aspectRatio;\r\n        }\r\n      }\r\n\r\n      rez.width = width;\r\n      rez.height = height;\r\n\r\n      return rez;\r\n    },\r\n\r\n    // Update content size and position for all slides\r\n    // ==============================================\r\n\r\n    update: function() {\r\n      var self = this;\r\n\r\n      $.each(self.slides, function(key, slide) {\r\n        self.updateSlide(slide);\r\n      });\r\n    },\r\n\r\n    // Update slide content position and size\r\n    // ======================================\r\n\r\n    updateSlide: function(slide, duration) {\r\n      var self = this,\r\n        $content = slide && slide.$content,\r\n        width = slide.width || slide.opts.width,\r\n        height = slide.height || slide.opts.height;\r\n\r\n      if ($content && (width || height || slide.contentType === \"video\") && !slide.hasError) {\r\n        $.fancybox.stop($content);\r\n\r\n        $.fancybox.setTranslate($content, self.getFitPos(slide));\r\n\r\n        if (slide.pos === self.currPos) {\r\n          self.isAnimating = false;\r\n\r\n          self.updateCursor();\r\n        }\r\n      }\r\n\r\n      slide.$slide.trigger(\"refresh\");\r\n\r\n      self.$refs.toolbar.toggleClass(\"compensate-for-scrollbar\", slide.$slide.get(0).scrollHeight > slide.$slide.get(0).clientHeight);\r\n\r\n      self.trigger(\"onUpdate\", slide);\r\n    },\r\n\r\n    // Horizontally center slide\r\n    // =========================\r\n\r\n    centerSlide: function(slide, duration) {\r\n      var self = this,\r\n        canvasWidth,\r\n        pos;\r\n\r\n      if (self.current) {\r\n        canvasWidth = Math.round(slide.$slide.width());\r\n        pos = slide.pos - self.current.pos;\r\n\r\n        $.fancybox.animate(\r\n          slide.$slide,\r\n          {\r\n            top: 0,\r\n            left: pos * canvasWidth + pos * slide.opts.gutter,\r\n            opacity: 1\r\n          },\r\n          duration === undefined ? 0 : duration,\r\n          null,\r\n          false\r\n        );\r\n      }\r\n    },\r\n\r\n    // Update cursor style depending if content can be zoomed\r\n    // ======================================================\r\n\r\n    updateCursor: function(nextWidth, nextHeight) {\r\n      var self = this,\r\n        current = self.current,\r\n        $container = self.$refs.container.removeClass(\"fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-drag fancybox-can-zoomOut\"),\r\n        isZoomable;\r\n\r\n      if (!current || self.isClosing) {\r\n        return;\r\n      }\r\n\r\n      isZoomable = self.isZoomable();\r\n\r\n      $container.toggleClass(\"fancybox-is-zoomable\", isZoomable);\r\n\r\n      $(\"[data-fancybox-zoom]\").prop(\"disabled\", !isZoomable);\r\n\r\n      // Set cursor to zoom in/out if click event is 'zoom'\r\n      if (\r\n        isZoomable &&\r\n        (current.opts.clickContent === \"zoom\" || ($.isFunction(current.opts.clickContent) && current.opts.clickContent(current) === \"zoom\"))\r\n      ) {\r\n        if (self.isScaledDown(nextWidth, nextHeight)) {\r\n          // If image is scaled down, then, obviously, it can be zoomed to full size\r\n          $container.addClass(\"fancybox-can-zoomIn\");\r\n        } else {\r\n          if (current.opts.touch) {\r\n            // If image size ir largen than available available and touch module is not disable,\r\n            // then user can do panning\r\n            $container.addClass(\"fancybox-can-drag\");\r\n          } else {\r\n            $container.addClass(\"fancybox-can-zoomOut\");\r\n          }\r\n        }\r\n      } else if (current.opts.touch && current.contentType !== \"video\") {\r\n        $container.addClass(\"fancybox-can-drag\");\r\n      }\r\n    },\r\n\r\n    // Check if current slide is zoomable\r\n    // ==================================\r\n\r\n    isZoomable: function() {\r\n      var self = this,\r\n        current = self.current,\r\n        fitPos;\r\n\r\n      // Assume that slide is zoomable if:\r\n      //   - image is still loading\r\n      //   - actual size of the image is smaller than available area\r\n      if (current && !self.isClosing && current.type === \"image\" && !current.hasError) {\r\n        if (!current.isLoaded) {\r\n          return true;\r\n        }\r\n\r\n        fitPos = self.getFitPos(current);\r\n\r\n        if (current.width > fitPos.width || current.height > fitPos.height) {\r\n          return true;\r\n        }\r\n      }\r\n\r\n      return false;\r\n    },\r\n\r\n    // Check if current image dimensions are smaller than actual\r\n    // =========================================================\r\n\r\n    isScaledDown: function(nextWidth, nextHeight) {\r\n      var self = this,\r\n        rez = false,\r\n        current = self.current,\r\n        $content = current.$content;\r\n\r\n      if (nextWidth !== undefined && nextHeight !== undefined) {\r\n        rez = nextWidth < current.width && nextHeight < current.height;\r\n      } else if ($content) {\r\n        rez = $.fancybox.getTranslate($content);\r\n        rez = rez.width < current.width && rez.height < current.height;\r\n      }\r\n\r\n      return rez;\r\n    },\r\n\r\n    // Check if image dimensions exceed parent element\r\n    // ===============================================\r\n\r\n    canPan: function() {\r\n      var self = this,\r\n        rez = false,\r\n        current = self.current,\r\n        $content;\r\n\r\n      if (current.type === \"image\" && ($content = current.$content) && !current.hasError) {\r\n        rez = self.getFitPos(current);\r\n        rez = Math.abs($content.width() - rez.width) > 1 || Math.abs($content.height() - rez.height) > 1;\r\n      }\r\n\r\n      return rez;\r\n    },\r\n\r\n    // Load content into the slide\r\n    // ===========================\r\n\r\n    loadSlide: function(slide) {\r\n      var self = this,\r\n        type,\r\n        $slide,\r\n        ajaxLoad;\r\n\r\n      if (slide.isLoading || slide.isLoaded) {\r\n        return;\r\n      }\r\n\r\n      slide.isLoading = true;\r\n\r\n      self.trigger(\"beforeLoad\", slide);\r\n\r\n      type = slide.type;\r\n      $slide = slide.$slide;\r\n\r\n      $slide\r\n        .off(\"refresh\")\r\n        .trigger(\"onReset\")\r\n        .addClass(slide.opts.slideClass);\r\n\r\n      // Create content depending on the type\r\n      switch (type) {\r\n        case \"image\":\r\n          self.setImage(slide);\r\n\r\n          break;\r\n\r\n        case \"iframe\":\r\n          self.setIframe(slide);\r\n\r\n          break;\r\n\r\n        case \"html\":\r\n          self.setContent(slide, slide.src || slide.content);\r\n\r\n          break;\r\n\r\n        case \"video\":\r\n          self.setContent(\r\n            slide,\r\n            '<video class=\"fancybox-video\" controls controlsList=\"nodownload\">' +\r\n              '<source src=\"' +\r\n              slide.src +\r\n              '\" type=\"' +\r\n              slide.opts.videoFormat +\r\n              '\">' +\r\n              \"Your browser doesn't support HTML5 video\" +\r\n              \"</video\"\r\n          );\r\n\r\n          break;\r\n\r\n        case \"inline\":\r\n          if ($(slide.src).length) {\r\n            self.setContent(slide, $(slide.src));\r\n          } else {\r\n            self.setError(slide);\r\n          }\r\n\r\n          break;\r\n\r\n        case \"ajax\":\r\n          self.showLoading(slide);\r\n\r\n          ajaxLoad = $.ajax(\r\n            $.extend({}, slide.opts.ajax.settings, {\r\n              url: slide.src,\r\n              success: function(data, textStatus) {\r\n                if (textStatus === \"success\") {\r\n                  self.setContent(slide, data);\r\n                }\r\n              },\r\n              error: function(jqXHR, textStatus) {\r\n                if (jqXHR && textStatus !== \"abort\") {\r\n                  self.setError(slide);\r\n                }\r\n              }\r\n            })\r\n          );\r\n\r\n          $slide.one(\"onReset\", function() {\r\n            ajaxLoad.abort();\r\n          });\r\n\r\n          break;\r\n\r\n        default:\r\n          self.setError(slide);\r\n\r\n          break;\r\n      }\r\n\r\n      return true;\r\n    },\r\n\r\n    // Use thumbnail image, if possible\r\n    // ================================\r\n\r\n    setImage: function(slide) {\r\n      var self = this,\r\n        srcset = slide.opts.srcset || slide.opts.image.srcset,\r\n        thumbSrc,\r\n        found,\r\n        temp,\r\n        pxRatio,\r\n        windowWidth;\r\n\r\n      // Check if need to show loading icon\r\n      slide.timouts = setTimeout(function() {\r\n        var $img = slide.$image;\r\n\r\n        if (slide.isLoading && (!$img || !$img[0].complete) && !slide.hasError) {\r\n          self.showLoading(slide);\r\n        }\r\n      }, 350);\r\n\r\n      // If we have \"srcset\", then we need to find first matching \"src\" value.\r\n      // This is necessary, because when you set an src attribute, the browser will preload the image\r\n      // before any javascript or even CSS is applied.\r\n      if (srcset) {\r\n        pxRatio = window.devicePixelRatio || 1;\r\n        windowWidth = window.innerWidth * pxRatio;\r\n\r\n        temp = srcset.split(\",\").map(function(el) {\r\n          var ret = {};\r\n\r\n          el\r\n            .trim()\r\n            .split(/\\s+/)\r\n            .forEach(function(el, i) {\r\n              var value = parseInt(el.substring(0, el.length - 1), 10);\r\n\r\n              if (i === 0) {\r\n                return (ret.url = el);\r\n              }\r\n\r\n              if (value) {\r\n                ret.value = value;\r\n                ret.postfix = el[el.length - 1];\r\n              }\r\n            });\r\n\r\n          return ret;\r\n        });\r\n\r\n        // Sort by value\r\n        temp.sort(function(a, b) {\r\n          return a.value - b.value;\r\n        });\r\n\r\n        // Ok, now we have an array of all srcset values\r\n        for (var j = 0; j < temp.length; j++) {\r\n          var el = temp[j];\r\n\r\n          if ((el.postfix === \"w\" && el.value >= windowWidth) || (el.postfix === \"x\" && el.value >= pxRatio)) {\r\n            found = el;\r\n            break;\r\n          }\r\n        }\r\n\r\n        // If not found, take the last one\r\n        if (!found && temp.length) {\r\n          found = temp[temp.length - 1];\r\n        }\r\n\r\n        if (found) {\r\n          slide.src = found.url;\r\n\r\n          // If we have default width/height values, we can calculate height for matching source\r\n          if (slide.width && slide.height && found.postfix == \"w\") {\r\n            slide.height = slide.width / slide.height * found.value;\r\n            slide.width = found.value;\r\n          }\r\n\r\n          slide.opts.srcset = srcset;\r\n        }\r\n      }\r\n\r\n      // This will be wrapper containing both ghost and actual image\r\n      slide.$content = $('<div class=\"fancybox-content\"></div>')\r\n        .addClass(\"fancybox-is-hidden\")\r\n        .appendTo(slide.$slide.addClass(\"fancybox-slide--image\"));\r\n\r\n      // If we have a thumbnail, we can display it while actual image is loading\r\n      // Users will not stare at black screen and actual image will appear gradually\r\n      thumbSrc = slide.opts.thumb || (slide.opts.$thumb && slide.opts.$thumb.length ? slide.opts.$thumb.attr(\"src\") : false);\r\n\r\n      if (slide.opts.preload !== false && slide.opts.width && slide.opts.height && thumbSrc) {\r\n        slide.width = slide.opts.width;\r\n        slide.height = slide.opts.height;\r\n\r\n        slide.$ghost = $(\"<img />\")\r\n          .one(\"error\", function() {\r\n            $(this).remove();\r\n\r\n            slide.$ghost = null;\r\n          })\r\n          .one(\"load\", function() {\r\n            self.afterLoad(slide);\r\n          })\r\n          .addClass(\"fancybox-image\")\r\n          .appendTo(slide.$content)\r\n          .attr(\"src\", thumbSrc);\r\n      }\r\n\r\n      // Start loading actual image\r\n      self.setBigImage(slide);\r\n    },\r\n\r\n    // Create full-size image\r\n    // ======================\r\n\r\n    setBigImage: function(slide) {\r\n      var self = this,\r\n        $img = $(\"<img />\");\r\n\r\n      slide.$image = $img\r\n        .one(\"error\", function() {\r\n          self.setError(slide);\r\n        })\r\n        .one(\"load\", function() {\r\n          var sizes;\r\n\r\n          if (!slide.$ghost) {\r\n            self.resolveImageSlideSize(slide, this.naturalWidth, this.naturalHeight);\r\n\r\n            self.afterLoad(slide);\r\n          }\r\n\r\n          // Clear timeout that checks if loading icon needs to be displayed\r\n          if (slide.timouts) {\r\n            clearTimeout(slide.timouts);\r\n            slide.timouts = null;\r\n          }\r\n\r\n          if (self.isClosing) {\r\n            return;\r\n          }\r\n\r\n          if (slide.opts.srcset) {\r\n            sizes = slide.opts.sizes;\r\n\r\n            if (!sizes || sizes === \"auto\") {\r\n              sizes =\r\n                (slide.width / slide.height > 1 && $W.width() / $W.height() > 1 ? \"100\" : Math.round(slide.width / slide.height * 100)) +\r\n                \"vw\";\r\n            }\r\n\r\n            $img.attr(\"sizes\", sizes).attr(\"srcset\", slide.opts.srcset);\r\n          }\r\n\r\n          // Hide temporary image after some delay\r\n          if (slide.$ghost) {\r\n            setTimeout(function() {\r\n              if (slide.$ghost && !self.isClosing) {\r\n                slide.$ghost.hide();\r\n              }\r\n            }, Math.min(300, Math.max(1000, slide.height / 1600)));\r\n          }\r\n\r\n          self.hideLoading(slide);\r\n        })\r\n        .addClass(\"fancybox-image\")\r\n        .attr(\"src\", slide.src)\r\n        .appendTo(slide.$content);\r\n\r\n      if (($img[0].complete || $img[0].readyState == \"complete\") && $img[0].naturalWidth && $img[0].naturalHeight) {\r\n        $img.trigger(\"load\");\r\n      } else if ($img[0].error) {\r\n        $img.trigger(\"error\");\r\n      }\r\n    },\r\n\r\n    // Computes the slide size from image size and maxWidth/maxHeight\r\n    // ==============================================================\r\n\r\n    resolveImageSlideSize: function(slide, imgWidth, imgHeight) {\r\n      var maxWidth = parseInt(slide.opts.width, 10),\r\n        maxHeight = parseInt(slide.opts.height, 10);\r\n\r\n      // Sets the default values from the image\r\n      slide.width = imgWidth;\r\n      slide.height = imgHeight;\r\n\r\n      if (maxWidth > 0) {\r\n        slide.width = maxWidth;\r\n        slide.height = Math.floor(maxWidth * imgHeight / imgWidth);\r\n      }\r\n\r\n      if (maxHeight > 0) {\r\n        slide.width = Math.floor(maxHeight * imgWidth / imgHeight);\r\n        slide.height = maxHeight;\r\n      }\r\n    },\r\n\r\n    // Create iframe wrapper, iframe and bindings\r\n    // ==========================================\r\n\r\n    setIframe: function(slide) {\r\n      var self = this,\r\n        opts = slide.opts.iframe,\r\n        $slide = slide.$slide,\r\n        $iframe;\r\n\r\n      slide.$content = $('<div class=\"fancybox-content' + (opts.preload ? \" fancybox-is-hidden\" : \"\") + '\"></div>')\r\n        .css(opts.css)\r\n        .appendTo($slide);\r\n\r\n      $slide.addClass(\"fancybox-slide--\" + slide.contentType);\r\n\r\n      slide.$iframe = $iframe = $(opts.tpl.replace(/\\{rnd\\}/g, new Date().getTime()))\r\n        .attr(opts.attr)\r\n        .appendTo(slide.$content);\r\n\r\n      if (opts.preload) {\r\n        self.showLoading(slide);\r\n\r\n        // Unfortunately, it is not always possible to determine if iframe is successfully loaded\r\n        // (due to browser security policy)\r\n\r\n        $iframe.on(\"load.fb error.fb\", function(e) {\r\n          this.isReady = 1;\r\n\r\n          slide.$slide.trigger(\"refresh\");\r\n\r\n          self.afterLoad(slide);\r\n        });\r\n\r\n        // Recalculate iframe content size\r\n        // ===============================\r\n\r\n        $slide.on(\"refresh.fb\", function() {\r\n          var $content = slide.$content,\r\n            frameWidth = opts.css.width,\r\n            frameHeight = opts.css.height,\r\n            $contents,\r\n            $body;\r\n\r\n          if ($iframe[0].isReady !== 1) {\r\n            return;\r\n          }\r\n\r\n          try {\r\n            $contents = $iframe.contents();\r\n            $body = $contents.find(\"body\");\r\n          } catch (ignore) {}\r\n\r\n          // Calculate contnet dimensions if it is accessible\r\n          if ($body && $body.length && $body.children().length) {\r\n            $content.css({\r\n              width: \"\",\r\n              height: \"\"\r\n            });\r\n\r\n            if (frameWidth === undefined) {\r\n              frameWidth = Math.ceil(Math.max($body[0].clientWidth, $body.outerWidth(true)));\r\n            }\r\n\r\n            if (frameWidth) {\r\n              $content.width(frameWidth);\r\n            }\r\n\r\n            if (frameHeight === undefined) {\r\n              frameHeight = Math.ceil(Math.max($body[0].clientHeight, $body.outerHeight(true)));\r\n            }\r\n\r\n            if (frameHeight) {\r\n              $content.height(frameHeight);\r\n            }\r\n          }\r\n\r\n          $content.removeClass(\"fancybox-is-hidden\");\r\n        });\r\n      } else {\r\n        this.afterLoad(slide);\r\n      }\r\n\r\n      $iframe.attr(\"src\", slide.src);\r\n\r\n      // Remove iframe if closing or changing gallery item\r\n      $slide.one(\"onReset\", function() {\r\n        // This helps IE not to throw errors when closing\r\n        try {\r\n          $(this)\r\n            .find(\"iframe\")\r\n            .hide()\r\n            .unbind()\r\n            .attr(\"src\", \"//about:blank\");\r\n        } catch (ignore) {}\r\n\r\n        $(this)\r\n          .off(\"refresh.fb\")\r\n          .empty();\r\n\r\n        slide.isLoaded = false;\r\n      });\r\n    },\r\n\r\n    // Wrap and append content to the slide\r\n    // ======================================\r\n\r\n    setContent: function(slide, content) {\r\n      var self = this;\r\n\r\n      if (self.isClosing) {\r\n        return;\r\n      }\r\n\r\n      self.hideLoading(slide);\r\n\r\n      if (slide.$content) {\r\n        $.fancybox.stop(slide.$content);\r\n      }\r\n\r\n      slide.$slide.empty();\r\n\r\n      // If content is a jQuery object, then it will be moved to the slide.\r\n      // The placeholder is created so we will know where to put it back.\r\n      if (isQuery(content) && content.parent().length) {\r\n        // Make sure content is not already moved to fancyBox\r\n        content\r\n          .parent()\r\n          .parent(\".fancybox-slide--inline\")\r\n          .trigger(\"onReset\");\r\n\r\n        // Create temporary element marking original place of the content\r\n        slide.$placeholder = $(\"<div>\")\r\n          .hide()\r\n          .insertAfter(content);\r\n\r\n        // Make sure content is visible\r\n        content.css(\"display\", \"inline-block\");\r\n      } else if (!slide.hasError) {\r\n        // If content is just a plain text, try to convert it to html\r\n        if ($.type(content) === \"string\") {\r\n          content = $(\"<div>\")\r\n            .append($.trim(content))\r\n            .contents();\r\n\r\n          // If we have text node, then add wrapping element to make vertical alignment work\r\n          if (content[0].nodeType === 3) {\r\n            content = $(\"<div>\").html(content);\r\n          }\r\n        }\r\n\r\n        // If \"filter\" option is provided, then filter content\r\n        if (slide.opts.filter) {\r\n          content = $(\"<div>\")\r\n            .html(content)\r\n            .find(slide.opts.filter);\r\n        }\r\n      }\r\n\r\n      slide.$slide.one(\"onReset\", function() {\r\n        // Pause all html5 video/audio\r\n        $(this)\r\n          .find(\"video,audio\")\r\n          .trigger(\"pause\");\r\n\r\n        // Put content back\r\n        if (slide.$placeholder) {\r\n          slide.$placeholder.after(content.hide()).remove();\r\n\r\n          slide.$placeholder = null;\r\n        }\r\n\r\n        // Remove custom close button\r\n        if (slide.$smallBtn) {\r\n          slide.$smallBtn.remove();\r\n\r\n          slide.$smallBtn = null;\r\n        }\r\n\r\n        // Remove content and mark slide as not loaded\r\n        if (!slide.hasError) {\r\n          $(this).empty();\r\n\r\n          slide.isLoaded = false;\r\n        }\r\n      });\r\n\r\n      $(content).appendTo(slide.$slide);\r\n\r\n      if ($(content).is(\"video,audio\")) {\r\n        $(content).addClass(\"fancybox-video\");\r\n\r\n        $(content).wrap(\"<div></div>\");\r\n\r\n        slide.contentType = \"video\";\r\n\r\n        slide.opts.width = slide.opts.width || $(content).attr(\"width\");\r\n        slide.opts.height = slide.opts.height || $(content).attr(\"height\");\r\n      }\r\n\r\n      slide.$content = slide.$slide\r\n        .children()\r\n        .filter(\"div,form,main,video,audio\")\r\n        .first()\r\n        .addClass(\"fancybox-content\");\r\n\r\n      slide.$slide.addClass(\"fancybox-slide--\" + slide.contentType);\r\n\r\n      this.afterLoad(slide);\r\n    },\r\n\r\n    // Display error message\r\n    // =====================\r\n\r\n    setError: function(slide) {\r\n      slide.hasError = true;\r\n\r\n      slide.$slide\r\n        .trigger(\"onReset\")\r\n        .removeClass(\"fancybox-slide--\" + slide.contentType)\r\n        .addClass(\"fancybox-slide--error\");\r\n\r\n      slide.contentType = \"html\";\r\n\r\n      this.setContent(slide, this.translate(slide, slide.opts.errorTpl));\r\n\r\n      if (slide.pos === this.currPos) {\r\n        this.isAnimating = false;\r\n      }\r\n    },\r\n\r\n    // Show loading icon inside the slide\r\n    // ==================================\r\n\r\n    showLoading: function(slide) {\r\n      var self = this;\r\n\r\n      slide = slide || self.current;\r\n\r\n      if (slide && !slide.$spinner) {\r\n        slide.$spinner = $(self.translate(self, self.opts.spinnerTpl)).appendTo(slide.$slide);\r\n      }\r\n    },\r\n\r\n    // Remove loading icon from the slide\r\n    // ==================================\r\n\r\n    hideLoading: function(slide) {\r\n      var self = this;\r\n\r\n      slide = slide || self.current;\r\n\r\n      if (slide && slide.$spinner) {\r\n        slide.$spinner.remove();\r\n\r\n        delete slide.$spinner;\r\n      }\r\n    },\r\n\r\n    // Adjustments after slide content has been loaded\r\n    // ===============================================\r\n\r\n    afterLoad: function(slide) {\r\n      var self = this;\r\n\r\n      if (self.isClosing) {\r\n        return;\r\n      }\r\n\r\n      slide.isLoading = false;\r\n      slide.isLoaded = true;\r\n\r\n      self.trigger(\"afterLoad\", slide);\r\n\r\n      self.hideLoading(slide);\r\n\r\n      if (slide.pos === self.currPos) {\r\n        self.updateCursor();\r\n      }\r\n\r\n      if (slide.opts.smallBtn && (!slide.$smallBtn || !slide.$smallBtn.length)) {\r\n        slide.$smallBtn = $(self.translate(slide, slide.opts.btnTpl.smallBtn)).prependTo(slide.$content);\r\n      }\r\n\r\n      if (slide.opts.protect && slide.$content && !slide.hasError) {\r\n        // Disable right click\r\n        slide.$content.on(\"contextmenu.fb\", function(e) {\r\n          if (e.button == 2) {\r\n            e.preventDefault();\r\n          }\r\n\r\n          return true;\r\n        });\r\n\r\n        // Add fake element on top of the image\r\n        // This makes a bit harder for user to select image\r\n        if (slide.type === \"image\") {\r\n          $('<div class=\"fancybox-spaceball\"></div>').appendTo(slide.$content);\r\n        }\r\n      }\r\n\r\n      self.revealContent(slide);\r\n    },\r\n\r\n    // Make content visible\r\n    // This method is called right after content has been loaded or\r\n    // user navigates gallery and transition should start\r\n    // ============================================================\r\n\r\n    revealContent: function(slide) {\r\n      var self = this,\r\n        $slide = slide.$slide,\r\n        end = false,\r\n        start = false,\r\n        effect,\r\n        effectClassName,\r\n        duration,\r\n        opacity;\r\n\r\n      effect = slide.opts[self.firstRun ? \"animationEffect\" : \"transitionEffect\"];\r\n      duration = slide.opts[self.firstRun ? \"animationDuration\" : \"transitionDuration\"];\r\n\r\n      duration = parseInt(slide.forcedDuration === undefined ? duration : slide.forcedDuration, 10);\r\n\r\n      // Do not animate if revealing the same slide\r\n      if (slide.pos === self.currPos) {\r\n        if (slide.isComplete) {\r\n          effect = false;\r\n        } else {\r\n          self.isAnimating = true;\r\n        }\r\n      }\r\n\r\n      if (slide.isMoved || slide.pos !== self.currPos || !duration) {\r\n        effect = false;\r\n      }\r\n\r\n      // Check if can zoom\r\n      if (effect === \"zoom\") {\r\n        if (slide.pos === self.currPos && duration && slide.type === \"image\" && !slide.hasError && (start = self.getThumbPos(slide))) {\r\n          end = self.getFitPos(slide);\r\n        } else {\r\n          effect = \"fade\";\r\n        }\r\n      }\r\n\r\n      // Zoom animation\r\n      // ==============\r\n      if (effect === \"zoom\") {\r\n        end.scaleX = end.width / start.width;\r\n        end.scaleY = end.height / start.height;\r\n\r\n        // Check if we need to animate opacity\r\n        opacity = slide.opts.zoomOpacity;\r\n\r\n        if (opacity == \"auto\") {\r\n          opacity = Math.abs(slide.width / slide.height - start.width / start.height) > 0.1;\r\n        }\r\n\r\n        if (opacity) {\r\n          start.opacity = 0.1;\r\n          end.opacity = 1;\r\n        }\r\n\r\n        // Draw image at start position\r\n        $.fancybox.setTranslate(slide.$content.removeClass(\"fancybox-is-hidden\"), start);\r\n\r\n        forceRedraw(slide.$content);\r\n\r\n        // Start animation\r\n        $.fancybox.animate(slide.$content, end, duration, function() {\r\n          self.isAnimating = false;\r\n\r\n          self.complete();\r\n        });\r\n\r\n        return;\r\n      }\r\n\r\n      self.updateSlide(slide);\r\n\r\n      // Simply show content\r\n      // ===================\r\n\r\n      if (!effect) {\r\n        forceRedraw($slide);\r\n\r\n        slide.$content.removeClass(\"fancybox-is-hidden\");\r\n\r\n        if (slide.pos === self.currPos) {\r\n          self.complete();\r\n        }\r\n\r\n        return;\r\n      }\r\n\r\n      $.fancybox.stop($slide);\r\n\r\n      effectClassName = \"fancybox-animated fancybox-slide--\" + (slide.pos >= self.prevPos ? \"next\" : \"previous\") + \" fancybox-fx-\" + effect;\r\n\r\n      $slide\r\n        .removeAttr(\"style\")\r\n        .removeClass(\"fancybox-slide--current fancybox-slide--next fancybox-slide--previous\")\r\n        .addClass(effectClassName);\r\n\r\n      slide.$content.removeClass(\"fancybox-is-hidden\");\r\n\r\n      // Force reflow for CSS3 transitions\r\n      forceRedraw($slide);\r\n\r\n      $.fancybox.animate(\r\n        $slide,\r\n        \"fancybox-slide--current\",\r\n        duration,\r\n        function(e) {\r\n          $slide.removeClass(effectClassName).removeAttr(\"style\");\r\n\r\n          if (slide.pos === self.currPos) {\r\n            self.complete();\r\n          }\r\n        },\r\n        true\r\n      );\r\n    },\r\n\r\n    // Check if we can and have to zoom from thumbnail\r\n    //================================================\r\n\r\n    getThumbPos: function(slide) {\r\n      var self = this,\r\n        rez = false,\r\n        $thumb = slide.opts.$thumb,\r\n        thumbPos = $thumb && $thumb.length && $thumb[0].ownerDocument === document ? $thumb.offset() : 0,\r\n        slidePos;\r\n\r\n      // Check if element is inside the viewport by at least 1 pixel\r\n      var isElementVisible = function($el) {\r\n        var element = $el[0],\r\n          elementRect = element.getBoundingClientRect(),\r\n          parentRects = [],\r\n          visibleInAllParents;\r\n\r\n        while (element.parentElement !== null) {\r\n          if ($(element.parentElement).css(\"overflow\") === \"hidden\" || $(element.parentElement).css(\"overflow\") === \"auto\") {\r\n            parentRects.push(element.parentElement.getBoundingClientRect());\r\n          }\r\n\r\n          element = element.parentElement;\r\n        }\r\n\r\n        visibleInAllParents = parentRects.every(function(parentRect) {\r\n          var visiblePixelX = Math.min(elementRect.right, parentRect.right) - Math.max(elementRect.left, parentRect.left);\r\n          var visiblePixelY = Math.min(elementRect.bottom, parentRect.bottom) - Math.max(elementRect.top, parentRect.top);\r\n\r\n          return visiblePixelX > 0 && visiblePixelY > 0;\r\n        });\r\n\r\n        return (\r\n          visibleInAllParents &&\r\n          elementRect.bottom > 0 &&\r\n          elementRect.right > 0 &&\r\n          elementRect.left < $(window).width() &&\r\n          elementRect.top < $(window).height()\r\n        );\r\n      };\r\n\r\n      if (thumbPos && isElementVisible($thumb)) {\r\n        slidePos = self.$refs.stage.offset();\r\n\r\n        rez = {\r\n          top: thumbPos.top - slidePos.top + parseFloat($thumb.css(\"border-top-width\") || 0),\r\n          left: thumbPos.left - slidePos.left + parseFloat($thumb.css(\"border-left-width\") || 0),\r\n          width: $thumb.width(),\r\n          height: $thumb.height(),\r\n          scaleX: 1,\r\n          scaleY: 1\r\n        };\r\n      }\r\n\r\n      return rez;\r\n    },\r\n\r\n    // Final adjustments after current gallery item is moved to position\r\n    // and it`s content is loaded\r\n    // ==================================================================\r\n\r\n    complete: function() {\r\n      var self = this,\r\n        current = self.current,\r\n        slides = {};\r\n\r\n      if (current.isMoved || !current.isLoaded) {\r\n        return;\r\n      }\r\n\r\n      if (!current.isComplete) {\r\n        current.isComplete = true;\r\n\r\n        current.$slide.siblings().trigger(\"onReset\");\r\n\r\n        self.preload(\"inline\");\r\n\r\n        // Trigger any CSS3 transiton inside the slide\r\n        forceRedraw(current.$slide);\r\n\r\n        current.$slide.addClass(\"fancybox-slide--complete\");\r\n\r\n        // Remove unnecessary slides\r\n        $.each(self.slides, function(key, slide) {\r\n          if (slide.pos >= self.currPos - 1 && slide.pos <= self.currPos + 1) {\r\n            slides[slide.pos] = slide;\r\n          } else if (slide) {\r\n            $.fancybox.stop(slide.$slide);\r\n\r\n            slide.$slide.off().remove();\r\n          }\r\n        });\r\n\r\n        self.slides = slides;\r\n      }\r\n\r\n      self.isAnimating = false;\r\n\r\n      self.updateCursor();\r\n\r\n      self.trigger(\"afterShow\");\r\n\r\n      // Play first html5 video/audio\r\n      current.$slide\r\n        .find(\"video,audio\")\r\n        .filter(\":visible:first\")\r\n        .trigger(\"play\");\r\n\r\n      // Try to focus on the first focusable element\r\n      if (\r\n        $(document.activeElement).is(\"[disabled]\") ||\r\n        (current.opts.autoFocus && !(current.type == \"image\" || current.type === \"iframe\"))\r\n      ) {\r\n        self.focus();\r\n      }\r\n    },\r\n\r\n    // Preload next and previous slides\r\n    // ================================\r\n\r\n    preload: function(type) {\r\n      var self = this,\r\n        next = self.slides[self.currPos + 1],\r\n        prev = self.slides[self.currPos - 1];\r\n\r\n      if (next && next.type === type) {\r\n        self.loadSlide(next);\r\n      }\r\n\r\n      if (prev && prev.type === type) {\r\n        self.loadSlide(prev);\r\n      }\r\n    },\r\n\r\n    // Try to find and focus on the first focusable element\r\n    // ====================================================\r\n\r\n    focus: function() {\r\n      var current = this.current,\r\n        $el;\r\n\r\n      if (this.isClosing) {\r\n        return;\r\n      }\r\n\r\n      if (current && current.isComplete && current.$content) {\r\n        // Look for first input with autofocus attribute\r\n        $el = current.$content.find(\"input[autofocus]:enabled:visible:first\");\r\n\r\n        if (!$el.length) {\r\n          $el = current.$content.find(\"button,:input,[tabindex],a\").filter(\":enabled:visible:first\");\r\n        }\r\n\r\n        $el = $el && $el.length ? $el : current.$content;\r\n\r\n        $el.trigger(\"focus\");\r\n      }\r\n    },\r\n\r\n    // Activates current instance - brings container to the front and enables keyboard,\r\n    // notifies other instances about deactivating\r\n    // =================================================================================\r\n\r\n    activate: function() {\r\n      var self = this;\r\n\r\n      // Deactivate all instances\r\n      $(\".fancybox-container\").each(function() {\r\n        var instance = $(this).data(\"FancyBox\");\r\n\r\n        // Skip self and closing instances\r\n        if (instance && instance.id !== self.id && !instance.isClosing) {\r\n          instance.trigger(\"onDeactivate\");\r\n\r\n          instance.removeEvents();\r\n\r\n          instance.isVisible = false;\r\n        }\r\n      });\r\n\r\n      self.isVisible = true;\r\n\r\n      if (self.current || self.isIdle) {\r\n        self.update();\r\n\r\n        self.updateControls();\r\n      }\r\n\r\n      self.trigger(\"onActivate\");\r\n\r\n      self.addEvents();\r\n    },\r\n\r\n    // Start closing procedure\r\n    // This will start \"zoom-out\" animation if needed and clean everything up afterwards\r\n    // =================================================================================\r\n\r\n    close: function(e, d) {\r\n      var self = this,\r\n        current = self.current,\r\n        effect,\r\n        duration,\r\n        $content,\r\n        domRect,\r\n        opacity,\r\n        start,\r\n        end;\r\n\r\n      var done = function() {\r\n        self.cleanUp(e);\r\n      };\r\n\r\n      if (self.isClosing) {\r\n        return false;\r\n      }\r\n\r\n      self.isClosing = true;\r\n\r\n      // If beforeClose callback prevents closing, make sure content is centered\r\n      if (self.trigger(\"beforeClose\", e) === false) {\r\n        self.isClosing = false;\r\n\r\n        requestAFrame(function() {\r\n          self.update();\r\n        });\r\n\r\n        return false;\r\n      }\r\n\r\n      // Remove all events\r\n      // If there are multiple instances, they will be set again by \"activate\" method\r\n      self.removeEvents();\r\n\r\n      if (current.timouts) {\r\n        clearTimeout(current.timouts);\r\n      }\r\n\r\n      $content = current.$content;\r\n      effect = current.opts.animationEffect;\r\n      duration = $.isNumeric(d) ? d : effect ? current.opts.animationDuration : 0;\r\n\r\n      // Remove other slides\r\n      current.$slide\r\n        .off(transitionEnd)\r\n        .removeClass(\"fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated\");\r\n\r\n      current.$slide\r\n        .siblings()\r\n        .trigger(\"onReset\")\r\n        .remove();\r\n\r\n      // Trigger animations\r\n      if (duration) {\r\n        self.$refs.container.removeClass(\"fancybox-is-open\").addClass(\"fancybox-is-closing\");\r\n      }\r\n\r\n      // Clean up\r\n      self.hideLoading(current);\r\n\r\n      self.hideControls();\r\n\r\n      self.updateCursor();\r\n\r\n      // Check if possible to zoom-out\r\n      if (\r\n        effect === \"zoom\" &&\r\n        !(e !== true && $content && duration && current.type === \"image\" && !current.hasError && (end = self.getThumbPos(current)))\r\n      ) {\r\n        effect = \"fade\";\r\n      }\r\n\r\n      if (effect === \"zoom\") {\r\n        $.fancybox.stop($content);\r\n\r\n        domRect = $.fancybox.getTranslate($content);\r\n\r\n        start = {\r\n          top: domRect.top,\r\n          left: domRect.left,\r\n          scaleX: domRect.width / end.width,\r\n          scaleY: domRect.height / end.height,\r\n          width: end.width,\r\n          height: end.height\r\n        };\r\n\r\n        // Check if we need to animate opacity\r\n        opacity = current.opts.zoomOpacity;\r\n\r\n        if (opacity == \"auto\") {\r\n          opacity = Math.abs(current.width / current.height - end.width / end.height) > 0.1;\r\n        }\r\n\r\n        if (opacity) {\r\n          end.opacity = 0;\r\n        }\r\n\r\n        $.fancybox.setTranslate($content, start);\r\n\r\n        forceRedraw($content);\r\n\r\n        $.fancybox.animate($content, end, duration, done);\r\n\r\n        return true;\r\n      }\r\n\r\n      if (effect && duration) {\r\n        // If skip animation\r\n        if (e === true) {\r\n          setTimeout(done, duration);\r\n        } else {\r\n          $.fancybox.animate(\r\n            current.$slide.removeClass(\"fancybox-slide--current\"),\r\n            \"fancybox-animated fancybox-slide--previous fancybox-fx-\" + effect,\r\n            duration,\r\n            done\r\n          );\r\n        }\r\n      } else {\r\n        done();\r\n      }\r\n\r\n      return true;\r\n    },\r\n\r\n    // Final adjustments after removing the instance\r\n    // =============================================\r\n\r\n    cleanUp: function(e) {\r\n      var self = this,\r\n        $body = $(\"body\"),\r\n        instance,\r\n        scrollTop;\r\n\r\n      self.current.$slide.trigger(\"onReset\");\r\n\r\n      self.$refs.container.empty().remove();\r\n\r\n      self.trigger(\"afterClose\", e);\r\n\r\n      // Place back focus\r\n      if (self.$lastFocus && !!self.current.opts.backFocus) {\r\n        self.$lastFocus.trigger(\"focus\");\r\n      }\r\n\r\n      self.current = null;\r\n\r\n      // Check if there are other instances\r\n      instance = $.fancybox.getInstance();\r\n\r\n      if (instance) {\r\n        instance.activate();\r\n      } else {\r\n        $body.removeClass(\"fancybox-active compensate-for-scrollbar\");\r\n\r\n        $(\"#fancybox-style-noscroll\").remove();\r\n      }\r\n    },\r\n\r\n    // Call callback and trigger an event\r\n    // ==================================\r\n\r\n    trigger: function(name, slide) {\r\n      var args = Array.prototype.slice.call(arguments, 1),\r\n        self = this,\r\n        obj = slide && slide.opts ? slide : self.current,\r\n        rez;\r\n\r\n      if (obj) {\r\n        args.unshift(obj);\r\n      } else {\r\n        obj = self;\r\n      }\r\n\r\n      args.unshift(self);\r\n\r\n      if ($.isFunction(obj.opts[name])) {\r\n        rez = obj.opts[name].apply(obj, args);\r\n      }\r\n\r\n      if (rez === false) {\r\n        return rez;\r\n      }\r\n\r\n      if (name === \"afterClose\" || !self.$refs) {\r\n        $D.trigger(name + \".fb\", args);\r\n      } else {\r\n        self.$refs.container.trigger(name + \".fb\", args);\r\n      }\r\n    },\r\n\r\n    // Update infobar values, navigation button states and reveal caption\r\n    // ==================================================================\r\n\r\n    updateControls: function(force) {\r\n      var self = this,\r\n        current = self.current,\r\n        index = current.index,\r\n        caption = current.opts.caption,\r\n        $container = self.$refs.container,\r\n        $caption = self.$refs.caption;\r\n\r\n      // Recalculate content dimensions\r\n      current.$slide.trigger(\"refresh\");\r\n\r\n      self.$caption = caption && caption.length ? $caption.html(caption) : null;\r\n\r\n      if (!self.isHiddenControls && !self.isIdle) {\r\n        self.showControls();\r\n      }\r\n\r\n      // Update info and navigation elements\r\n      $container.find(\"[data-fancybox-count]\").html(self.group.length);\r\n      $container.find(\"[data-fancybox-index]\").html(index + 1);\r\n\r\n      $container.find(\"[data-fancybox-prev]\").toggleClass(\"disabled\", !current.opts.loop && index <= 0);\r\n      $container.find(\"[data-fancybox-next]\").toggleClass(\"disabled\", !current.opts.loop && index >= self.group.length - 1);\r\n\r\n      if (current.type === \"image\") {\r\n        // Re-enable buttons; update download button source\r\n        $container\r\n          .find(\"[data-fancybox-zoom]\")\r\n          .show()\r\n          .end()\r\n          .find(\"[data-fancybox-download]\")\r\n          .attr(\"href\", current.opts.image.src || current.src)\r\n          .show();\r\n      } else if (current.opts.toolbar) {\r\n        $container.find(\"[data-fancybox-download],[data-fancybox-zoom]\").hide();\r\n      }\r\n    },\r\n\r\n    // Hide toolbar and caption\r\n    // ========================\r\n\r\n    hideControls: function() {\r\n      this.isHiddenControls = true;\r\n\r\n      this.$refs.container.removeClass(\"fancybox-show-infobar fancybox-show-toolbar fancybox-show-caption fancybox-show-nav\");\r\n    },\r\n\r\n    showControls: function() {\r\n      var self = this,\r\n        opts = self.current ? self.current.opts : self.opts,\r\n        $container = self.$refs.container;\r\n\r\n      self.isHiddenControls = false;\r\n      self.idleSecondsCounter = 0;\r\n\r\n      $container\r\n        .toggleClass(\"fancybox-show-toolbar\", !!(opts.toolbar && opts.buttons))\r\n        .toggleClass(\"fancybox-show-infobar\", !!(opts.infobar && self.group.length > 1))\r\n        .toggleClass(\"fancybox-show-nav\", !!(opts.arrows && self.group.length > 1))\r\n        .toggleClass(\"fancybox-is-modal\", !!opts.modal);\r\n\r\n      if (self.$caption) {\r\n        $container.addClass(\"fancybox-show-caption \");\r\n      } else {\r\n        $container.removeClass(\"fancybox-show-caption\");\r\n      }\r\n    },\r\n\r\n    // Toggle toolbar and caption\r\n    // ==========================\r\n\r\n    toggleControls: function() {\r\n      if (this.isHiddenControls) {\r\n        this.showControls();\r\n      } else {\r\n        this.hideControls();\r\n      }\r\n    }\r\n  });\r\n\r\n  $.fancybox = {\r\n    version: \"3.3.5\",\r\n    defaults: defaults,\r\n\r\n    // Get current instance and execute a command.\r\n    //\r\n    // Examples of usage:\r\n    //\r\n    //   $instance = $.fancybox.getInstance();\r\n    //   $.fancybox.getInstance().jumpTo( 1 );\r\n    //   $.fancybox.getInstance( 'jumpTo', 1 );\r\n    //   $.fancybox.getInstance( function() {\r\n    //       console.info( this.currIndex );\r\n    //   });\r\n    // ======================================================\r\n\r\n    getInstance: function(command) {\r\n      var instance = $('.fancybox-container:not(\".fancybox-is-closing\"):last').data(\"FancyBox\"),\r\n        args = Array.prototype.slice.call(arguments, 1);\r\n\r\n      if (instance instanceof FancyBox) {\r\n        if ($.type(command) === \"string\") {\r\n          instance[command].apply(instance, args);\r\n        } else if ($.type(command) === \"function\") {\r\n          command.apply(instance, args);\r\n        }\r\n\r\n        return instance;\r\n      }\r\n\r\n      return false;\r\n    },\r\n\r\n    // Create new instance\r\n    // ===================\r\n\r\n    open: function(items, opts, index) {\r\n      return new FancyBox(items, opts, index);\r\n    },\r\n\r\n    // Close current or all instances\r\n    // ==============================\r\n\r\n    close: function(all) {\r\n      var instance = this.getInstance();\r\n\r\n      if (instance) {\r\n        instance.close();\r\n\r\n        // Try to find and close next instance\r\n\r\n        if (all === true) {\r\n          this.close();\r\n        }\r\n      }\r\n    },\r\n\r\n    // Close all instances and unbind all events\r\n    // =========================================\r\n\r\n    destroy: function() {\r\n      this.close(true);\r\n\r\n      $D.add(\"body\").off(\"click.fb-start\", \"**\");\r\n    },\r\n\r\n    // Try to detect mobile devices\r\n    // ============================\r\n\r\n    isMobile:\r\n      document.createTouch !== undefined && /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),\r\n\r\n    // Detect if 'translate3d' support is available\r\n    // ============================================\r\n\r\n    use3d: (function() {\r\n      var div = document.createElement(\"div\");\r\n\r\n      return (\r\n        window.getComputedStyle &&\r\n        window.getComputedStyle(div) &&\r\n        window.getComputedStyle(div).getPropertyValue(\"transform\") &&\r\n        !(document.documentMode && document.documentMode < 11)\r\n      );\r\n    })(),\r\n\r\n    // Helper function to get current visual state of an element\r\n    // returns array[ top, left, horizontal-scale, vertical-scale, opacity ]\r\n    // =====================================================================\r\n\r\n    getTranslate: function($el) {\r\n      var domRect;\r\n\r\n      if (!$el || !$el.length) {\r\n        return false;\r\n      }\r\n\r\n      domRect = $el[0].getBoundingClientRect();\r\n\r\n      return {\r\n        top: domRect.top || 0,\r\n        left: domRect.left || 0,\r\n        width: domRect.width,\r\n        height: domRect.height,\r\n        opacity: parseFloat($el.css(\"opacity\"))\r\n      };\r\n    },\r\n\r\n    // Shortcut for setting \"translate3d\" properties for element\r\n    // Can set be used to set opacity, too\r\n    // ========================================================\r\n\r\n    setTranslate: function($el, props) {\r\n      var str = \"\",\r\n        css = {};\r\n\r\n      if (!$el || !props) {\r\n        return;\r\n      }\r\n\r\n      if (props.left !== undefined || props.top !== undefined) {\r\n        str =\r\n          (props.left === undefined ? $el.position().left : props.left) +\r\n          \"px, \" +\r\n          (props.top === undefined ? $el.position().top : props.top) +\r\n          \"px\";\r\n\r\n        if (this.use3d) {\r\n          str = \"translate3d(\" + str + \", 0px)\";\r\n        } else {\r\n          str = \"translate(\" + str + \")\";\r\n        }\r\n      }\r\n\r\n      if (props.scaleX !== undefined && props.scaleY !== undefined) {\r\n        str = (str.length ? str + \" \" : \"\") + \"scale(\" + props.scaleX + \", \" + props.scaleY + \")\";\r\n      }\r\n\r\n      if (str.length) {\r\n        css.transform = str;\r\n      }\r\n\r\n      if (props.opacity !== undefined) {\r\n        css.opacity = props.opacity;\r\n      }\r\n\r\n      if (props.width !== undefined) {\r\n        css.width = props.width;\r\n      }\r\n\r\n      if (props.height !== undefined) {\r\n        css.height = props.height;\r\n      }\r\n\r\n      return $el.css(css);\r\n    },\r\n\r\n    // Simple CSS transition handler\r\n    // =============================\r\n\r\n    animate: function($el, to, duration, callback, leaveAnimationName) {\r\n      var final = false;\r\n\r\n      if ($.isFunction(duration)) {\r\n        callback = duration;\r\n        duration = null;\r\n      }\r\n\r\n      if (!$.isPlainObject(to)) {\r\n        $el.removeAttr(\"style\");\r\n      }\r\n\r\n      $.fancybox.stop($el);\r\n\r\n      $el.on(transitionEnd, function(e) {\r\n        // Skip events from child elements and z-index change\r\n        if (e && e.originalEvent && (!$el.is(e.originalEvent.target) || e.originalEvent.propertyName == \"z-index\")) {\r\n          return;\r\n        }\r\n\r\n        $.fancybox.stop($el);\r\n\r\n        if (final) {\r\n          $.fancybox.setTranslate($el, final);\r\n        }\r\n\r\n        if ($.isPlainObject(to)) {\r\n          if (leaveAnimationName === false) {\r\n            $el.removeAttr(\"style\");\r\n          }\r\n        } else if (leaveAnimationName !== true) {\r\n          $el.removeClass(to);\r\n        }\r\n\r\n        if ($.isFunction(callback)) {\r\n          callback(e);\r\n        }\r\n      });\r\n\r\n      if ($.isNumeric(duration)) {\r\n        $el.css(\"transition-duration\", duration + \"ms\");\r\n      }\r\n\r\n      // Start animation by changing CSS properties or class name\r\n      if ($.isPlainObject(to)) {\r\n        if (to.scaleX !== undefined && to.scaleY !== undefined) {\r\n          final = $.extend({}, to, {\r\n            width: $el.width() * to.scaleX,\r\n            height: $el.height() * to.scaleY,\r\n            scaleX: 1,\r\n            scaleY: 1\r\n          });\r\n\r\n          delete to.width;\r\n          delete to.height;\r\n\r\n          if ($el.parent().hasClass(\"fancybox-slide--image\")) {\r\n            $el.parent().addClass(\"fancybox-is-scaling\");\r\n          }\r\n        }\r\n\r\n        $.fancybox.setTranslate($el, to);\r\n      } else {\r\n        $el.addClass(to);\r\n      }\r\n\r\n      // Make sure that `transitionend` callback gets fired\r\n      $el.data(\r\n        \"timer\",\r\n        setTimeout(function() {\r\n          $el.trigger(\"transitionend\");\r\n        }, duration + 16)\r\n      );\r\n    },\r\n\r\n    stop: function($el) {\r\n      if ($el && $el.length) {\r\n        clearTimeout($el.data(\"timer\"));\r\n\r\n        $el.off(\"transitionend\").css(\"transition-duration\", \"\");\r\n\r\n        $el.parent().removeClass(\"fancybox-is-scaling\");\r\n      }\r\n    }\r\n  };\r\n\r\n  // Default click handler for \"fancyboxed\" links\r\n  // ============================================\r\n\r\n  function _run(e, opts) {\r\n    var items = [],\r\n      index = 0,\r\n      $target,\r\n      value;\r\n\r\n    // Avoid opening multiple times\r\n    if (e && e.isDefaultPrevented()) {\r\n      return;\r\n    }\r\n\r\n    e.preventDefault();\r\n\r\n    opts = e && e.data ? e.data.options : opts || {};\r\n\r\n    $target = opts.$target || $(e.currentTarget);\r\n    value = $target.attr(\"data-fancybox\") || \"\";\r\n\r\n    // Get all related items and find index for clicked one\r\n    if (value) {\r\n      items = opts.selector ? $(opts.selector) : e.data ? e.data.items : [];\r\n      items = items.length ? items.filter('[data-fancybox=\"' + value + '\"]') : $('[data-fancybox=\"' + value + '\"]');\r\n\r\n      index = items.index($target);\r\n\r\n      // Sometimes current item can not be found (for example, if some script clones items)\r\n      if (index < 0) {\r\n        index = 0;\r\n      }\r\n    } else {\r\n      items = [$target];\r\n    }\r\n\r\n    $.fancybox.open(items, opts, index);\r\n  }\r\n\r\n  // Create a jQuery plugin\r\n  // ======================\r\n\r\n  $.fn.fancybox = function(options) {\r\n    var selector;\r\n\r\n    options = options || {};\r\n    selector = options.selector || false;\r\n\r\n    if (selector) {\r\n      // Use body element instead of document so it executes first\r\n      $(\"body\")\r\n        .off(\"click.fb-start\", selector)\r\n        .on(\"click.fb-start\", selector, {options: options}, _run);\r\n    } else {\r\n      this.off(\"click.fb-start\").on(\r\n        \"click.fb-start\",\r\n        {\r\n          items: this,\r\n          options: options\r\n        },\r\n        _run\r\n      );\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  // Self initializing plugin for all elements having `data-fancybox` attribute\r\n  // ==========================================================================\r\n\r\n  $D.on(\"click.fb-start\", \"[data-fancybox]\", _run);\r\n\r\n  // Enable \"trigger elements\"\r\n  // =========================\r\n\r\n  $D.on(\"click.fb-start\", \"[data-trigger]\", function(e) {\r\n    _run(e, {\r\n      $target: $('[data-fancybox=\"' + $(e.currentTarget).attr(\"data-trigger\") + '\"]').eq($(e.currentTarget).attr(\"data-index\") || 0),\r\n      $trigger: $(this)\r\n    });\r\n  });\r\n})(window, document, window.jQuery || jQuery);\r\n\r\n// ==========================================================================\r\n//\r\n// Media\r\n// Adds additional media type support\r\n//\r\n// ==========================================================================\r\n(function($) {\r\n  \"use strict\";\r\n\r\n  // Formats matching url to final form\r\n\r\n  var format = function(url, rez, params) {\r\n    if (!url) {\r\n      return;\r\n    }\r\n\r\n    params = params || \"\";\r\n\r\n    if ($.type(params) === \"object\") {\r\n      params = $.param(params, true);\r\n    }\r\n\r\n    $.each(rez, function(key, value) {\r\n      url = url.replace(\"$\" + key, value || \"\");\r\n    });\r\n\r\n    if (params.length) {\r\n      url += (url.indexOf(\"?\") > 0 ? \"&\" : \"?\") + params;\r\n    }\r\n\r\n    return url;\r\n  };\r\n\r\n  // Object containing properties for each media type\r\n\r\n  var defaults = {\r\n    youtube: {\r\n      matcher: /(youtube\\.com|youtu\\.be|youtube\\-nocookie\\.com)\\/(watch\\?(.*&)?v=|v\\/|u\\/|embed\\/?)?(videoseries\\?list=(.*)|[\\w-]{11}|\\?listType=(.*)&list=(.*))(.*)/i,\r\n      params: {\r\n        autoplay: 1,\r\n        autohide: 1,\r\n        fs: 1,\r\n        rel: 0,\r\n        hd: 1,\r\n        wmode: \"transparent\",\r\n        enablejsapi: 1,\r\n        html5: 1\r\n      },\r\n      paramPlace: 8,\r\n      type: \"iframe\",\r\n      url: \"//www.youtube.com/embed/$4\",\r\n      thumb: \"//img.youtube.com/vi/$4/hqdefault.jpg\"\r\n    },\r\n\r\n    vimeo: {\r\n      matcher: /^.+vimeo.com\\/(.*\\/)?([\\d]+)(.*)?/,\r\n      params: {\r\n        autoplay: 1,\r\n        hd: 1,\r\n        show_title: 1,\r\n        show_byline: 1,\r\n        show_portrait: 0,\r\n        fullscreen: 1,\r\n        api: 1\r\n      },\r\n      paramPlace: 3,\r\n      type: \"iframe\",\r\n      url: \"//player.vimeo.com/video/$2\"\r\n    },\r\n\r\n    instagram: {\r\n      matcher: /(instagr\\.am|instagram\\.com)\\/p\\/([a-zA-Z0-9_\\-]+)\\/?/i,\r\n      type: \"image\",\r\n      url: \"//$1/p/$2/media/?size=l\"\r\n    },\r\n\r\n    // Examples:\r\n    // http://maps.google.com/?ll=48.857995,2.294297&spn=0.007666,0.021136&t=m&z=16\r\n    // https://www.google.com/maps/@37.7852006,-122.4146355,14.65z\r\n    // https://www.google.com/maps/@52.2111123,2.9237542,6.61z?hl=en\r\n    // https://www.google.com/maps/place/Googleplex/@37.4220041,-122.0833494,17z/data=!4m5!3m4!1s0x0:0x6c296c66619367e0!8m2!3d37.4219998!4d-122.0840572\r\n    gmap_place: {\r\n      matcher: /(maps\\.)?google\\.([a-z]{2,3}(\\.[a-z]{2})?)\\/(((maps\\/(place\\/(.*)\\/)?\\@(.*),(\\d+.?\\d+?)z))|(\\?ll=))(.*)?/i,\r\n      type: \"iframe\",\r\n      url: function(rez) {\r\n        return (\r\n          \"//maps.google.\" +\r\n          rez[2] +\r\n          \"/?ll=\" +\r\n          (rez[9] ? rez[9] + \"&z=\" + Math.floor(rez[10]) + (rez[12] ? rez[12].replace(/^\\//, \"&\") : \"\") : rez[12] + \"\").replace(/\\?/, \"&\") +\r\n          \"&output=\" +\r\n          (rez[12] && rez[12].indexOf(\"layer=c\") > 0 ? \"svembed\" : \"embed\")\r\n        );\r\n      }\r\n    },\r\n\r\n    // Examples:\r\n    // https://www.google.com/maps/search/Empire+State+Building/\r\n    // https://www.google.com/maps/search/?api=1&query=centurylink+field\r\n    // https://www.google.com/maps/search/?api=1&query=47.5951518,-122.3316393\r\n    gmap_search: {\r\n      matcher: /(maps\\.)?google\\.([a-z]{2,3}(\\.[a-z]{2})?)\\/(maps\\/search\\/)(.*)/i,\r\n      type: \"iframe\",\r\n      url: function(rez) {\r\n        return \"//maps.google.\" + rez[2] + \"/maps?q=\" + rez[5].replace(\"query=\", \"q=\").replace(\"api=1\", \"\") + \"&output=embed\";\r\n      }\r\n    }\r\n  };\r\n\r\n  $(document).on(\"objectNeedsType.fb\", function(e, instance, item) {\r\n    var url = item.src || \"\",\r\n      type = false,\r\n      media,\r\n      thumb,\r\n      rez,\r\n      params,\r\n      urlParams,\r\n      paramObj,\r\n      provider;\r\n\r\n    media = $.extend(true, {}, defaults, item.opts.media);\r\n\r\n    // Look for any matching media type\r\n    $.each(media, function(providerName, providerOpts) {\r\n      rez = url.match(providerOpts.matcher);\r\n\r\n      if (!rez) {\r\n        return;\r\n      }\r\n\r\n      type = providerOpts.type;\r\n      provider = providerName;\r\n      paramObj = {};\r\n\r\n      if (providerOpts.paramPlace && rez[providerOpts.paramPlace]) {\r\n        urlParams = rez[providerOpts.paramPlace];\r\n\r\n        if (urlParams[0] == \"?\") {\r\n          urlParams = urlParams.substring(1);\r\n        }\r\n\r\n        urlParams = urlParams.split(\"&\");\r\n\r\n        for (var m = 0; m < urlParams.length; ++m) {\r\n          var p = urlParams[m].split(\"=\", 2);\r\n\r\n          if (p.length == 2) {\r\n            paramObj[p[0]] = decodeURIComponent(p[1].replace(/\\+/g, \" \"));\r\n          }\r\n        }\r\n      }\r\n\r\n      params = $.extend(true, {}, providerOpts.params, item.opts[providerName], paramObj);\r\n\r\n      url =\r\n        $.type(providerOpts.url) === \"function\" ? providerOpts.url.call(this, rez, params, item) : format(providerOpts.url, rez, params);\r\n\r\n      thumb =\r\n        $.type(providerOpts.thumb) === \"function\" ? providerOpts.thumb.call(this, rez, params, item) : format(providerOpts.thumb, rez);\r\n\r\n      if (providerName === \"youtube\") {\r\n        url = url.replace(/&t=((\\d+)m)?(\\d+)s/, function(match, p1, m, s) {\r\n          return \"&start=\" + ((m ? parseInt(m, 10) * 60 : 0) + parseInt(s, 10));\r\n        });\r\n      } else if (providerName === \"vimeo\") {\r\n        url = url.replace(\"&%23\", \"#\");\r\n      }\r\n\r\n      return false;\r\n    });\r\n\r\n    // If it is found, then change content type and update the url\r\n\r\n    if (type) {\r\n      if (!item.opts.thumb && !(item.opts.$thumb && item.opts.$thumb.length)) {\r\n        item.opts.thumb = thumb;\r\n      }\r\n\r\n      if (type === \"iframe\") {\r\n        item.opts = $.extend(true, item.opts, {\r\n          iframe: {\r\n            preload: false,\r\n            attr: {\r\n              scrolling: \"no\"\r\n            }\r\n          }\r\n        });\r\n      }\r\n\r\n      $.extend(item, {\r\n        type: type,\r\n        src: url,\r\n        origSrc: item.src,\r\n        contentSource: provider,\r\n        contentType: type === \"image\" ? \"image\" : provider == \"gmap_place\" || provider == \"gmap_search\" ? \"map\" : \"video\"\r\n      });\r\n    } else if (url) {\r\n      item.type = item.opts.defaultType;\r\n    }\r\n  });\r\n})(window.jQuery || jQuery);\r\n\r\n// ==========================================================================\r\n//\r\n// Guestures\r\n// Adds touch guestures, handles click and tap events\r\n//\r\n// ==========================================================================\r\n(function(window, document, $) {\r\n  \"use strict\";\r\n\r\n  var requestAFrame = (function() {\r\n    return (\r\n      window.requestAnimationFrame ||\r\n      window.webkitRequestAnimationFrame ||\r\n      window.mozRequestAnimationFrame ||\r\n      window.oRequestAnimationFrame ||\r\n      // if all else fails, use setTimeout\r\n      function(callback) {\r\n        return window.setTimeout(callback, 1000 / 60);\r\n      }\r\n    );\r\n  })();\r\n\r\n  var cancelAFrame = (function() {\r\n    return (\r\n      window.cancelAnimationFrame ||\r\n      window.webkitCancelAnimationFrame ||\r\n      window.mozCancelAnimationFrame ||\r\n      window.oCancelAnimationFrame ||\r\n      function(id) {\r\n        window.clearTimeout(id);\r\n      }\r\n    );\r\n  })();\r\n\r\n  var getPointerXY = function(e) {\r\n    var result = [];\r\n\r\n    e = e.originalEvent || e || window.e;\r\n    e = e.touches && e.touches.length ? e.touches : e.changedTouches && e.changedTouches.length ? e.changedTouches : [e];\r\n\r\n    for (var key in e) {\r\n      if (e[key].pageX) {\r\n        result.push({\r\n          x: e[key].pageX,\r\n          y: e[key].pageY\r\n        });\r\n      } else if (e[key].clientX) {\r\n        result.push({\r\n          x: e[key].clientX,\r\n          y: e[key].clientY\r\n        });\r\n      }\r\n    }\r\n\r\n    return result;\r\n  };\r\n\r\n  var distance = function(point2, point1, what) {\r\n    if (!point1 || !point2) {\r\n      return 0;\r\n    }\r\n\r\n    if (what === \"x\") {\r\n      return point2.x - point1.x;\r\n    } else if (what === \"y\") {\r\n      return point2.y - point1.y;\r\n    }\r\n\r\n    return Math.sqrt(Math.pow(point2.x - point1.x, 2) + Math.pow(point2.y - point1.y, 2));\r\n  };\r\n\r\n  var isClickable = function($el) {\r\n    if (\r\n      $el.is('a,area,button,[role=\"button\"],input,label,select,summary,textarea,video,audio') ||\r\n      $.isFunction($el.get(0).onclick) ||\r\n      $el.data(\"selectable\")\r\n    ) {\r\n      return true;\r\n    }\r\n\r\n    // Check for attributes like data-fancybox-next or data-fancybox-close\r\n    for (var i = 0, atts = $el[0].attributes, n = atts.length; i < n; i++) {\r\n      if (atts[i].nodeName.substr(0, 14) === \"data-fancybox-\") {\r\n        return true;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  };\r\n\r\n  var hasScrollbars = function(el) {\r\n    var overflowY = window.getComputedStyle(el)[\"overflow-y\"],\r\n      overflowX = window.getComputedStyle(el)[\"overflow-x\"],\r\n      vertical = (overflowY === \"scroll\" || overflowY === \"auto\") && el.scrollHeight > el.clientHeight,\r\n      horizontal = (overflowX === \"scroll\" || overflowX === \"auto\") && el.scrollWidth > el.clientWidth;\r\n\r\n    return vertical || horizontal;\r\n  };\r\n\r\n  var isScrollable = function($el) {\r\n    var rez = false;\r\n\r\n    while (true) {\r\n      rez = hasScrollbars($el.get(0));\r\n\r\n      if (rez) {\r\n        break;\r\n      }\r\n\r\n      $el = $el.parent();\r\n\r\n      if (!$el.length || $el.hasClass(\"fancybox-stage\") || $el.is(\"body\")) {\r\n        break;\r\n      }\r\n    }\r\n\r\n    return rez;\r\n  };\r\n\r\n  var Guestures = function(instance) {\r\n    var self = this;\r\n\r\n    self.instance = instance;\r\n\r\n    self.$bg = instance.$refs.bg;\r\n    self.$stage = instance.$refs.stage;\r\n    self.$container = instance.$refs.container;\r\n\r\n    self.destroy();\r\n\r\n    self.$container.on(\"touchstart.fb.touch mousedown.fb.touch\", $.proxy(self, \"ontouchstart\"));\r\n  };\r\n\r\n  Guestures.prototype.destroy = function() {\r\n    this.$container.off(\".fb.touch\");\r\n  };\r\n\r\n  Guestures.prototype.ontouchstart = function(e) {\r\n    var self = this,\r\n      $target = $(e.target),\r\n      instance = self.instance,\r\n      current = instance.current,\r\n      $content = current.$content,\r\n      isTouchDevice = e.type == \"touchstart\";\r\n\r\n    // Do not respond to both (touch and mouse) events\r\n    if (isTouchDevice) {\r\n      self.$container.off(\"mousedown.fb.touch\");\r\n    }\r\n\r\n    // Ignore right click\r\n    if (e.originalEvent && e.originalEvent.button == 2) {\r\n      return;\r\n    }\r\n\r\n    // Ignore taping on links, buttons, input elements\r\n    if (!$target.length || isClickable($target) || isClickable($target.parent())) {\r\n      return;\r\n    }\r\n\r\n    // Ignore clicks on the scrollbar\r\n    if (!$target.is(\"img\") && e.originalEvent.clientX > $target[0].clientWidth + $target.offset().left) {\r\n      return;\r\n    }\r\n\r\n    // Ignore clicks while zooming or closing\r\n    if (!current || instance.isAnimating || instance.isClosing) {\r\n      e.stopPropagation();\r\n      e.preventDefault();\r\n\r\n      return;\r\n    }\r\n\r\n    self.realPoints = self.startPoints = getPointerXY(e);\r\n\r\n    if (!self.startPoints.length) {\r\n      return;\r\n    }\r\n\r\n    e.stopPropagation();\r\n\r\n    self.startEvent = e;\r\n\r\n    self.canTap = true;\r\n    self.$target = $target;\r\n    self.$content = $content;\r\n    self.opts = current.opts.touch;\r\n\r\n    self.isPanning = false;\r\n    self.isSwiping = false;\r\n    self.isZooming = false;\r\n    self.isScrolling = false;\r\n\r\n    self.startTime = new Date().getTime();\r\n    self.distanceX = self.distanceY = self.distance = 0;\r\n\r\n    self.canvasWidth = Math.round(current.$slide[0].clientWidth);\r\n    self.canvasHeight = Math.round(current.$slide[0].clientHeight);\r\n\r\n    self.contentLastPos = null;\r\n    self.contentStartPos = $.fancybox.getTranslate(self.$content) || {top: 0, left: 0};\r\n    self.sliderStartPos = self.sliderLastPos || $.fancybox.getTranslate(current.$slide);\r\n\r\n    // Since position will be absolute, but we need to make it relative to the stage\r\n    self.stagePos = $.fancybox.getTranslate(instance.$refs.stage);\r\n\r\n    self.sliderStartPos.top -= self.stagePos.top;\r\n    self.sliderStartPos.left -= self.stagePos.left;\r\n\r\n    self.contentStartPos.top -= self.stagePos.top;\r\n    self.contentStartPos.left -= self.stagePos.left;\r\n\r\n    $(document)\r\n      .off(\".fb.touch\")\r\n      .on(isTouchDevice ? \"touchend.fb.touch touchcancel.fb.touch\" : \"mouseup.fb.touch mouseleave.fb.touch\", $.proxy(self, \"ontouchend\"))\r\n      .on(isTouchDevice ? \"touchmove.fb.touch\" : \"mousemove.fb.touch\", $.proxy(self, \"ontouchmove\"));\r\n\r\n    if ($.fancybox.isMobile) {\r\n      document.addEventListener(\"scroll\", self.onscroll, true);\r\n    }\r\n\r\n    if (!(self.opts || instance.canPan()) || !($target.is(self.$stage) || self.$stage.find($target).length)) {\r\n      if ($target.is(\".fancybox-image\")) {\r\n        e.preventDefault();\r\n      }\r\n\r\n      return;\r\n    }\r\n\r\n    if (!($.fancybox.isMobile && (isScrollable($target) || isScrollable($target.parent())))) {\r\n      e.preventDefault();\r\n    }\r\n\r\n    if (self.startPoints.length === 1 || current.hasError) {\r\n      if (self.instance.canPan()) {\r\n        $.fancybox.stop(self.$content);\r\n\r\n        self.$content.css(\"transition-duration\", \"\");\r\n\r\n        self.isPanning = true;\r\n      } else {\r\n        self.isSwiping = true;\r\n      }\r\n\r\n      self.$container.addClass(\"fancybox-controls--isGrabbing\");\r\n    }\r\n\r\n    if (self.startPoints.length === 2 && current.type === \"image\" && (current.isLoaded || current.$ghost)) {\r\n      self.canTap = false;\r\n      self.isSwiping = false;\r\n      self.isPanning = false;\r\n\r\n      self.isZooming = true;\r\n\r\n      $.fancybox.stop(self.$content);\r\n\r\n      self.$content.css(\"transition-duration\", \"\");\r\n\r\n      self.centerPointStartX = (self.startPoints[0].x + self.startPoints[1].x) * 0.5 - $(window).scrollLeft();\r\n      self.centerPointStartY = (self.startPoints[0].y + self.startPoints[1].y) * 0.5 - $(window).scrollTop();\r\n\r\n      self.percentageOfImageAtPinchPointX = (self.centerPointStartX - self.contentStartPos.left) / self.contentStartPos.width;\r\n      self.percentageOfImageAtPinchPointY = (self.centerPointStartY - self.contentStartPos.top) / self.contentStartPos.height;\r\n\r\n      self.startDistanceBetweenFingers = distance(self.startPoints[0], self.startPoints[1]);\r\n    }\r\n  };\r\n\r\n  Guestures.prototype.onscroll = function(e) {\r\n    var self = this;\r\n\r\n    self.isScrolling = true;\r\n\r\n    document.removeEventListener(\"scroll\", self.onscroll, true);\r\n  };\r\n\r\n  Guestures.prototype.ontouchmove = function(e) {\r\n    var self = this,\r\n      $target = $(e.target);\r\n\r\n    // Make sure user has not released over iframe or disabled element\r\n    if (e.originalEvent.buttons !== undefined && e.originalEvent.buttons === 0) {\r\n      self.ontouchend(e);\r\n      return;\r\n    }\r\n\r\n    if (self.isScrolling || !($target.is(self.$stage) || self.$stage.find($target).length)) {\r\n      self.canTap = false;\r\n\r\n      return;\r\n    }\r\n\r\n    self.newPoints = getPointerXY(e);\r\n\r\n    if (!(self.opts || self.instance.canPan()) || !self.newPoints.length || !self.newPoints.length) {\r\n      return;\r\n    }\r\n\r\n    if (!(self.isSwiping && self.isSwiping === true)) {\r\n      e.preventDefault();\r\n    }\r\n\r\n    self.distanceX = distance(self.newPoints[0], self.startPoints[0], \"x\");\r\n    self.distanceY = distance(self.newPoints[0], self.startPoints[0], \"y\");\r\n\r\n    self.distance = distance(self.newPoints[0], self.startPoints[0]);\r\n\r\n    // Skip false ontouchmove events (Chrome)\r\n    if (self.distance > 0) {\r\n      if (self.isSwiping) {\r\n        self.onSwipe(e);\r\n      } else if (self.isPanning) {\r\n        self.onPan();\r\n      } else if (self.isZooming) {\r\n        self.onZoom();\r\n      }\r\n    }\r\n  };\r\n\r\n  Guestures.prototype.onSwipe = function(e) {\r\n    var self = this,\r\n      swiping = self.isSwiping,\r\n      left = self.sliderStartPos.left || 0,\r\n      angle;\r\n\r\n    // If direction is not yet determined\r\n    if (swiping === true) {\r\n      // We need at least 10px distance to correctly calculate an angle\r\n      if (Math.abs(self.distance) > 10) {\r\n        self.canTap = false;\r\n\r\n        if (self.instance.group.length < 2 && self.opts.vertical) {\r\n          self.isSwiping = \"y\";\r\n        } else if (self.instance.isDragging || self.opts.vertical === false || (self.opts.vertical === \"auto\" && $(window).width() > 800)) {\r\n          self.isSwiping = \"x\";\r\n        } else {\r\n          angle = Math.abs(Math.atan2(self.distanceY, self.distanceX) * 180 / Math.PI);\r\n\r\n          self.isSwiping = angle > 45 && angle < 135 ? \"y\" : \"x\";\r\n        }\r\n\r\n        self.canTap = false;\r\n\r\n        if (self.isSwiping === \"y\" && $.fancybox.isMobile && (isScrollable(self.$target) || isScrollable(self.$target.parent()))) {\r\n          self.isScrolling = true;\r\n\r\n          return;\r\n        }\r\n\r\n        self.instance.isDragging = self.isSwiping;\r\n\r\n        // Reset points to avoid jumping, because we dropped first swipes to calculate the angle\r\n        self.startPoints = self.newPoints;\r\n\r\n        $.each(self.instance.slides, function(index, slide) {\r\n          $.fancybox.stop(slide.$slide);\r\n\r\n          slide.$slide.css(\"transition-duration\", \"\");\r\n\r\n          slide.inTransition = false;\r\n\r\n          if (slide.pos === self.instance.current.pos) {\r\n            self.sliderStartPos.left = $.fancybox.getTranslate(slide.$slide).left - $.fancybox.getTranslate(self.instance.$refs.stage).left;\r\n          }\r\n        });\r\n\r\n        // Stop slideshow\r\n        if (self.instance.SlideShow && self.instance.SlideShow.isActive) {\r\n          self.instance.SlideShow.stop();\r\n        }\r\n      }\r\n\r\n      return;\r\n    }\r\n\r\n    // Sticky edges\r\n    if (swiping == \"x\") {\r\n      if (\r\n        self.distanceX > 0 &&\r\n        (self.instance.group.length < 2 || (self.instance.current.index === 0 && !self.instance.current.opts.loop))\r\n      ) {\r\n        left = left + Math.pow(self.distanceX, 0.8);\r\n      } else if (\r\n        self.distanceX < 0 &&\r\n        (self.instance.group.length < 2 ||\r\n          (self.instance.current.index === self.instance.group.length - 1 && !self.instance.current.opts.loop))\r\n      ) {\r\n        left = left - Math.pow(-self.distanceX, 0.8);\r\n      } else {\r\n        left = left + self.distanceX;\r\n      }\r\n    }\r\n\r\n    self.sliderLastPos = {\r\n      top: swiping == \"x\" ? 0 : self.sliderStartPos.top + self.distanceY,\r\n      left: left\r\n    };\r\n\r\n    if (self.requestId) {\r\n      cancelAFrame(self.requestId);\r\n\r\n      self.requestId = null;\r\n    }\r\n\r\n    self.requestId = requestAFrame(function() {\r\n      if (self.sliderLastPos) {\r\n        $.each(self.instance.slides, function(index, slide) {\r\n          var pos = slide.pos - self.instance.currPos;\r\n\r\n          $.fancybox.setTranslate(slide.$slide, {\r\n            top: self.sliderLastPos.top,\r\n            left: self.sliderLastPos.left + pos * self.canvasWidth + pos * slide.opts.gutter\r\n          });\r\n        });\r\n\r\n        self.$container.addClass(\"fancybox-is-sliding\");\r\n      }\r\n    });\r\n  };\r\n\r\n  Guestures.prototype.onPan = function() {\r\n    var self = this;\r\n\r\n    // Prevent accidental movement (sometimes, when tapping casually, finger can move a bit)\r\n    if (distance(self.newPoints[0], self.realPoints[0]) < ($.fancybox.isMobile ? 10 : 5)) {\r\n      self.startPoints = self.newPoints;\r\n      return;\r\n    }\r\n\r\n    self.canTap = false;\r\n\r\n    self.contentLastPos = self.limitMovement();\r\n\r\n    if (self.requestId) {\r\n      cancelAFrame(self.requestId);\r\n\r\n      self.requestId = null;\r\n    }\r\n\r\n    self.requestId = requestAFrame(function() {\r\n      $.fancybox.setTranslate(self.$content, self.contentLastPos);\r\n    });\r\n  };\r\n\r\n  // Make panning sticky to the edges\r\n  Guestures.prototype.limitMovement = function() {\r\n    var self = this;\r\n\r\n    var canvasWidth = self.canvasWidth;\r\n    var canvasHeight = self.canvasHeight;\r\n\r\n    var distanceX = self.distanceX;\r\n    var distanceY = self.distanceY;\r\n\r\n    var contentStartPos = self.contentStartPos;\r\n\r\n    var currentOffsetX = contentStartPos.left;\r\n    var currentOffsetY = contentStartPos.top;\r\n\r\n    var currentWidth = contentStartPos.width;\r\n    var currentHeight = contentStartPos.height;\r\n\r\n    var minTranslateX, minTranslateY, maxTranslateX, maxTranslateY, newOffsetX, newOffsetY;\r\n\r\n    if (currentWidth > canvasWidth) {\r\n      newOffsetX = currentOffsetX + distanceX;\r\n    } else {\r\n      newOffsetX = currentOffsetX;\r\n    }\r\n\r\n    newOffsetY = currentOffsetY + distanceY;\r\n\r\n    // Slow down proportionally to traveled distance\r\n    minTranslateX = Math.max(0, canvasWidth * 0.5 - currentWidth * 0.5);\r\n    minTranslateY = Math.max(0, canvasHeight * 0.5 - currentHeight * 0.5);\r\n\r\n    maxTranslateX = Math.min(canvasWidth - currentWidth, canvasWidth * 0.5 - currentWidth * 0.5);\r\n    maxTranslateY = Math.min(canvasHeight - currentHeight, canvasHeight * 0.5 - currentHeight * 0.5);\r\n\r\n    //   ->\r\n    if (distanceX > 0 && newOffsetX > minTranslateX) {\r\n      newOffsetX = minTranslateX - 1 + Math.pow(-minTranslateX + currentOffsetX + distanceX, 0.8) || 0;\r\n    }\r\n\r\n    //    <-\r\n    if (distanceX < 0 && newOffsetX < maxTranslateX) {\r\n      newOffsetX = maxTranslateX + 1 - Math.pow(maxTranslateX - currentOffsetX - distanceX, 0.8) || 0;\r\n    }\r\n\r\n    //   \\/\r\n    if (distanceY > 0 && newOffsetY > minTranslateY) {\r\n      newOffsetY = minTranslateY - 1 + Math.pow(-minTranslateY + currentOffsetY + distanceY, 0.8) || 0;\r\n    }\r\n\r\n    //   /\\\r\n    if (distanceY < 0 && newOffsetY < maxTranslateY) {\r\n      newOffsetY = maxTranslateY + 1 - Math.pow(maxTranslateY - currentOffsetY - distanceY, 0.8) || 0;\r\n    }\r\n\r\n    return {\r\n      top: newOffsetY,\r\n      left: newOffsetX\r\n    };\r\n  };\r\n\r\n  Guestures.prototype.limitPosition = function(newOffsetX, newOffsetY, newWidth, newHeight) {\r\n    var self = this;\r\n\r\n    var canvasWidth = self.canvasWidth;\r\n    var canvasHeight = self.canvasHeight;\r\n\r\n    if (newWidth > canvasWidth) {\r\n      newOffsetX = newOffsetX > 0 ? 0 : newOffsetX;\r\n      newOffsetX = newOffsetX < canvasWidth - newWidth ? canvasWidth - newWidth : newOffsetX;\r\n    } else {\r\n      // Center horizontally\r\n      newOffsetX = Math.max(0, canvasWidth / 2 - newWidth / 2);\r\n    }\r\n\r\n    if (newHeight > canvasHeight) {\r\n      newOffsetY = newOffsetY > 0 ? 0 : newOffsetY;\r\n      newOffsetY = newOffsetY < canvasHeight - newHeight ? canvasHeight - newHeight : newOffsetY;\r\n    } else {\r\n      // Center vertically\r\n      newOffsetY = Math.max(0, canvasHeight / 2 - newHeight / 2);\r\n    }\r\n\r\n    return {\r\n      top: newOffsetY,\r\n      left: newOffsetX\r\n    };\r\n  };\r\n\r\n  Guestures.prototype.onZoom = function() {\r\n    var self = this;\r\n\r\n    // Calculate current distance between points to get pinch ratio and new width and height\r\n    var contentStartPos = self.contentStartPos;\r\n\r\n    var currentWidth = contentStartPos.width;\r\n    var currentHeight = contentStartPos.height;\r\n\r\n    var currentOffsetX = contentStartPos.left;\r\n    var currentOffsetY = contentStartPos.top;\r\n\r\n    var endDistanceBetweenFingers = distance(self.newPoints[0], self.newPoints[1]);\r\n\r\n    var pinchRatio = endDistanceBetweenFingers / self.startDistanceBetweenFingers;\r\n\r\n    var newWidth = Math.floor(currentWidth * pinchRatio);\r\n    var newHeight = Math.floor(currentHeight * pinchRatio);\r\n\r\n    // This is the translation due to pinch-zooming\r\n    var translateFromZoomingX = (currentWidth - newWidth) * self.percentageOfImageAtPinchPointX;\r\n    var translateFromZoomingY = (currentHeight - newHeight) * self.percentageOfImageAtPinchPointY;\r\n\r\n    // Point between the two touches\r\n    var centerPointEndX = (self.newPoints[0].x + self.newPoints[1].x) / 2 - $(window).scrollLeft();\r\n    var centerPointEndY = (self.newPoints[0].y + self.newPoints[1].y) / 2 - $(window).scrollTop();\r\n\r\n    // And this is the translation due to translation of the centerpoint\r\n    // between the two fingers\r\n    var translateFromTranslatingX = centerPointEndX - self.centerPointStartX;\r\n    var translateFromTranslatingY = centerPointEndY - self.centerPointStartY;\r\n\r\n    // The new offset is the old/current one plus the total translation\r\n    var newOffsetX = currentOffsetX + (translateFromZoomingX + translateFromTranslatingX);\r\n    var newOffsetY = currentOffsetY + (translateFromZoomingY + translateFromTranslatingY);\r\n\r\n    var newPos = {\r\n      top: newOffsetY,\r\n      left: newOffsetX,\r\n      scaleX: pinchRatio,\r\n      scaleY: pinchRatio\r\n    };\r\n\r\n    self.canTap = false;\r\n\r\n    self.newWidth = newWidth;\r\n    self.newHeight = newHeight;\r\n\r\n    self.contentLastPos = newPos;\r\n\r\n    if (self.requestId) {\r\n      cancelAFrame(self.requestId);\r\n\r\n      self.requestId = null;\r\n    }\r\n\r\n    self.requestId = requestAFrame(function() {\r\n      $.fancybox.setTranslate(self.$content, self.contentLastPos);\r\n    });\r\n  };\r\n\r\n  Guestures.prototype.ontouchend = function(e) {\r\n    var self = this;\r\n    var dMs = Math.max(new Date().getTime() - self.startTime, 1);\r\n\r\n    var swiping = self.isSwiping;\r\n    var panning = self.isPanning;\r\n    var zooming = self.isZooming;\r\n    var scrolling = self.isScrolling;\r\n\r\n    self.endPoints = getPointerXY(e);\r\n\r\n    self.$container.removeClass(\"fancybox-controls--isGrabbing\");\r\n\r\n    $(document).off(\".fb.touch\");\r\n\r\n    document.removeEventListener(\"scroll\", self.onscroll, true);\r\n\r\n    if (self.requestId) {\r\n      cancelAFrame(self.requestId);\r\n\r\n      self.requestId = null;\r\n    }\r\n\r\n    self.isSwiping = false;\r\n    self.isPanning = false;\r\n    self.isZooming = false;\r\n    self.isScrolling = false;\r\n\r\n    self.instance.isDragging = false;\r\n\r\n    if (self.canTap) {\r\n      return self.onTap(e);\r\n    }\r\n\r\n    self.speed = 366;\r\n\r\n    // Speed in px/ms\r\n    self.velocityX = self.distanceX / dMs * 0.5;\r\n    self.velocityY = self.distanceY / dMs * 0.5;\r\n\r\n    self.speedX = Math.max(self.speed * 0.5, Math.min(self.speed * 1.5, 1 / Math.abs(self.velocityX) * self.speed));\r\n\r\n    if (panning) {\r\n      self.endPanning();\r\n    } else if (zooming) {\r\n      self.endZooming();\r\n    } else {\r\n      self.endSwiping(swiping, scrolling);\r\n    }\r\n\r\n    return;\r\n  };\r\n\r\n  Guestures.prototype.endSwiping = function(swiping, scrolling) {\r\n    var self = this,\r\n      ret = false,\r\n      len = self.instance.group.length;\r\n\r\n    self.sliderLastPos = null;\r\n\r\n    // Close if swiped vertically / navigate if horizontally\r\n    if (swiping == \"y\" && !scrolling && Math.abs(self.distanceY) > 50) {\r\n      // Continue vertical movement\r\n      $.fancybox.animate(\r\n        self.instance.current.$slide,\r\n        {\r\n          top: self.sliderStartPos.top + self.distanceY + self.velocityY * 150,\r\n          opacity: 0\r\n        },\r\n        200\r\n      );\r\n\r\n      ret = self.instance.close(true, 200);\r\n    } else if (swiping == \"x\" && self.distanceX > 50 && len > 1) {\r\n      ret = self.instance.previous(self.speedX);\r\n    } else if (swiping == \"x\" && self.distanceX < -50 && len > 1) {\r\n      ret = self.instance.next(self.speedX);\r\n    }\r\n\r\n    if (ret === false && (swiping == \"x\" || swiping == \"y\")) {\r\n      if (scrolling || len < 2) {\r\n        self.instance.centerSlide(self.instance.current, 150);\r\n      } else {\r\n        self.instance.jumpTo(self.instance.current.index);\r\n      }\r\n    }\r\n\r\n    self.$container.removeClass(\"fancybox-is-sliding\");\r\n  };\r\n\r\n  // Limit panning from edges\r\n  // ========================\r\n  Guestures.prototype.endPanning = function() {\r\n    var self = this;\r\n    var newOffsetX, newOffsetY, newPos;\r\n\r\n    if (!self.contentLastPos) {\r\n      return;\r\n    }\r\n\r\n    if (self.opts.momentum === false) {\r\n      newOffsetX = self.contentLastPos.left;\r\n      newOffsetY = self.contentLastPos.top;\r\n    } else {\r\n      // Continue movement\r\n      newOffsetX = self.contentLastPos.left + self.velocityX * self.speed;\r\n      newOffsetY = self.contentLastPos.top + self.velocityY * self.speed;\r\n    }\r\n\r\n    newPos = self.limitPosition(newOffsetX, newOffsetY, self.contentStartPos.width, self.contentStartPos.height);\r\n\r\n    newPos.width = self.contentStartPos.width;\r\n    newPos.height = self.contentStartPos.height;\r\n\r\n    $.fancybox.animate(self.$content, newPos, 330);\r\n  };\r\n\r\n  Guestures.prototype.endZooming = function() {\r\n    var self = this;\r\n\r\n    var current = self.instance.current;\r\n\r\n    var newOffsetX, newOffsetY, newPos, reset;\r\n\r\n    var newWidth = self.newWidth;\r\n    var newHeight = self.newHeight;\r\n\r\n    if (!self.contentLastPos) {\r\n      return;\r\n    }\r\n\r\n    newOffsetX = self.contentLastPos.left;\r\n    newOffsetY = self.contentLastPos.top;\r\n\r\n    reset = {\r\n      top: newOffsetY,\r\n      left: newOffsetX,\r\n      width: newWidth,\r\n      height: newHeight,\r\n      scaleX: 1,\r\n      scaleY: 1\r\n    };\r\n\r\n    // Reset scalex/scaleY values; this helps for perfomance and does not break animation\r\n    $.fancybox.setTranslate(self.$content, reset);\r\n\r\n    if (newWidth < self.canvasWidth && newHeight < self.canvasHeight) {\r\n      self.instance.scaleToFit(150);\r\n    } else if (newWidth > current.width || newHeight > current.height) {\r\n      self.instance.scaleToActual(self.centerPointStartX, self.centerPointStartY, 150);\r\n    } else {\r\n      newPos = self.limitPosition(newOffsetX, newOffsetY, newWidth, newHeight);\r\n\r\n      // Switch from scale() to width/height or animation will not work correctly\r\n      $.fancybox.setTranslate(self.$content, $.fancybox.getTranslate(self.$content));\r\n\r\n      $.fancybox.animate(self.$content, newPos, 150);\r\n    }\r\n  };\r\n\r\n  Guestures.prototype.onTap = function(e) {\r\n    var self = this;\r\n    var $target = $(e.target);\r\n\r\n    var instance = self.instance;\r\n    var current = instance.current;\r\n\r\n    var endPoints = (e && getPointerXY(e)) || self.startPoints;\r\n\r\n    var tapX = endPoints[0] ? endPoints[0].x - $(window).scrollLeft() - self.stagePos.left : 0;\r\n    var tapY = endPoints[0] ? endPoints[0].y - $(window).scrollTop() - self.stagePos.top : 0;\r\n\r\n    var where;\r\n\r\n    var process = function(prefix) {\r\n      var action = current.opts[prefix];\r\n\r\n      if ($.isFunction(action)) {\r\n        action = action.apply(instance, [current, e]);\r\n      }\r\n\r\n      if (!action) {\r\n        return;\r\n      }\r\n\r\n      switch (action) {\r\n        case \"close\":\r\n          instance.close(self.startEvent);\r\n\r\n          break;\r\n\r\n        case \"toggleControls\":\r\n          instance.toggleControls(true);\r\n\r\n          break;\r\n\r\n        case \"next\":\r\n          instance.next();\r\n\r\n          break;\r\n\r\n        case \"nextOrClose\":\r\n          if (instance.group.length > 1) {\r\n            instance.next();\r\n          } else {\r\n            instance.close(self.startEvent);\r\n          }\r\n\r\n          break;\r\n\r\n        case \"zoom\":\r\n          if (current.type == \"image\" && (current.isLoaded || current.$ghost)) {\r\n            if (instance.canPan()) {\r\n              instance.scaleToFit();\r\n            } else if (instance.isScaledDown()) {\r\n              instance.scaleToActual(tapX, tapY);\r\n            } else if (instance.group.length < 2) {\r\n              instance.close(self.startEvent);\r\n            }\r\n          }\r\n\r\n          break;\r\n      }\r\n    };\r\n\r\n    // Ignore right click\r\n    if (e.originalEvent && e.originalEvent.button == 2) {\r\n      return;\r\n    }\r\n\r\n    // Skip if clicked on the scrollbar\r\n    if (!$target.is(\"img\") && tapX > $target[0].clientWidth + $target.offset().left) {\r\n      return;\r\n    }\r\n\r\n    // Check where is clicked\r\n    if ($target.is(\".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container\")) {\r\n      where = \"Outside\";\r\n    } else if ($target.is(\".fancybox-slide\")) {\r\n      where = \"Slide\";\r\n    } else if (\r\n      instance.current.$content &&\r\n      instance.current.$content\r\n        .find($target)\r\n        .addBack()\r\n        .filter($target).length\r\n    ) {\r\n      where = \"Content\";\r\n    } else {\r\n      return;\r\n    }\r\n\r\n    // Check if this is a double tap\r\n    if (self.tapped) {\r\n      // Stop previously created single tap\r\n      clearTimeout(self.tapped);\r\n      self.tapped = null;\r\n\r\n      // Skip if distance between taps is too big\r\n      if (Math.abs(tapX - self.tapX) > 50 || Math.abs(tapY - self.tapY) > 50) {\r\n        return this;\r\n      }\r\n\r\n      // OK, now we assume that this is a double-tap\r\n      process(\"dblclick\" + where);\r\n    } else {\r\n      // Single tap will be processed if user has not clicked second time within 300ms\r\n      // or there is no need to wait for double-tap\r\n      self.tapX = tapX;\r\n      self.tapY = tapY;\r\n\r\n      if (current.opts[\"dblclick\" + where] && current.opts[\"dblclick\" + where] !== current.opts[\"click\" + where]) {\r\n        self.tapped = setTimeout(function() {\r\n          self.tapped = null;\r\n\r\n          process(\"click\" + where);\r\n        }, 500);\r\n      } else {\r\n        process(\"click\" + where);\r\n      }\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  $(document).on(\"onActivate.fb\", function(e, instance) {\r\n    if (instance && !instance.Guestures) {\r\n      instance.Guestures = new Guestures(instance);\r\n    }\r\n  });\r\n})(window, document, window.jQuery || jQuery);\r\n\r\n// ==========================================================================\r\n//\r\n// SlideShow\r\n// Enables slideshow functionality\r\n//\r\n// Example of usage:\r\n// $.fancybox.getInstance().SlideShow.start()\r\n//\r\n// ==========================================================================\r\n(function(document, $) {\r\n  \"use strict\";\r\n\r\n  $.extend(true, $.fancybox.defaults, {\r\n    btnTpl: {\r\n      slideShow:\r\n        '<button data-fancybox-play class=\"fancybox-button fancybox-button--play\" title=\"{{PLAY_START}}\">' +\r\n        '<svg viewBox=\"0 0 40 40\">' +\r\n        '<path d=\"M13,12 L27,20 L13,27 Z\" />' +\r\n        '<path d=\"M15,10 v19 M23,10 v19\" />' +\r\n        \"</svg>\" +\r\n        \"</button>\"\r\n    },\r\n    slideShow: {\r\n      autoStart: false,\r\n      speed: 3000\r\n    }\r\n  });\r\n\r\n  var SlideShow = function(instance) {\r\n    this.instance = instance;\r\n    this.init();\r\n  };\r\n\r\n  $.extend(SlideShow.prototype, {\r\n    timer: null,\r\n    isActive: false,\r\n    $button: null,\r\n\r\n    init: function() {\r\n      var self = this;\r\n\r\n      self.$button = self.instance.$refs.toolbar.find(\"[data-fancybox-play]\").on(\"click\", function() {\r\n        self.toggle();\r\n      });\r\n\r\n      if (self.instance.group.length < 2 || !self.instance.group[self.instance.currIndex].opts.slideShow) {\r\n        self.$button.hide();\r\n      }\r\n    },\r\n\r\n    set: function(force) {\r\n      var self = this;\r\n\r\n      // Check if reached last element\r\n      if (\r\n        self.instance &&\r\n        self.instance.current &&\r\n        (force === true || self.instance.current.opts.loop || self.instance.currIndex < self.instance.group.length - 1)\r\n      ) {\r\n        self.timer = setTimeout(function() {\r\n          if (self.isActive) {\r\n            self.instance.jumpTo((self.instance.currIndex + 1) % self.instance.group.length);\r\n          }\r\n        }, self.instance.current.opts.slideShow.speed);\r\n      } else {\r\n        self.stop();\r\n        self.instance.idleSecondsCounter = 0;\r\n        self.instance.showControls();\r\n      }\r\n    },\r\n\r\n    clear: function() {\r\n      var self = this;\r\n\r\n      clearTimeout(self.timer);\r\n\r\n      self.timer = null;\r\n    },\r\n\r\n    start: function() {\r\n      var self = this;\r\n      var current = self.instance.current;\r\n\r\n      if (current) {\r\n        self.isActive = true;\r\n\r\n        self.$button\r\n          .attr(\"title\", current.opts.i18n[current.opts.lang].PLAY_STOP)\r\n          .removeClass(\"fancybox-button--play\")\r\n          .addClass(\"fancybox-button--pause\");\r\n\r\n        self.set(true);\r\n      }\r\n    },\r\n\r\n    stop: function() {\r\n      var self = this;\r\n      var current = self.instance.current;\r\n\r\n      self.clear();\r\n\r\n      self.$button\r\n        .attr(\"title\", current.opts.i18n[current.opts.lang].PLAY_START)\r\n        .removeClass(\"fancybox-button--pause\")\r\n        .addClass(\"fancybox-button--play\");\r\n\r\n      self.isActive = false;\r\n    },\r\n\r\n    toggle: function() {\r\n      var self = this;\r\n\r\n      if (self.isActive) {\r\n        self.stop();\r\n      } else {\r\n        self.start();\r\n      }\r\n    }\r\n  });\r\n\r\n  $(document).on({\r\n    \"onInit.fb\": function(e, instance) {\r\n      if (instance && !instance.SlideShow) {\r\n        instance.SlideShow = new SlideShow(instance);\r\n      }\r\n    },\r\n\r\n    \"beforeShow.fb\": function(e, instance, current, firstRun) {\r\n      var SlideShow = instance && instance.SlideShow;\r\n\r\n      if (firstRun) {\r\n        if (SlideShow && current.opts.slideShow.autoStart) {\r\n          SlideShow.start();\r\n        }\r\n      } else if (SlideShow && SlideShow.isActive) {\r\n        SlideShow.clear();\r\n      }\r\n    },\r\n\r\n    \"afterShow.fb\": function(e, instance, current) {\r\n      var SlideShow = instance && instance.SlideShow;\r\n\r\n      if (SlideShow && SlideShow.isActive) {\r\n        SlideShow.set();\r\n      }\r\n    },\r\n\r\n    \"afterKeydown.fb\": function(e, instance, current, keypress, keycode) {\r\n      var SlideShow = instance && instance.SlideShow;\r\n\r\n      // \"P\" or Spacebar\r\n      if (SlideShow && current.opts.slideShow && (keycode === 80 || keycode === 32) && !$(document.activeElement).is(\"button,a,input\")) {\r\n        keypress.preventDefault();\r\n\r\n        SlideShow.toggle();\r\n      }\r\n    },\r\n\r\n    \"beforeClose.fb onDeactivate.fb\": function(e, instance) {\r\n      var SlideShow = instance && instance.SlideShow;\r\n\r\n      if (SlideShow) {\r\n        SlideShow.stop();\r\n      }\r\n    }\r\n  });\r\n\r\n  // Page Visibility API to pause slideshow when window is not active\r\n  $(document).on(\"visibilitychange\", function() {\r\n    var instance = $.fancybox.getInstance();\r\n    var SlideShow = instance && instance.SlideShow;\r\n\r\n    if (SlideShow && SlideShow.isActive) {\r\n      if (document.hidden) {\r\n        SlideShow.clear();\r\n      } else {\r\n        SlideShow.set();\r\n      }\r\n    }\r\n  });\r\n})(document, window.jQuery || jQuery);\r\n\r\n// ==========================================================================\r\n//\r\n// FullScreen\r\n// Adds fullscreen functionality\r\n//\r\n// ==========================================================================\r\n(function(document, $) {\r\n  \"use strict\";\r\n\r\n  // Collection of methods supported by user browser\r\n  var fn = (function() {\r\n    var fnMap = [\r\n      [\"requestFullscreen\", \"exitFullscreen\", \"fullscreenElement\", \"fullscreenEnabled\", \"fullscreenchange\", \"fullscreenerror\"],\r\n      // new WebKit\r\n      [\r\n        \"webkitRequestFullscreen\",\r\n        \"webkitExitFullscreen\",\r\n        \"webkitFullscreenElement\",\r\n        \"webkitFullscreenEnabled\",\r\n        \"webkitfullscreenchange\",\r\n        \"webkitfullscreenerror\"\r\n      ],\r\n      // old WebKit (Safari 5.1)\r\n      [\r\n        \"webkitRequestFullScreen\",\r\n        \"webkitCancelFullScreen\",\r\n        \"webkitCurrentFullScreenElement\",\r\n        \"webkitCancelFullScreen\",\r\n        \"webkitfullscreenchange\",\r\n        \"webkitfullscreenerror\"\r\n      ],\r\n      [\r\n        \"mozRequestFullScreen\",\r\n        \"mozCancelFullScreen\",\r\n        \"mozFullScreenElement\",\r\n        \"mozFullScreenEnabled\",\r\n        \"mozfullscreenchange\",\r\n        \"mozfullscreenerror\"\r\n      ],\r\n      [\"msRequestFullscreen\", \"msExitFullscreen\", \"msFullscreenElement\", \"msFullscreenEnabled\", \"MSFullscreenChange\", \"MSFullscreenError\"]\r\n    ];\r\n\r\n    var ret = {};\r\n\r\n    for (var i = 0; i < fnMap.length; i++) {\r\n      var val = fnMap[i];\r\n\r\n      if (val && val[1] in document) {\r\n        for (var j = 0; j < val.length; j++) {\r\n          ret[fnMap[0][j]] = val[j];\r\n        }\r\n\r\n        return ret;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  })();\r\n\r\n  // If browser does not have Full Screen API, then simply unset default button template and stop\r\n  if (!fn) {\r\n    if ($ && $.fancybox) {\r\n      $.fancybox.defaults.btnTpl.fullScreen = false;\r\n    }\r\n\r\n    return;\r\n  }\r\n\r\n  var FullScreen = {\r\n    request: function(elem) {\r\n      elem = elem || document.documentElement;\r\n\r\n      elem[fn.requestFullscreen](elem.ALLOW_KEYBOARD_INPUT);\r\n    },\r\n    exit: function() {\r\n      document[fn.exitFullscreen]();\r\n    },\r\n    toggle: function(elem) {\r\n      elem = elem || document.documentElement;\r\n\r\n      if (this.isFullscreen()) {\r\n        this.exit();\r\n      } else {\r\n        this.request(elem);\r\n      }\r\n    },\r\n    isFullscreen: function() {\r\n      return Boolean(document[fn.fullscreenElement]);\r\n    },\r\n    enabled: function() {\r\n      return Boolean(document[fn.fullscreenEnabled]);\r\n    }\r\n  };\r\n\r\n  $.extend(true, $.fancybox.defaults, {\r\n    btnTpl: {\r\n      fullScreen:\r\n        '<button data-fancybox-fullscreen class=\"fancybox-button fancybox-button--fullscreen\" title=\"{{FULL_SCREEN}}\">' +\r\n        '<svg viewBox=\"0 0 40 40\">' +\r\n        '<path d=\"M9,12 v16 h22 v-16 h-22 v8\" />' +\r\n        \"</svg>\" +\r\n        \"</button>\"\r\n    },\r\n    fullScreen: {\r\n      autoStart: false\r\n    }\r\n  });\r\n\r\n  $(document).on({\r\n    \"onInit.fb\": function(e, instance) {\r\n      var $container;\r\n\r\n      if (instance && instance.group[instance.currIndex].opts.fullScreen) {\r\n        $container = instance.$refs.container;\r\n\r\n        $container.on(\"click.fb-fullscreen\", \"[data-fancybox-fullscreen]\", function(e) {\r\n          e.stopPropagation();\r\n          e.preventDefault();\r\n\r\n          FullScreen.toggle();\r\n        });\r\n\r\n        if (instance.opts.fullScreen && instance.opts.fullScreen.autoStart === true) {\r\n          FullScreen.request();\r\n        }\r\n\r\n        // Expose API\r\n        instance.FullScreen = FullScreen;\r\n      } else if (instance) {\r\n        instance.$refs.toolbar.find(\"[data-fancybox-fullscreen]\").hide();\r\n      }\r\n    },\r\n\r\n    \"afterKeydown.fb\": function(e, instance, current, keypress, keycode) {\r\n      // \"F\"\r\n      if (instance && instance.FullScreen && keycode === 70) {\r\n        keypress.preventDefault();\r\n\r\n        instance.FullScreen.toggle();\r\n      }\r\n    },\r\n\r\n    \"beforeClose.fb\": function(e, instance) {\r\n      if (instance && instance.FullScreen && instance.$refs.container.hasClass(\"fancybox-is-fullscreen\")) {\r\n        FullScreen.exit();\r\n      }\r\n    }\r\n  });\r\n\r\n  $(document).on(fn.fullscreenchange, function() {\r\n    var isFullscreen = FullScreen.isFullscreen(),\r\n      instance = $.fancybox.getInstance();\r\n\r\n    if (instance) {\r\n      // If image is zooming, then force to stop and reposition properly\r\n      if (instance.current && instance.current.type === \"image\" && instance.isAnimating) {\r\n        instance.current.$content.css(\"transition\", \"none\");\r\n\r\n        instance.isAnimating = false;\r\n\r\n        instance.update(true, true, 0);\r\n      }\r\n\r\n      instance.trigger(\"onFullscreenChange\", isFullscreen);\r\n\r\n      instance.$refs.container.toggleClass(\"fancybox-is-fullscreen\", isFullscreen);\r\n    }\r\n  });\r\n})(document, window.jQuery || jQuery);\r\n\r\n// ==========================================================================\r\n//\r\n// Thumbs\r\n// Displays thumbnails in a grid\r\n//\r\n// ==========================================================================\r\n(function(document, $) {\r\n  \"use strict\";\r\n\r\n  var CLASS = \"fancybox-thumbs\",\r\n    CLASS_ACTIVE = CLASS + \"-active\",\r\n    CLASS_LOAD = CLASS + \"-loading\";\r\n\r\n  // Make sure there are default values\r\n  $.fancybox.defaults = $.extend(\r\n    true,\r\n    {\r\n      btnTpl: {\r\n        thumbs:\r\n          '<button data-fancybox-thumbs class=\"fancybox-button fancybox-button--thumbs\" title=\"{{THUMBS}}\">' +\r\n          '<svg viewBox=\"0 0 120 120\">' +\r\n          '<path d=\"M30,30 h14 v14 h-14 Z M50,30 h14 v14 h-14 Z M70,30 h14 v14 h-14 Z M30,50 h14 v14 h-14 Z M50,50 h14 v14 h-14 Z M70,50 h14 v14 h-14 Z M30,70 h14 v14 h-14 Z M50,70 h14 v14 h-14 Z M70,70 h14 v14 h-14 Z\" />' +\r\n          \"</svg>\" +\r\n          \"</button>\"\r\n      },\r\n      thumbs: {\r\n        autoStart: false, // Display thumbnails on opening\r\n        hideOnClose: true, // Hide thumbnail grid when closing animation starts\r\n        parentEl: \".fancybox-container\", // Container is injected into this element\r\n        axis: \"y\" // Vertical (y) or horizontal (x) scrolling\r\n      }\r\n    },\r\n    $.fancybox.defaults\r\n  );\r\n\r\n  var FancyThumbs = function(instance) {\r\n    this.init(instance);\r\n  };\r\n\r\n  $.extend(FancyThumbs.prototype, {\r\n    $button: null,\r\n    $grid: null,\r\n    $list: null,\r\n    isVisible: false,\r\n    isActive: false,\r\n\r\n    init: function(instance) {\r\n      var self = this,\r\n        first,\r\n        second;\r\n\r\n      self.instance = instance;\r\n\r\n      instance.Thumbs = self;\r\n\r\n      self.opts = instance.group[instance.currIndex].opts.thumbs;\r\n\r\n      // Enable thumbs if at least two group items have thumbnails\r\n      first = instance.group[0];\r\n      first = first.opts.thumb || (first.opts.$thumb && first.opts.$thumb.length ? first.opts.$thumb.attr(\"src\") : false);\r\n\r\n      if (instance.group.length > 1) {\r\n        second = instance.group[1];\r\n        second = second.opts.thumb || (second.opts.$thumb && second.opts.$thumb.length ? second.opts.$thumb.attr(\"src\") : false);\r\n      }\r\n\r\n      self.$button = instance.$refs.toolbar.find(\"[data-fancybox-thumbs]\");\r\n\r\n      if (self.opts && first && second && first && second) {\r\n        self.$button.show().on(\"click\", function() {\r\n          self.toggle();\r\n        });\r\n\r\n        self.isActive = true;\r\n      } else {\r\n        self.$button.hide();\r\n      }\r\n    },\r\n\r\n    create: function() {\r\n      var self = this,\r\n        instance = self.instance,\r\n        parentEl = self.opts.parentEl,\r\n        list = [],\r\n        src;\r\n\r\n      if (!self.$grid) {\r\n        // Create main element\r\n        self.$grid = $('<div class=\"' + CLASS + \" \" + CLASS + \"-\" + self.opts.axis + '\"></div>').appendTo(\r\n          instance.$refs.container\r\n            .find(parentEl)\r\n            .addBack()\r\n            .filter(parentEl)\r\n        );\r\n\r\n        // Add \"click\" event that performs gallery navigation\r\n        self.$grid.on(\"click\", \"li\", function() {\r\n          instance.jumpTo($(this).attr(\"data-index\"));\r\n        });\r\n      }\r\n\r\n      // Build the list\r\n      if (!self.$list) {\r\n        self.$list = $(\"<ul>\").appendTo(self.$grid);\r\n      }\r\n\r\n      $.each(instance.group, function(i, item) {\r\n        src = item.opts.thumb || (item.opts.$thumb ? item.opts.$thumb.attr(\"src\") : null);\r\n\r\n        if (!src && item.type === \"image\") {\r\n          src = item.src;\r\n        }\r\n\r\n        list.push(\r\n          '<li data-index=\"' +\r\n            i +\r\n            '\" tabindex=\"0\" class=\"' +\r\n            CLASS_LOAD +\r\n            '\"' +\r\n            (src && src.length ? ' style=\"background-image:url(' + src + ')\" />' : \"\") +\r\n            \"></li>\"\r\n        );\r\n      });\r\n\r\n      self.$list[0].innerHTML = list.join(\"\");\r\n\r\n      if (self.opts.axis === \"x\") {\r\n        // Set fixed width for list element to enable horizontal scrolling\r\n        self.$list.width(\r\n          parseInt(self.$grid.css(\"padding-right\"), 10) +\r\n            instance.group.length *\r\n              self.$list\r\n                .children()\r\n                .eq(0)\r\n                .outerWidth(true)\r\n        );\r\n      }\r\n    },\r\n\r\n    focus: function(duration) {\r\n      var self = this,\r\n        $list = self.$list,\r\n        $grid = self.$grid,\r\n        thumb,\r\n        thumbPos;\r\n\r\n      if (!self.instance.current) {\r\n        return;\r\n      }\r\n\r\n      thumb = $list\r\n        .children()\r\n        .removeClass(CLASS_ACTIVE)\r\n        .filter('[data-index=\"' + self.instance.current.index + '\"]')\r\n        .addClass(CLASS_ACTIVE);\r\n\r\n      thumbPos = thumb.position();\r\n\r\n      // Check if need to scroll to make current thumb visible\r\n      if (self.opts.axis === \"y\" && (thumbPos.top < 0 || thumbPos.top > $list.height() - thumb.outerHeight())) {\r\n        $list.stop().animate(\r\n          {\r\n            scrollTop: $list.scrollTop() + thumbPos.top\r\n          },\r\n          duration\r\n        );\r\n      } else if (\r\n        self.opts.axis === \"x\" &&\r\n        (thumbPos.left < $grid.scrollLeft() || thumbPos.left > $grid.scrollLeft() + ($grid.width() - thumb.outerWidth()))\r\n      ) {\r\n        $list\r\n          .parent()\r\n          .stop()\r\n          .animate(\r\n            {\r\n              scrollLeft: thumbPos.left\r\n            },\r\n            duration\r\n          );\r\n      }\r\n    },\r\n\r\n    update: function() {\r\n      var that = this;\r\n      that.instance.$refs.container.toggleClass(\"fancybox-show-thumbs\", this.isVisible);\r\n\r\n      if (that.isVisible) {\r\n        if (!that.$grid) {\r\n          that.create();\r\n        }\r\n\r\n        that.instance.trigger(\"onThumbsShow\");\r\n\r\n        that.focus(0);\r\n      } else if (that.$grid) {\r\n        that.instance.trigger(\"onThumbsHide\");\r\n      }\r\n\r\n      // Update content position\r\n      that.instance.update();\r\n    },\r\n\r\n    hide: function() {\r\n      this.isVisible = false;\r\n      this.update();\r\n    },\r\n\r\n    show: function() {\r\n      this.isVisible = true;\r\n      this.update();\r\n    },\r\n\r\n    toggle: function() {\r\n      this.isVisible = !this.isVisible;\r\n      this.update();\r\n    }\r\n  });\r\n\r\n  $(document).on({\r\n    \"onInit.fb\": function(e, instance) {\r\n      var Thumbs;\r\n\r\n      if (instance && !instance.Thumbs) {\r\n        Thumbs = new FancyThumbs(instance);\r\n\r\n        if (Thumbs.isActive && Thumbs.opts.autoStart === true) {\r\n          Thumbs.show();\r\n        }\r\n      }\r\n    },\r\n\r\n    \"beforeShow.fb\": function(e, instance, item, firstRun) {\r\n      var Thumbs = instance && instance.Thumbs;\r\n\r\n      if (Thumbs && Thumbs.isVisible) {\r\n        Thumbs.focus(firstRun ? 0 : 250);\r\n      }\r\n    },\r\n\r\n    \"afterKeydown.fb\": function(e, instance, current, keypress, keycode) {\r\n      var Thumbs = instance && instance.Thumbs;\r\n\r\n      // \"G\"\r\n      if (Thumbs && Thumbs.isActive && keycode === 71) {\r\n        keypress.preventDefault();\r\n\r\n        Thumbs.toggle();\r\n      }\r\n    },\r\n\r\n    \"beforeClose.fb\": function(e, instance) {\r\n      var Thumbs = instance && instance.Thumbs;\r\n\r\n      if (Thumbs && Thumbs.isVisible && Thumbs.opts.hideOnClose !== false) {\r\n        Thumbs.$grid.hide();\r\n      }\r\n    }\r\n  });\r\n})(document, window.jQuery || jQuery);\r\n\r\n//// ==========================================================================\r\n//\r\n// Share\r\n// Displays simple form for sharing current url\r\n//\r\n// ==========================================================================\r\n(function(document, $) {\r\n  \"use strict\";\r\n\r\n  $.extend(true, $.fancybox.defaults, {\r\n    btnTpl: {\r\n      share:\r\n        '<button data-fancybox-share class=\"fancybox-button fancybox-button--share\" title=\"{{SHARE}}\">' +\r\n        '<svg viewBox=\"0 0 40 40\">' +\r\n        '<path d=\"M6,30 C8,18 19,16 23,16 L23,16 L23,10 L33,20 L23,29 L23,24 C19,24 8,27 6,30 Z\">' +\r\n        \"</svg>\" +\r\n        \"</button>\"\r\n    },\r\n    share: {\r\n      url: function(instance, item) {\r\n        return (\r\n          (!instance.currentHash && !(item.type === \"inline\" || item.type === \"html\") ? item.origSrc || item.src : false) || window.location\r\n        );\r\n      },\r\n      tpl:\r\n        '<div class=\"fancybox-share\">' +\r\n        \"<h1>{{SHARE}}</h1>\" +\r\n        \"<p>\" +\r\n        '<a class=\"fancybox-share__button fancybox-share__button--fb\" href=\"https://www.facebook.com/sharer/sharer.php?u={{url}}\">' +\r\n        '<svg viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m287 456v-299c0-21 6-35 35-35h38v-63c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254h-205v72h196\" /></svg>' +\r\n        \"<span>Facebook</span>\" +\r\n        \"</a>\" +\r\n        '<a class=\"fancybox-share__button fancybox-share__button--tw\" href=\"https://twitter.com/intent/tweet?url={{url}}&text={{descr}}\">' +\r\n        '<svg viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z\" /></svg>' +\r\n        \"<span>Twitter</span>\" +\r\n        \"</a>\" +\r\n        '<a class=\"fancybox-share__button fancybox-share__button--pt\" href=\"https://www.pinterest.com/pin/create/button/?url={{url}}&description={{descr}}&media={{media}}\">' +\r\n        '<svg viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m265 56c-109 0-164 78-164 144 0 39 15 74 47 87 5 2 10 0 12-5l4-19c2-6 1-8-3-13-9-11-15-25-15-45 0-58 43-110 113-110 62 0 96 38 96 88 0 67-30 122-73 122-24 0-42-19-36-44 6-29 20-60 20-81 0-19-10-35-31-35-25 0-44 26-44 60 0 21 7 36 7 36l-30 125c-8 37-1 83 0 87 0 3 4 4 5 2 2-3 32-39 42-75l16-64c8 16 31 29 56 29 74 0 124-67 124-157 0-69-58-132-146-132z\" fill=\"#fff\"/></svg>' +\r\n        \"<span>Pinterest</span>\" +\r\n        \"</a>\" +\r\n        \"</p>\" +\r\n        '<p><input class=\"fancybox-share__input\" type=\"text\" value=\"{{url_raw}}\" /></p>' +\r\n        \"</div>\"\r\n    }\r\n  });\r\n\r\n  function escapeHtml(string) {\r\n    var entityMap = {\r\n      \"&\": \"&amp;\",\r\n      \"<\": \"&lt;\",\r\n      \">\": \"&gt;\",\r\n      '\"': \"&quot;\",\r\n      \"'\": \"&#39;\",\r\n      \"/\": \"&#x2F;\",\r\n      \"`\": \"&#x60;\",\r\n      \"=\": \"&#x3D;\"\r\n    };\r\n\r\n    return String(string).replace(/[&<>\"'`=\\/]/g, function(s) {\r\n      return entityMap[s];\r\n    });\r\n  }\r\n\r\n  $(document).on(\"click\", \"[data-fancybox-share]\", function() {\r\n    var instance = $.fancybox.getInstance(),\r\n      current = instance.current || null,\r\n      url,\r\n      tpl;\r\n\r\n    if (!current) {\r\n      return;\r\n    }\r\n\r\n    if ($.type(current.opts.share.url) === \"function\") {\r\n      url = current.opts.share.url.apply(current, [instance, current]);\r\n    }\r\n\r\n    tpl = current.opts.share.tpl\r\n      .replace(/\\{\\{media\\}\\}/g, current.type === \"image\" ? encodeURIComponent(current.src) : \"\")\r\n      .replace(/\\{\\{url\\}\\}/g, encodeURIComponent(url))\r\n      .replace(/\\{\\{url_raw\\}\\}/g, escapeHtml(url))\r\n      .replace(/\\{\\{descr\\}\\}/g, instance.$caption ? encodeURIComponent(instance.$caption.text()) : \"\");\r\n\r\n    $.fancybox.open({\r\n      src: instance.translate(instance, tpl),\r\n      type: \"html\",\r\n      opts: {\r\n        animationEffect: false,\r\n        afterLoad: function(shareInstance, shareCurrent) {\r\n          // Close self if parent instance is closing\r\n          instance.$refs.container.one(\"beforeClose.fb\", function() {\r\n            shareInstance.close(null, 0);\r\n          });\r\n\r\n          // Opening links in a popup window\r\n          shareCurrent.$content.find(\".fancybox-share__links a\").click(function() {\r\n            window.open(this.href, \"Share\", \"width=550, height=450\");\r\n            return false;\r\n          });\r\n        }\r\n      }\r\n    });\r\n  });\r\n})(document, window.jQuery || jQuery);\r\n\r\n// ==========================================================================\r\n//\r\n// Hash\r\n// Enables linking to each modal\r\n//\r\n// ==========================================================================\r\n(function(document, window, $) {\r\n  \"use strict\";\r\n\r\n  // Simple $.escapeSelector polyfill (for jQuery prior v3)\r\n  if (!$.escapeSelector) {\r\n    $.escapeSelector = function(sel) {\r\n      var rcssescape = /([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\x80-\\uFFFF\\w-]/g;\r\n      var fcssescape = function(ch, asCodePoint) {\r\n        if (asCodePoint) {\r\n          // U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER\r\n          if (ch === \"\\0\") {\r\n            return \"\\uFFFD\";\r\n          }\r\n\r\n          // Control characters and (dependent upon position) numbers get escaped as code points\r\n          return ch.slice(0, -1) + \"\\\\\" + ch.charCodeAt(ch.length - 1).toString(16) + \" \";\r\n        }\r\n\r\n        // Other potentially-special ASCII characters get backslash-escaped\r\n        return \"\\\\\" + ch;\r\n      };\r\n\r\n      return (sel + \"\").replace(rcssescape, fcssescape);\r\n    };\r\n  }\r\n\r\n  // Get info about gallery name and current index from url\r\n  function parseUrl() {\r\n    var hash = window.location.hash.substr(1),\r\n      rez = hash.split(\"-\"),\r\n      index = rez.length > 1 && /^\\+?\\d+$/.test(rez[rez.length - 1]) ? parseInt(rez.pop(-1), 10) || 1 : 1,\r\n      gallery = rez.join(\"-\");\r\n\r\n    return {\r\n      hash: hash,\r\n      /* Index is starting from 1 */\r\n      index: index < 1 ? 1 : index,\r\n      gallery: gallery\r\n    };\r\n  }\r\n\r\n  // Trigger click evnt on links to open new fancyBox instance\r\n  function triggerFromUrl(url) {\r\n    var $el;\r\n\r\n    if (url.gallery !== \"\") {\r\n      // If we can find element matching 'data-fancybox' atribute, then trigger click event for that.\r\n      // It should start fancyBox\r\n      $el = $(\"[data-fancybox='\" + $.escapeSelector(url.gallery) + \"']\")\r\n        .eq(url.index - 1)\r\n        .trigger(\"click.fb-start\");\r\n    }\r\n  }\r\n\r\n  // Get gallery name from current instance\r\n  function getGalleryID(instance) {\r\n    var opts, ret;\r\n\r\n    if (!instance) {\r\n      return false;\r\n    }\r\n\r\n    opts = instance.current ? instance.current.opts : instance.opts;\r\n    ret = opts.hash || (opts.$orig ? opts.$orig.data(\"fancybox\") : \"\");\r\n\r\n    return ret === \"\" ? false : ret;\r\n  }\r\n\r\n  // Start when DOM becomes ready\r\n  $(function() {\r\n    // Check if user has disabled this module\r\n    if ($.fancybox.defaults.hash === false) {\r\n      return;\r\n    }\r\n\r\n    // Update hash when opening/closing fancyBox\r\n    $(document).on({\r\n      \"onInit.fb\": function(e, instance) {\r\n        var url, gallery;\r\n\r\n        if (instance.group[instance.currIndex].opts.hash === false) {\r\n          return;\r\n        }\r\n\r\n        url = parseUrl();\r\n        gallery = getGalleryID(instance);\r\n\r\n        // Make sure gallery start index matches index from hash\r\n        if (gallery && url.gallery && gallery == url.gallery) {\r\n          instance.currIndex = url.index - 1;\r\n        }\r\n      },\r\n\r\n      \"beforeShow.fb\": function(e, instance, current, firstRun) {\r\n        var gallery;\r\n\r\n        if (!current || current.opts.hash === false) {\r\n          return;\r\n        }\r\n\r\n        // Check if need to update window hash\r\n        gallery = getGalleryID(instance);\r\n\r\n        if (!gallery) {\r\n          return;\r\n        }\r\n\r\n        // Variable containing last hash value set by fancyBox\r\n        // It will be used to determine if fancyBox needs to close after hash change is detected\r\n        instance.currentHash = gallery + (instance.group.length > 1 ? \"-\" + (current.index + 1) : \"\");\r\n\r\n        // If current hash is the same (this instance most likely is opened by hashchange), then do nothing\r\n        if (window.location.hash === \"#\" + instance.currentHash) {\r\n          return;\r\n        }\r\n\r\n        if (!instance.origHash) {\r\n          instance.origHash = window.location.hash;\r\n        }\r\n\r\n        if (instance.hashTimer) {\r\n          clearTimeout(instance.hashTimer);\r\n        }\r\n\r\n        // Update hash\r\n        instance.hashTimer = setTimeout(function() {\r\n          if (\"replaceState\" in window.history) {\r\n            window.history[firstRun ? \"pushState\" : \"replaceState\"](\r\n              {},\r\n              document.title,\r\n              window.location.pathname + window.location.search + \"#\" + instance.currentHash\r\n            );\r\n\r\n            if (firstRun) {\r\n              instance.hasCreatedHistory = true;\r\n            }\r\n          } else {\r\n            window.location.hash = instance.currentHash;\r\n          }\r\n\r\n          instance.hashTimer = null;\r\n        }, 300);\r\n      },\r\n\r\n      \"beforeClose.fb\": function(e, instance, current) {\r\n        var gallery;\r\n\r\n        if (current.opts.hash === false) {\r\n          return;\r\n        }\r\n\r\n        gallery = getGalleryID(instance);\r\n\r\n        // Goto previous history entry\r\n        if (instance.currentHash && instance.hasCreatedHistory) {\r\n          window.history.back();\r\n        } else if (instance.currentHash) {\r\n          if (\"replaceState\" in window.history) {\r\n            window.history.replaceState({}, document.title, window.location.pathname + window.location.search + (instance.origHash || \"\"));\r\n          } else {\r\n            window.location.hash = instance.origHash;\r\n          }\r\n        }\r\n\r\n        instance.currentHash = null;\r\n\r\n        clearTimeout(instance.hashTimer);\r\n      }\r\n    });\r\n\r\n    // Check if need to start/close after url has changed\r\n    $(window).on(\"hashchange.fb\", function() {\r\n      var url = parseUrl(),\r\n        fb;\r\n\r\n      // Find last fancyBox instance that has \"hash\"\r\n      $.each(\r\n        $(\".fancybox-container\")\r\n          .get()\r\n          .reverse(),\r\n        function(index, value) {\r\n          var tmp = $(value).data(\"FancyBox\");\r\n          //isClosing\r\n          if (tmp.currentHash) {\r\n            fb = tmp;\r\n            return false;\r\n          }\r\n        }\r\n      );\r\n\r\n      if (fb) {\r\n        // Now, compare hash values\r\n        if (fb.currentHash && fb.currentHash !== url.gallery + \"-\" + url.index && !(url.index === 1 && fb.currentHash == url.gallery)) {\r\n          fb.currentHash = null;\r\n\r\n          fb.close();\r\n        }\r\n      } else if (url.gallery !== \"\") {\r\n        triggerFromUrl(url);\r\n      }\r\n    });\r\n\r\n    // Check current hash and trigger click event on matching element to start fancyBox, if needed\r\n    setTimeout(function() {\r\n      if (!$.fancybox.getInstance()) {\r\n        triggerFromUrl(parseUrl());\r\n      }\r\n    }, 50);\r\n  });\r\n})(document, window, window.jQuery || jQuery);\r\n\r\n// ==========================================================================\r\n//\r\n// Wheel\r\n// Basic mouse weheel support for gallery navigation\r\n//\r\n// ==========================================================================\r\n(function(document, $) {\r\n  \"use strict\";\r\n\r\n  var prevTime = new Date().getTime();\r\n\r\n  $(document).on({\r\n    \"onInit.fb\": function(e, instance, current) {\r\n      instance.$refs.stage.on(\"mousewheel DOMMouseScroll wheel MozMousePixelScroll\", function(e) {\r\n        var current = instance.current,\r\n          currTime = new Date().getTime();\r\n\r\n        if (instance.group.length < 2 || current.opts.wheel === false || (current.opts.wheel === \"auto\" && current.type !== \"image\")) {\r\n          return;\r\n        }\r\n\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        if (current.$slide.hasClass(\"fancybox-animated\")) {\r\n          return;\r\n        }\r\n\r\n        e = e.originalEvent || e;\r\n\r\n        if (currTime - prevTime < 250) {\r\n          return;\r\n        }\r\n\r\n        prevTime = currTime;\r\n\r\n        instance[(-e.deltaY || -e.deltaX || e.wheelDelta || -e.detail) < 0 ? \"next\" : \"previous\"]();\r\n      });\r\n    }\r\n  });\r\n})(document, window.jQuery || jQuery);\r\n/*!\r\n * dist/jquery.inputmask\r\n * https://github.com/RobinHerbots/Inputmask\r\n * Copyright (c) 2010 - 2024 Robin Herbots\r\n * Licensed under the MIT license\r\n * Version: 5.0.9\r\n */\r\n!function(e, t) {\r\n    if (\"object\" == typeof exports && \"object\" == typeof module) module.exports = t(require(\"jquery\")); else if (\"function\" == typeof define && define.amd) define([ \"jquery\" ], t); else {\r\n        var n = \"object\" == typeof exports ? t(require(\"jquery\")) : t(e.jQuery);\r\n        for (var i in n) (\"object\" == typeof exports ? exports : e)[i] = n[i];\r\n    }\r\n}(\"undefined\" != typeof self ? self : this, (function(e) {\r\n    return function() {\r\n        \"use strict\";\r\n        var t = {\r\n            3046: function(e, t, n) {\r\n                Object.defineProperty(t, \"__esModule\", {\r\n                    value: !0\r\n                }), t.default = void 0, n(7149), n(3194), n(9302), n(4013), n(3851), n(219), n(207), \r\n                n(5296);\r\n                var i, a = (i = n(2394)) && i.__esModule ? i : {\r\n                    default: i\r\n                };\r\n                t.default = a.default;\r\n            },\r\n            3976: function(e, t) {\r\n                Object.defineProperty(t, \"__esModule\", {\r\n                    value: !0\r\n                }), t.default = void 0;\r\n                t.default = {\r\n                    _maxTestPos: 500,\r\n                    placeholder: \"_\",\r\n                    optionalmarker: [ \"[\", \"]\" ],\r\n                    quantifiermarker: [ \"{\", \"}\" ],\r\n                    groupmarker: [ \"(\", \")\" ],\r\n                    alternatormarker: \"|\",\r\n                    escapeChar: \"\\\\\",\r\n                    mask: null,\r\n                    regex: null,\r\n                    oncomplete: function() {},\r\n                    onincomplete: function() {},\r\n                    oncleared: function() {},\r\n                    repeat: 0,\r\n                    greedy: !1,\r\n                    autoUnmask: !1,\r\n                    removeMaskOnSubmit: !1,\r\n                    clearMaskOnLostFocus: !0,\r\n                    insertMode: !0,\r\n                    insertModeVisual: !0,\r\n                    clearIncomplete: !1,\r\n                    alias: null,\r\n                    onKeyDown: function() {},\r\n                    onBeforeMask: null,\r\n                    onBeforePaste: function(e, t) {\r\n                        return \"function\" == typeof t.onBeforeMask ? t.onBeforeMask.call(this, e, t) : e;\r\n                    },\r\n                    onBeforeWrite: null,\r\n                    onUnMask: null,\r\n                    showMaskOnFocus: !0,\r\n                    showMaskOnHover: !0,\r\n                    onKeyValidation: function() {},\r\n                    skipOptionalPartCharacter: \" \",\r\n                    numericInput: !1,\r\n                    rightAlign: !1,\r\n                    undoOnEscape: !0,\r\n                    radixPoint: \"\",\r\n                    _radixDance: !1,\r\n                    groupSeparator: \"\",\r\n                    keepStatic: null,\r\n                    positionCaretOnTab: !0,\r\n                    tabThrough: !1,\r\n                    supportsInputType: [ \"text\", \"tel\", \"url\", \"password\", \"search\" ],\r\n                    isComplete: null,\r\n                    preValidation: null,\r\n                    postValidation: null,\r\n                    staticDefinitionSymbol: void 0,\r\n                    jitMasking: !1,\r\n                    nullable: !0,\r\n                    inputEventOnly: !1,\r\n                    noValuePatching: !1,\r\n                    positionCaretOnClick: \"lvp\",\r\n                    casing: null,\r\n                    inputmode: \"text\",\r\n                    importDataAttributes: !0,\r\n                    shiftPositions: !0,\r\n                    usePrototypeDefinitions: !0,\r\n                    validationEventTimeOut: 3e3,\r\n                    substitutes: {}\r\n                };\r\n            },\r\n            7392: function(e, t) {\r\n                Object.defineProperty(t, \"__esModule\", {\r\n                    value: !0\r\n                }), t.default = void 0;\r\n                t.default = {\r\n                    9: {\r\n                        validator: \"[0-9\\uff10-\\uff19]\",\r\n                        definitionSymbol: \"*\"\r\n                    },\r\n                    a: {\r\n                        validator: \"[A-Za-z\\u0410-\\u044f\\u0401\\u0451\\xc0-\\xff\\xb5]\",\r\n                        definitionSymbol: \"*\"\r\n                    },\r\n                    \"*\": {\r\n                        validator: \"[0-9\\uff10-\\uff19A-Za-z\\u0410-\\u044f\\u0401\\u0451\\xc0-\\xff\\xb5]\"\r\n                    }\r\n                };\r\n            },\r\n            3287: function(e, t, n) {\r\n                Object.defineProperty(t, \"__esModule\", {\r\n                    value: !0\r\n                }), t.default = void 0;\r\n                var i, a = (i = n(7957)) && i.__esModule ? i : {\r\n                    default: i\r\n                };\r\n                if (void 0 === a.default) throw new Error(\"jQuery not loaded!\");\r\n                t.default = a.default;\r\n            },\r\n            9845: function(e, t, n) {\r\n                Object.defineProperty(t, \"__esModule\", {\r\n                    value: !0\r\n                }), t.mobile = t.iphone = t.ie = void 0;\r\n                var i, a = (i = n(9380)) && i.__esModule ? i : {\r\n                    default: i\r\n                };\r\n                var r = a.default.navigator && a.default.navigator.userAgent || \"\";\r\n                t.ie = r.indexOf(\"MSIE \") > 0 || r.indexOf(\"Trident/\") > 0, t.mobile = a.default.navigator && a.default.navigator.userAgentData && a.default.navigator.userAgentData.mobile || a.default.navigator && a.default.navigator.maxTouchPoints || \"ontouchstart\" in a.default, \r\n                t.iphone = /iphone/i.test(r);\r\n            },\r\n            7184: function(e, t) {\r\n                Object.defineProperty(t, \"__esModule\", {\r\n                    value: !0\r\n                }), t.default = function(e) {\r\n                    return e.replace(n, \"\\\\$1\");\r\n                };\r\n                var n = new RegExp(\"(\\\\\" + [ \"/\", \".\", \"*\", \"+\", \"?\", \"|\", \"(\", \")\", \"[\", \"]\", \"{\", \"}\", \"\\\\\", \"$\", \"^\" ].join(\"|\\\\\") + \")\", \"gim\");\r\n            },\r\n            6030: function(e, t, n) {\r\n                function i(e) {\r\n                    return i = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(e) {\r\n                        return typeof e;\r\n                    } : function(e) {\r\n                        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\r\n                    }, i(e);\r\n                }\r\n                Object.defineProperty(t, \"__esModule\", {\r\n                    value: !0\r\n                }), t.EventHandlers = void 0;\r\n                var a, r = n(9845), o = (a = n(9380)) && a.__esModule ? a : {\r\n                    default: a\r\n                }, s = n(7760), l = n(2839), c = n(8711), u = n(7215), f = n(4713);\r\n                function p() {\r\n                    /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ p = function() {\r\n                        return t;\r\n                    };\r\n                    var e, t = {}, n = Object.prototype, a = n.hasOwnProperty, r = Object.defineProperty || function(e, t, n) {\r\n                        e[t] = n.value;\r\n                    }, o = \"function\" == typeof Symbol ? Symbol : {}, s = o.iterator || \"@@iterator\", l = o.asyncIterator || \"@@asyncIterator\", c = o.toStringTag || \"@@toStringTag\";\r\n                    function u(e, t, n) {\r\n                        return Object.defineProperty(e, t, {\r\n                            value: n,\r\n                            enumerable: !0,\r\n                            configurable: !0,\r\n                            writable: !0\r\n                        }), e[t];\r\n                    }\r\n                    try {\r\n                        u({}, \"\");\r\n                    } catch (e) {\r\n                        u = function(e, t, n) {\r\n                            return e[t] = n;\r\n                        };\r\n                    }\r\n                    function f(e, t, n, i) {\r\n                        var a = t && t.prototype instanceof k ? t : k, o = Object.create(a.prototype), s = new D(i || []);\r\n                        return r(o, \"_invoke\", {\r\n                            value: E(e, n, s)\r\n                        }), o;\r\n                    }\r\n                    function d(e, t, n) {\r\n                        try {\r\n                            return {\r\n                                type: \"normal\",\r\n                                arg: e.call(t, n)\r\n                            };\r\n                        } catch (e) {\r\n                            return {\r\n                                type: \"throw\",\r\n                                arg: e\r\n                            };\r\n                        }\r\n                    }\r\n                    t.wrap = f;\r\n                    var h = \"suspendedStart\", m = \"suspendedYield\", v = \"executing\", g = \"completed\", y = {};\r\n                    function k() {}\r\n                    function b() {}\r\n                    function x() {}\r\n                    var w = {};\r\n                    u(w, s, (function() {\r\n                        return this;\r\n                    }));\r\n                    var P = Object.getPrototypeOf, S = P && P(P(L([])));\r\n                    S && S !== n && a.call(S, s) && (w = S);\r\n                    var O = x.prototype = k.prototype = Object.create(w);\r\n                    function M(e) {\r\n                        [ \"next\", \"throw\", \"return\" ].forEach((function(t) {\r\n                            u(e, t, (function(e) {\r\n                                return this._invoke(t, e);\r\n                            }));\r\n                        }));\r\n                    }\r\n                    function _(e, t) {\r\n                        function n(r, o, s, l) {\r\n                            var c = d(e[r], e, o);\r\n                            if (\"throw\" !== c.type) {\r\n                                var u = c.arg, f = u.value;\r\n                                return f && \"object\" == i(f) && a.call(f, \"__await\") ? t.resolve(f.__await).then((function(e) {\r\n                                    n(\"next\", e, s, l);\r\n                                }), (function(e) {\r\n                                    n(\"throw\", e, s, l);\r\n                                })) : t.resolve(f).then((function(e) {\r\n                                    u.value = e, s(u);\r\n                                }), (function(e) {\r\n                                    return n(\"throw\", e, s, l);\r\n                                }));\r\n                            }\r\n                            l(c.arg);\r\n                        }\r\n                        var o;\r\n                        r(this, \"_invoke\", {\r\n                            value: function(e, i) {\r\n                                function a() {\r\n                                    return new t((function(t, a) {\r\n                                        n(e, i, t, a);\r\n                                    }));\r\n                                }\r\n                                return o = o ? o.then(a, a) : a();\r\n                            }\r\n                        });\r\n                    }\r\n                    function E(t, n, i) {\r\n                        var a = h;\r\n                        return function(r, o) {\r\n                            if (a === v) throw new Error(\"Generator is already running\");\r\n                            if (a === g) {\r\n                                if (\"throw\" === r) throw o;\r\n                                return {\r\n                                    value: e,\r\n                                    done: !0\r\n                                };\r\n                            }\r\n                            for (i.method = r, i.arg = o; ;) {\r\n                                var s = i.delegate;\r\n                                if (s) {\r\n                                    var l = j(s, i);\r\n                                    if (l) {\r\n                                        if (l === y) continue;\r\n                                        return l;\r\n                                    }\r\n                                }\r\n                                if (\"next\" === i.method) i.sent = i._sent = i.arg; else if (\"throw\" === i.method) {\r\n                                    if (a === h) throw a = g, i.arg;\r\n                                    i.dispatchException(i.arg);\r\n                                } else \"return\" === i.method && i.abrupt(\"return\", i.arg);\r\n                                a = v;\r\n                                var c = d(t, n, i);\r\n                                if (\"normal\" === c.type) {\r\n                                    if (a = i.done ? g : m, c.arg === y) continue;\r\n                                    return {\r\n                                        value: c.arg,\r\n                                        done: i.done\r\n                                    };\r\n                                }\r\n                                \"throw\" === c.type && (a = g, i.method = \"throw\", i.arg = c.arg);\r\n                            }\r\n                        };\r\n                    }\r\n                    function j(t, n) {\r\n                        var i = n.method, a = t.iterator[i];\r\n                        if (a === e) return n.delegate = null, \"throw\" === i && t.iterator.return && (n.method = \"return\", \r\n                        n.arg = e, j(t, n), \"throw\" === n.method) || \"return\" !== i && (n.method = \"throw\", \r\n                        n.arg = new TypeError(\"The iterator does not provide a '\" + i + \"' method\")), y;\r\n                        var r = d(a, t.iterator, n.arg);\r\n                        if (\"throw\" === r.type) return n.method = \"throw\", n.arg = r.arg, n.delegate = null, \r\n                        y;\r\n                        var o = r.arg;\r\n                        return o ? o.done ? (n[t.resultName] = o.value, n.next = t.nextLoc, \"return\" !== n.method && (n.method = \"next\", \r\n                        n.arg = e), n.delegate = null, y) : o : (n.method = \"throw\", n.arg = new TypeError(\"iterator result is not an object\"), \r\n                        n.delegate = null, y);\r\n                    }\r\n                    function T(e) {\r\n                        var t = {\r\n                            tryLoc: e[0]\r\n                        };\r\n                        1 in e && (t.catchLoc = e[1]), 2 in e && (t.finallyLoc = e[2], t.afterLoc = e[3]), \r\n                        this.tryEntries.push(t);\r\n                    }\r\n                    function A(e) {\r\n                        var t = e.completion || {};\r\n                        t.type = \"normal\", delete t.arg, e.completion = t;\r\n                    }\r\n                    function D(e) {\r\n                        this.tryEntries = [ {\r\n                            tryLoc: \"root\"\r\n                        } ], e.forEach(T, this), this.reset(!0);\r\n                    }\r\n                    function L(t) {\r\n                        if (t || \"\" === t) {\r\n                            var n = t[s];\r\n                            if (n) return n.call(t);\r\n                            if (\"function\" == typeof t.next) return t;\r\n                            if (!isNaN(t.length)) {\r\n                                var r = -1, o = function n() {\r\n                                    for (;++r < t.length; ) if (a.call(t, r)) return n.value = t[r], n.done = !1, n;\r\n                                    return n.value = e, n.done = !0, n;\r\n                                };\r\n                                return o.next = o;\r\n                            }\r\n                        }\r\n                        throw new TypeError(i(t) + \" is not iterable\");\r\n                    }\r\n                    return b.prototype = x, r(O, \"constructor\", {\r\n                        value: x,\r\n                        configurable: !0\r\n                    }), r(x, \"constructor\", {\r\n                        value: b,\r\n                        configurable: !0\r\n                    }), b.displayName = u(x, c, \"GeneratorFunction\"), t.isGeneratorFunction = function(e) {\r\n                        var t = \"function\" == typeof e && e.constructor;\r\n                        return !!t && (t === b || \"GeneratorFunction\" === (t.displayName || t.name));\r\n                    }, t.mark = function(e) {\r\n                        return Object.setPrototypeOf ? Object.setPrototypeOf(e, x) : (e.__proto__ = x, u(e, c, \"GeneratorFunction\")), \r\n                        e.prototype = Object.create(O), e;\r\n                    }, t.awrap = function(e) {\r\n                        return {\r\n                            __await: e\r\n                        };\r\n                    }, M(_.prototype), u(_.prototype, l, (function() {\r\n                        return this;\r\n                    })), t.AsyncIterator = _, t.async = function(e, n, i, a, r) {\r\n                        void 0 === r && (r = Promise);\r\n                        var o = new _(f(e, n, i, a), r);\r\n                        return t.isGeneratorFunction(n) ? o : o.next().then((function(e) {\r\n                            return e.done ? e.value : o.next();\r\n                        }));\r\n                    }, M(O), u(O, c, \"Generator\"), u(O, s, (function() {\r\n                        return this;\r\n                    })), u(O, \"toString\", (function() {\r\n                        return \"[object Generator]\";\r\n                    })), t.keys = function(e) {\r\n                        var t = Object(e), n = [];\r\n                        for (var i in t) n.push(i);\r\n                        return n.reverse(), function e() {\r\n                            for (;n.length; ) {\r\n                                var i = n.pop();\r\n                                if (i in t) return e.value = i, e.done = !1, e;\r\n                            }\r\n                            return e.done = !0, e;\r\n                        };\r\n                    }, t.values = L, D.prototype = {\r\n                        constructor: D,\r\n                        reset: function(t) {\r\n                            if (this.prev = 0, this.next = 0, this.sent = this._sent = e, this.done = !1, this.delegate = null, \r\n                            this.method = \"next\", this.arg = e, this.tryEntries.forEach(A), !t) for (var n in this) \"t\" === n.charAt(0) && a.call(this, n) && !isNaN(+n.slice(1)) && (this[n] = e);\r\n                        },\r\n                        stop: function() {\r\n                            this.done = !0;\r\n                            var e = this.tryEntries[0].completion;\r\n                            if (\"throw\" === e.type) throw e.arg;\r\n                            return this.rval;\r\n                        },\r\n                        dispatchException: function(t) {\r\n                            if (this.done) throw t;\r\n                            var n = this;\r\n                            function i(i, a) {\r\n                                return s.type = \"throw\", s.arg = t, n.next = i, a && (n.method = \"next\", n.arg = e), \r\n                                !!a;\r\n                            }\r\n                            for (var r = this.tryEntries.length - 1; r >= 0; --r) {\r\n                                var o = this.tryEntries[r], s = o.completion;\r\n                                if (\"root\" === o.tryLoc) return i(\"end\");\r\n                                if (o.tryLoc <= this.prev) {\r\n                                    var l = a.call(o, \"catchLoc\"), c = a.call(o, \"finallyLoc\");\r\n                                    if (l && c) {\r\n                                        if (this.prev < o.catchLoc) return i(o.catchLoc, !0);\r\n                                        if (this.prev < o.finallyLoc) return i(o.finallyLoc);\r\n                                    } else if (l) {\r\n                                        if (this.prev < o.catchLoc) return i(o.catchLoc, !0);\r\n                                    } else {\r\n                                        if (!c) throw new Error(\"try statement without catch or finally\");\r\n                                        if (this.prev < o.finallyLoc) return i(o.finallyLoc);\r\n                                    }\r\n                                }\r\n                            }\r\n                        },\r\n                        abrupt: function(e, t) {\r\n                            for (var n = this.tryEntries.length - 1; n >= 0; --n) {\r\n                                var i = this.tryEntries[n];\r\n                                if (i.tryLoc <= this.prev && a.call(i, \"finallyLoc\") && this.prev < i.finallyLoc) {\r\n                                    var r = i;\r\n                                    break;\r\n                                }\r\n                            }\r\n                            r && (\"break\" === e || \"continue\" === e) && r.tryLoc <= t && t <= r.finallyLoc && (r = null);\r\n                            var o = r ? r.completion : {};\r\n                            return o.type = e, o.arg = t, r ? (this.method = \"next\", this.next = r.finallyLoc, \r\n                            y) : this.complete(o);\r\n                        },\r\n                        complete: function(e, t) {\r\n                            if (\"throw\" === e.type) throw e.arg;\r\n                            return \"break\" === e.type || \"continue\" === e.type ? this.next = e.arg : \"return\" === e.type ? (this.rval = this.arg = e.arg, \r\n                            this.method = \"return\", this.next = \"end\") : \"normal\" === e.type && t && (this.next = t), \r\n                            y;\r\n                        },\r\n                        finish: function(e) {\r\n                            for (var t = this.tryEntries.length - 1; t >= 0; --t) {\r\n                                var n = this.tryEntries[t];\r\n                                if (n.finallyLoc === e) return this.complete(n.completion, n.afterLoc), A(n), y;\r\n                            }\r\n                        },\r\n                        catch: function(e) {\r\n                            for (var t = this.tryEntries.length - 1; t >= 0; --t) {\r\n                                var n = this.tryEntries[t];\r\n                                if (n.tryLoc === e) {\r\n                                    var i = n.completion;\r\n                                    if (\"throw\" === i.type) {\r\n                                        var a = i.arg;\r\n                                        A(n);\r\n                                    }\r\n                                    return a;\r\n                                }\r\n                            }\r\n                            throw new Error(\"illegal catch attempt\");\r\n                        },\r\n                        delegateYield: function(t, n, i) {\r\n                            return this.delegate = {\r\n                                iterator: L(t),\r\n                                resultName: n,\r\n                                nextLoc: i\r\n                            }, \"next\" === this.method && (this.arg = e), y;\r\n                        }\r\n                    }, t;\r\n                }\r\n                function d(e, t) {\r\n                    var n = \"undefined\" != typeof Symbol && e[Symbol.iterator] || e[\"@@iterator\"];\r\n                    if (!n) {\r\n                        if (Array.isArray(e) || (n = function(e, t) {\r\n                            if (!e) return;\r\n                            if (\"string\" == typeof e) return h(e, t);\r\n                            var n = Object.prototype.toString.call(e).slice(8, -1);\r\n                            \"Object\" === n && e.constructor && (n = e.constructor.name);\r\n                            if (\"Map\" === n || \"Set\" === n) return Array.from(e);\r\n                            if (\"Arguments\" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return h(e, t);\r\n                        }(e)) || t && e && \"number\" == typeof e.length) {\r\n                            n && (e = n);\r\n                            var i = 0, a = function() {};\r\n                            return {\r\n                                s: a,\r\n                                n: function() {\r\n                                    return i >= e.length ? {\r\n                                        done: !0\r\n                                    } : {\r\n                                        done: !1,\r\n                                        value: e[i++]\r\n                                    };\r\n                                },\r\n                                e: function(e) {\r\n                                    throw e;\r\n                                },\r\n                                f: a\r\n                            };\r\n                        }\r\n                        throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\r\n                    }\r\n                    var r, o = !0, s = !1;\r\n                    return {\r\n                        s: function() {\r\n                            n = n.call(e);\r\n                        },\r\n                        n: function() {\r\n                            var e = n.next();\r\n                            return o = e.done, e;\r\n                        },\r\n                        e: function(e) {\r\n                            s = !0, r = e;\r\n                        },\r\n                        f: function() {\r\n                            try {\r\n                                o || null == n.return || n.return();\r\n                            } finally {\r\n                                if (s) throw r;\r\n                            }\r\n                        }\r\n                    };\r\n                }\r\n                function h(e, t) {\r\n                    (null == t || t > e.length) && (t = e.length);\r\n                    for (var n = 0, i = new Array(t); n < t; n++) i[n] = e[n];\r\n                    return i;\r\n                }\r\n                function m(e, t, n, i, a, r, o) {\r\n                    try {\r\n                        var s = e[r](o), l = s.value;\r\n                    } catch (e) {\r\n                        return void n(e);\r\n                    }\r\n                    s.done ? t(l) : Promise.resolve(l).then(i, a);\r\n                }\r\n                var v, g, y = t.EventHandlers = {\r\n                    keyEvent: function(e, t, n, i, a) {\r\n                        var o = this.inputmask, p = o.opts, d = o.dependencyLib, h = o.maskset, m = this, v = d(m), g = e.key, k = c.caret.call(o, m), b = p.onKeyDown.call(this, e, c.getBuffer.call(o), k, p);\r\n                        if (void 0 !== b) return b;\r\n                        if (g === l.keys.Backspace || g === l.keys.Delete || r.iphone && g === l.keys.BACKSPACE_SAFARI || e.ctrlKey && g === l.keys.x && !(\"oncut\" in m)) e.preventDefault(), \r\n                        u.handleRemove.call(o, m, g, k), (0, s.writeBuffer)(m, c.getBuffer.call(o, !0), h.p, e, m.inputmask._valueGet() !== c.getBuffer.call(o).join(\"\")); else if (g === l.keys.End || g === l.keys.PageDown) {\r\n                            e.preventDefault();\r\n                            var x = c.seekNext.call(o, c.getLastValidPosition.call(o));\r\n                            c.caret.call(o, m, e.shiftKey ? k.begin : x, x, !0);\r\n                        } else g === l.keys.Home && !e.shiftKey || g === l.keys.PageUp ? (e.preventDefault(), \r\n                        c.caret.call(o, m, 0, e.shiftKey ? k.begin : 0, !0)) : p.undoOnEscape && g === l.keys.Escape && !0 !== e.altKey ? ((0, \r\n                        s.checkVal)(m, !0, !1, o.undoValue.split(\"\")), v.trigger(\"click\")) : g !== l.keys.Insert || e.shiftKey || e.ctrlKey || void 0 !== o.userOptions.insertMode ? !0 === p.tabThrough && g === l.keys.Tab ? !0 === e.shiftKey ? (k.end = c.seekPrevious.call(o, k.end, !0), \r\n                        !0 === f.getTest.call(o, k.end - 1).match.static && k.end--, k.begin = c.seekPrevious.call(o, k.end, !0), \r\n                        k.begin >= 0 && k.end > 0 && (e.preventDefault(), c.caret.call(o, m, k.begin, k.end))) : (k.begin = c.seekNext.call(o, k.begin, !0), \r\n                        k.end = c.seekNext.call(o, k.begin, !0), k.end < h.maskLength && k.end--, k.begin <= h.maskLength && (e.preventDefault(), \r\n                        c.caret.call(o, m, k.begin, k.end))) : e.shiftKey || (p.insertModeVisual && !1 === p.insertMode ? g === l.keys.ArrowRight ? setTimeout((function() {\r\n                            var e = c.caret.call(o, m);\r\n                            c.caret.call(o, m, e.begin);\r\n                        }), 0) : g === l.keys.ArrowLeft && setTimeout((function() {\r\n                            var e = c.translatePosition.call(o, m.inputmask.caretPos.begin);\r\n                            c.translatePosition.call(o, m.inputmask.caretPos.end);\r\n                            o.isRTL ? c.caret.call(o, m, e + (e === h.maskLength ? 0 : 1)) : c.caret.call(o, m, e - (0 === e ? 0 : 1));\r\n                        }), 0) : void 0 === o.keyEventHook || o.keyEventHook(e)) : u.isSelection.call(o, k) ? p.insertMode = !p.insertMode : (p.insertMode = !p.insertMode, \r\n                        c.caret.call(o, m, k.begin, k.begin));\r\n                        return o.isComposing = g == l.keys.Process || g == l.keys.Unidentified, o.ignorable = g.length > 1 && !(\"textarea\" === m.tagName.toLowerCase() && g == l.keys.Enter), \r\n                        y.keypressEvent.call(this, e, t, n, i, a);\r\n                    },\r\n                    keypressEvent: function(e, t, n, i, a) {\r\n                        var r = this.inputmask || this, o = r.opts, f = r.dependencyLib, p = r.maskset, d = r.el, h = f(d), m = e.key;\r\n                        if (!0 === t || e.ctrlKey && e.altKey && !r.ignorable || !(e.ctrlKey || e.metaKey || r.ignorable)) {\r\n                            if (m) {\r\n                                var v, g = t ? {\r\n                                    begin: a,\r\n                                    end: a\r\n                                } : c.caret.call(r, d);\r\n                                t || (m = o.substitutes[m] || m), p.writeOutBuffer = !0;\r\n                                var y = u.isValid.call(r, g, m, i, void 0, void 0, void 0, t);\r\n                                if (!1 !== y && (c.resetMaskSet.call(r, !0), v = void 0 !== y.caret ? y.caret : c.seekNext.call(r, y.pos.begin ? y.pos.begin : y.pos), \r\n                                p.p = v), v = o.numericInput && void 0 === y.caret ? c.seekPrevious.call(r, v) : v, \r\n                                !1 !== n && (setTimeout((function() {\r\n                                    o.onKeyValidation.call(d, m, y);\r\n                                }), 0), p.writeOutBuffer && !1 !== y)) {\r\n                                    var k = c.getBuffer.call(r);\r\n                                    (0, s.writeBuffer)(d, k, v, e, !0 !== t);\r\n                                }\r\n                                if (e.preventDefault(), t) return !1 !== y && (y.forwardPosition = v), y;\r\n                            }\r\n                        } else m === l.keys.Enter && r.undoValue !== r._valueGet(!0) && (r.undoValue = r._valueGet(!0), \r\n                        setTimeout((function() {\r\n                            h.trigger(\"change\");\r\n                        }), 0));\r\n                    },\r\n                    pasteEvent: (v = p().mark((function e(t) {\r\n                        var n, i, a, r, l, u;\r\n                        return p().wrap((function(e) {\r\n                            for (;;) switch (e.prev = e.next) {\r\n                              case 0:\r\n                                n = function(e, n, i, a, o) {\r\n                                    var l = c.caret.call(e, n, void 0, void 0, !0), u = i.substr(0, l.begin), f = i.substr(l.end, i.length);\r\n                                    if (u == (e.isRTL ? c.getBufferTemplate.call(e).slice().reverse() : c.getBufferTemplate.call(e)).slice(0, l.begin).join(\"\") && (u = \"\"), \r\n                                    f == (e.isRTL ? c.getBufferTemplate.call(e).slice().reverse() : c.getBufferTemplate.call(e)).slice(l.end).join(\"\") && (f = \"\"), \r\n                                    a = u + a + f, e.isRTL && !0 !== r.numericInput) {\r\n                                        a = a.split(\"\");\r\n                                        var p, h = d(c.getBufferTemplate.call(e));\r\n                                        try {\r\n                                            for (h.s(); !(p = h.n()).done; ) {\r\n                                                var m = p.value;\r\n                                                a[0] === m && a.shift();\r\n                                            }\r\n                                        } catch (e) {\r\n                                            h.e(e);\r\n                                        } finally {\r\n                                            h.f();\r\n                                        }\r\n                                        a = a.reverse().join(\"\");\r\n                                    }\r\n                                    var v = a;\r\n                                    if (\"function\" == typeof o) {\r\n                                        if (!1 === (v = o.call(e, v, r))) return !1;\r\n                                        v || (v = i);\r\n                                    }\r\n                                    (0, s.checkVal)(n, !0, !1, v.toString().split(\"\"), t);\r\n                                }, i = this, a = this.inputmask, r = a.opts, l = a._valueGet(!0), a.skipInputEvent = !0, \r\n                                t.clipboardData && t.clipboardData.getData ? u = t.clipboardData.getData(\"text/plain\") : o.default.clipboardData && o.default.clipboardData.getData && (u = o.default.clipboardData.getData(\"Text\")), \r\n                                n(a, i, l, u, r.onBeforePaste), t.preventDefault();\r\n\r\n                              case 7:\r\n                              case \"end\":\r\n                                return e.stop();\r\n                            }\r\n                        }), e, this);\r\n                    })), g = function() {\r\n                        var e = this, t = arguments;\r\n                        return new Promise((function(n, i) {\r\n                            var a = v.apply(e, t);\r\n                            function r(e) {\r\n                                m(a, n, i, r, o, \"next\", e);\r\n                            }\r\n                            function o(e) {\r\n                                m(a, n, i, r, o, \"throw\", e);\r\n                            }\r\n                            r(void 0);\r\n                        }));\r\n                    }, function(e) {\r\n                        return g.apply(this, arguments);\r\n                    }),\r\n                    inputFallBackEvent: function(e) {\r\n                        var t = this.inputmask, n = t.opts, i = t.dependencyLib;\r\n                        var a, o = this, u = o.inputmask._valueGet(!0), p = (t.isRTL ? c.getBuffer.call(t).slice().reverse() : c.getBuffer.call(t)).join(\"\"), d = c.caret.call(t, o, void 0, void 0, !0);\r\n                        if (p !== u) {\r\n                            if (a = function(e, i, a) {\r\n                                for (var r, o, s, l = e.substr(0, a.begin).split(\"\"), u = e.substr(a.begin).split(\"\"), p = i.substr(0, a.begin).split(\"\"), d = i.substr(a.begin).split(\"\"), h = l.length >= p.length ? l.length : p.length, m = u.length >= d.length ? u.length : d.length, v = \"\", g = [], y = \"~\"; l.length < h; ) l.push(y);\r\n                                for (;p.length < h; ) p.push(y);\r\n                                for (;u.length < m; ) u.unshift(y);\r\n                                for (;d.length < m; ) d.unshift(y);\r\n                                var k = l.concat(u), b = p.concat(d);\r\n                                for (o = 0, r = k.length; o < r; o++) switch (s = f.getPlaceholder.call(t, c.translatePosition.call(t, o)), \r\n                                v) {\r\n                                  case \"insertText\":\r\n                                    b[o - 1] === k[o] && a.begin == k.length - 1 && g.push(k[o]), o = r;\r\n                                    break;\r\n\r\n                                  case \"insertReplacementText\":\r\n                                  case \"deleteContentBackward\":\r\n                                    k[o] === y ? a.end++ : o = r;\r\n                                    break;\r\n\r\n                                  default:\r\n                                    k[o] !== b[o] && (k[o + 1] !== y && k[o + 1] !== s && void 0 !== k[o + 1] || (b[o] !== s || b[o + 1] !== y) && b[o] !== y ? b[o + 1] === y && b[o] === k[o + 1] ? (v = \"insertText\", \r\n                                    g.push(k[o]), a.begin--, a.end--) : k[o] !== s && k[o] !== y && (k[o + 1] === y || b[o] !== k[o] && b[o + 1] === k[o + 1]) ? (v = \"insertReplacementText\", \r\n                                    g.push(k[o]), a.begin--) : k[o] === y ? (v = \"deleteContentBackward\", (c.isMask.call(t, c.translatePosition.call(t, o), !0) || b[o] === n.radixPoint) && a.end++) : o = r : (v = \"insertText\", \r\n                                    g.push(k[o]), a.begin--, a.end--));\r\n                                }\r\n                                return {\r\n                                    action: v,\r\n                                    data: g,\r\n                                    caret: a\r\n                                };\r\n                            }(u, p, d), (o.inputmask.shadowRoot || o.ownerDocument).activeElement !== o && o.focus(), \r\n                            (0, s.writeBuffer)(o, c.getBuffer.call(t)), c.caret.call(t, o, d.begin, d.end, !0), \r\n                            !r.mobile && t.skipNextInsert && \"insertText\" === e.inputType && \"insertText\" === a.action && t.isComposing) return !1;\r\n                            switch (\"insertCompositionText\" === e.inputType && \"insertText\" === a.action && t.isComposing ? t.skipNextInsert = !0 : t.skipNextInsert = !1, \r\n                            a.action) {\r\n                              case \"insertText\":\r\n                              case \"insertReplacementText\":\r\n                                a.data.forEach((function(e, n) {\r\n                                    var a = new i.Event(\"keypress\");\r\n                                    a.key = e, t.ignorable = !1, y.keypressEvent.call(o, a);\r\n                                })), setTimeout((function() {\r\n                                    t.$el.trigger(\"keyup\");\r\n                                }), 0);\r\n                                break;\r\n\r\n                              case \"deleteContentBackward\":\r\n                                var h = new i.Event(\"keydown\");\r\n                                h.key = l.keys.Backspace, y.keyEvent.call(o, h);\r\n                                break;\r\n\r\n                              default:\r\n                                (0, s.applyInputValue)(o, u), c.caret.call(t, o, d.begin, d.end, !0);\r\n                            }\r\n                            e.preventDefault();\r\n                        }\r\n                    },\r\n                    setValueEvent: function(e) {\r\n                        var t = this.inputmask, n = t.dependencyLib, i = this, a = e && e.detail ? e.detail[0] : arguments[1];\r\n                        void 0 === a && (a = i.inputmask._valueGet(!0)), (0, s.applyInputValue)(i, a, new n.Event(\"input\")), \r\n                        (e.detail && void 0 !== e.detail[1] || void 0 !== arguments[2]) && c.caret.call(t, i, e.detail ? e.detail[1] : arguments[2]);\r\n                    },\r\n                    focusEvent: function(e) {\r\n                        var t = this.inputmask, n = t.opts, i = t && t._valueGet();\r\n                        n.showMaskOnFocus && i !== c.getBuffer.call(t).join(\"\") && (0, s.writeBuffer)(this, c.getBuffer.call(t), c.seekNext.call(t, c.getLastValidPosition.call(t))), \r\n                        !0 !== n.positionCaretOnTab || !1 !== t.mouseEnter || u.isComplete.call(t, c.getBuffer.call(t)) && -1 !== c.getLastValidPosition.call(t) || y.clickEvent.apply(this, [ e, !0 ]), \r\n                        t.undoValue = t && t._valueGet(!0);\r\n                    },\r\n                    invalidEvent: function(e) {\r\n                        this.inputmask.validationEvent = !0;\r\n                    },\r\n                    mouseleaveEvent: function() {\r\n                        var e = this.inputmask, t = e.opts, n = this;\r\n                        e.mouseEnter = !1, t.clearMaskOnLostFocus && (n.inputmask.shadowRoot || n.ownerDocument).activeElement !== n && (0, \r\n                        s.HandleNativePlaceholder)(n, e.originalPlaceholder);\r\n                    },\r\n                    clickEvent: function(e, t) {\r\n                        var n = this.inputmask;\r\n                        n.clicked++;\r\n                        var i = this;\r\n                        if ((i.inputmask.shadowRoot || i.ownerDocument).activeElement === i) {\r\n                            var a = c.determineNewCaretPosition.call(n, c.caret.call(n, i), t);\r\n                            void 0 !== a && c.caret.call(n, i, a);\r\n                        }\r\n                    },\r\n                    cutEvent: function(e) {\r\n                        var t = this.inputmask, n = t.maskset, i = this, a = c.caret.call(t, i), r = t.isRTL ? c.getBuffer.call(t).slice(a.end, a.begin) : c.getBuffer.call(t).slice(a.begin, a.end), f = t.isRTL ? r.reverse().join(\"\") : r.join(\"\");\r\n                        o.default.navigator && o.default.navigator.clipboard ? o.default.navigator.clipboard.writeText(f) : o.default.clipboardData && o.default.clipboardData.getData && o.default.clipboardData.setData(\"Text\", f), \r\n                        u.handleRemove.call(t, i, l.keys.Delete, a), (0, s.writeBuffer)(i, c.getBuffer.call(t), n.p, e, t.undoValue !== t._valueGet(!0));\r\n                    },\r\n                    blurEvent: function(e) {\r\n                        var t = this.inputmask, n = t.opts, i = t.dependencyLib;\r\n                        t.clicked = 0;\r\n                        var a = i(this), r = this;\r\n                        if (r.inputmask) {\r\n                            (0, s.HandleNativePlaceholder)(r, t.originalPlaceholder);\r\n                            var o = r.inputmask._valueGet(), l = c.getBuffer.call(t).slice();\r\n                            \"\" !== o && (n.clearMaskOnLostFocus && (-1 === c.getLastValidPosition.call(t) && o === c.getBufferTemplate.call(t).join(\"\") ? l = [] : s.clearOptionalTail.call(t, l)), \r\n                            !1 === u.isComplete.call(t, l) && (setTimeout((function() {\r\n                                a.trigger(\"incomplete\");\r\n                            }), 0), n.clearIncomplete && (c.resetMaskSet.call(t, !1), l = n.clearMaskOnLostFocus ? [] : c.getBufferTemplate.call(t).slice())), \r\n                            (0, s.writeBuffer)(r, l, void 0, e)), o = t._valueGet(!0), t.undoValue !== o && (\"\" != o || t.undoValue != c.getBufferTemplate.call(t).join(\"\") || t.undoValue == c.getBufferTemplate.call(t).join(\"\") && t.maskset.validPositions.length > 0) && (t.undoValue = o, \r\n                            a.trigger(\"change\"));\r\n                        }\r\n                    },\r\n                    mouseenterEvent: function() {\r\n                        var e = this.inputmask, t = e.opts.showMaskOnHover, n = this;\r\n                        if (e.mouseEnter = !0, (n.inputmask.shadowRoot || n.ownerDocument).activeElement !== n) {\r\n                            var i = (e.isRTL ? c.getBufferTemplate.call(e).slice().reverse() : c.getBufferTemplate.call(e)).join(\"\");\r\n                            t && (0, s.HandleNativePlaceholder)(n, i);\r\n                        }\r\n                    },\r\n                    submitEvent: function() {\r\n                        var e = this.inputmask, t = e.opts;\r\n                        e.undoValue !== e._valueGet(!0) && e.$el.trigger(\"change\"), -1 === c.getLastValidPosition.call(e) && e._valueGet && e._valueGet() === c.getBufferTemplate.call(e).join(\"\") && e._valueSet(\"\"), \r\n                        t.clearIncomplete && !1 === u.isComplete.call(e, c.getBuffer.call(e)) && e._valueSet(\"\"), \r\n                        t.removeMaskOnSubmit && (e._valueSet(e.unmaskedvalue(), !0), setTimeout((function() {\r\n                            (0, s.writeBuffer)(e.el, c.getBuffer.call(e));\r\n                        }), 0));\r\n                    },\r\n                    resetEvent: function() {\r\n                        var e = this.inputmask;\r\n                        e.refreshValue = !0, setTimeout((function() {\r\n                            (0, s.applyInputValue)(e.el, e._valueGet(!0));\r\n                        }), 0);\r\n                    }\r\n                };\r\n            },\r\n            9716: function(e, t, n) {\r\n                Object.defineProperty(t, \"__esModule\", {\r\n                    value: !0\r\n                }), t.EventRuler = void 0;\r\n                var i, a = n(7760), r = (i = n(2394)) && i.__esModule ? i : {\r\n                    default: i\r\n                }, o = n(2839), s = n(8711);\r\n                t.EventRuler = {\r\n                    on: function(e, t, n) {\r\n                        var i = e.inputmask.dependencyLib, l = function(t) {\r\n                            t.originalEvent && (t = t.originalEvent || t, arguments[0] = t);\r\n                            var l, c = this, u = c.inputmask, f = u ? u.opts : void 0;\r\n                            if (void 0 === u && \"FORM\" !== this.nodeName) {\r\n                                var p = i.data(c, \"_inputmask_opts\");\r\n                                i(c).off(), p && new r.default(p).mask(c);\r\n                            } else {\r\n                                if ([ \"submit\", \"reset\", \"setvalue\" ].includes(t.type) || \"FORM\" === this.nodeName || !(c.disabled || c.readOnly && !(\"keydown\" === t.type && t.ctrlKey && t.key === o.keys.c || !1 === f.tabThrough && t.key === o.keys.Tab))) {\r\n                                    switch (t.type) {\r\n                                      case \"input\":\r\n                                        if (!0 === u.skipInputEvent) return u.skipInputEvent = !1, t.preventDefault();\r\n                                        break;\r\n\r\n                                      case \"click\":\r\n                                      case \"focus\":\r\n                                        return u.validationEvent ? (u.validationEvent = !1, e.blur(), (0, a.HandleNativePlaceholder)(e, (u.isRTL ? s.getBufferTemplate.call(u).slice().reverse() : s.getBufferTemplate.call(u)).join(\"\")), \r\n                                        setTimeout((function() {\r\n                                            e.focus();\r\n                                        }), f.validationEventTimeOut), !1) : (l = arguments, void setTimeout((function() {\r\n                                            e.inputmask && n.apply(c, l);\r\n                                        }), 0));\r\n                                    }\r\n                                    var d = n.apply(c, arguments);\r\n                                    return !1 === d && (t.preventDefault(), t.stopPropagation()), d;\r\n                                }\r\n                                t.preventDefault();\r\n                            }\r\n                        };\r\n                        [ \"submit\", \"reset\" ].includes(t) ? (l = l.bind(e), null !== e.form && i(e.form).on(t, l)) : i(e).on(t, l), \r\n                        e.inputmask.events[t] = e.inputmask.events[t] || [], e.inputmask.events[t].push(l);\r\n                    },\r\n                    off: function(e, t) {\r\n                        if (e.inputmask && e.inputmask.events) {\r\n                            var n = e.inputmask.dependencyLib, i = e.inputmask.events;\r\n                            for (var a in t && ((i = [])[t] = e.inputmask.events[t]), i) {\r\n                                for (var r = i[a]; r.length > 0; ) {\r\n                                    var o = r.pop();\r\n                                    [ \"submit\", \"reset\" ].includes(a) ? null !== e.form && n(e.form).off(a, o) : n(e).off(a, o);\r\n                                }\r\n                                delete e.inputmask.events[a];\r\n                            }\r\n                        }\r\n                    }\r\n                };\r\n            },\r\n            219: function(e, t, n) {\r\n                var i = p(n(7184)), a = p(n(2394)), r = n(2839), o = n(8711), s = n(4713);\r\n                function l(e, t) {\r\n                    return function(e) {\r\n                        if (Array.isArray(e)) return e;\r\n                    }(e) || function(e, t) {\r\n                        var n = null == e ? null : \"undefined\" != typeof Symbol && e[Symbol.iterator] || e[\"@@iterator\"];\r\n                        if (null != n) {\r\n                            var i, a, r, o, s = [], l = !0, c = !1;\r\n                            try {\r\n                                if (r = (n = n.call(e)).next, 0 === t) {\r\n                                    if (Object(n) !== n) return;\r\n                                    l = !1;\r\n                                } else for (;!(l = (i = r.call(n)).done) && (s.push(i.value), s.length !== t); l = !0) ;\r\n                            } catch (e) {\r\n                                c = !0, a = e;\r\n                            } finally {\r\n                                try {\r\n                                    if (!l && null != n.return && (o = n.return(), Object(o) !== o)) return;\r\n                                } finally {\r\n                                    if (c) throw a;\r\n                                }\r\n                            }\r\n                            return s;\r\n                        }\r\n                    }(e, t) || function(e, t) {\r\n                        if (!e) return;\r\n                        if (\"string\" == typeof e) return c(e, t);\r\n                        var n = Object.prototype.toString.call(e).slice(8, -1);\r\n                        \"Object\" === n && e.constructor && (n = e.constructor.name);\r\n                        if (\"Map\" === n || \"Set\" === n) return Array.from(e);\r\n                        if (\"Arguments\" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return c(e, t);\r\n                    }(e, t) || function() {\r\n                        throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\r\n                    }();\r\n                }\r\n                function c(e, t) {\r\n                    (null == t || t > e.length) && (t = e.length);\r\n                    for (var n = 0, i = new Array(t); n < t; n++) i[n] = e[n];\r\n                    return i;\r\n                }\r\n                function u(e) {\r\n                    return u = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(e) {\r\n                        return typeof e;\r\n                    } : function(e) {\r\n                        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\r\n                    }, u(e);\r\n                }\r\n                function f(e, t) {\r\n                    for (var n = 0; n < t.length; n++) {\r\n                        var i = t[n];\r\n                        i.enumerable = i.enumerable || !1, i.configurable = !0, \"value\" in i && (i.writable = !0), \r\n                        Object.defineProperty(e, (a = i.key, r = void 0, r = function(e, t) {\r\n                            if (\"object\" !== u(e) || null === e) return e;\r\n                            var n = e[Symbol.toPrimitive];\r\n                            if (void 0 !== n) {\r\n                                var i = n.call(e, t || \"default\");\r\n                                if (\"object\" !== u(i)) return i;\r\n                                throw new TypeError(\"@@toPrimitive must return a primitive value.\");\r\n                            }\r\n                            return (\"string\" === t ? String : Number)(e);\r\n                        }(a, \"string\"), \"symbol\" === u(r) ? r : String(r)), i);\r\n                    }\r\n                    var a, r;\r\n                }\r\n                function p(e) {\r\n                    return e && e.__esModule ? e : {\r\n                        default: e\r\n                    };\r\n                }\r\n                n(1313);\r\n                var d = a.default.dependencyLib, h = function() {\r\n                    function e(t, n, i, a) {\r\n                        !function(e, t) {\r\n                            if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\r\n                        }(this, e), this.mask = t, this.format = n, this.opts = i, this.inputmask = a, this._date = new Date(1, 0, 1), \r\n                        this.initDateObject(t, this.opts, this.inputmask);\r\n                    }\r\n                    var t, n, i;\r\n                    return t = e, (n = [ {\r\n                        key: \"date\",\r\n                        get: function() {\r\n                            return void 0 === this._date && (this._date = new Date(1, 0, 1), this.initDateObject(void 0, this.opts, this.inputmask)), \r\n                            this._date;\r\n                        }\r\n                    }, {\r\n                        key: \"initDateObject\",\r\n                        value: function(e, t, n) {\r\n                            var i;\r\n                            for (P(t).lastIndex = 0; i = P(t).exec(this.format); ) {\r\n                                var a = /\\d+$/.exec(i[0]), r = a ? i[0][0] + \"x\" : i[0], o = void 0;\r\n                                if (void 0 !== e) {\r\n                                    if (a) {\r\n                                        var l = P(t).lastIndex, c = j.call(n, i.index, t, n && n.maskset);\r\n                                        P(t).lastIndex = l, o = e.slice(0, e.indexOf(c.nextMatch[0]));\r\n                                    } else {\r\n                                        for (var u = i[0][0], f = i.index; n && (t.placeholder[s.getTest.call(n, f).match.placeholder] || s.getTest.call(n, f).match.placeholder) === u; ) f++;\r\n                                        var p = f - i.index;\r\n                                        o = e.slice(0, p || y[r] && y[r][4] || r.length);\r\n                                    }\r\n                                    e = e.slice(o.length);\r\n                                }\r\n                                Object.prototype.hasOwnProperty.call(y, r) && this.setValue(this, o, r, y[r][2], y[r][1]);\r\n                            }\r\n                        }\r\n                    }, {\r\n                        key: \"setValue\",\r\n                        value: function(e, t, n, i, a) {\r\n                            if (void 0 !== t) switch (i) {\r\n                              case \"ampm\":\r\n                                e[i] = t, e[\"raw\" + i] = t.replace(/\\s/g, \"_\");\r\n                                break;\r\n\r\n                              case \"month\":\r\n                                if (\"mmm\" === n || \"mmmm\" === n) {\r\n                                    e[i] = M(\"mmm\" === n ? v.monthNames.slice(0, 12).findIndex((function(e) {\r\n                                        return t.toLowerCase() === e.toLowerCase();\r\n                                    })) + 1 : v.monthNames.slice(12, 24).findIndex((function(e) {\r\n                                        return t.toLowerCase() === e.toLowerCase();\r\n                                    })) + 1, 2), e[i] = \"00\" === e[i] ? \"\" : e[i].toString(), e[\"raw\" + i] = e[i];\r\n                                    break;\r\n                                }\r\n\r\n                              default:\r\n                                e[i] = t.replace(/[^0-9]/g, \"0\"), e[\"raw\" + i] = t.replace(/\\s/g, \"_\");\r\n                            }\r\n                            if (void 0 !== a) {\r\n                                var r = e[i];\r\n                                (\"day\" === i && 29 === parseInt(r) || \"month\" === i && 2 === parseInt(r)) && (29 !== parseInt(e.day) || 2 !== parseInt(e.month) || \"\" !== e.year && void 0 !== e.year || e._date.setFullYear(2012, 1, 29)), \r\n                                \"day\" === i && (g = !0, 0 === parseInt(r) && (r = 1)), \"month\" === i && (g = !0), \r\n                                \"year\" === i && (g = !0, r.length < y[n][4] && (r = M(r, y[n][4], !0))), (\"\" !== r && !isNaN(r) || \"ampm\" === i) && a.call(e._date, r);\r\n                            }\r\n                        }\r\n                    }, {\r\n                        key: \"reset\",\r\n                        value: function() {\r\n                            this._date = new Date(1, 0, 1);\r\n                        }\r\n                    }, {\r\n                        key: \"reInit\",\r\n                        value: function() {\r\n                            this._date = void 0, this.date;\r\n                        }\r\n                    } ]) && f(t.prototype, n), i && f(t, i), Object.defineProperty(t, \"prototype\", {\r\n                        writable: !1\r\n                    }), e;\r\n                }(), m = (new Date).getFullYear(), v = a.default.prototype.i18n, g = !1, y = {\r\n                    d: [ \"[1-9]|[12][0-9]|3[01]\", Date.prototype.setDate, \"day\", Date.prototype.getDate ],\r\n                    dd: [ \"0[1-9]|[12][0-9]|3[01]\", Date.prototype.setDate, \"day\", function() {\r\n                        return M(Date.prototype.getDate.call(this), 2);\r\n                    } ],\r\n                    ddd: [ \"\" ],\r\n                    dddd: [ \"\" ],\r\n                    m: [ \"[1-9]|1[012]\", function(e) {\r\n                        var t = e ? parseInt(e) : 0;\r\n                        return t > 0 && t--, Date.prototype.setMonth.call(this, t);\r\n                    }, \"month\", function() {\r\n                        return Date.prototype.getMonth.call(this) + 1;\r\n                    } ],\r\n                    mm: [ \"0[1-9]|1[012]\", function(e) {\r\n                        var t = e ? parseInt(e) : 0;\r\n                        return t > 0 && t--, Date.prototype.setMonth.call(this, t);\r\n                    }, \"month\", function() {\r\n                        return M(Date.prototype.getMonth.call(this) + 1, 2);\r\n                    } ],\r\n                    mmm: [ v.monthNames.slice(0, 12).join(\"|\"), function(e) {\r\n                        var t = v.monthNames.slice(0, 12).findIndex((function(t) {\r\n                            return e.toLowerCase() === t.toLowerCase();\r\n                        }));\r\n                        return -1 !== t && Date.prototype.setMonth.call(this, t);\r\n                    }, \"month\", function() {\r\n                        return v.monthNames.slice(0, 12)[Date.prototype.getMonth.call(this)];\r\n                    } ],\r\n                    mmmm: [ v.monthNames.slice(12, 24).join(\"|\"), function(e) {\r\n                        var t = v.monthNames.slice(12, 24).findIndex((function(t) {\r\n                            return e.toLowerCase() === t.toLowerCase();\r\n                        }));\r\n                        return -1 !== t && Date.prototype.setMonth.call(this, t);\r\n                    }, \"month\", function() {\r\n                        return v.monthNames.slice(12, 24)[Date.prototype.getMonth.call(this)];\r\n                    } ],\r\n                    yy: [ \"[0-9]{2}\", function(e) {\r\n                        var t = (new Date).getFullYear().toString().slice(0, 2);\r\n                        Date.prototype.setFullYear.call(this, \"\".concat(t).concat(e));\r\n                    }, \"year\", function() {\r\n                        return M(Date.prototype.getFullYear.call(this), 2);\r\n                    }, 2 ],\r\n                    yyyy: [ \"[0-9]{4}\", Date.prototype.setFullYear, \"year\", function() {\r\n                        return M(Date.prototype.getFullYear.call(this), 4);\r\n                    }, 4 ],\r\n                    h: [ \"[1-9]|1[0-2]\", Date.prototype.setHours, \"hours\", Date.prototype.getHours ],\r\n                    hh: [ \"0[1-9]|1[0-2]\", Date.prototype.setHours, \"hours\", function() {\r\n                        return M(Date.prototype.getHours.call(this), 2);\r\n                    } ],\r\n                    hx: [ function(e) {\r\n                        return \"[0-9]{\".concat(e, \"}\");\r\n                    }, Date.prototype.setHours, \"hours\", function(e) {\r\n                        return Date.prototype.getHours;\r\n                    } ],\r\n                    H: [ \"1?[0-9]|2[0-3]\", Date.prototype.setHours, \"hours\", Date.prototype.getHours ],\r\n                    HH: [ \"0[0-9]|1[0-9]|2[0-3]\", Date.prototype.setHours, \"hours\", function() {\r\n                        return M(Date.prototype.getHours.call(this), 2);\r\n                    } ],\r\n                    Hx: [ function(e) {\r\n                        return \"[0-9]{\".concat(e, \"}\");\r\n                    }, Date.prototype.setHours, \"hours\", function(e) {\r\n                        return function() {\r\n                            return M(Date.prototype.getHours.call(this), e);\r\n                        };\r\n                    } ],\r\n                    M: [ \"[1-5]?[0-9]\", Date.prototype.setMinutes, \"minutes\", Date.prototype.getMinutes ],\r\n                    MM: [ \"0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]\", Date.prototype.setMinutes, \"minutes\", function() {\r\n                        return M(Date.prototype.getMinutes.call(this), 2);\r\n                    } ],\r\n                    s: [ \"[1-5]?[0-9]\", Date.prototype.setSeconds, \"seconds\", Date.prototype.getSeconds ],\r\n                    ss: [ \"0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]\", Date.prototype.setSeconds, \"seconds\", function() {\r\n                        return M(Date.prototype.getSeconds.call(this), 2);\r\n                    } ],\r\n                    l: [ \"[0-9]{3}\", Date.prototype.setMilliseconds, \"milliseconds\", function() {\r\n                        return M(Date.prototype.getMilliseconds.call(this), 3);\r\n                    }, 3 ],\r\n                    L: [ \"[0-9]{2}\", Date.prototype.setMilliseconds, \"milliseconds\", function() {\r\n                        return M(Date.prototype.getMilliseconds.call(this), 2);\r\n                    }, 2 ],\r\n                    t: [ \"[ap]\", b, \"ampm\", x, 1 ],\r\n                    tt: [ \"[ap]m\", b, \"ampm\", x, 2 ],\r\n                    T: [ \"[AP]\", b, \"ampm\", x, 1 ],\r\n                    TT: [ \"[AP]M\", b, \"ampm\", x, 2 ],\r\n                    Z: [ \".*\", void 0, \"Z\", function() {\r\n                        var e = this.toString().match(/\\((.+)\\)/)[1];\r\n                        e.includes(\" \") && (e = (e = e.replace(\"-\", \" \").toUpperCase()).split(\" \").map((function(e) {\r\n                            return l(e, 1)[0];\r\n                        })).join(\"\"));\r\n                        return e;\r\n                    } ],\r\n                    o: [ \"\" ],\r\n                    S: [ \"\" ]\r\n                }, k = {\r\n                    isoDate: \"yyyy-mm-dd\",\r\n                    isoTime: \"HH:MM:ss\",\r\n                    isoDateTime: \"yyyy-mm-dd'T'HH:MM:ss\",\r\n                    isoUtcDateTime: \"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'\"\r\n                };\r\n                function b(e) {\r\n                    var t = this.getHours();\r\n                    e.toLowerCase().includes(\"p\") ? this.setHours(t + 12) : e.toLowerCase().includes(\"a\") && t >= 12 && this.setHours(t - 12);\r\n                }\r\n                function x() {\r\n                    var e = this.getHours();\r\n                    return (e = e || 12) >= 12 ? \"PM\" : \"AM\";\r\n                }\r\n                function w(e) {\r\n                    var t = /\\d+$/.exec(e[0]);\r\n                    if (t && void 0 !== t[0]) {\r\n                        var n = y[e[0][0] + \"x\"].slice(\"\");\r\n                        return n[0] = n[0](t[0]), n[3] = n[3](t[0]), n;\r\n                    }\r\n                    if (y[e[0]]) return y[e[0]];\r\n                }\r\n                function P(e) {\r\n                    if (!e.tokenizer) {\r\n                        var t = [], n = [];\r\n                        for (var i in y) if (/\\.*x$/.test(i)) {\r\n                            var a = i[0] + \"\\\\d+\";\r\n                            -1 === n.indexOf(a) && n.push(a);\r\n                        } else -1 === t.indexOf(i[0]) && t.push(i[0]);\r\n                        e.tokenizer = \"(\" + (n.length > 0 ? n.join(\"|\") + \"|\" : \"\") + t.join(\"+|\") + \")+?|.\", \r\n                        e.tokenizer = new RegExp(e.tokenizer, \"g\");\r\n                    }\r\n                    return e.tokenizer;\r\n                }\r\n                function S(e, t, n) {\r\n                    if (!g) return !0;\r\n                    if (void 0 === e.rawday || !isFinite(e.rawday) && new Date(e.date.getFullYear(), isFinite(e.rawmonth) ? e.month : e.date.getMonth() + 1, 0).getDate() >= e.day || \"29\" == e.day && (!isFinite(e.rawyear) || void 0 === e.rawyear || \"\" === e.rawyear) || new Date(e.date.getFullYear(), isFinite(e.rawmonth) ? e.month : e.date.getMonth() + 1, 0).getDate() >= e.day) return t;\r\n                    if (\"29\" == e.day) {\r\n                        var i = j.call(this, t.pos, n, this.maskset);\r\n                        if (i.targetMatch && \"yyyy\" === i.targetMatch[0] && t.pos - i.targetMatchIndex == 2) return t.remove = t.pos + 1, \r\n                        t;\r\n                    } else if (2 == e.date.getMonth() && \"30\" == e.day && void 0 !== t.c) return e.day = \"03\", \r\n                    e.date.setDate(3), e.date.setMonth(1), t.insert = [ {\r\n                        pos: t.pos,\r\n                        c: \"0\"\r\n                    }, {\r\n                        pos: t.pos + 1,\r\n                        c: t.c\r\n                    } ], t.caret = o.seekNext.call(this, t.pos + 1), t;\r\n                    return !1;\r\n                }\r\n                function O(e, t, n, a) {\r\n                    var r, o, s = \"\", l = 0, c = {};\r\n                    for (P(n).lastIndex = 0; r = P(n).exec(e); ) {\r\n                        if (void 0 === t) if (o = w(r)) s += \"(\" + o[0] + \")\", n.placeholder && \"\" !== n.placeholder ? (c[l] = n.placeholder[r.index % n.placeholder.length], \r\n                        c[n.placeholder[r.index % n.placeholder.length]] = r[0].charAt(0)) : c[l] = r[0].charAt(0); else switch (r[0]) {\r\n                          case \"[\":\r\n                            s += \"(\";\r\n                            break;\r\n\r\n                          case \"]\":\r\n                            s += \")?\";\r\n                            break;\r\n\r\n                          default:\r\n                            s += (0, i.default)(r[0]), c[l] = r[0].charAt(0);\r\n                        } else if (o = w(r)) if (!0 !== a && o[3]) s += o[3].call(t.date); else o[2] ? s += t[\"raw\" + o[2]] : s += r[0]; else s += r[0];\r\n                        l++;\r\n                    }\r\n                    return void 0 === t && (n.placeholder = c), s;\r\n                }\r\n                function M(e, t, n) {\r\n                    for (e = String(e), t = t || 2; e.length < t; ) e = n ? e + \"0\" : \"0\" + e;\r\n                    return e;\r\n                }\r\n                function _(e, t, n) {\r\n                    return \"string\" == typeof e ? new h(e, t, n, this) : e && \"object\" === u(e) && Object.prototype.hasOwnProperty.call(e, \"date\") ? e : void 0;\r\n                }\r\n                function E(e, t) {\r\n                    return O(t.inputFormat, {\r\n                        date: e\r\n                    }, t);\r\n                }\r\n                function j(e, t, n) {\r\n                    var i, a, r = this, o = n && n.tests[e] ? t.placeholder[n.tests[e][0].match.placeholder] || n.tests[e][0].match.placeholder : \"\", l = 0, c = 0;\r\n                    for (P(t).lastIndex = 0; a = P(t).exec(t.inputFormat); ) {\r\n                        var u = /\\d+$/.exec(a[0]);\r\n                        if (u) c = parseInt(u[0]); else {\r\n                            for (var f = a[0][0], p = l; r && (t.placeholder[s.getTest.call(r, p).match.placeholder] || s.getTest.call(r, p).match.placeholder) === f; ) p++;\r\n                            0 === (c = p - l) && (c = a[0].length);\r\n                        }\r\n                        if (l += c, -1 != a[0].indexOf(o) || l >= e + 1) {\r\n                            i = a, a = P(t).exec(t.inputFormat);\r\n                            break;\r\n                        }\r\n                    }\r\n                    return {\r\n                        targetMatchIndex: l - c,\r\n                        nextMatch: a,\r\n                        targetMatch: i\r\n                    };\r\n                }\r\n                a.default.extendAliases({\r\n                    datetime: {\r\n                        mask: function(e) {\r\n                            return e.numericInput = !1, y.S = v.ordinalSuffix.join(\"|\"), e.inputFormat = k[e.inputFormat] || e.inputFormat, \r\n                            e.displayFormat = k[e.displayFormat] || e.displayFormat || e.inputFormat, e.outputFormat = k[e.outputFormat] || e.outputFormat || e.inputFormat, \r\n                            e.regex = O(e.inputFormat, void 0, e), e.min = _(e.min, e.inputFormat, e), e.max = _(e.max, e.inputFormat, e), \r\n                            null;\r\n                        },\r\n                        placeholder: \"\",\r\n                        inputFormat: \"isoDateTime\",\r\n                        displayFormat: null,\r\n                        outputFormat: null,\r\n                        min: null,\r\n                        max: null,\r\n                        skipOptionalPartCharacter: \"\",\r\n                        preValidation: function(e, t, n, i, a, r, o, s) {\r\n                            if (s) return !0;\r\n                            if (isNaN(n) && e[t] !== n) {\r\n                                var l = j.call(this, t, a, r);\r\n                                if (l.nextMatch && l.nextMatch[0] === n && l.targetMatch[0].length > 1) {\r\n                                    var c = w(l.targetMatch)[0];\r\n                                    if (new RegExp(c).test(\"0\" + e[t - 1])) return e[t] = e[t - 1], e[t - 1] = \"0\", \r\n                                    {\r\n                                        fuzzy: !0,\r\n                                        buffer: e,\r\n                                        refreshFromBuffer: {\r\n                                            start: t - 1,\r\n                                            end: t + 1\r\n                                        },\r\n                                        pos: t + 1\r\n                                    };\r\n                                }\r\n                            }\r\n                            return !0;\r\n                        },\r\n                        postValidation: function(e, t, n, i, a, r, o, l) {\r\n                            var c, u, f = this;\r\n                            if (o) return !0;\r\n                            if (!1 === i && (((c = j.call(f, t + 1, a, r)).targetMatch && c.targetMatchIndex === t && c.targetMatch[0].length > 1 && void 0 !== y[c.targetMatch[0]] || (c = j.call(f, t + 2, a, r)).targetMatch && c.targetMatchIndex === t + 1 && c.targetMatch[0].length > 1 && void 0 !== y[c.targetMatch[0]]) && (u = w(c.targetMatch)[0]), \r\n                            void 0 !== u && (void 0 !== r.validPositions[t + 1] && new RegExp(u).test(n + \"0\") ? (e[t] = n, \r\n                            e[t + 1] = \"0\", i = {\r\n                                pos: t + 2,\r\n                                caret: t\r\n                            }) : new RegExp(u).test(\"0\" + n) && (e[t] = \"0\", e[t + 1] = n, i = {\r\n                                pos: t + 2\r\n                            })), !1 === i)) return i;\r\n                            if (i.fuzzy && (e = i.buffer, t = i.pos), (c = j.call(f, t, a, r)).targetMatch && c.targetMatch[0] && void 0 !== y[c.targetMatch[0]]) {\r\n                                var p = w(c.targetMatch);\r\n                                u = p[0];\r\n                                var d = e.slice(c.targetMatchIndex, c.targetMatchIndex + c.targetMatch[0].length);\r\n                                if (!1 === new RegExp(u).test(d.join(\"\")) && 2 === c.targetMatch[0].length && r.validPositions[c.targetMatchIndex] && r.validPositions[c.targetMatchIndex + 1] && (r.validPositions[c.targetMatchIndex + 1].input = \"0\"), \r\n                                \"year\" == p[2]) for (var h = s.getMaskTemplate.call(f, !1, 1, void 0, !0), v = t + 1; v < e.length; v++) e[v] = h[v], \r\n                                r.validPositions.splice(t + 1, 1);\r\n                            }\r\n                            var g = i, k = _.call(f, e.join(\"\"), a.inputFormat, a);\r\n                            return g && !isNaN(k.date.getTime()) && (a.prefillYear && (g = function(e, t, n) {\r\n                                if (e.year !== e.rawyear) {\r\n                                    var i = m.toString(), a = e.rawyear.replace(/[^0-9]/g, \"\"), r = i.slice(0, a.length), o = i.slice(a.length);\r\n                                    if (2 === a.length && a === r) {\r\n                                        var s = new Date(m, e.month - 1, e.day);\r\n                                        e.day == s.getDate() && (!n.max || n.max.date.getTime() >= s.getTime()) && (e.date.setFullYear(m), \r\n                                        e.year = i, t.insert = [ {\r\n                                            pos: t.pos + 1,\r\n                                            c: o[0]\r\n                                        }, {\r\n                                            pos: t.pos + 2,\r\n                                            c: o[1]\r\n                                        } ]);\r\n                                    }\r\n                                }\r\n                                return t;\r\n                            }(k, g, a)), g = function(e, t, n, i, a) {\r\n                                if (!t) return t;\r\n                                if (t && n.min && !isNaN(n.min.date.getTime())) {\r\n                                    var r;\r\n                                    for (e.reset(), P(n).lastIndex = 0; r = P(n).exec(n.inputFormat); ) {\r\n                                        var o;\r\n                                        if ((o = w(r)) && o[3]) {\r\n                                            for (var s = o[1], l = e[o[2]], c = n.min[o[2]], u = n.max ? n.max[o[2]] : c + 1, f = [], p = !1, d = 0; d < c.length; d++) void 0 !== i.validPositions[d + r.index] || p ? (f[d] = l[d], \r\n                                            p = p || l[d] > c[d]) : (d + r.index == 0 && l[d] < c[d] ? (f[d] = l[d], p = !0) : f[d] = c[d], \r\n                                            \"year\" === o[2] && l.length - 1 == d && c != u && (f = (parseInt(f.join(\"\")) + 1).toString().split(\"\")), \r\n                                            \"ampm\" === o[2] && c != u && n.min.date.getTime() > e.date.getTime() && (f[d] = u[d]));\r\n                                            s.call(e._date, f.join(\"\"));\r\n                                        }\r\n                                    }\r\n                                    t = n.min.date.getTime() <= e.date.getTime(), e.reInit();\r\n                                }\r\n                                return t && n.max && (isNaN(n.max.date.getTime()) || (t = n.max.date.getTime() >= e.date.getTime())), \r\n                                t;\r\n                            }(k, g = S.call(f, k, g, a), a, r)), void 0 !== t && g && i.pos !== t ? {\r\n                                buffer: O(a.inputFormat, k, a).split(\"\"),\r\n                                refreshFromBuffer: {\r\n                                    start: t,\r\n                                    end: i.pos\r\n                                },\r\n                                pos: i.caret || i.pos\r\n                            } : g;\r\n                        },\r\n                        onKeyDown: function(e, t, n, i) {\r\n                            e.ctrlKey && e.key === r.keys.ArrowRight && (this.inputmask._valueSet(E(new Date, i)), \r\n                            d(this).trigger(\"setvalue\"));\r\n                        },\r\n                        onUnMask: function(e, t, n) {\r\n                            return t ? O(n.outputFormat, _.call(this, e, n.inputFormat, n), n, !0) : t;\r\n                        },\r\n                        casing: function(e, t, n, i) {\r\n                            if (0 == t.nativeDef.indexOf(\"[ap]\")) return e.toLowerCase();\r\n                            if (0 == t.nativeDef.indexOf(\"[AP]\")) return e.toUpperCase();\r\n                            var a = s.getTest.call(this, [ n - 1 ]);\r\n                            return 0 == a.match.def.indexOf(\"[AP]\") || 0 === n || a && a.input === String.fromCharCode(r.keyCode.Space) || a && a.match.def === String.fromCharCode(r.keyCode.Space) ? e.toUpperCase() : e.toLowerCase();\r\n                        },\r\n                        onBeforeMask: function(e, t) {\r\n                            return \"[object Date]\" === Object.prototype.toString.call(e) && (e = E(e, t)), e;\r\n                        },\r\n                        insertMode: !1,\r\n                        insertModeVisual: !1,\r\n                        shiftPositions: !1,\r\n                        keepStatic: !1,\r\n                        inputmode: \"numeric\",\r\n                        prefillYear: !0\r\n                    }\r\n                });\r\n            },\r\n            1313: function(e, t, n) {\r\n                var i, a = (i = n(2394)) && i.__esModule ? i : {\r\n                    default: i\r\n                };\r\n                a.default.dependencyLib.extend(!0, a.default.prototype.i18n, {\r\n                    dayNames: [ \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\", \"Sunday\" ],\r\n                    monthNames: [ \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\", \"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\" ],\r\n                    ordinalSuffix: [ \"st\", \"nd\", \"rd\", \"th\" ]\r\n                });\r\n            },\r\n            3851: function(e, t, n) {\r\n                var i, a = (i = n(2394)) && i.__esModule ? i : {\r\n                    default: i\r\n                }, r = n(8711), o = n(4713);\r\n                function s(e) {\r\n                    return function(e) {\r\n                        if (Array.isArray(e)) return l(e);\r\n                    }(e) || function(e) {\r\n                        if (\"undefined\" != typeof Symbol && null != e[Symbol.iterator] || null != e[\"@@iterator\"]) return Array.from(e);\r\n                    }(e) || function(e, t) {\r\n                        if (!e) return;\r\n                        if (\"string\" == typeof e) return l(e, t);\r\n                        var n = Object.prototype.toString.call(e).slice(8, -1);\r\n                        \"Object\" === n && e.constructor && (n = e.constructor.name);\r\n                        if (\"Map\" === n || \"Set\" === n) return Array.from(e);\r\n                        if (\"Arguments\" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return l(e, t);\r\n                    }(e) || function() {\r\n                        throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\r\n                    }();\r\n                }\r\n                function l(e, t) {\r\n                    (null == t || t > e.length) && (t = e.length);\r\n                    for (var n = 0, i = new Array(t); n < t; n++) i[n] = e[n];\r\n                    return i;\r\n                }\r\n                a.default.extendDefinitions({\r\n                    A: {\r\n                        validator: \"[A-Za-z\\u0410-\\u044f\\u0401\\u0451\\xc0-\\xff\\xb5]\",\r\n                        casing: \"upper\"\r\n                    },\r\n                    \"&\": {\r\n                        validator: \"[0-9A-Za-z\\u0410-\\u044f\\u0401\\u0451\\xc0-\\xff\\xb5]\",\r\n                        casing: \"upper\"\r\n                    },\r\n                    \"#\": {\r\n                        validator: \"[0-9A-Fa-f]\",\r\n                        casing: \"upper\"\r\n                    }\r\n                });\r\n                var c = /25[0-5]|2[0-4][0-9]|[01][0-9][0-9]/;\r\n                function u(e, t, n, i, a) {\r\n                    if (n - 1 > -1 && \".\" !== t.buffer[n - 1] ? (e = t.buffer[n - 1] + e, e = n - 2 > -1 && \".\" !== t.buffer[n - 2] ? t.buffer[n - 2] + e : \"0\" + e) : e = \"00\" + e, \r\n                    a.greedy && parseInt(e) > 255 && c.test(\"00\" + e.charAt(2))) {\r\n                        var r = [].concat(s(t.buffer.slice(0, n)), [ \".\", e.charAt(2) ]);\r\n                        if (r.join(\"\").match(/\\./g).length < 4) return {\r\n                            refreshFromBuffer: !0,\r\n                            buffer: r,\r\n                            caret: n + 2\r\n                        };\r\n                    }\r\n                    return c.test(e);\r\n                }\r\n                a.default.extendAliases({\r\n                    cssunit: {\r\n                        regex: \"[+-]?[0-9]+\\\\.?([0-9]+)?(px|em|rem|ex|%|in|cm|mm|pt|pc)\"\r\n                    },\r\n                    url: {\r\n                        regex: \"(https?|ftp)://.*\",\r\n                        autoUnmask: !1,\r\n                        keepStatic: !1,\r\n                        tabThrough: !0\r\n                    },\r\n                    ip: {\r\n                        mask: \"i{1,3}.j{1,3}.k{1,3}.l{1,3}\",\r\n                        definitions: {\r\n                            i: {\r\n                                validator: u\r\n                            },\r\n                            j: {\r\n                                validator: u\r\n                            },\r\n                            k: {\r\n                                validator: u\r\n                            },\r\n                            l: {\r\n                                validator: u\r\n                            }\r\n                        },\r\n                        onUnMask: function(e, t, n) {\r\n                            return e;\r\n                        },\r\n                        inputmode: \"decimal\",\r\n                        substitutes: {\r\n                            \",\": \".\"\r\n                        }\r\n                    },\r\n                    email: {\r\n                        mask: function(e) {\r\n                            var t = e.separator, n = e.quantifier, i = \"*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]\", a = i;\r\n                            if (t) for (var r = 0; r < n; r++) a += \"[\".concat(t).concat(i, \"]\");\r\n                            return a;\r\n                        },\r\n                        greedy: !1,\r\n                        casing: \"lower\",\r\n                        separator: null,\r\n                        quantifier: 5,\r\n                        skipOptionalPartCharacter: \"\",\r\n                        onBeforePaste: function(e, t) {\r\n                            return (e = e.toLowerCase()).replace(\"mailto:\", \"\");\r\n                        },\r\n                        definitions: {\r\n                            \"*\": {\r\n                                validator: \"[0-9\\uff11-\\uff19A-Za-z\\u0410-\\u044f\\u0401\\u0451\\xc0-\\xff\\xb5!#$%&'*+/=?^_`{|}~-]\"\r\n                            },\r\n                            \"-\": {\r\n                                validator: \"[0-9A-Za-z-]\"\r\n                            }\r\n                        },\r\n                        onUnMask: function(e, t, n) {\r\n                            return e;\r\n                        },\r\n                        inputmode: \"email\"\r\n                    },\r\n                    mac: {\r\n                        mask: \"##:##:##:##:##:##\"\r\n                    },\r\n                    vin: {\r\n                        mask: \"V{13}9{4}\",\r\n                        definitions: {\r\n                            V: {\r\n                                validator: \"[A-HJ-NPR-Za-hj-npr-z\\\\d]\",\r\n                                casing: \"upper\"\r\n                            }\r\n                        },\r\n                        clearIncomplete: !0,\r\n                        autoUnmask: !0\r\n                    },\r\n                    ssn: {\r\n                        mask: \"999-99-9999\",\r\n                        postValidation: function(e, t, n, i, a, s, l) {\r\n                            var c = o.getMaskTemplate.call(this, !0, r.getLastValidPosition.call(this), !0, !0);\r\n                            return /^(?!219-09-9999|078-05-1120)(?!666|000|9.{2}).{3}-(?!00).{2}-(?!0{4}).{4}$/.test(c.join(\"\"));\r\n                        }\r\n                    }\r\n                });\r\n            },\r\n            207: function(e, t, n) {\r\n                var i = s(n(7184)), a = s(n(2394)), r = n(2839), o = n(8711);\r\n                function s(e) {\r\n                    return e && e.__esModule ? e : {\r\n                        default: e\r\n                    };\r\n                }\r\n                var l = a.default.dependencyLib;\r\n                function c(e, t) {\r\n                    for (var n = \"\", i = 0; i < e.length; i++) a.default.prototype.definitions[e.charAt(i)] || t.definitions[e.charAt(i)] || t.optionalmarker[0] === e.charAt(i) || t.optionalmarker[1] === e.charAt(i) || t.quantifiermarker[0] === e.charAt(i) || t.quantifiermarker[1] === e.charAt(i) || t.groupmarker[0] === e.charAt(i) || t.groupmarker[1] === e.charAt(i) || t.alternatormarker === e.charAt(i) ? n += \"\\\\\" + e.charAt(i) : n += e.charAt(i);\r\n                    return n;\r\n                }\r\n                function u(e, t, n, i) {\r\n                    if (e.length > 0 && t > 0 && (!n.digitsOptional || i)) {\r\n                        var a = e.indexOf(n.radixPoint), r = !1;\r\n                        n.negationSymbol.back === e[e.length - 1] && (r = !0, e.length--), -1 === a && (e.push(n.radixPoint), \r\n                        a = e.length - 1);\r\n                        for (var o = 1; o <= t; o++) isFinite(e[a + o]) || (e[a + o] = \"0\");\r\n                    }\r\n                    return r && e.push(n.negationSymbol.back), e;\r\n                }\r\n                function f(e, t) {\r\n                    var n = 0;\r\n                    for (var i in \"+\" === e && (n = o.seekNext.call(this, t.validPositions.length - 1)), \r\n                    t.tests) if ((i = parseInt(i)) >= n) for (var a = 0, r = t.tests[i].length; a < r; a++) if ((void 0 === t.validPositions[i] || \"-\" === e) && t.tests[i][a].match.def === e) return i + (void 0 !== t.validPositions[i] && \"-\" !== e ? 1 : 0);\r\n                    return n;\r\n                }\r\n                function p(e, t) {\r\n                    for (var n = -1, i = 0, a = t.validPositions.length; i < a; i++) {\r\n                        var r = t.validPositions[i];\r\n                        if (r && r.match.def === e) {\r\n                            n = i;\r\n                            break;\r\n                        }\r\n                    }\r\n                    return n;\r\n                }\r\n                function d(e, t, n, i, a) {\r\n                    var r = t.buffer ? t.buffer.indexOf(a.radixPoint) : -1, o = (-1 !== r || i && a.jitMasking) && new RegExp(a.definitions[9].validator).test(e);\r\n                    return !i && a._radixDance && -1 !== r && o && null == t.validPositions[r] ? {\r\n                        insert: {\r\n                            pos: r === n ? r + 1 : r,\r\n                            c: a.radixPoint\r\n                        },\r\n                        pos: n\r\n                    } : o;\r\n                }\r\n                a.default.extendAliases({\r\n                    numeric: {\r\n                        mask: function(e) {\r\n                            e.repeat = 0, e.groupSeparator === e.radixPoint && e.digits && \"0\" !== e.digits && (\".\" === e.radixPoint ? e.groupSeparator = \",\" : \",\" === e.radixPoint ? e.groupSeparator = \".\" : e.groupSeparator = \"\"), \r\n                            \" \" === e.groupSeparator && (e.skipOptionalPartCharacter = void 0), e.placeholder.length > 1 && (e.placeholder = e.placeholder.charAt(0)), \r\n                            \"radixFocus\" === e.positionCaretOnClick && \"\" === e.placeholder && (e.positionCaretOnClick = \"lvp\");\r\n                            var t = \"0\", n = e.radixPoint;\r\n                            !0 === e.numericInput && void 0 === e.__financeInput ? (t = \"1\", e.positionCaretOnClick = \"radixFocus\" === e.positionCaretOnClick ? \"lvp\" : e.positionCaretOnClick, \r\n                            e.digitsOptional = !1, isNaN(e.digits) && (e.digits = 2), e._radixDance = !1, n = \",\" === e.radixPoint ? \"?\" : \"!\", \r\n                            \"\" !== e.radixPoint && void 0 === e.definitions[n] && (e.definitions[n] = {}, e.definitions[n].validator = \"[\" + e.radixPoint + \"]\", \r\n                            e.definitions[n].placeholder = e.radixPoint, e.definitions[n].static = !0, e.definitions[n].generated = !0)) : (e.__financeInput = !1, \r\n                            e.numericInput = !0);\r\n                            var a, r = \"[+]\";\r\n                            if (r += c(e.prefix, e), \"\" !== e.groupSeparator ? (void 0 === e.definitions[e.groupSeparator] && (e.definitions[e.groupSeparator] = {}, \r\n                            e.definitions[e.groupSeparator].validator = \"[\" + e.groupSeparator + \"]\", e.definitions[e.groupSeparator].placeholder = e.groupSeparator, \r\n                            e.definitions[e.groupSeparator].static = !0, e.definitions[e.groupSeparator].generated = !0), \r\n                            r += e._mask(e)) : r += \"9{+}\", void 0 !== e.digits && 0 !== e.digits) {\r\n                                var o = e.digits.toString().split(\",\");\r\n                                isFinite(o[0]) && o[1] && isFinite(o[1]) ? r += n + t + \"{\" + e.digits + \"}\" : (isNaN(e.digits) || parseInt(e.digits) > 0) && (e.digitsOptional || e.jitMasking ? (a = r + n + t + \"{0,\" + e.digits + \"}\", \r\n                                e.keepStatic = !0) : r += n + t + \"{\" + e.digits + \"}\");\r\n                            } else e.inputmode = \"numeric\";\r\n                            return r += c(e.suffix, e), r += \"[-]\", a && (r = [ a + c(e.suffix, e) + \"[-]\", r ]), \r\n                            e.greedy = !1, function(e) {\r\n                                void 0 === e.parseMinMaxOptions && (null !== e.min && (e.min = e.min.toString().replace(new RegExp((0, \r\n                                i.default)(e.groupSeparator), \"g\"), \"\"), \",\" === e.radixPoint && (e.min = e.min.replace(e.radixPoint, \".\")), \r\n                                e.min = isFinite(e.min) ? parseFloat(e.min) : NaN, isNaN(e.min) && (e.min = Number.MIN_VALUE)), \r\n                                null !== e.max && (e.max = e.max.toString().replace(new RegExp((0, i.default)(e.groupSeparator), \"g\"), \"\"), \r\n                                \",\" === e.radixPoint && (e.max = e.max.replace(e.radixPoint, \".\")), e.max = isFinite(e.max) ? parseFloat(e.max) : NaN, \r\n                                isNaN(e.max) && (e.max = Number.MAX_VALUE)), e.parseMinMaxOptions = \"done\");\r\n                            }(e), \"\" !== e.radixPoint && e.substituteRadixPoint && (e.substitutes[\".\" == e.radixPoint ? \",\" : \".\"] = e.radixPoint), \r\n                            r;\r\n                        },\r\n                        _mask: function(e) {\r\n                            return \"(\" + e.groupSeparator + \"999){+|1}\";\r\n                        },\r\n                        digits: \"*\",\r\n                        digitsOptional: !0,\r\n                        enforceDigitsOnBlur: !1,\r\n                        radixPoint: \".\",\r\n                        positionCaretOnClick: \"radixFocus\",\r\n                        _radixDance: !0,\r\n                        groupSeparator: \"\",\r\n                        allowMinus: !0,\r\n                        negationSymbol: {\r\n                            front: \"-\",\r\n                            back: \"\"\r\n                        },\r\n                        prefix: \"\",\r\n                        suffix: \"\",\r\n                        min: null,\r\n                        max: null,\r\n                        SetMaxOnOverflow: !1,\r\n                        step: 1,\r\n                        inputType: \"text\",\r\n                        unmaskAsNumber: !1,\r\n                        roundingFN: Math.round,\r\n                        inputmode: \"decimal\",\r\n                        shortcuts: {\r\n                            k: \"1000\",\r\n                            m: \"1000000\"\r\n                        },\r\n                        placeholder: \"0\",\r\n                        greedy: !1,\r\n                        rightAlign: !0,\r\n                        insertMode: !0,\r\n                        autoUnmask: !1,\r\n                        skipOptionalPartCharacter: \"\",\r\n                        usePrototypeDefinitions: !1,\r\n                        stripLeadingZeroes: !0,\r\n                        substituteRadixPoint: !0,\r\n                        definitions: {\r\n                            0: {\r\n                                validator: d\r\n                            },\r\n                            1: {\r\n                                validator: d,\r\n                                definitionSymbol: \"9\"\r\n                            },\r\n                            9: {\r\n                                validator: \"[0-9\\uff10-\\uff19\\u0660-\\u0669\\u06f0-\\u06f9]\",\r\n                                definitionSymbol: \"*\"\r\n                            },\r\n                            \"+\": {\r\n                                validator: function(e, t, n, i, a) {\r\n                                    return a.allowMinus && (\"-\" === e || e === a.negationSymbol.front);\r\n                                }\r\n                            },\r\n                            \"-\": {\r\n                                validator: function(e, t, n, i, a) {\r\n                                    return a.allowMinus && e === a.negationSymbol.back;\r\n                                }\r\n                            }\r\n                        },\r\n                        preValidation: function(e, t, n, i, a, r, o, s) {\r\n                            var l = this;\r\n                            if (!1 !== a.__financeInput && n === a.radixPoint) return !1;\r\n                            var c = e.indexOf(a.radixPoint), u = t;\r\n                            if (t = function(e, t, n, i, a) {\r\n                                return a._radixDance && a.numericInput && t !== a.negationSymbol.back && e <= n && (n > 0 || t == a.radixPoint) && (void 0 === i.validPositions[e - 1] || i.validPositions[e - 1].input !== a.negationSymbol.back) && (e -= 1), \r\n                                e;\r\n                            }(t, n, c, r, a), \"-\" === n || n === a.negationSymbol.front) {\r\n                                if (!0 !== a.allowMinus) return !1;\r\n                                var d = !1, h = p(\"+\", r), m = p(\"-\", r);\r\n                                return -1 !== h && (d = [ h ], -1 !== m && d.push(m)), !1 !== d ? {\r\n                                    remove: d,\r\n                                    caret: u - a.negationSymbol.back.length\r\n                                } : {\r\n                                    insert: [ {\r\n                                        pos: f.call(l, \"+\", r),\r\n                                        c: a.negationSymbol.front,\r\n                                        fromIsValid: !0\r\n                                    }, {\r\n                                        pos: f.call(l, \"-\", r),\r\n                                        c: a.negationSymbol.back,\r\n                                        fromIsValid: void 0\r\n                                    } ],\r\n                                    caret: u + a.negationSymbol.back.length\r\n                                };\r\n                            }\r\n                            if (n === a.groupSeparator) return {\r\n                                caret: u\r\n                            };\r\n                            if (s) return !0;\r\n                            if (-1 !== c && !0 === a._radixDance && !1 === i && n === a.radixPoint && void 0 !== a.digits && (isNaN(a.digits) || parseInt(a.digits) > 0) && c !== t) {\r\n                                var v = f.call(l, a.radixPoint, r);\r\n                                return r.validPositions[v] && (r.validPositions[v].generatedInput = r.validPositions[v].generated || !1), \r\n                                {\r\n                                    caret: a._radixDance && t === c - 1 ? c + 1 : c\r\n                                };\r\n                            }\r\n                            if (!1 === a.__financeInput) if (i) {\r\n                                if (a.digitsOptional) return {\r\n                                    rewritePosition: o.end\r\n                                };\r\n                                if (!a.digitsOptional) {\r\n                                    if (o.begin > c && o.end <= c) return n === a.radixPoint ? {\r\n                                        insert: {\r\n                                            pos: c + 1,\r\n                                            c: \"0\",\r\n                                            fromIsValid: !0\r\n                                        },\r\n                                        rewritePosition: c\r\n                                    } : {\r\n                                        rewritePosition: c + 1\r\n                                    };\r\n                                    if (o.begin < c) return {\r\n                                        rewritePosition: o.begin - 1\r\n                                    };\r\n                                }\r\n                            } else if (!a.showMaskOnHover && !a.showMaskOnFocus && !a.digitsOptional && a.digits > 0 && \"\" === this.__valueGet.call(this.el)) return {\r\n                                rewritePosition: c\r\n                            };\r\n                            return {\r\n                                rewritePosition: t\r\n                            };\r\n                        },\r\n                        postValidation: function(e, t, n, i, a, r, o) {\r\n                            if (!1 === i) return i;\r\n                            if (o) return !0;\r\n                            if (null !== a.min || null !== a.max) {\r\n                                var s = a.onUnMask(e.slice().reverse().join(\"\"), void 0, l.extend({}, a, {\r\n                                    unmaskAsNumber: !0\r\n                                }));\r\n                                if (null !== a.min && s < a.min && (s.toString().length > a.min.toString().length || s < 0)) return !1;\r\n                                if (null !== a.max && s > a.max) return !!a.SetMaxOnOverflow && {\r\n                                    refreshFromBuffer: !0,\r\n                                    buffer: u(a.max.toString().replace(\".\", a.radixPoint).split(\"\"), a.digits, a).reverse()\r\n                                };\r\n                            }\r\n                            return i;\r\n                        },\r\n                        onUnMask: function(e, t, n) {\r\n                            if (\"\" === t && !0 === n.nullable) return t;\r\n                            var a = e.replace(n.prefix, \"\");\r\n                            return a = (a = a.replace(n.suffix, \"\")).replace(new RegExp((0, i.default)(n.groupSeparator), \"g\"), \"\"), \r\n                            \"\" !== n.placeholder.charAt(0) && (a = a.replace(new RegExp(n.placeholder.charAt(0), \"g\"), \"0\")), \r\n                            n.unmaskAsNumber ? (\"\" !== n.radixPoint && -1 !== a.indexOf(n.radixPoint) && (a = a.replace(i.default.call(this, n.radixPoint), \".\")), \r\n                            a = (a = a.replace(new RegExp(\"^\" + (0, i.default)(n.negationSymbol.front)), \"-\")).replace(new RegExp((0, \r\n                            i.default)(n.negationSymbol.back) + \"$\"), \"\"), Number(a)) : a;\r\n                        },\r\n                        isComplete: function(e, t) {\r\n                            var n = (t.numericInput ? e.slice().reverse() : e).join(\"\");\r\n                            return n = (n = (n = (n = (n = n.replace(new RegExp(\"^\" + (0, i.default)(t.negationSymbol.front)), \"-\")).replace(new RegExp((0, \r\n                            i.default)(t.negationSymbol.back) + \"$\"), \"\")).replace(t.prefix, \"\")).replace(t.suffix, \"\")).replace(new RegExp((0, \r\n                            i.default)(t.groupSeparator) + \"([0-9]{3})\", \"g\"), \"$1\"), \",\" === t.radixPoint && (n = n.replace((0, \r\n                            i.default)(t.radixPoint), \".\")), isFinite(n);\r\n                        },\r\n                        onBeforeMask: function(e, t) {\r\n                            var n;\r\n                            e = null !== (n = e) && void 0 !== n ? n : \"\";\r\n                            var a = t.radixPoint || \",\";\r\n                            isFinite(t.digits) && (t.digits = parseInt(t.digits)), \"number\" != typeof e && \"number\" !== t.inputType || \"\" === a || (e = e.toString().replace(\".\", a));\r\n                            var r = \"-\" === e.charAt(0) || e.charAt(0) === t.negationSymbol.front, o = e.split(a), s = o[0].replace(/[^\\-0-9]/g, \"\"), l = o.length > 1 ? o[1].replace(/[^0-9]/g, \"\") : \"\", c = o.length > 1;\r\n                            e = s + (\"\" !== l ? a + l : l);\r\n                            var f = 0;\r\n                            if (\"\" !== a && (f = t.digitsOptional ? t.digits < l.length ? t.digits : l.length : t.digits, \r\n                            \"\" !== l || !t.digitsOptional)) {\r\n                                var p = Math.pow(10, f || 1);\r\n                                e = e.replace((0, i.default)(a), \".\"), isNaN(parseFloat(e)) || (e = (t.roundingFN(parseFloat(e) * p) / p).toFixed(f)), \r\n                                e = e.toString().replace(\".\", a);\r\n                            }\r\n                            if (0 === t.digits && -1 !== e.indexOf(a) && (e = e.substring(0, e.indexOf(a))), \r\n                            null !== t.min || null !== t.max) {\r\n                                var d = e.toString().replace(a, \".\");\r\n                                null !== t.min && d < t.min ? e = t.min.toString().replace(\".\", a) : null !== t.max && d > t.max && (e = t.max.toString().replace(\".\", a));\r\n                            }\r\n                            return r && \"-\" !== e.charAt(0) && (e = \"-\" + e), u(e.toString().split(\"\"), f, t, c).join(\"\");\r\n                        },\r\n                        onBeforeWrite: function(e, t, n, a) {\r\n                            function r(e, t) {\r\n                                if (!1 !== a.__financeInput || t) {\r\n                                    var n = e.indexOf(a.radixPoint);\r\n                                    -1 !== n && e.splice(n, 1);\r\n                                }\r\n                                if (\"\" !== a.groupSeparator) for (;-1 !== (n = e.indexOf(a.groupSeparator)); ) e.splice(n, 1);\r\n                                return e;\r\n                            }\r\n                            var o, s;\r\n                            if (a.stripLeadingZeroes && (s = function(e, t) {\r\n                                var n = new RegExp(\"(^\" + (\"\" !== t.negationSymbol.front ? (0, i.default)(t.negationSymbol.front) + \"?\" : \"\") + (0, \r\n                                i.default)(t.prefix) + \")(.*)(\" + (0, i.default)(t.suffix) + (\"\" != t.negationSymbol.back ? (0, \r\n                                i.default)(t.negationSymbol.back) + \"?\" : \"\") + \"$)\").exec(e.slice().reverse().join(\"\")), a = n ? n[2] : \"\", r = !1;\r\n                                return a && (a = a.split(t.radixPoint.charAt(0))[0], r = new RegExp(\"^[0\" + t.groupSeparator + \"]*\").exec(a)), \r\n                                !(!r || !(r[0].length > 1 || r[0].length > 0 && r[0].length < a.length)) && r;\r\n                            }(t, a))) for (var c = t.join(\"\").lastIndexOf(s[0].split(\"\").reverse().join(\"\")) - (s[0] == s.input ? 0 : 1), f = s[0] == s.input ? 1 : 0, p = s[0].length - f; p > 0; p--) this.maskset.validPositions.splice(c + p, 1), \r\n                            delete t[c + p];\r\n                            if (e) switch (e.type) {\r\n                              case \"blur\":\r\n                              case \"checkval\":\r\n                                if (null !== a.min) {\r\n                                    var d = a.onUnMask(t.slice().reverse().join(\"\"), void 0, l.extend({}, a, {\r\n                                        unmaskAsNumber: !0\r\n                                    }));\r\n                                    if (null !== a.min && d < a.min) return {\r\n                                        refreshFromBuffer: !0,\r\n                                        buffer: u(a.min.toString().replace(\".\", a.radixPoint).split(\"\"), a.digits, a).reverse()\r\n                                    };\r\n                                }\r\n                                if (t[t.length - 1] === a.negationSymbol.front) {\r\n                                    var h = new RegExp(\"(^\" + (\"\" != a.negationSymbol.front ? (0, i.default)(a.negationSymbol.front) + \"?\" : \"\") + (0, \r\n                                    i.default)(a.prefix) + \")(.*)(\" + (0, i.default)(a.suffix) + (\"\" != a.negationSymbol.back ? (0, \r\n                                    i.default)(a.negationSymbol.back) + \"?\" : \"\") + \"$)\").exec(r(t.slice(), !0).reverse().join(\"\"));\r\n                                    0 == (h ? h[2] : \"\") && (o = {\r\n                                        refreshFromBuffer: !0,\r\n                                        buffer: [ 0 ]\r\n                                    });\r\n                                } else if (\"\" !== a.radixPoint) {\r\n                                    t.indexOf(a.radixPoint) === a.suffix.length && (o && o.buffer ? o.buffer.splice(0, 1 + a.suffix.length) : (t.splice(0, 1 + a.suffix.length), \r\n                                    o = {\r\n                                        refreshFromBuffer: !0,\r\n                                        buffer: r(t)\r\n                                    }));\r\n                                }\r\n                                if (a.enforceDigitsOnBlur) {\r\n                                    var m = (o = o || {}) && o.buffer || t.slice().reverse();\r\n                                    o.refreshFromBuffer = !0, o.buffer = u(m, a.digits, a, !0).reverse();\r\n                                }\r\n                            }\r\n                            return o;\r\n                        },\r\n                        onKeyDown: function(e, t, n, i) {\r\n                            var a, o = l(this);\r\n                            if (3 != e.location) {\r\n                                var s, c = e.key;\r\n                                if ((s = i.shortcuts && i.shortcuts[c]) && s.length > 1) return this.inputmask.__valueSet.call(this, parseFloat(this.inputmask.unmaskedvalue()) * parseInt(s)), \r\n                                o.trigger(\"setvalue\"), !1;\r\n                            }\r\n                            if (e.ctrlKey) switch (e.key) {\r\n                              case r.keys.ArrowUp:\r\n                                return this.inputmask.__valueSet.call(this, parseFloat(this.inputmask.unmaskedvalue()) + parseInt(i.step)), \r\n                                o.trigger(\"setvalue\"), !1;\r\n\r\n                              case r.keys.ArrowDown:\r\n                                return this.inputmask.__valueSet.call(this, parseFloat(this.inputmask.unmaskedvalue()) - parseInt(i.step)), \r\n                                o.trigger(\"setvalue\"), !1;\r\n                            }\r\n                            if (!e.shiftKey && (e.key === r.keys.Delete || e.key === r.keys.Backspace || e.key === r.keys.BACKSPACE_SAFARI) && n.begin !== t.length) {\r\n                                if (t[e.key === r.keys.Delete ? n.begin - 1 : n.end] === i.negationSymbol.front) return a = t.slice().reverse(), \r\n                                \"\" !== i.negationSymbol.front && a.shift(), \"\" !== i.negationSymbol.back && a.pop(), \r\n                                o.trigger(\"setvalue\", [ a.join(\"\"), n.begin ]), !1;\r\n                                if (!0 === i._radixDance) {\r\n                                    var f, p = t.indexOf(i.radixPoint);\r\n                                    if (i.digitsOptional) {\r\n                                        if (0 === p) return (a = t.slice().reverse()).pop(), o.trigger(\"setvalue\", [ a.join(\"\"), n.begin >= a.length ? a.length : n.begin ]), \r\n                                        !1;\r\n                                    } else if (-1 !== p && (n.begin < p || n.end < p || e.key === r.keys.Delete && (n.begin === p || n.begin - 1 === p))) return n.begin === n.end && (e.key === r.keys.Backspace || e.key === r.keys.BACKSPACE_SAFARI ? n.begin++ : e.key === r.keys.Delete && n.begin - 1 === p && (f = l.extend({}, n), \r\n                                    n.begin--, n.end--)), (a = t.slice().reverse()).splice(a.length - n.begin, n.begin - n.end + 1), \r\n                                    a = u(a, i.digits, i).join(\"\"), f && (n = f), o.trigger(\"setvalue\", [ a, n.begin >= a.length ? p + 1 : n.begin ]), \r\n                                    !1;\r\n                                }\r\n                            }\r\n                        }\r\n                    },\r\n                    currency: {\r\n                        prefix: \"\",\r\n                        groupSeparator: \",\",\r\n                        alias: \"numeric\",\r\n                        digits: 2,\r\n                        digitsOptional: !1\r\n                    },\r\n                    decimal: {\r\n                        alias: \"numeric\"\r\n                    },\r\n                    integer: {\r\n                        alias: \"numeric\",\r\n                        inputmode: \"numeric\",\r\n                        digits: 0\r\n                    },\r\n                    percentage: {\r\n                        alias: \"numeric\",\r\n                        min: 0,\r\n                        max: 100,\r\n                        suffix: \" %\",\r\n                        digits: 0,\r\n                        allowMinus: !1\r\n                    },\r\n                    indianns: {\r\n                        alias: \"numeric\",\r\n                        _mask: function(e) {\r\n                            return \"(\" + e.groupSeparator + \"99){*|1}(\" + e.groupSeparator + \"999){1|1}\";\r\n                        },\r\n                        groupSeparator: \",\",\r\n                        radixPoint: \".\",\r\n                        placeholder: \"0\",\r\n                        digits: 2,\r\n                        digitsOptional: !1\r\n                    }\r\n                });\r\n            },\r\n            9380: function(e, t) {\r\n                Object.defineProperty(t, \"__esModule\", {\r\n                    value: !0\r\n                }), t.default = void 0;\r\n                var n = !(\"undefined\" == typeof window || !window.document || !window.document.createElement);\r\n                t.default = n ? window : {};\r\n            },\r\n            7760: function(e, t, n) {\r\n                Object.defineProperty(t, \"__esModule\", {\r\n                    value: !0\r\n                }), t.HandleNativePlaceholder = function(e, t) {\r\n                    var n = e ? e.inputmask : this;\r\n                    if (i.ie) {\r\n                        if (e.inputmask._valueGet() !== t && (e.placeholder !== t || \"\" === e.placeholder)) {\r\n                            var a = o.getBuffer.call(n).slice(), r = e.inputmask._valueGet();\r\n                            if (r !== t) {\r\n                                var s = o.getLastValidPosition.call(n);\r\n                                -1 === s && r === o.getBufferTemplate.call(n).join(\"\") ? a = [] : -1 !== s && u.call(n, a), \r\n                                p(e, a);\r\n                            }\r\n                        }\r\n                    } else e.placeholder !== t && (e.placeholder = t, \"\" === e.placeholder && e.removeAttribute(\"placeholder\"));\r\n                }, t.applyInputValue = c, t.checkVal = f, t.clearOptionalTail = u, t.unmaskedvalue = function(e) {\r\n                    var t = e ? e.inputmask : this, n = t.opts, i = t.maskset;\r\n                    if (e) {\r\n                        if (void 0 === e.inputmask) return e.value;\r\n                        e.inputmask && e.inputmask.refreshValue && c(e, e.inputmask._valueGet(!0));\r\n                    }\r\n                    for (var a = [], r = i.validPositions, s = 0, l = r.length; s < l; s++) r[s] && r[s].match && (1 != r[s].match.static || Array.isArray(i.metadata) && !0 !== r[s].generatedInput) && a.push(r[s].input);\r\n                    var u = 0 === a.length ? \"\" : (t.isRTL ? a.reverse() : a).join(\"\");\r\n                    if (\"function\" == typeof n.onUnMask) {\r\n                        var f = (t.isRTL ? o.getBuffer.call(t).slice().reverse() : o.getBuffer.call(t)).join(\"\");\r\n                        u = n.onUnMask.call(t, f, u, n);\r\n                    }\r\n                    return u;\r\n                }, t.writeBuffer = p;\r\n                var i = n(9845), a = n(6030), r = n(2839), o = n(8711), s = n(7215), l = n(4713);\r\n                function c(e, t, n) {\r\n                    var i = e ? e.inputmask : this, a = i.opts;\r\n                    e.inputmask.refreshValue = !1, \"function\" == typeof a.onBeforeMask && (t = a.onBeforeMask.call(i, t, a) || t), \r\n                    f(e, !0, !1, t = (t || \"\").toString().split(\"\"), n), i.undoValue = i._valueGet(!0), \r\n                    (a.clearMaskOnLostFocus || a.clearIncomplete) && e.inputmask._valueGet() === o.getBufferTemplate.call(i).join(\"\") && -1 === o.getLastValidPosition.call(i) && e.inputmask._valueSet(\"\");\r\n                }\r\n                function u(e) {\r\n                    e.length = 0;\r\n                    for (var t, n = l.getMaskTemplate.call(this, !0, 0, !0, void 0, !0); void 0 !== (t = n.shift()); ) e.push(t);\r\n                    return e;\r\n                }\r\n                function f(e, t, n, i, r) {\r\n                    var c, u = e ? e.inputmask : this, f = u.maskset, d = u.opts, h = u.dependencyLib, m = i.slice(), v = \"\", g = -1, y = d.skipOptionalPartCharacter;\r\n                    d.skipOptionalPartCharacter = \"\", o.resetMaskSet.call(u, !1), u.clicked = 0, g = d.radixPoint ? o.determineNewCaretPosition.call(u, {\r\n                        begin: 0,\r\n                        end: 0\r\n                    }, !1, !1 === d.__financeInput ? \"radixFocus\" : void 0).begin : 0, f.p = g, u.caretPos = {\r\n                        begin: g\r\n                    };\r\n                    var k = [], b = u.caretPos;\r\n                    if (m.forEach((function(e, t) {\r\n                        if (void 0 !== e) {\r\n                            var i = new h.Event(\"_checkval\");\r\n                            i.key = e, v += e;\r\n                            var r = o.getLastValidPosition.call(u, void 0, !0);\r\n                            !function(e, t) {\r\n                                for (var n = l.getMaskTemplate.call(u, !0, 0).slice(e, o.seekNext.call(u, e, !1, !1)).join(\"\").replace(/'/g, \"\"), i = n.indexOf(t); i > 0 && \" \" === n[i - 1]; ) i--;\r\n                                var a = 0 === i && !o.isMask.call(u, e) && (l.getTest.call(u, e).match.nativeDef === t.charAt(0) || !0 === l.getTest.call(u, e).match.static && l.getTest.call(u, e).match.nativeDef === \"'\" + t.charAt(0) || \" \" === l.getTest.call(u, e).match.nativeDef && (l.getTest.call(u, e + 1).match.nativeDef === t.charAt(0) || !0 === l.getTest.call(u, e + 1).match.static && l.getTest.call(u, e + 1).match.nativeDef === \"'\" + t.charAt(0)));\r\n                                if (!a && i > 0 && !o.isMask.call(u, e, !1, !0)) {\r\n                                    var r = o.seekNext.call(u, e);\r\n                                    u.caretPos.begin < r && (u.caretPos = {\r\n                                        begin: r\r\n                                    });\r\n                                }\r\n                                return a;\r\n                            }(g, v) ? (c = a.EventHandlers.keypressEvent.call(u, i, !0, !1, n, u.caretPos.begin)) && (g = u.caretPos.begin + 1, \r\n                            v = \"\") : c = a.EventHandlers.keypressEvent.call(u, i, !0, !1, n, r + 1), c ? (void 0 !== c.pos && f.validPositions[c.pos] && !0 === f.validPositions[c.pos].match.static && void 0 === f.validPositions[c.pos].alternation && (k.push(c.pos), \r\n                            u.isRTL || (c.forwardPosition = c.pos + 1)), p.call(u, void 0, o.getBuffer.call(u), c.forwardPosition, i, !1), \r\n                            u.caretPos = {\r\n                                begin: c.forwardPosition,\r\n                                end: c.forwardPosition\r\n                            }, b = u.caretPos) : void 0 === f.validPositions[t] && m[t] === l.getPlaceholder.call(u, t) && o.isMask.call(u, t, !0) ? u.caretPos.begin++ : u.caretPos = b;\r\n                        }\r\n                    })), k.length > 0) {\r\n                        var x, w, P = o.seekNext.call(u, -1, void 0, !1);\r\n                        if (!s.isComplete.call(u, o.getBuffer.call(u)) && k.length <= P || s.isComplete.call(u, o.getBuffer.call(u)) && k.length > 0 && k.length !== P && 0 === k[0]) for (var S = P; void 0 !== (x = k.shift()); ) if (x < S) {\r\n                            var O = new h.Event(\"_checkval\");\r\n                            if ((w = f.validPositions[x]).generatedInput = !0, O.key = w.input, (c = a.EventHandlers.keypressEvent.call(u, O, !0, !1, n, S)) && void 0 !== c.pos && c.pos !== x && f.validPositions[c.pos] && !0 === f.validPositions[c.pos].match.static) k.push(c.pos); else if (!c) break;\r\n                            S++;\r\n                        }\r\n                    }\r\n                    t && p.call(u, e, o.getBuffer.call(u), c ? c.forwardPosition : u.caretPos.begin, r || new h.Event(\"checkval\"), r && (\"input\" === r.type && u.undoValue !== o.getBuffer.call(u).join(\"\") || \"paste\" === r.type)), \r\n                    d.skipOptionalPartCharacter = y;\r\n                }\r\n                function p(e, t, n, i, a) {\r\n                    var l = e ? e.inputmask : this, c = l.opts, u = l.dependencyLib;\r\n                    if (i && \"function\" == typeof c.onBeforeWrite) {\r\n                        var f = c.onBeforeWrite.call(l, i, t, n, c);\r\n                        if (f) {\r\n                            if (f.refreshFromBuffer) {\r\n                                var p = f.refreshFromBuffer;\r\n                                s.refreshFromBuffer.call(l, !0 === p ? p : p.start, p.end, f.buffer || t), t = o.getBuffer.call(l, !0);\r\n                            }\r\n                            void 0 !== n && (n = void 0 !== f.caret ? f.caret : n);\r\n                        }\r\n                    }\r\n                    if (void 0 !== e && (e.inputmask._valueSet(t.join(\"\")), void 0 === n || void 0 !== i && \"blur\" === i.type || o.caret.call(l, e, n, void 0, void 0, void 0 !== i && \"keydown\" === i.type && (i.key === r.keys.Delete || i.key === r.keys.Backspace)), \r\n                    void 0 === e.inputmask.writeBufferHook || e.inputmask.writeBufferHook(n), !0 === a)) {\r\n                        var d = u(e), h = e.inputmask._valueGet();\r\n                        e.inputmask.skipInputEvent = !0, d.trigger(\"input\"), setTimeout((function() {\r\n                            h === o.getBufferTemplate.call(l).join(\"\") ? d.trigger(\"cleared\") : !0 === s.isComplete.call(l, t) && d.trigger(\"complete\");\r\n                        }), 0);\r\n                    }\r\n                }\r\n            },\r\n            2394: function(e, t, n) {\r\n                Object.defineProperty(t, \"__esModule\", {\r\n                    value: !0\r\n                }), t.default = void 0;\r\n                var i = m(n(3976)), a = m(n(7392)), r = m(n(3287)), o = n(9716), s = m(n(9380)), l = n(7760), c = n(157), u = n(2391), f = n(8711), p = n(7215), d = n(4713);\r\n                function h(e) {\r\n                    return h = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(e) {\r\n                        return typeof e;\r\n                    } : function(e) {\r\n                        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\r\n                    }, h(e);\r\n                }\r\n                function m(e) {\r\n                    return e && e.__esModule ? e : {\r\n                        default: e\r\n                    };\r\n                }\r\n                var v = s.default.document, g = \"_inputmask_opts\";\r\n                function y(e, t, n) {\r\n                    if (!(this instanceof y)) return new y(e, t, n);\r\n                    this.dependencyLib = r.default, this.el = void 0, this.events = {}, this.maskset = void 0, \r\n                    !0 !== n && (\"[object Object]\" === Object.prototype.toString.call(e) ? t = e : (t = t || {}, \r\n                    e && (t.alias = e)), this.opts = r.default.extend(!0, {}, this.defaults, t), this.noMasksCache = t && void 0 !== t.definitions, \r\n                    this.userOptions = t || {}, k(this.opts.alias, t, this.opts)), this.refreshValue = !1, \r\n                    this.undoValue = void 0, this.$el = void 0, this.skipInputEvent = !1, this.validationEvent = !1, \r\n                    this.ignorable = !1, this.maxLength, this.mouseEnter = !1, this.clicked = 0, this.originalPlaceholder = void 0, \r\n                    this.isComposing = !1, this.hasAlternator = !1;\r\n                }\r\n                function k(e, t, n) {\r\n                    var i = y.prototype.aliases[e];\r\n                    return i ? (i.alias && k(i.alias, void 0, n), r.default.extend(!0, n, i), r.default.extend(!0, n, t), \r\n                    !0) : (null === n.mask && (n.mask = e), !1);\r\n                }\r\n                y.prototype = {\r\n                    dataAttribute: \"data-inputmask\",\r\n                    defaults: i.default,\r\n                    definitions: a.default,\r\n                    aliases: {},\r\n                    masksCache: {},\r\n                    i18n: {},\r\n                    get isRTL() {\r\n                        return this.opts.isRTL || this.opts.numericInput;\r\n                    },\r\n                    mask: function(e) {\r\n                        var t = this;\r\n                        return \"string\" == typeof e && (e = v.getElementById(e) || v.querySelectorAll(e)), \r\n                        (e = e.nodeName ? [ e ] : Array.isArray(e) ? e : [].slice.call(e)).forEach((function(e, n) {\r\n                            var i = r.default.extend(!0, {}, t.opts);\r\n                            if (function(e, t, n, i) {\r\n                                function a(t, a) {\r\n                                    var r = \"\" === i ? t : i + \"-\" + t;\r\n                                    null !== (a = void 0 !== a ? a : e.getAttribute(r)) && (\"string\" == typeof a && (0 === t.indexOf(\"on\") ? a = s.default[a] : \"false\" === a ? a = !1 : \"true\" === a && (a = !0)), \r\n                                    n[t] = a);\r\n                                }\r\n                                if (!0 === t.importDataAttributes) {\r\n                                    var o, l, c, u, f = e.getAttribute(i);\r\n                                    if (f && \"\" !== f && (f = f.replace(/'/g, '\"'), l = JSON.parse(\"{\" + f + \"}\")), \r\n                                    l) for (u in c = void 0, l) if (\"alias\" === u.toLowerCase()) {\r\n                                        c = l[u];\r\n                                        break;\r\n                                    }\r\n                                    for (o in a(\"alias\", c), n.alias && k(n.alias, n, t), t) {\r\n                                        if (l) for (u in c = void 0, l) if (u.toLowerCase() === o.toLowerCase()) {\r\n                                            c = l[u];\r\n                                            break;\r\n                                        }\r\n                                        a(o, c);\r\n                                    }\r\n                                }\r\n                                r.default.extend(!0, t, n), (\"rtl\" === e.dir || t.rightAlign) && (e.style.textAlign = \"right\");\r\n                                (\"rtl\" === e.dir || t.numericInput) && (e.dir = \"ltr\", e.removeAttribute(\"dir\"), \r\n                                t.isRTL = !0);\r\n                                return Object.keys(n).length;\r\n                            }(e, i, r.default.extend(!0, {}, t.userOptions), t.dataAttribute)) {\r\n                                var a = (0, u.generateMaskSet)(i, t.noMasksCache);\r\n                                void 0 !== a && (void 0 !== e.inputmask && (e.inputmask.opts.autoUnmask = !0, e.inputmask.remove()), \r\n                                e.inputmask = new y(void 0, void 0, !0), e.inputmask.opts = i, e.inputmask.noMasksCache = t.noMasksCache, \r\n                                e.inputmask.userOptions = r.default.extend(!0, {}, t.userOptions), e.inputmask.el = e, \r\n                                e.inputmask.$el = (0, r.default)(e), e.inputmask.maskset = a, r.default.data(e, g, t.userOptions), \r\n                                c.mask.call(e.inputmask));\r\n                            }\r\n                        })), e && e[0] && e[0].inputmask || this;\r\n                    },\r\n                    option: function(e, t) {\r\n                        return \"string\" == typeof e ? this.opts[e] : \"object\" === h(e) ? (r.default.extend(this.userOptions, e), \r\n                        this.el && !0 !== t && this.mask(this.el), this) : void 0;\r\n                    },\r\n                    unmaskedvalue: function(e) {\r\n                        if (this.maskset = this.maskset || (0, u.generateMaskSet)(this.opts, this.noMasksCache), \r\n                        void 0 === this.el || void 0 !== e) {\r\n                            var t = (\"function\" == typeof this.opts.onBeforeMask && this.opts.onBeforeMask.call(this, e, this.opts) || e).split(\"\");\r\n                            l.checkVal.call(this, void 0, !1, !1, t), \"function\" == typeof this.opts.onBeforeWrite && this.opts.onBeforeWrite.call(this, void 0, f.getBuffer.call(this), 0, this.opts);\r\n                        }\r\n                        return l.unmaskedvalue.call(this, this.el);\r\n                    },\r\n                    remove: function() {\r\n                        if (this.el) {\r\n                            r.default.data(this.el, g, null);\r\n                            var e = this.opts.autoUnmask ? (0, l.unmaskedvalue)(this.el) : this._valueGet(this.opts.autoUnmask);\r\n                            e !== f.getBufferTemplate.call(this).join(\"\") ? this._valueSet(e, this.opts.autoUnmask) : this._valueSet(\"\"), \r\n                            o.EventRuler.off(this.el), Object.getOwnPropertyDescriptor && Object.getPrototypeOf ? Object.getOwnPropertyDescriptor(Object.getPrototypeOf(this.el), \"value\") && this.__valueGet && Object.defineProperty(this.el, \"value\", {\r\n                                get: this.__valueGet,\r\n                                set: this.__valueSet,\r\n                                configurable: !0\r\n                            }) : v.__lookupGetter__ && this.el.__lookupGetter__(\"value\") && this.__valueGet && (this.el.__defineGetter__(\"value\", this.__valueGet), \r\n                            this.el.__defineSetter__(\"value\", this.__valueSet)), this.el.inputmask = void 0;\r\n                        }\r\n                        return this.el;\r\n                    },\r\n                    getemptymask: function() {\r\n                        return this.maskset = this.maskset || (0, u.generateMaskSet)(this.opts, this.noMasksCache), \r\n                        (this.isRTL ? f.getBufferTemplate.call(this).reverse() : f.getBufferTemplate.call(this)).join(\"\");\r\n                    },\r\n                    hasMaskedValue: function() {\r\n                        return !this.opts.autoUnmask;\r\n                    },\r\n                    isComplete: function() {\r\n                        return this.maskset = this.maskset || (0, u.generateMaskSet)(this.opts, this.noMasksCache), \r\n                        p.isComplete.call(this, f.getBuffer.call(this));\r\n                    },\r\n                    getmetadata: function() {\r\n                        if (this.maskset = this.maskset || (0, u.generateMaskSet)(this.opts, this.noMasksCache), \r\n                        Array.isArray(this.maskset.metadata)) {\r\n                            var e = d.getMaskTemplate.call(this, !0, 0, !1).join(\"\");\r\n                            return this.maskset.metadata.forEach((function(t) {\r\n                                return t.mask !== e || (e = t, !1);\r\n                            })), e;\r\n                        }\r\n                        return this.maskset.metadata;\r\n                    },\r\n                    isValid: function(e) {\r\n                        if (this.maskset = this.maskset || (0, u.generateMaskSet)(this.opts, this.noMasksCache), \r\n                        e) {\r\n                            var t = (\"function\" == typeof this.opts.onBeforeMask && this.opts.onBeforeMask.call(this, e, this.opts) || e).split(\"\");\r\n                            l.checkVal.call(this, void 0, !0, !1, t);\r\n                        } else e = this.isRTL ? f.getBuffer.call(this).slice().reverse().join(\"\") : f.getBuffer.call(this).join(\"\");\r\n                        for (var n = f.getBuffer.call(this), i = f.determineLastRequiredPosition.call(this), a = n.length - 1; a > i && !f.isMask.call(this, a); a--) ;\r\n                        return n.splice(i, a + 1 - i), p.isComplete.call(this, n) && e === (this.isRTL ? f.getBuffer.call(this).slice().reverse().join(\"\") : f.getBuffer.call(this).join(\"\"));\r\n                    },\r\n                    format: function(e, t) {\r\n                        this.maskset = this.maskset || (0, u.generateMaskSet)(this.opts, this.noMasksCache);\r\n                        var n = (\"function\" == typeof this.opts.onBeforeMask && this.opts.onBeforeMask.call(this, e, this.opts) || e).split(\"\");\r\n                        l.checkVal.call(this, void 0, !0, !1, n);\r\n                        var i = this.isRTL ? f.getBuffer.call(this).slice().reverse().join(\"\") : f.getBuffer.call(this).join(\"\");\r\n                        return t ? {\r\n                            value: i,\r\n                            metadata: this.getmetadata()\r\n                        } : i;\r\n                    },\r\n                    setValue: function(e) {\r\n                        this.el && (0, r.default)(this.el).trigger(\"setvalue\", [ e ]);\r\n                    },\r\n                    analyseMask: u.analyseMask\r\n                }, y.extendDefaults = function(e) {\r\n                    r.default.extend(!0, y.prototype.defaults, e);\r\n                }, y.extendDefinitions = function(e) {\r\n                    r.default.extend(!0, y.prototype.definitions, e);\r\n                }, y.extendAliases = function(e) {\r\n                    r.default.extend(!0, y.prototype.aliases, e);\r\n                }, y.format = function(e, t, n) {\r\n                    return y(t).format(e, n);\r\n                }, y.unmask = function(e, t) {\r\n                    return y(t).unmaskedvalue(e);\r\n                }, y.isValid = function(e, t) {\r\n                    return y(t).isValid(e);\r\n                }, y.remove = function(e) {\r\n                    \"string\" == typeof e && (e = v.getElementById(e) || v.querySelectorAll(e)), (e = e.nodeName ? [ e ] : e).forEach((function(e) {\r\n                        e.inputmask && e.inputmask.remove();\r\n                    }));\r\n                }, y.setValue = function(e, t) {\r\n                    \"string\" == typeof e && (e = v.getElementById(e) || v.querySelectorAll(e)), (e = e.nodeName ? [ e ] : e).forEach((function(e) {\r\n                        e.inputmask ? e.inputmask.setValue(t) : (0, r.default)(e).trigger(\"setvalue\", [ t ]);\r\n                    }));\r\n                }, y.dependencyLib = r.default, s.default.Inputmask = y;\r\n                t.default = y;\r\n            },\r\n            5296: function(e, t, n) {\r\n                function i(e) {\r\n                    return i = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(e) {\r\n                        return typeof e;\r\n                    } : function(e) {\r\n                        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\r\n                    }, i(e);\r\n                }\r\n                var a = d(n(9380)), r = d(n(2394));\r\n                function o(e, t) {\r\n                    for (var n = 0; n < t.length; n++) {\r\n                        var a = t[n];\r\n                        a.enumerable = a.enumerable || !1, a.configurable = !0, \"value\" in a && (a.writable = !0), \r\n                        Object.defineProperty(e, (r = a.key, o = void 0, o = function(e, t) {\r\n                            if (\"object\" !== i(e) || null === e) return e;\r\n                            var n = e[Symbol.toPrimitive];\r\n                            if (void 0 !== n) {\r\n                                var a = n.call(e, t || \"default\");\r\n                                if (\"object\" !== i(a)) return a;\r\n                                throw new TypeError(\"@@toPrimitive must return a primitive value.\");\r\n                            }\r\n                            return (\"string\" === t ? String : Number)(e);\r\n                        }(r, \"string\"), \"symbol\" === i(o) ? o : String(o)), a);\r\n                    }\r\n                    var r, o;\r\n                }\r\n                function s(e) {\r\n                    var t = u();\r\n                    return function() {\r\n                        var n, a = p(e);\r\n                        if (t) {\r\n                            var r = p(this).constructor;\r\n                            n = Reflect.construct(a, arguments, r);\r\n                        } else n = a.apply(this, arguments);\r\n                        return function(e, t) {\r\n                            if (t && (\"object\" === i(t) || \"function\" == typeof t)) return t;\r\n                            if (void 0 !== t) throw new TypeError(\"Derived constructors may only return object or undefined\");\r\n                            return function(e) {\r\n                                if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\r\n                                return e;\r\n                            }(e);\r\n                        }(this, n);\r\n                    };\r\n                }\r\n                function l(e) {\r\n                    var t = \"function\" == typeof Map ? new Map : void 0;\r\n                    return l = function(e) {\r\n                        if (null === e || !function(e) {\r\n                            try {\r\n                                return -1 !== Function.toString.call(e).indexOf(\"[native code]\");\r\n                            } catch (t) {\r\n                                return \"function\" == typeof e;\r\n                            }\r\n                        }(e)) return e;\r\n                        if (\"function\" != typeof e) throw new TypeError(\"Super expression must either be null or a function\");\r\n                        if (void 0 !== t) {\r\n                            if (t.has(e)) return t.get(e);\r\n                            t.set(e, n);\r\n                        }\r\n                        function n() {\r\n                            return c(e, arguments, p(this).constructor);\r\n                        }\r\n                        return n.prototype = Object.create(e.prototype, {\r\n                            constructor: {\r\n                                value: n,\r\n                                enumerable: !1,\r\n                                writable: !0,\r\n                                configurable: !0\r\n                            }\r\n                        }), f(n, e);\r\n                    }, l(e);\r\n                }\r\n                function c(e, t, n) {\r\n                    return c = u() ? Reflect.construct.bind() : function(e, t, n) {\r\n                        var i = [ null ];\r\n                        i.push.apply(i, t);\r\n                        var a = new (Function.bind.apply(e, i));\r\n                        return n && f(a, n.prototype), a;\r\n                    }, c.apply(null, arguments);\r\n                }\r\n                function u() {\r\n                    if (\"undefined\" == typeof Reflect || !Reflect.construct) return !1;\r\n                    if (Reflect.construct.sham) return !1;\r\n                    if (\"function\" == typeof Proxy) return !0;\r\n                    try {\r\n                        return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function() {}))), \r\n                        !0;\r\n                    } catch (e) {\r\n                        return !1;\r\n                    }\r\n                }\r\n                function f(e, t) {\r\n                    return f = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(e, t) {\r\n                        return e.__proto__ = t, e;\r\n                    }, f(e, t);\r\n                }\r\n                function p(e) {\r\n                    return p = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(e) {\r\n                        return e.__proto__ || Object.getPrototypeOf(e);\r\n                    }, p(e);\r\n                }\r\n                function d(e) {\r\n                    return e && e.__esModule ? e : {\r\n                        default: e\r\n                    };\r\n                }\r\n                var h = a.default.document;\r\n                if (h && h.head && h.head.attachShadow && a.default.customElements && void 0 === a.default.customElements.get(\"input-mask\")) {\r\n                    var m = function(e) {\r\n                        !function(e, t) {\r\n                            if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\r\n                            e.prototype = Object.create(t && t.prototype, {\r\n                                constructor: {\r\n                                    value: e,\r\n                                    writable: !0,\r\n                                    configurable: !0\r\n                                }\r\n                            }), Object.defineProperty(e, \"prototype\", {\r\n                                writable: !1\r\n                            }), t && f(e, t);\r\n                        }(l, e);\r\n                        var t, n, i, a = s(l);\r\n                        function l() {\r\n                            var e;\r\n                            !function(e, t) {\r\n                                if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\r\n                            }(this, l);\r\n                            var t = (e = a.call(this)).getAttributeNames(), n = e.attachShadow({\r\n                                mode: \"closed\"\r\n                            });\r\n                            for (var i in e.input = h.createElement(\"input\"), e.input.type = \"text\", n.appendChild(e.input), \r\n                            t) Object.prototype.hasOwnProperty.call(t, i) && e.input.setAttribute(t[i], e.getAttribute(t[i]));\r\n                            var o = new r.default;\r\n                            return o.dataAttribute = \"\", o.mask(e.input), e.input.inputmask.shadowRoot = n, \r\n                            e;\r\n                        }\r\n                        return t = l, (n = [ {\r\n                            key: \"attributeChangedCallback\",\r\n                            value: function(e, t, n) {\r\n                                this.input.setAttribute(e, n);\r\n                            }\r\n                        }, {\r\n                            key: \"value\",\r\n                            get: function() {\r\n                                return this.input.value;\r\n                            },\r\n                            set: function(e) {\r\n                                this.input.value = e;\r\n                            }\r\n                        } ]) && o(t.prototype, n), i && o(t, i), Object.defineProperty(t, \"prototype\", {\r\n                            writable: !1\r\n                        }), l;\r\n                    }(l(HTMLElement));\r\n                    a.default.customElements.define(\"input-mask\", m);\r\n                }\r\n            },\r\n            443: function(e, t, n) {\r\n                var i = o(n(7957)), a = o(n(2394));\r\n                function r(e) {\r\n                    return r = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(e) {\r\n                        return typeof e;\r\n                    } : function(e) {\r\n                        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\r\n                    }, r(e);\r\n                }\r\n                function o(e) {\r\n                    return e && e.__esModule ? e : {\r\n                        default: e\r\n                    };\r\n                }\r\n                void 0 === i.default.fn.inputmask && (i.default.fn.inputmask = function(e, t) {\r\n                    var n, o = this[0];\r\n                    if (void 0 === t && (t = {}), \"string\" == typeof e) switch (e) {\r\n                      case \"unmaskedvalue\":\r\n                        return o && o.inputmask ? o.inputmask.unmaskedvalue() : (0, i.default)(o).val();\r\n\r\n                      case \"remove\":\r\n                        return this.each((function() {\r\n                            this.inputmask && this.inputmask.remove();\r\n                        }));\r\n\r\n                      case \"getemptymask\":\r\n                        return o && o.inputmask ? o.inputmask.getemptymask() : \"\";\r\n\r\n                      case \"hasMaskedValue\":\r\n                        return !(!o || !o.inputmask) && o.inputmask.hasMaskedValue();\r\n\r\n                      case \"isComplete\":\r\n                        return !o || !o.inputmask || o.inputmask.isComplete();\r\n\r\n                      case \"getmetadata\":\r\n                        return o && o.inputmask ? o.inputmask.getmetadata() : void 0;\r\n\r\n                      case \"setvalue\":\r\n                        a.default.setValue(o, t);\r\n                        break;\r\n\r\n                      case \"option\":\r\n                        if (\"string\" != typeof t) return this.each((function() {\r\n                            if (void 0 !== this.inputmask) return this.inputmask.option(t);\r\n                        }));\r\n                        if (o && void 0 !== o.inputmask) return o.inputmask.option(t);\r\n                        break;\r\n\r\n                      default:\r\n                        return t.alias = e, n = new a.default(t), this.each((function() {\r\n                            n.mask(this);\r\n                        }));\r\n                    } else {\r\n                        if (Array.isArray(e)) return t.alias = e, n = new a.default(t), this.each((function() {\r\n                            n.mask(this);\r\n                        }));\r\n                        if (\"object\" === r(e)) return n = new a.default(e), void 0 === e.mask && void 0 === e.alias ? this.each((function() {\r\n                            if (void 0 !== this.inputmask) return this.inputmask.option(e);\r\n                            n.mask(this);\r\n                        })) : this.each((function() {\r\n                            n.mask(this);\r\n                        }));\r\n                        if (void 0 === e) return this.each((function() {\r\n                            (n = new a.default(t)).mask(this);\r\n                        }));\r\n                    }\r\n                });\r\n            },\r\n            2839: function(e, t) {\r\n                function n(e) {\r\n                    return n = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(e) {\r\n                        return typeof e;\r\n                    } : function(e) {\r\n                        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\r\n                    }, n(e);\r\n                }\r\n                function i(e, t) {\r\n                    return function(e) {\r\n                        if (Array.isArray(e)) return e;\r\n                    }(e) || function(e, t) {\r\n                        var n = null == e ? null : \"undefined\" != typeof Symbol && e[Symbol.iterator] || e[\"@@iterator\"];\r\n                        if (null != n) {\r\n                            var i, a, r, o, s = [], l = !0, c = !1;\r\n                            try {\r\n                                if (r = (n = n.call(e)).next, 0 === t) {\r\n                                    if (Object(n) !== n) return;\r\n                                    l = !1;\r\n                                } else for (;!(l = (i = r.call(n)).done) && (s.push(i.value), s.length !== t); l = !0) ;\r\n                            } catch (e) {\r\n                                c = !0, a = e;\r\n                            } finally {\r\n                                try {\r\n                                    if (!l && null != n.return && (o = n.return(), Object(o) !== o)) return;\r\n                                } finally {\r\n                                    if (c) throw a;\r\n                                }\r\n                            }\r\n                            return s;\r\n                        }\r\n                    }(e, t) || function(e, t) {\r\n                        if (!e) return;\r\n                        if (\"string\" == typeof e) return a(e, t);\r\n                        var n = Object.prototype.toString.call(e).slice(8, -1);\r\n                        \"Object\" === n && e.constructor && (n = e.constructor.name);\r\n                        if (\"Map\" === n || \"Set\" === n) return Array.from(e);\r\n                        if (\"Arguments\" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return a(e, t);\r\n                    }(e, t) || function() {\r\n                        throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\r\n                    }();\r\n                }\r\n                function a(e, t) {\r\n                    (null == t || t > e.length) && (t = e.length);\r\n                    for (var n = 0, i = new Array(t); n < t; n++) i[n] = e[n];\r\n                    return i;\r\n                }\r\n                function r(e, t) {\r\n                    var n = Object.keys(e);\r\n                    if (Object.getOwnPropertySymbols) {\r\n                        var i = Object.getOwnPropertySymbols(e);\r\n                        t && (i = i.filter((function(t) {\r\n                            return Object.getOwnPropertyDescriptor(e, t).enumerable;\r\n                        }))), n.push.apply(n, i);\r\n                    }\r\n                    return n;\r\n                }\r\n                function o(e, t, i) {\r\n                    return (t = function(e) {\r\n                        var t = function(e, t) {\r\n                            if (\"object\" !== n(e) || null === e) return e;\r\n                            var i = e[Symbol.toPrimitive];\r\n                            if (void 0 !== i) {\r\n                                var a = i.call(e, t || \"default\");\r\n                                if (\"object\" !== n(a)) return a;\r\n                                throw new TypeError(\"@@toPrimitive must return a primitive value.\");\r\n                            }\r\n                            return (\"string\" === t ? String : Number)(e);\r\n                        }(e, \"string\");\r\n                        return \"symbol\" === n(t) ? t : String(t);\r\n                    }(t)) in e ? Object.defineProperty(e, t, {\r\n                        value: i,\r\n                        enumerable: !0,\r\n                        configurable: !0,\r\n                        writable: !0\r\n                    }) : e[t] = i, e;\r\n                }\r\n                Object.defineProperty(t, \"__esModule\", {\r\n                    value: !0\r\n                }), t.keys = t.keyCode = void 0, t.toKey = function(e, t) {\r\n                    return l[e] || (t ? String.fromCharCode(e) : String.fromCharCode(e).toLowerCase());\r\n                }, t.toKeyCode = function(e) {\r\n                    return s[e];\r\n                };\r\n                var s = t.keyCode = function(e) {\r\n                    for (var t = 1; t < arguments.length; t++) {\r\n                        var n = null != arguments[t] ? arguments[t] : {};\r\n                        t % 2 ? r(Object(n), !0).forEach((function(t) {\r\n                            o(e, t, n[t]);\r\n                        })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : r(Object(n)).forEach((function(t) {\r\n                            Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t));\r\n                        }));\r\n                    }\r\n                    return e;\r\n                }({\r\n                    c: 67,\r\n                    x: 88,\r\n                    z: 90,\r\n                    BACKSPACE_SAFARI: 127,\r\n                    Enter: 13,\r\n                    Meta_LEFT: 91,\r\n                    Meta_RIGHT: 92,\r\n                    Space: 32\r\n                }, {\r\n                    Alt: 18,\r\n                    AltGraph: 18,\r\n                    ArrowDown: 40,\r\n                    ArrowLeft: 37,\r\n                    ArrowRight: 39,\r\n                    ArrowUp: 38,\r\n                    Backspace: 8,\r\n                    CapsLock: 20,\r\n                    Control: 17,\r\n                    ContextMenu: 93,\r\n                    Dead: 221,\r\n                    Delete: 46,\r\n                    End: 35,\r\n                    Escape: 27,\r\n                    F1: 112,\r\n                    F2: 113,\r\n                    F3: 114,\r\n                    F4: 115,\r\n                    F5: 116,\r\n                    F6: 117,\r\n                    F7: 118,\r\n                    F8: 119,\r\n                    F9: 120,\r\n                    F10: 121,\r\n                    F11: 122,\r\n                    F12: 123,\r\n                    Home: 36,\r\n                    Insert: 45,\r\n                    NumLock: 144,\r\n                    PageDown: 34,\r\n                    PageUp: 33,\r\n                    Pause: 19,\r\n                    PrintScreen: 44,\r\n                    Process: 229,\r\n                    Shift: 16,\r\n                    ScrollLock: 145,\r\n                    Tab: 9,\r\n                    Unidentified: 229\r\n                }), l = Object.entries(s).reduce((function(e, t) {\r\n                    var n = i(t, 2), a = n[0], r = n[1];\r\n                    return e[r] = void 0 === e[r] ? a : e[r], e;\r\n                }), {});\r\n                t.keys = Object.entries(s).reduce((function(e, t) {\r\n                    var n = i(t, 2), a = n[0];\r\n                    n[1];\r\n                    return e[a] = \"Space\" === a ? \" \" : a, e;\r\n                }), {});\r\n            },\r\n            2391: function(e, t, n) {\r\n                Object.defineProperty(t, \"__esModule\", {\r\n                    value: !0\r\n                }), t.analyseMask = function(e, t, n) {\r\n                    var i, a, l, c, u, f, p = /(?:[?*+]|\\{[0-9+*]+(?:,[0-9+*]*)?(?:\\|[0-9+*]*)?\\})|[^.?*+^${[]()|\\\\]+|./g, d = /\\[\\^?]?(?:[^\\\\\\]]+|\\\\[\\S\\s]?)*]?|\\\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\\S\\s]?)|\\((?:\\?[:=!]?)?|(?:[?*+]|\\{[0-9]+(?:,[0-9]*)?\\})\\??|[^.?*+^${[()|\\\\]+|./g, h = !1, m = new o.default, v = [], g = [], y = !1;\r\n                    function k(e, i, a) {\r\n                        a = void 0 !== a ? a : e.matches.length;\r\n                        var o = e.matches[a - 1];\r\n                        if (t) {\r\n                            if (0 === i.indexOf(\"[\") || h && /\\\\d|\\\\s|\\\\w|\\\\p/i.test(i) || \".\" === i) {\r\n                                var l = n.casing ? \"i\" : \"\";\r\n                                /\\\\p\\{.*}/i.test(i) && (l += \"u\"), e.matches.splice(a++, 0, {\r\n                                    fn: new RegExp(i, l),\r\n                                    static: !1,\r\n                                    optionality: !1,\r\n                                    newBlockMarker: void 0 === o ? \"master\" : o.def !== i,\r\n                                    casing: null,\r\n                                    def: i,\r\n                                    placeholder: \"object\" === s(n.placeholder) ? n.placeholder[m.matches.length] : void 0,\r\n                                    nativeDef: i\r\n                                });\r\n                            } else h && (i = i[i.length - 1]), i.split(\"\").forEach((function(t, i) {\r\n                                o = e.matches[a - 1], e.matches.splice(a++, 0, {\r\n                                    fn: /[a-z]/i.test(n.staticDefinitionSymbol || t) ? new RegExp(\"[\" + (n.staticDefinitionSymbol || t) + \"]\", n.casing ? \"i\" : \"\") : null,\r\n                                    static: !0,\r\n                                    optionality: !1,\r\n                                    newBlockMarker: void 0 === o ? \"master\" : o.def !== t && !0 !== o.static,\r\n                                    casing: null,\r\n                                    def: n.staticDefinitionSymbol || t,\r\n                                    placeholder: void 0 !== n.staticDefinitionSymbol ? t : \"object\" === s(n.placeholder) ? n.placeholder[m.matches.length] : void 0,\r\n                                    nativeDef: (h ? \"'\" : \"\") + t\r\n                                });\r\n                            }));\r\n                            h = !1;\r\n                        } else {\r\n                            var c = n.definitions && n.definitions[i] || n.usePrototypeDefinitions && r.default.prototype.definitions[i];\r\n                            c && !h ? e.matches.splice(a++, 0, {\r\n                                fn: c.validator ? \"string\" == typeof c.validator ? new RegExp(c.validator, n.casing ? \"i\" : \"\") : new function() {\r\n                                    this.test = c.validator;\r\n                                } : /./,\r\n                                static: c.static || !1,\r\n                                optionality: c.optional || !1,\r\n                                defOptionality: c.optional || !1,\r\n                                newBlockMarker: void 0 === o || c.optional ? \"master\" : o.def !== (c.definitionSymbol || i),\r\n                                casing: c.casing,\r\n                                def: c.definitionSymbol || i,\r\n                                placeholder: c.placeholder,\r\n                                nativeDef: i,\r\n                                generated: c.generated\r\n                            }) : (e.matches.splice(a++, 0, {\r\n                                fn: /[a-z]/i.test(n.staticDefinitionSymbol || i) ? new RegExp(\"[\" + (n.staticDefinitionSymbol || i) + \"]\", n.casing ? \"i\" : \"\") : null,\r\n                                static: !0,\r\n                                optionality: !1,\r\n                                newBlockMarker: void 0 === o ? \"master\" : o.def !== i && !0 !== o.static,\r\n                                casing: null,\r\n                                def: n.staticDefinitionSymbol || i,\r\n                                placeholder: void 0 !== n.staticDefinitionSymbol ? i : void 0,\r\n                                nativeDef: (h ? \"'\" : \"\") + i\r\n                            }), h = !1);\r\n                        }\r\n                    }\r\n                    function b() {\r\n                        if (v.length > 0) {\r\n                            if (k(c = v[v.length - 1], a), c.isAlternator) {\r\n                                u = v.pop();\r\n                                for (var e = 0; e < u.matches.length; e++) u.matches[e].isGroup && (u.matches[e].isGroup = !1);\r\n                                v.length > 0 ? (c = v[v.length - 1]).matches.push(u) : m.matches.push(u);\r\n                            }\r\n                        } else k(m, a);\r\n                    }\r\n                    function x(e) {\r\n                        var t = new o.default(!0);\r\n                        return t.openGroup = !1, t.matches = e, t;\r\n                    }\r\n                    function w() {\r\n                        if ((l = v.pop()).openGroup = !1, void 0 !== l) if (v.length > 0) {\r\n                            if ((c = v[v.length - 1]).matches.push(l), c.isAlternator) {\r\n                                u = v.pop();\r\n                                for (var e = 0; e < u.matches.length; e++) u.matches[e].isGroup = !1, u.matches[e].alternatorGroup = !1;\r\n                                v.length > 0 ? (c = v[v.length - 1]).matches.push(u) : m.matches.push(u);\r\n                            }\r\n                        } else m.matches.push(l); else b();\r\n                    }\r\n                    function P(e) {\r\n                        var t = e.pop();\r\n                        return t.isQuantifier && (t = x([ e.pop(), t ])), t;\r\n                    }\r\n                    t && (n.optionalmarker[0] = void 0, n.optionalmarker[1] = void 0);\r\n                    for (;i = t ? d.exec(e) : p.exec(e); ) {\r\n                        if (a = i[0], t) {\r\n                            switch (a.charAt(0)) {\r\n                              case \"?\":\r\n                                a = \"{0,1}\";\r\n                                break;\r\n\r\n                              case \"+\":\r\n                              case \"*\":\r\n                                a = \"{\" + a + \"}\";\r\n                                break;\r\n\r\n                              case \"|\":\r\n                                if (0 === v.length) {\r\n                                    var S = x(m.matches);\r\n                                    S.openGroup = !0, v.push(S), m.matches = [], y = !0;\r\n                                }\r\n                            }\r\n                            switch (a) {\r\n                              case \"\\\\d\":\r\n                                a = \"[0-9]\";\r\n                                break;\r\n\r\n                              case \"\\\\p\":\r\n                                a += d.exec(e)[0], a += d.exec(e)[0];\r\n                            }\r\n                        }\r\n                        if (h) b(); else switch (a.charAt(0)) {\r\n                          case \"$\":\r\n                          case \"^\":\r\n                            t || b();\r\n                            break;\r\n\r\n                          case n.escapeChar:\r\n                            h = !0, t && b();\r\n                            break;\r\n\r\n                          case n.optionalmarker[1]:\r\n                          case n.groupmarker[1]:\r\n                            w();\r\n                            break;\r\n\r\n                          case n.optionalmarker[0]:\r\n                            v.push(new o.default(!1, !0));\r\n                            break;\r\n\r\n                          case n.groupmarker[0]:\r\n                            v.push(new o.default(!0));\r\n                            break;\r\n\r\n                          case n.quantifiermarker[0]:\r\n                            var O = new o.default(!1, !1, !0), M = (a = a.replace(/[{}?]/g, \"\")).split(\"|\"), _ = M[0].split(\",\"), E = isNaN(_[0]) ? _[0] : parseInt(_[0]), j = 1 === _.length ? E : isNaN(_[1]) ? _[1] : parseInt(_[1]), T = isNaN(M[1]) ? M[1] : parseInt(M[1]);\r\n                            \"*\" !== E && \"+\" !== E || (E = \"*\" === j ? 0 : 1), O.quantifier = {\r\n                                min: E,\r\n                                max: j,\r\n                                jit: T\r\n                            };\r\n                            var A = v.length > 0 ? v[v.length - 1].matches : m.matches;\r\n                            (i = A.pop()).isGroup || (i = x([ i ])), A.push(i), A.push(O);\r\n                            break;\r\n\r\n                          case n.alternatormarker:\r\n                            if (v.length > 0) {\r\n                                var D = (c = v[v.length - 1]).matches[c.matches.length - 1];\r\n                                f = c.openGroup && (void 0 === D.matches || !1 === D.isGroup && !1 === D.isAlternator) ? v.pop() : P(c.matches);\r\n                            } else f = P(m.matches);\r\n                            if (f.isAlternator) v.push(f); else if (f.alternatorGroup ? (u = v.pop(), f.alternatorGroup = !1) : u = new o.default(!1, !1, !1, !0), \r\n                            u.matches.push(f), v.push(u), f.openGroup) {\r\n                                f.openGroup = !1;\r\n                                var L = new o.default(!0);\r\n                                L.alternatorGroup = !0, v.push(L);\r\n                            }\r\n                            break;\r\n\r\n                          default:\r\n                            b();\r\n                        }\r\n                    }\r\n                    y && w();\r\n                    for (;v.length > 0; ) l = v.pop(), m.matches.push(l);\r\n                    m.matches.length > 0 && (!function e(i) {\r\n                        i && i.matches && i.matches.forEach((function(a, r) {\r\n                            var o = i.matches[r + 1];\r\n                            (void 0 === o || void 0 === o.matches || !1 === o.isQuantifier) && a && a.isGroup && (a.isGroup = !1, \r\n                            t || (k(a, n.groupmarker[0], 0), !0 !== a.openGroup && k(a, n.groupmarker[1]))), \r\n                            e(a);\r\n                        }));\r\n                    }(m), g.push(m));\r\n                    (n.numericInput || n.isRTL) && function e(t) {\r\n                        for (var i in t.matches = t.matches.reverse(), t.matches) if (Object.prototype.hasOwnProperty.call(t.matches, i)) {\r\n                            var a = parseInt(i);\r\n                            if (t.matches[i].isQuantifier && t.matches[a + 1] && t.matches[a + 1].isGroup) {\r\n                                var r = t.matches[i];\r\n                                t.matches.splice(i, 1), t.matches.splice(a + 1, 0, r);\r\n                            }\r\n                            void 0 !== t.matches[i].matches ? t.matches[i] = e(t.matches[i]) : t.matches[i] = ((o = t.matches[i]) === n.optionalmarker[0] ? o = n.optionalmarker[1] : o === n.optionalmarker[1] ? o = n.optionalmarker[0] : o === n.groupmarker[0] ? o = n.groupmarker[1] : o === n.groupmarker[1] && (o = n.groupmarker[0]), \r\n                            o);\r\n                        }\r\n                        var o;\r\n                        return t;\r\n                    }(g[0]);\r\n                    return g;\r\n                }, t.generateMaskSet = function(e, t) {\r\n                    var n;\r\n                    function o(e, t) {\r\n                        var n = t.repeat, i = t.groupmarker, r = t.quantifiermarker, o = t.keepStatic;\r\n                        if (n > 0 || \"*\" === n || \"+\" === n) {\r\n                            var s = \"*\" === n ? 0 : \"+\" === n ? 1 : n;\r\n                            if (s != n) e = i[0] + e + i[1] + r[0] + s + \",\" + n + r[1]; else for (var c = e, u = 1; u < s; u++) e += c;\r\n                        }\r\n                        if (!0 === o) {\r\n                            var f = e.match(new RegExp(\"(.)\\\\[([^\\\\]]*)\\\\]\", \"g\"));\r\n                            f && f.forEach((function(t, n) {\r\n                                var i = function(e, t) {\r\n                                    return function(e) {\r\n                                        if (Array.isArray(e)) return e;\r\n                                    }(e) || function(e, t) {\r\n                                        var n = null == e ? null : \"undefined\" != typeof Symbol && e[Symbol.iterator] || e[\"@@iterator\"];\r\n                                        if (null != n) {\r\n                                            var i, a, r, o, s = [], l = !0, c = !1;\r\n                                            try {\r\n                                                if (r = (n = n.call(e)).next, 0 === t) {\r\n                                                    if (Object(n) !== n) return;\r\n                                                    l = !1;\r\n                                                } else for (;!(l = (i = r.call(n)).done) && (s.push(i.value), s.length !== t); l = !0) ;\r\n                                            } catch (e) {\r\n                                                c = !0, a = e;\r\n                                            } finally {\r\n                                                try {\r\n                                                    if (!l && null != n.return && (o = n.return(), Object(o) !== o)) return;\r\n                                                } finally {\r\n                                                    if (c) throw a;\r\n                                                }\r\n                                            }\r\n                                            return s;\r\n                                        }\r\n                                    }(e, t) || function(e, t) {\r\n                                        if (!e) return;\r\n                                        if (\"string\" == typeof e) return l(e, t);\r\n                                        var n = Object.prototype.toString.call(e).slice(8, -1);\r\n                                        \"Object\" === n && e.constructor && (n = e.constructor.name);\r\n                                        if (\"Map\" === n || \"Set\" === n) return Array.from(e);\r\n                                        if (\"Arguments\" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return l(e, t);\r\n                                    }(e, t) || function() {\r\n                                        throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\r\n                                    }();\r\n                                }(t.split(\"[\"), 2), r = i[0], o = i[1];\r\n                                o = o.replace(\"]\", \"\"), e = e.replace(new RegExp(\"\".concat((0, a.default)(r), \"\\\\[\").concat((0, \r\n                                a.default)(o), \"\\\\]\")), r.charAt(0) === o.charAt(0) ? \"(\".concat(r, \"|\").concat(r).concat(o, \")\") : \"\".concat(r, \"[\").concat(o, \"]\"));\r\n                            }));\r\n                        }\r\n                        return e;\r\n                    }\r\n                    function c(e, n, a) {\r\n                        var l, c, u = !1;\r\n                        return null !== e && \"\" !== e || ((u = null !== a.regex) ? e = (e = a.regex).replace(/^(\\^)(.*)(\\$)$/, \"$2\") : (u = !0, \r\n                        e = \".*\")), 1 === e.length && !1 === a.greedy && 0 !== a.repeat && (a.placeholder = \"\"), \r\n                        e = o(e, a), c = u ? \"regex_\" + a.regex : a.numericInput ? e.split(\"\").reverse().join(\"\") : e, \r\n                        null !== a.keepStatic && (c = \"ks_\" + a.keepStatic + c), \"object\" === s(a.placeholder) && (c = \"ph_\" + JSON.stringify(a.placeholder) + c), \r\n                        void 0 === r.default.prototype.masksCache[c] || !0 === t ? (l = {\r\n                            mask: e,\r\n                            maskToken: r.default.prototype.analyseMask(e, u, a),\r\n                            validPositions: [],\r\n                            _buffer: void 0,\r\n                            buffer: void 0,\r\n                            tests: {},\r\n                            excludes: {},\r\n                            metadata: n,\r\n                            maskLength: void 0,\r\n                            jitOffset: {}\r\n                        }, !0 !== t && (r.default.prototype.masksCache[c] = l, l = i.default.extend(!0, {}, r.default.prototype.masksCache[c]))) : l = i.default.extend(!0, {}, r.default.prototype.masksCache[c]), \r\n                        l;\r\n                    }\r\n                    \"function\" == typeof e.mask && (e.mask = e.mask(e));\r\n                    if (Array.isArray(e.mask)) {\r\n                        if (e.mask.length > 1) {\r\n                            null === e.keepStatic && (e.keepStatic = !0);\r\n                            var u = e.groupmarker[0];\r\n                            return (e.isRTL ? e.mask.reverse() : e.mask).forEach((function(t) {\r\n                                u.length > 1 && (u += e.alternatormarker), void 0 !== t.mask && \"function\" != typeof t.mask ? u += t.mask : u += t;\r\n                            })), c(u += e.groupmarker[1], e.mask, e);\r\n                        }\r\n                        e.mask = e.mask.pop();\r\n                    }\r\n                    n = e.mask && void 0 !== e.mask.mask && \"function\" != typeof e.mask.mask ? c(e.mask.mask, e.mask, e) : c(e.mask, e.mask, e);\r\n                    null === e.keepStatic && (e.keepStatic = !1);\r\n                    return n;\r\n                };\r\n                var i = c(n(3287)), a = c(n(7184)), r = c(n(2394)), o = c(n(9695));\r\n                function s(e) {\r\n                    return s = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(e) {\r\n                        return typeof e;\r\n                    } : function(e) {\r\n                        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\r\n                    }, s(e);\r\n                }\r\n                function l(e, t) {\r\n                    (null == t || t > e.length) && (t = e.length);\r\n                    for (var n = 0, i = new Array(t); n < t; n++) i[n] = e[n];\r\n                    return i;\r\n                }\r\n                function c(e) {\r\n                    return e && e.__esModule ? e : {\r\n                        default: e\r\n                    };\r\n                }\r\n            },\r\n            157: function(e, t, n) {\r\n                Object.defineProperty(t, \"__esModule\", {\r\n                    value: !0\r\n                }), t.mask = function() {\r\n                    var e = this, t = this.opts, n = this.el, c = this.dependencyLib;\r\n                    r.EventRuler.off(n);\r\n                    var u = function(t, n) {\r\n                        var i = t.getAttribute(\"type\"), a = \"input\" === t.tagName.toLowerCase() && n.supportsInputType.includes(i) || t.isContentEditable || \"textarea\" === t.tagName.toLowerCase();\r\n                        if (!a) if (\"input\" === t.tagName.toLowerCase()) {\r\n                            var l = document.createElement(\"input\");\r\n                            l.setAttribute(\"type\", i), a = \"text\" === l.type, l = null;\r\n                        } else a = \"partial\";\r\n                        return !1 !== a ? function(t) {\r\n                            var i, a;\r\n                            function l() {\r\n                                return this.inputmask ? this.inputmask.opts.autoUnmask ? this.inputmask.unmaskedvalue() : -1 !== s.getLastValidPosition.call(e) || !0 !== n.nullable ? (this.inputmask.shadowRoot || this.ownerDocument).activeElement === this && n.clearMaskOnLostFocus ? (e.isRTL ? o.clearOptionalTail.call(e, s.getBuffer.call(e).slice()).reverse() : o.clearOptionalTail.call(e, s.getBuffer.call(e).slice())).join(\"\") : i.call(this) : \"\" : i.call(this);\r\n                            }\r\n                            function u(e) {\r\n                                a.call(this, e), this.inputmask && (0, o.applyInputValue)(this, e);\r\n                            }\r\n                            if (!t.inputmask.__valueGet) {\r\n                                if (!0 !== n.noValuePatching) {\r\n                                    if (Object.getOwnPropertyDescriptor) {\r\n                                        var f = Object.getPrototypeOf ? Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t), \"value\") : void 0;\r\n                                        f && f.get && f.set ? (i = f.get, a = f.set, Object.defineProperty(t, \"value\", {\r\n                                            get: l,\r\n                                            set: u,\r\n                                            configurable: !0\r\n                                        })) : \"input\" !== t.tagName.toLowerCase() && (i = function() {\r\n                                            return this.textContent;\r\n                                        }, a = function(e) {\r\n                                            this.textContent = e;\r\n                                        }, Object.defineProperty(t, \"value\", {\r\n                                            get: l,\r\n                                            set: u,\r\n                                            configurable: !0\r\n                                        }));\r\n                                    } else document.__lookupGetter__ && t.__lookupGetter__(\"value\") && (i = t.__lookupGetter__(\"value\"), \r\n                                    a = t.__lookupSetter__(\"value\"), t.__defineGetter__(\"value\", l), t.__defineSetter__(\"value\", u));\r\n                                    t.inputmask.__valueGet = i, t.inputmask.__valueSet = a;\r\n                                }\r\n                                t.inputmask._valueGet = function(t) {\r\n                                    return e.isRTL && !0 !== t ? i.call(this.el).split(\"\").reverse().join(\"\") : i.call(this.el);\r\n                                }, t.inputmask._valueSet = function(t, n) {\r\n                                    a.call(this.el, null == t ? \"\" : !0 !== n && e.isRTL ? t.split(\"\").reverse().join(\"\") : t);\r\n                                }, void 0 === i && (i = function() {\r\n                                    return this.value;\r\n                                }, a = function(e) {\r\n                                    this.value = e;\r\n                                }, function(t) {\r\n                                    if (c.valHooks && (void 0 === c.valHooks[t] || !0 !== c.valHooks[t].inputmaskpatch)) {\r\n                                        var i = c.valHooks[t] && c.valHooks[t].get ? c.valHooks[t].get : function(e) {\r\n                                            return e.value;\r\n                                        }, a = c.valHooks[t] && c.valHooks[t].set ? c.valHooks[t].set : function(e, t) {\r\n                                            return e.value = t, e;\r\n                                        };\r\n                                        c.valHooks[t] = {\r\n                                            get: function(t) {\r\n                                                if (t.inputmask) {\r\n                                                    if (t.inputmask.opts.autoUnmask) return t.inputmask.unmaskedvalue();\r\n                                                    var a = i(t);\r\n                                                    return -1 !== s.getLastValidPosition.call(e, void 0, void 0, t.inputmask.maskset.validPositions) || !0 !== n.nullable ? a : \"\";\r\n                                                }\r\n                                                return i(t);\r\n                                            },\r\n                                            set: function(e, t) {\r\n                                                var n = a(e, t);\r\n                                                return e.inputmask && (0, o.applyInputValue)(e, t), n;\r\n                                            },\r\n                                            inputmaskpatch: !0\r\n                                        };\r\n                                    }\r\n                                }(t.type), function(e) {\r\n                                    r.EventRuler.on(e, \"mouseenter\", (function() {\r\n                                        var e = this, t = e.inputmask._valueGet(!0);\r\n                                        t != (e.inputmask.isRTL ? s.getBuffer.call(e.inputmask).slice().reverse() : s.getBuffer.call(e.inputmask)).join(\"\") && (0, \r\n                                        o.applyInputValue)(e, t);\r\n                                    }));\r\n                                }(t));\r\n                            }\r\n                        }(t) : t.inputmask = void 0, a;\r\n                    }(n, t);\r\n                    if (!1 !== u) {\r\n                        e.originalPlaceholder = n.placeholder, e.maxLength = void 0 !== n ? n.maxLength : void 0, \r\n                        -1 === e.maxLength && (e.maxLength = void 0), \"inputMode\" in n && null === n.getAttribute(\"inputmode\") && (n.inputMode = t.inputmode, \r\n                        n.setAttribute(\"inputmode\", t.inputmode)), !0 === u && (t.showMaskOnFocus = t.showMaskOnFocus && -1 === [ \"cc-number\", \"cc-exp\" ].indexOf(n.autocomplete), \r\n                        i.iphone && (t.insertModeVisual = !1, n.setAttribute(\"autocorrect\", \"off\")), r.EventRuler.on(n, \"submit\", a.EventHandlers.submitEvent), \r\n                        r.EventRuler.on(n, \"reset\", a.EventHandlers.resetEvent), r.EventRuler.on(n, \"blur\", a.EventHandlers.blurEvent), \r\n                        r.EventRuler.on(n, \"focus\", a.EventHandlers.focusEvent), r.EventRuler.on(n, \"invalid\", a.EventHandlers.invalidEvent), \r\n                        r.EventRuler.on(n, \"click\", a.EventHandlers.clickEvent), r.EventRuler.on(n, \"mouseleave\", a.EventHandlers.mouseleaveEvent), \r\n                        r.EventRuler.on(n, \"mouseenter\", a.EventHandlers.mouseenterEvent), r.EventRuler.on(n, \"paste\", a.EventHandlers.pasteEvent), \r\n                        r.EventRuler.on(n, \"cut\", a.EventHandlers.cutEvent), r.EventRuler.on(n, \"complete\", t.oncomplete), \r\n                        r.EventRuler.on(n, \"incomplete\", t.onincomplete), r.EventRuler.on(n, \"cleared\", t.oncleared), \r\n                        !0 !== t.inputEventOnly && r.EventRuler.on(n, \"keydown\", a.EventHandlers.keyEvent), \r\n                        (i.mobile || t.inputEventOnly) && n.removeAttribute(\"maxLength\"), r.EventRuler.on(n, \"input\", a.EventHandlers.inputFallBackEvent)), \r\n                        r.EventRuler.on(n, \"setvalue\", a.EventHandlers.setValueEvent), void 0 === e.applyMaskHook || e.applyMaskHook(), \r\n                        s.getBufferTemplate.call(e).join(\"\"), e.undoValue = e._valueGet(!0);\r\n                        var f = (n.inputmask.shadowRoot || n.ownerDocument).activeElement;\r\n                        if (\"\" !== n.inputmask._valueGet(!0) || !1 === t.clearMaskOnLostFocus || f === n) {\r\n                            (0, o.applyInputValue)(n, n.inputmask._valueGet(!0), t);\r\n                            var p = s.getBuffer.call(e).slice();\r\n                            !1 === l.isComplete.call(e, p) && t.clearIncomplete && s.resetMaskSet.call(e, !1), \r\n                            t.clearMaskOnLostFocus && f !== n && (-1 === s.getLastValidPosition.call(e) ? p = [] : o.clearOptionalTail.call(e, p)), \r\n                            (!1 === t.clearMaskOnLostFocus || t.showMaskOnFocus && f === n || \"\" !== n.inputmask._valueGet(!0)) && (0, \r\n                            o.writeBuffer)(n, p), f === n && s.caret.call(e, n, s.seekNext.call(e, s.getLastValidPosition.call(e)));\r\n                        }\r\n                    }\r\n                };\r\n                var i = n(9845), a = n(6030), r = n(9716), o = n(7760), s = n(8711), l = n(7215);\r\n            },\r\n            9695: function(e, t) {\r\n                Object.defineProperty(t, \"__esModule\", {\r\n                    value: !0\r\n                }), t.default = function(e, t, n, i) {\r\n                    this.matches = [], this.openGroup = e || !1, this.alternatorGroup = !1, this.isGroup = e || !1, \r\n                    this.isOptional = t || !1, this.isQuantifier = n || !1, this.isAlternator = i || !1, \r\n                    this.quantifier = {\r\n                        min: 1,\r\n                        max: 1\r\n                    };\r\n                };\r\n            },\r\n            3194: function() {\r\n                Array.prototype.includes || Object.defineProperty(Array.prototype, \"includes\", {\r\n                    value: function(e, t) {\r\n                        if (null == this) throw new TypeError('\"this\" is null or not defined');\r\n                        var n = Object(this), i = n.length >>> 0;\r\n                        if (0 === i) return !1;\r\n                        for (var a = 0 | t, r = Math.max(a >= 0 ? a : i - Math.abs(a), 0); r < i; ) {\r\n                            if (n[r] === e) return !0;\r\n                            r++;\r\n                        }\r\n                        return !1;\r\n                    }\r\n                });\r\n            },\r\n            9302: function() {\r\n                var e = Function.bind.call(Function.call, Array.prototype.reduce), t = Function.bind.call(Function.call, Object.prototype.propertyIsEnumerable), n = Function.bind.call(Function.call, Array.prototype.concat), i = Object.keys;\r\n                Object.entries || (Object.entries = function(a) {\r\n                    return e(i(a), (function(e, i) {\r\n                        return n(e, \"string\" == typeof i && t(a, i) ? [ [ i, a[i] ] ] : []);\r\n                    }), []);\r\n                });\r\n            },\r\n            7149: function() {\r\n                function e(t) {\r\n                    return e = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(e) {\r\n                        return typeof e;\r\n                    } : function(e) {\r\n                        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\r\n                    }, e(t);\r\n                }\r\n                \"function\" != typeof Object.getPrototypeOf && (Object.getPrototypeOf = \"object\" === e(\"test\".__proto__) ? function(e) {\r\n                    return e.__proto__;\r\n                } : function(e) {\r\n                    return e.constructor.prototype;\r\n                });\r\n            },\r\n            4013: function() {\r\n                String.prototype.includes || (String.prototype.includes = function(e, t) {\r\n                    return \"number\" != typeof t && (t = 0), !(t + e.length > this.length) && -1 !== this.indexOf(e, t);\r\n                });\r\n            },\r\n            8711: function(e, t, n) {\r\n                Object.defineProperty(t, \"__esModule\", {\r\n                    value: !0\r\n                }), t.caret = function(e, t, n, i, r) {\r\n                    var o, s = this, l = this.opts;\r\n                    if (void 0 === t) return \"selectionStart\" in e && \"selectionEnd\" in e ? (t = e.selectionStart, \r\n                    n = e.selectionEnd) : a.default.getSelection ? (o = a.default.getSelection().getRangeAt(0)).commonAncestorContainer.parentNode !== e && o.commonAncestorContainer !== e || (t = o.startOffset, \r\n                    n = o.endOffset) : document.selection && document.selection.createRange && (n = (t = 0 - (o = document.selection.createRange()).duplicate().moveStart(\"character\", -e.inputmask._valueGet().length)) + o.text.length), \r\n                    {\r\n                        begin: i ? t : f.call(s, t),\r\n                        end: i ? n : f.call(s, n)\r\n                    };\r\n                    if (Array.isArray(t) && (n = s.isRTL ? t[0] : t[1], t = s.isRTL ? t[1] : t[0]), \r\n                    void 0 !== t.begin && (n = s.isRTL ? t.begin : t.end, t = s.isRTL ? t.end : t.begin), \r\n                    \"number\" == typeof t) {\r\n                        t = i ? t : f.call(s, t), n = \"number\" == typeof (n = i ? n : f.call(s, n)) ? n : t;\r\n                        var c = parseInt(((e.ownerDocument.defaultView || a.default).getComputedStyle ? (e.ownerDocument.defaultView || a.default).getComputedStyle(e, null) : e.currentStyle).fontSize) * n;\r\n                        if (e.scrollLeft = c > e.scrollWidth ? c : 0, e.inputmask.caretPos = {\r\n                            begin: t,\r\n                            end: n\r\n                        }, l.insertModeVisual && !1 === l.insertMode && t === n && (r || n++), e === (e.inputmask.shadowRoot || e.ownerDocument).activeElement) {\r\n                            if (\"setSelectionRange\" in e) e.setSelectionRange(t, n); else if (a.default.getSelection) {\r\n                                if (o = document.createRange(), void 0 === e.firstChild || null === e.firstChild) {\r\n                                    var u = document.createTextNode(\"\");\r\n                                    e.appendChild(u);\r\n                                }\r\n                                o.setStart(e.firstChild, t < e.inputmask._valueGet().length ? t : e.inputmask._valueGet().length), \r\n                                o.setEnd(e.firstChild, n < e.inputmask._valueGet().length ? n : e.inputmask._valueGet().length), \r\n                                o.collapse(!0);\r\n                                var p = a.default.getSelection();\r\n                                p.removeAllRanges(), p.addRange(o);\r\n                            } else e.createTextRange && ((o = e.createTextRange()).collapse(!0), o.moveEnd(\"character\", n), \r\n                            o.moveStart(\"character\", t), o.select());\r\n                            void 0 === e.inputmask.caretHook || e.inputmask.caretHook.call(s, {\r\n                                begin: t,\r\n                                end: n\r\n                            });\r\n                        }\r\n                    }\r\n                }, t.determineLastRequiredPosition = function(e) {\r\n                    var t, n, i = this, a = i.maskset, s = i.dependencyLib, c = l.call(i), u = {}, f = a.validPositions[c], p = o.getMaskTemplate.call(i, !0, l.call(i), !0, !0), d = p.length, h = void 0 !== f ? f.locator.slice() : void 0;\r\n                    for (t = c + 1; t < p.length; t++) h = (n = o.getTestTemplate.call(i, t, h, t - 1)).locator.slice(), \r\n                    u[t] = s.extend(!0, {}, n);\r\n                    var m = f && void 0 !== f.alternation ? f.locator[f.alternation] : void 0;\r\n                    for (t = d - 1; t > c && (((n = u[t]).match.optionality || n.match.optionalQuantifier && n.match.newBlockMarker || m && (m !== u[t].locator[f.alternation] && !0 !== n.match.static || !0 === n.match.static && n.locator[f.alternation] && r.checkAlternationMatch.call(i, n.locator[f.alternation].toString().split(\",\"), m.toString().split(\",\")) && \"\" !== o.getTests.call(i, t)[0].def)) && p[t] === o.getPlaceholder.call(i, t, n.match)); t--) d--;\r\n                    return e ? {\r\n                        l: d,\r\n                        def: u[d] ? u[d].match : void 0\r\n                    } : d;\r\n                }, t.determineNewCaretPosition = function(e, t, n) {\r\n                    var i, a, r, f = this, p = f.maskset, d = f.opts;\r\n                    t && (f.isRTL ? e.end = e.begin : e.begin = e.end);\r\n                    if (e.begin === e.end) {\r\n                        switch (n = n || d.positionCaretOnClick) {\r\n                          case \"none\":\r\n                            break;\r\n\r\n                          case \"select\":\r\n                            e = {\r\n                                begin: 0,\r\n                                end: s.call(f).length\r\n                            };\r\n                            break;\r\n\r\n                          case \"ignore\":\r\n                            e.end = e.begin = u.call(f, l.call(f));\r\n                            break;\r\n\r\n                          case \"radixFocus\":\r\n                            if (f.clicked > 1 && 0 === p.validPositions.length) break;\r\n                            if (function(e) {\r\n                                if (\"\" !== d.radixPoint && 0 !== d.digits) {\r\n                                    var t = p.validPositions;\r\n                                    if (void 0 === t[e] || void 0 === t[e].input) {\r\n                                        if (e < u.call(f, -1)) return !0;\r\n                                        var n = s.call(f).indexOf(d.radixPoint);\r\n                                        if (-1 !== n) {\r\n                                            for (var i = 0, a = t.length; i < a; i++) if (t[i] && n < i && t[i].input !== o.getPlaceholder.call(f, i)) return !1;\r\n                                            return !0;\r\n                                        }\r\n                                    }\r\n                                }\r\n                                return !1;\r\n                            }(e.begin)) {\r\n                                var h = s.call(f).join(\"\").indexOf(d.radixPoint);\r\n                                e.end = e.begin = d.numericInput ? u.call(f, h) : h;\r\n                                break;\r\n                            }\r\n\r\n                          default:\r\n                            if (i = e.begin, a = l.call(f, i, !0), i <= (r = u.call(f, -1 !== a || c.call(f, 0) ? a : -1))) e.end = e.begin = c.call(f, i, !1, !0) ? i : u.call(f, i); else {\r\n                                var m = p.validPositions[a], v = o.getTestTemplate.call(f, r, m ? m.match.locator : void 0, m), g = o.getPlaceholder.call(f, r, v.match);\r\n                                if (\"\" !== g && s.call(f)[r] !== g && !0 !== v.match.optionalQuantifier && !0 !== v.match.newBlockMarker || !c.call(f, r, d.keepStatic, !0) && v.match.def === g) {\r\n                                    var y = u.call(f, r);\r\n                                    (i >= y || i === r) && (r = y);\r\n                                }\r\n                                e.end = e.begin = r;\r\n                            }\r\n                        }\r\n                        return e;\r\n                    }\r\n                }, t.getBuffer = s, t.getBufferTemplate = function() {\r\n                    var e = this.maskset;\r\n                    void 0 === e._buffer && (e._buffer = o.getMaskTemplate.call(this, !1, 1), void 0 === e.buffer && (e.buffer = e._buffer.slice()));\r\n                    return e._buffer;\r\n                }, t.getLastValidPosition = l, t.isMask = c, t.resetMaskSet = function(e) {\r\n                    var t = this.maskset;\r\n                    t.buffer = void 0, !0 !== e && (t.validPositions = [], t.p = 0);\r\n                    !1 === e && (t.tests = {}, t.jitOffset = {});\r\n                }, t.seekNext = u, t.seekPrevious = function(e, t) {\r\n                    var n = this, i = e - 1;\r\n                    if (e <= 0) return 0;\r\n                    for (;i > 0 && (!0 === t && (!0 !== o.getTest.call(n, i).match.newBlockMarker || !c.call(n, i, void 0, !0)) || !0 !== t && !c.call(n, i, void 0, !0)); ) i--;\r\n                    return i;\r\n                }, t.translatePosition = f;\r\n                var i, a = (i = n(9380)) && i.__esModule ? i : {\r\n                    default: i\r\n                }, r = n(7215), o = n(4713);\r\n                function s(e) {\r\n                    var t = this, n = t.maskset;\r\n                    return void 0 !== n.buffer && !0 !== e || (n.buffer = o.getMaskTemplate.call(t, !0, l.call(t), !0), \r\n                    void 0 === n._buffer && (n._buffer = n.buffer.slice())), n.buffer;\r\n                }\r\n                function l(e, t, n) {\r\n                    var i = this.maskset, a = -1, r = -1, o = n || i.validPositions;\r\n                    void 0 === e && (e = -1);\r\n                    for (var s = 0, l = o.length; s < l; s++) o[s] && (t || !0 !== o[s].generatedInput) && (s <= e && (a = s), \r\n                    s >= e && (r = s));\r\n                    return -1 === a || a === e ? r : -1 === r || e - a < r - e ? a : r;\r\n                }\r\n                function c(e, t, n) {\r\n                    var i = this, a = this.maskset, r = o.getTestTemplate.call(i, e).match;\r\n                    if (\"\" === r.def && (r = o.getTest.call(i, e).match), !0 !== r.static) return r.fn;\r\n                    if (!0 === n && void 0 !== a.validPositions[e] && !0 !== a.validPositions[e].generatedInput) return !0;\r\n                    if (!0 !== t && e > -1) {\r\n                        if (n) {\r\n                            var s = o.getTests.call(i, e);\r\n                            return s.length > 1 + (\"\" === s[s.length - 1].match.def ? 1 : 0);\r\n                        }\r\n                        var l = o.determineTestTemplate.call(i, e, o.getTests.call(i, e)), c = o.getPlaceholder.call(i, e, l.match);\r\n                        return l.match.def !== c;\r\n                    }\r\n                    return !1;\r\n                }\r\n                function u(e, t, n) {\r\n                    var i = this;\r\n                    void 0 === n && (n = !0);\r\n                    for (var a = e + 1; \"\" !== o.getTest.call(i, a).match.def && (!0 === t && (!0 !== o.getTest.call(i, a).match.newBlockMarker || !c.call(i, a, void 0, !0)) || !0 !== t && !c.call(i, a, void 0, n)); ) a++;\r\n                    return a;\r\n                }\r\n                function f(e) {\r\n                    var t = this.opts, n = this.el;\r\n                    return !this.isRTL || \"number\" != typeof e || t.greedy && \"\" === t.placeholder || !n || (e = this._valueGet().length - e) < 0 && (e = 0), \r\n                    e;\r\n                }\r\n            },\r\n            4713: function(e, t, n) {\r\n                Object.defineProperty(t, \"__esModule\", {\r\n                    value: !0\r\n                }), t.determineTestTemplate = f, t.getDecisionTaker = l, t.getMaskTemplate = function(e, t, n, i, a) {\r\n                    var r = this, o = this.opts, s = this.maskset, l = o.greedy;\r\n                    a && o.greedy && (o.greedy = !1, r.maskset.tests = {});\r\n                    t = t || 0;\r\n                    var p, d, m, v, g = [], y = 0;\r\n                    do {\r\n                        if (!0 === e && s.validPositions[y]) d = (m = a && s.validPositions[y].match.optionality && void 0 === s.validPositions[y + 1] && (!0 === s.validPositions[y].generatedInput || s.validPositions[y].input == o.skipOptionalPartCharacter && y > 0) ? f.call(r, y, h.call(r, y, p, y - 1)) : s.validPositions[y]).match, \r\n                        p = m.locator.slice(), g.push(!0 === n ? m.input : !1 === n ? d.nativeDef : c.call(r, y, d)); else {\r\n                            d = (m = u.call(r, y, p, y - 1)).match, p = m.locator.slice();\r\n                            var k = !0 !== i && (!1 !== o.jitMasking ? o.jitMasking : d.jit);\r\n                            (v = (v || s.validPositions[y - 1]) && d.static && d.def !== o.groupSeparator && null === d.fn) || !1 === k || void 0 === k || \"number\" == typeof k && isFinite(k) && k > y ? g.push(!1 === n ? d.nativeDef : c.call(r, g.length, d)) : v = !1;\r\n                        }\r\n                        y++;\r\n                    } while (!0 !== d.static || \"\" !== d.def || t > y);\r\n                    \"\" === g[g.length - 1] && g.pop();\r\n                    !1 === n && void 0 !== s.maskLength || (s.maskLength = y - 1);\r\n                    return o.greedy = l, g;\r\n                }, t.getPlaceholder = c, t.getTest = p, t.getTestTemplate = u, t.getTests = h, t.isSubsetOf = d;\r\n                var i, a = (i = n(2394)) && i.__esModule ? i : {\r\n                    default: i\r\n                }, r = n(8711);\r\n                function o(e) {\r\n                    return o = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(e) {\r\n                        return typeof e;\r\n                    } : function(e) {\r\n                        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\r\n                    }, o(e);\r\n                }\r\n                function s(e, t) {\r\n                    var n = (null != e.alternation ? e.mloc[l(e)] : e.locator).join(\"\");\r\n                    if (\"\" !== n) for (n = n.split(\":\")[0]; n.length < t; ) n += \"0\";\r\n                    return n;\r\n                }\r\n                function l(e) {\r\n                    var t = e.locator[e.alternation];\r\n                    return \"string\" == typeof t && t.length > 0 && (t = t.split(\",\")[0]), void 0 !== t ? t.toString() : \"\";\r\n                }\r\n                function c(e, t, n) {\r\n                    var i = this, a = this.opts, s = this.maskset;\r\n                    if (void 0 !== (t = t || p.call(i, e).match).placeholder || !0 === n) {\r\n                        if (\"\" !== t.placeholder && !0 === t.static && !0 !== t.generated) {\r\n                            var l = r.getLastValidPosition.call(i, e), c = r.seekNext.call(i, l);\r\n                            return (n ? e <= c : e < c) ? a.staticDefinitionSymbol && t.static ? t.nativeDef : t.def : \"function\" == typeof t.placeholder ? t.placeholder(a) : t.placeholder;\r\n                        }\r\n                        return \"function\" == typeof t.placeholder ? t.placeholder(a) : t.placeholder;\r\n                    }\r\n                    if (!0 === t.static) {\r\n                        if (e > -1 && void 0 === s.validPositions[e]) {\r\n                            var u, f = h.call(i, e), d = [];\r\n                            if (\"string\" == typeof a.placeholder && f.length > 1 + (\"\" === f[f.length - 1].match.def ? 1 : 0)) for (var m = 0; m < f.length; m++) if (\"\" !== f[m].match.def && !0 !== f[m].match.optionality && !0 !== f[m].match.optionalQuantifier && (!0 === f[m].match.static || void 0 === u || !1 !== f[m].match.fn.test(u.match.def, s, e, !0, a)) && (d.push(f[m]), \r\n                            !0 === f[m].match.static && (u = f[m]), d.length > 1 && /[0-9a-bA-Z]/.test(d[0].match.def))) return a.placeholder.charAt(e % a.placeholder.length);\r\n                        }\r\n                        return t.def;\r\n                    }\r\n                    return \"object\" === o(a.placeholder) ? t.def : a.placeholder.charAt(e % a.placeholder.length);\r\n                }\r\n                function u(e, t, n) {\r\n                    return this.maskset.validPositions[e] || f.call(this, e, h.call(this, e, t ? t.slice() : t, n));\r\n                }\r\n                function f(e, t) {\r\n                    var n = this.opts, i = 0, a = function(e, t) {\r\n                        var n = 0, i = !1;\r\n                        t.forEach((function(e) {\r\n                            e.match.optionality && (0 !== n && n !== e.match.optionality && (i = !0), (0 === n || n > e.match.optionality) && (n = e.match.optionality));\r\n                        })), n && (0 == e || 1 == t.length ? n = 0 : i || (n = 0));\r\n                        return n;\r\n                    }(e, t);\r\n                    e = e > 0 ? e - 1 : 0;\r\n                    var r, o, l, c = s(p.call(this, e));\r\n                    n.greedy && t.length > 1 && \"\" === t[t.length - 1].match.def && (i = 1);\r\n                    for (var u = 0; u < t.length - i; u++) {\r\n                        var f = t[u];\r\n                        r = s(f, c.length);\r\n                        var d = Math.abs(r - c);\r\n                        (!0 !== f.unMatchedAlternationStopped || t.filter((function(e) {\r\n                            return !0 !== e.unMatchedAlternationStopped;\r\n                        })).length <= 1) && (void 0 === o || \"\" !== r && d < o || l && !n.greedy && l.match.optionality && l.match.optionality - a > 0 && \"master\" === l.match.newBlockMarker && (!f.match.optionality || f.match.optionality - a < 1 || !f.match.newBlockMarker) || l && !n.greedy && l.match.optionalQuantifier && !f.match.optionalQuantifier) && (o = d, \r\n                        l = f);\r\n                    }\r\n                    return l;\r\n                }\r\n                function p(e, t) {\r\n                    var n = this.maskset;\r\n                    return n.validPositions[e] ? n.validPositions[e] : (t || h.call(this, e))[0];\r\n                }\r\n                function d(e, t, n) {\r\n                    function i(e) {\r\n                        for (var t, n = [], i = -1, a = 0, r = e.length; a < r; a++) if (\"-\" === e.charAt(a)) for (t = e.charCodeAt(a + 1); ++i < t; ) n.push(String.fromCharCode(i)); else i = e.charCodeAt(a), \r\n                        n.push(e.charAt(a));\r\n                        return n.join(\"\");\r\n                    }\r\n                    return e.match.def === t.match.nativeDef || !(!(n.regex || e.match.fn instanceof RegExp && t.match.fn instanceof RegExp) || !0 === e.match.static || !0 === t.match.static) && (\".\" === t.match.fn.source || -1 !== i(t.match.fn.source.replace(/[[\\]/]/g, \"\")).indexOf(i(e.match.fn.source.replace(/[[\\]/]/g, \"\"))));\r\n                }\r\n                function h(e, t, n) {\r\n                    var i, r, o = this, s = this.dependencyLib, l = this.maskset, c = this.opts, u = this.el, p = l.maskToken, h = t ? n : 0, m = t ? t.slice() : [ 0 ], v = [], g = !1, y = t ? t.join(\"\") : \"\", k = !1;\r\n                    function b(t, n, r, s) {\r\n                        function f(r, s, p) {\r\n                            function m(e, t) {\r\n                                var n = 0 === t.matches.indexOf(e);\r\n                                return n || t.matches.every((function(i, a) {\r\n                                    return !0 === i.isQuantifier ? n = m(e, t.matches[a - 1]) : Object.prototype.hasOwnProperty.call(i, \"matches\") && (n = m(e, i)), \r\n                                    !n;\r\n                                })), n;\r\n                            }\r\n                            function w(e, t, n) {\r\n                                var i, a;\r\n                                if ((l.tests[e] || l.validPositions[e]) && (l.validPositions[e] ? [ l.validPositions[e] ] : l.tests[e]).every((function(e, r) {\r\n                                    if (e.mloc[t]) return i = e, !1;\r\n                                    var o = void 0 !== n ? n : e.alternation, s = void 0 !== e.locator[o] ? e.locator[o].toString().indexOf(t) : -1;\r\n                                    return (void 0 === a || s < a) && -1 !== s && (i = e, a = s), !0;\r\n                                })), i) {\r\n                                    var r = i.locator[i.alternation], o = i.mloc[t] || i.mloc[r] || i.locator;\r\n                                    if (-1 !== o[o.length - 1].toString().indexOf(\":\")) o.pop();\r\n                                    return o.slice((void 0 !== n ? n : i.alternation) + 1);\r\n                                }\r\n                                return void 0 !== n ? w(e, t) : void 0;\r\n                            }\r\n                            function P(t, n) {\r\n                                return !0 === t.match.static && !0 !== n.match.static && n.match.fn.test(t.match.def, l, e, !1, c, !1);\r\n                            }\r\n                            function S(e, t) {\r\n                                var n = e.alternation, i = void 0 === t || n <= t.alternation && -1 === e.locator[n].toString().indexOf(t.locator[n]);\r\n                                if (!i && n > t.alternation) for (var a = 0; a < n; a++) if (e.locator[a] !== t.locator[a]) {\r\n                                    n = a, i = !0;\r\n                                    break;\r\n                                }\r\n                                return !!i && function(n) {\r\n                                    e.mloc = e.mloc || {};\r\n                                    var i = e.locator[n];\r\n                                    if (void 0 !== i) {\r\n                                        if (\"string\" == typeof i && (i = i.split(\",\")[0]), void 0 === e.mloc[i] && (e.mloc[i] = e.locator.slice(), \r\n                                        e.mloc[i].push(\":\".concat(e.alternation))), void 0 !== t) {\r\n                                            for (var a in t.mloc) \"string\" == typeof a && (a = parseInt(a.split(\",\")[0])), e.mloc[a + 0] = t.mloc[a];\r\n                                            e.locator[n] = Object.keys(e.mloc).join(\",\");\r\n                                        }\r\n                                        return e.alternation > n && (e.alternation = n), !0;\r\n                                    }\r\n                                    return e.alternation = void 0, !1;\r\n                                }(n);\r\n                            }\r\n                            function O(e, t) {\r\n                                if (e.locator.length !== t.locator.length) return !1;\r\n                                for (var n = e.alternation + 1; n < e.locator.length; n++) if (e.locator[n] !== t.locator[n]) return !1;\r\n                                return !0;\r\n                            }\r\n                            if (h > e + c._maxTestPos) throw new Error(\"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. \".concat(l.mask));\r\n                            if (h === e && void 0 === r.matches) {\r\n                                if (v.push({\r\n                                    match: r,\r\n                                    locator: s.reverse(),\r\n                                    cd: y,\r\n                                    mloc: {}\r\n                                }), !r.optionality || void 0 !== p || !(c.definitions && c.definitions[r.nativeDef] && c.definitions[r.nativeDef].optional || a.default.prototype.definitions[r.nativeDef] && a.default.prototype.definitions[r.nativeDef].optional)) return !0;\r\n                                g = !0, h = e;\r\n                            } else if (void 0 !== r.matches) {\r\n                                if (r.isGroup && p !== r) return function() {\r\n                                    if (r = f(t.matches[t.matches.indexOf(r) + 1], s, p)) return !0;\r\n                                }();\r\n                                if (r.isOptional) return function() {\r\n                                    var t = r, a = v.length;\r\n                                    if (r = b(r, n, s, p), v.length > 0) {\r\n                                        if (v.forEach((function(e, t) {\r\n                                            t >= a && (e.match.optionality = e.match.optionality ? e.match.optionality + 1 : 1);\r\n                                        })), i = v[v.length - 1].match, void 0 !== p || !m(i, t)) return r;\r\n                                        g = !0, h = e;\r\n                                    }\r\n                                }();\r\n                                if (r.isAlternator) return function() {\r\n                                    function i(e) {\r\n                                        for (var t, n = e.matches[0].matches ? e.matches[0].matches.length : 1, i = 0; i < e.matches.length && n === (t = e.matches[i].matches ? e.matches[i].matches.length : 1); i++) ;\r\n                                        return n !== t;\r\n                                    }\r\n                                    o.hasAlternator = !0;\r\n                                    var a, m = r, y = [], b = v.slice(), x = s.length, M = n.length > 0 ? n.shift() : -1;\r\n                                    if (-1 === M || \"string\" == typeof M) {\r\n                                        var _, E = h, j = n.slice(), T = [];\r\n                                        if (\"string\" == typeof M) T = M.split(\",\"); else for (_ = 0; _ < m.matches.length; _++) T.push(_.toString());\r\n                                        if (void 0 !== l.excludes[e]) {\r\n                                            for (var A = T.slice(), D = 0, L = l.excludes[e].length; D < L; D++) {\r\n                                                var C = l.excludes[e][D].toString().split(\":\");\r\n                                                s.length == C[1] && T.splice(T.indexOf(C[0]), 1);\r\n                                            }\r\n                                            0 === T.length && (delete l.excludes[e], T = A);\r\n                                        }\r\n                                        (!0 === c.keepStatic || isFinite(parseInt(c.keepStatic)) && E >= c.keepStatic) && (T = T.slice(0, 1));\r\n                                        for (var B = 0; B < T.length; B++) {\r\n                                            _ = parseInt(T[B]), v = [], n = \"string\" == typeof M && w(h, _, x) || j.slice();\r\n                                            var I = m.matches[_];\r\n                                            if (I && f(I, [ _ ].concat(s), p)) r = !0; else if (0 === B && (k = i(m)), I && I.matches && I.matches.length > m.matches[0].matches.length) break;\r\n                                            a = v.slice(), h = E, v = [];\r\n                                            for (var R = 0; R < a.length; R++) {\r\n                                                var F = a[R], N = !1;\r\n                                                F.alternation = F.alternation || x, S(F);\r\n                                                for (var V = 0; V < y.length; V++) {\r\n                                                    var G = y[V];\r\n                                                    if (\"string\" != typeof M || void 0 !== F.alternation && T.includes(F.locator[F.alternation].toString())) {\r\n                                                        if (F.match.nativeDef === G.match.nativeDef) {\r\n                                                            N = !0, S(G, F);\r\n                                                            break;\r\n                                                        }\r\n                                                        if (d(F, G, c)) {\r\n                                                            S(F, G) && (N = !0, y.splice(y.indexOf(G), 0, F));\r\n                                                            break;\r\n                                                        }\r\n                                                        if (d(G, F, c)) {\r\n                                                            S(G, F);\r\n                                                            break;\r\n                                                        }\r\n                                                        if (P(F, G)) {\r\n                                                            O(F, G) || void 0 !== u.inputmask.userOptions.keepStatic ? S(F, G) && (N = !0, y.splice(y.indexOf(G), 0, F)) : c.keepStatic = !0;\r\n                                                            break;\r\n                                                        }\r\n                                                        if (P(G, F)) {\r\n                                                            S(G, F);\r\n                                                            break;\r\n                                                        }\r\n                                                    }\r\n                                                }\r\n                                                N || y.push(F);\r\n                                            }\r\n                                        }\r\n                                        v = b.concat(y), h = e, g = v.length > 0 && k, r = y.length > 0 && !k, k && g && !r && v.forEach((function(e, t) {\r\n                                            e.unMatchedAlternationStopped = !0;\r\n                                        })), n = j.slice();\r\n                                    } else r = f(m.matches[M] || t.matches[M], [ M ].concat(s), p);\r\n                                    if (r) return !0;\r\n                                }();\r\n                                if (r.isQuantifier && p !== t.matches[t.matches.indexOf(r) - 1]) return function() {\r\n                                    for (var a = r, o = !1, u = n.length > 0 ? n.shift() : 0; u < (isNaN(a.quantifier.max) ? u + 1 : a.quantifier.max) && h <= e; u++) {\r\n                                        var p = t.matches[t.matches.indexOf(a) - 1];\r\n                                        if (r = f(p, [ u ].concat(s), p)) {\r\n                                            if (v.forEach((function(t, n) {\r\n                                                (i = x(p, t.match) ? t.match : v[v.length - 1].match).optionalQuantifier = u >= a.quantifier.min, \r\n                                                i.jit = (u + 1) * (p.matches.indexOf(i) + 1) > a.quantifier.jit, i.optionalQuantifier && m(i, p) && (g = !0, \r\n                                                h = e, c.greedy && null == l.validPositions[e - 1] && u > a.quantifier.min && -1 != [ \"*\", \"+\" ].indexOf(a.quantifier.max) && (v.pop(), \r\n                                                y = void 0), o = !0, r = !1), !o && i.jit && (l.jitOffset[e] = p.matches.length - p.matches.indexOf(i));\r\n                                            })), o) break;\r\n                                            return !0;\r\n                                        }\r\n                                    }\r\n                                }();\r\n                                if (r = b(r, n, s, p)) return !0;\r\n                            } else h++;\r\n                        }\r\n                        for (var p = n.length > 0 ? n.shift() : 0; p < t.matches.length; p++) if (!0 !== t.matches[p].isQuantifier) {\r\n                            var m = f(t.matches[p], [ p ].concat(r), s);\r\n                            if (m && h === e) return m;\r\n                            if (h > e) break;\r\n                        }\r\n                    }\r\n                    function x(e, t) {\r\n                        var n = -1 != e.matches.indexOf(t);\r\n                        return n || e.matches.forEach((function(e, i) {\r\n                            void 0 === e.matches || n || (n = x(e, t));\r\n                        })), n;\r\n                    }\r\n                    if (e > -1) {\r\n                        if (void 0 === t) {\r\n                            for (var w, P = e - 1; void 0 === (w = l.validPositions[P] || l.tests[P]) && P > -1; ) P--;\r\n                            void 0 !== w && P > -1 && (m = function(e, t) {\r\n                                var n, i = [];\r\n                                return Array.isArray(t) || (t = [ t ]), t.length > 0 && (void 0 === t[0].alternation || !0 === c.keepStatic ? 0 === (i = f.call(o, e, t.slice()).locator.slice()).length && (i = t[0].locator.slice()) : t.forEach((function(e) {\r\n                                    \"\" !== e.def && (0 === i.length ? (n = e.alternation, i = e.locator.slice()) : e.locator[n] && -1 === i[n].toString().indexOf(e.locator[n]) && (i[n] += \",\" + e.locator[n]));\r\n                                }))), i;\r\n                            }(P, w), y = m.join(\"\"), h = P);\r\n                        }\r\n                        if (l.tests[e] && l.tests[e][0].cd === y) return l.tests[e];\r\n                        for (var S = m.shift(); S < p.length; S++) {\r\n                            if (b(p[S], m, [ S ]) && h === e || h > e) break;\r\n                        }\r\n                    }\r\n                    return (0 === v.length || g) && v.push({\r\n                        match: {\r\n                            fn: null,\r\n                            static: !0,\r\n                            optionality: !1,\r\n                            casing: null,\r\n                            def: \"\",\r\n                            placeholder: \"\"\r\n                        },\r\n                        locator: k && 0 === v.filter((function(e) {\r\n                            return !0 !== e.unMatchedAlternationStopped;\r\n                        })).length ? [ 0 ] : [],\r\n                        mloc: {},\r\n                        cd: y\r\n                    }), void 0 !== t && l.tests[e] ? r = s.extend(!0, [], v) : (l.tests[e] = s.extend(!0, [], v), \r\n                    r = l.tests[e]), v.forEach((function(e) {\r\n                        e.match.optionality = e.match.defOptionality || !1;\r\n                    })), r;\r\n                }\r\n            },\r\n            7215: function(e, t, n) {\r\n                Object.defineProperty(t, \"__esModule\", {\r\n                    value: !0\r\n                }), t.alternate = s, t.checkAlternationMatch = function(e, t, n) {\r\n                    for (var i, a = this.opts.greedy ? t : t.slice(0, 1), r = !1, o = void 0 !== n ? n.split(\",\") : [], s = 0; s < o.length; s++) -1 !== (i = e.indexOf(o[s])) && e.splice(i, 1);\r\n                    for (var l = 0; l < e.length; l++) if (a.includes(e[l])) {\r\n                        r = !0;\r\n                        break;\r\n                    }\r\n                    return r;\r\n                }, t.handleRemove = function(e, t, n, i, l) {\r\n                    var c = this, u = this.maskset, f = this.opts;\r\n                    if ((f.numericInput || c.isRTL) && (t === a.keys.Backspace ? t = a.keys.Delete : t === a.keys.Delete && (t = a.keys.Backspace), \r\n                    c.isRTL)) {\r\n                        var p = n.end;\r\n                        n.end = n.begin, n.begin = p;\r\n                    }\r\n                    var d, h = r.getLastValidPosition.call(c, void 0, !0);\r\n                    n.end >= r.getBuffer.call(c).length && h >= n.end && (n.end = h + 1);\r\n                    t === a.keys.Backspace ? n.end - n.begin < 1 && (n.begin = r.seekPrevious.call(c, n.begin)) : t === a.keys.Delete && n.begin === n.end && (n.end = r.isMask.call(c, n.end, !0, !0) ? n.end + 1 : r.seekNext.call(c, n.end) + 1);\r\n                    !1 !== (d = m.call(c, n)) && ((!0 !== i && !1 !== f.keepStatic || null !== f.regex && -1 !== o.getTest.call(c, n.begin).match.def.indexOf(\"|\")) && s.call(c, !0), \r\n                    !0 !== i && (u.p = t === a.keys.Delete ? n.begin + d : n.begin, u.p = r.determineNewCaretPosition.call(c, {\r\n                        begin: u.p,\r\n                        end: u.p\r\n                    }, !1, !1 === f.insertMode && t === a.keys.Backspace ? \"none\" : void 0).begin));\r\n                }, t.isComplete = c, t.isSelection = u, t.isValid = f, t.refreshFromBuffer = d, \r\n                t.revalidateMask = m;\r\n                var i = n(6030), a = n(2839), r = n(8711), o = n(4713);\r\n                function s(e, t, n, i, a, l) {\r\n                    var c = this, u = this.dependencyLib, p = this.opts, d = c.maskset;\r\n                    if (!c.hasAlternator) return !1;\r\n                    var h, m, v, g, y, k, b, x, w, P, S, O = u.extend(!0, [], d.validPositions), M = u.extend(!0, {}, d.tests), _ = !1, E = !1, j = void 0 !== a ? a : r.getLastValidPosition.call(c);\r\n                    if (l && (P = l.begin, S = l.end, l.begin > l.end && (P = l.end, S = l.begin)), \r\n                    -1 === j && void 0 === a) h = 0, m = (g = o.getTest.call(c, h)).alternation; else for (;j >= 0; j--) if ((v = d.validPositions[j]) && void 0 !== v.alternation) {\r\n                        if (j <= (e || 0) && g && g.locator[v.alternation] !== v.locator[v.alternation]) break;\r\n                        h = j, m = d.validPositions[h].alternation, g = v;\r\n                    }\r\n                    if (void 0 !== m) {\r\n                        b = parseInt(h), d.excludes[b] = d.excludes[b] || [], !0 !== e && d.excludes[b].push((0, \r\n                        o.getDecisionTaker)(g) + \":\" + g.alternation);\r\n                        var T = [], A = -1;\r\n                        for (y = b; b < r.getLastValidPosition.call(c, void 0, !0) + 1; y++) -1 === A && e <= y && void 0 !== t && (T.push(t), \r\n                        A = T.length - 1), (k = d.validPositions[b]) && !0 !== k.generatedInput && (void 0 === l || y < P || y >= S) && T.push(k.input), \r\n                        d.validPositions.splice(b, 1);\r\n                        for (-1 === A && void 0 !== t && (T.push(t), A = T.length - 1); void 0 !== d.excludes[b] && d.excludes[b].length < 10; ) {\r\n                            for (d.tests = {}, r.resetMaskSet.call(c, !0), _ = !0, y = 0; y < T.length && (x = _.caret || 0 == p.insertMode && null != x ? r.seekNext.call(c, x) : r.getLastValidPosition.call(c, void 0, !0) + 1, \r\n                            w = T[y], _ = f.call(c, x, w, !1, i, !0)); y++) y === A && (E = _), 1 == e && _ && (E = {\r\n                                caretPos: y\r\n                            });\r\n                            if (_) break;\r\n                            if (r.resetMaskSet.call(c), g = o.getTest.call(c, b), d.validPositions = u.extend(!0, [], O), \r\n                            d.tests = u.extend(!0, {}, M), !d.excludes[b]) {\r\n                                E = s.call(c, e, t, n, i, b - 1, l);\r\n                                break;\r\n                            }\r\n                            if (null != g.alternation) {\r\n                                var D = (0, o.getDecisionTaker)(g);\r\n                                if (-1 !== d.excludes[b].indexOf(D + \":\" + g.alternation)) {\r\n                                    E = s.call(c, e, t, n, i, b - 1, l);\r\n                                    break;\r\n                                }\r\n                                for (d.excludes[b].push(D + \":\" + g.alternation), y = b; y < r.getLastValidPosition.call(c, void 0, !0) + 1; y++) d.validPositions.splice(b);\r\n                            } else delete d.excludes[b];\r\n                        }\r\n                    }\r\n                    return E && !1 === p.keepStatic || delete d.excludes[b], E;\r\n                }\r\n                function l(e, t, n) {\r\n                    var i = this.opts, r = this.maskset;\r\n                    switch (i.casing || t.casing) {\r\n                      case \"upper\":\r\n                        e = e.toUpperCase();\r\n                        break;\r\n\r\n                      case \"lower\":\r\n                        e = e.toLowerCase();\r\n                        break;\r\n\r\n                      case \"title\":\r\n                        var o = r.validPositions[n - 1];\r\n                        e = 0 === n || o && o.input === String.fromCharCode(a.keyCode.Space) ? e.toUpperCase() : e.toLowerCase();\r\n                        break;\r\n\r\n                      default:\r\n                        if (\"function\" == typeof i.casing) {\r\n                            var s = Array.prototype.slice.call(arguments);\r\n                            s.push(r.validPositions), e = i.casing.apply(this, s);\r\n                        }\r\n                    }\r\n                    return e;\r\n                }\r\n                function c(e) {\r\n                    var t = this, n = this.opts, i = this.maskset;\r\n                    if (\"function\" == typeof n.isComplete) return n.isComplete(e, n);\r\n                    if (\"*\" !== n.repeat) {\r\n                        var a = !1, s = r.determineLastRequiredPosition.call(t, !0), l = s.l;\r\n                        if (void 0 === s.def || s.def.newBlockMarker || s.def.optionality || s.def.optionalQuantifier) {\r\n                            a = !0;\r\n                            for (var c = 0; c <= l; c++) {\r\n                                var u = o.getTestTemplate.call(t, c).match;\r\n                                if (!0 !== u.static && void 0 === i.validPositions[c] && (!1 === u.optionality || void 0 === u.optionality || u.optionality && 0 == u.newBlockMarker) && (!1 === u.optionalQuantifier || void 0 === u.optionalQuantifier) || !0 === u.static && \"\" != u.def && e[c] !== o.getPlaceholder.call(t, c, u)) {\r\n                                    a = !1;\r\n                                    break;\r\n                                }\r\n                            }\r\n                        }\r\n                        return a;\r\n                    }\r\n                }\r\n                function u(e) {\r\n                    var t = this.opts.insertMode ? 0 : 1;\r\n                    return this.isRTL ? e.begin - e.end > t : e.end - e.begin > t;\r\n                }\r\n                function f(e, t, n, i, a, p, v) {\r\n                    var g = this, y = this.dependencyLib, k = this.opts, b = g.maskset;\r\n                    n = !0 === n;\r\n                    var x = e;\r\n                    function w(e) {\r\n                        if (void 0 !== e) {\r\n                            if (void 0 !== e.remove && (Array.isArray(e.remove) || (e.remove = [ e.remove ]), \r\n                            e.remove.sort((function(e, t) {\r\n                                return g.isRTL ? e.pos - t.pos : t.pos - e.pos;\r\n                            })).forEach((function(e) {\r\n                                m.call(g, {\r\n                                    begin: e,\r\n                                    end: e + 1\r\n                                });\r\n                            })), e.remove = void 0), void 0 !== e.insert && (Array.isArray(e.insert) || (e.insert = [ e.insert ]), \r\n                            e.insert.sort((function(e, t) {\r\n                                return g.isRTL ? t.pos - e.pos : e.pos - t.pos;\r\n                            })).forEach((function(e) {\r\n                                \"\" !== e.c && f.call(g, e.pos, e.c, void 0 === e.strict || e.strict, void 0 !== e.fromIsValid ? e.fromIsValid : i);\r\n                            })), e.insert = void 0), e.refreshFromBuffer && e.buffer) {\r\n                                var t = e.refreshFromBuffer;\r\n                                d.call(g, !0 === t ? t : t.start, t.end, e.buffer), e.refreshFromBuffer = void 0;\r\n                            }\r\n                            void 0 !== e.rewritePosition && (x = e.rewritePosition, e = !0);\r\n                        }\r\n                        return e;\r\n                    }\r\n                    function P(t, n, a) {\r\n                        var s = !1;\r\n                        return o.getTests.call(g, t).every((function(c, f) {\r\n                            var p = c.match;\r\n                            if (r.getBuffer.call(g, !0), !1 !== (s = (!p.jit || void 0 !== b.validPositions[r.seekPrevious.call(g, t)]) && (null != p.fn ? p.fn.test(n, b, t, a, k, u.call(g, e)) : (n === p.def || n === k.skipOptionalPartCharacter) && \"\" !== p.def && {\r\n                                c: o.getPlaceholder.call(g, t, p, !0) || p.def,\r\n                                pos: t\r\n                            }))) {\r\n                                var d = void 0 !== s.c ? s.c : n, h = t;\r\n                                return d = d === k.skipOptionalPartCharacter && !0 === p.static ? o.getPlaceholder.call(g, t, p, !0) || p.def : d, \r\n                                !0 !== (s = w(s)) && void 0 !== s.pos && s.pos !== t && (h = s.pos), !0 !== s && void 0 === s.pos && void 0 === s.c ? !1 : (!1 === m.call(g, e, y.extend({}, c, {\r\n                                    input: l.call(g, d, p, h)\r\n                                }), i, h) && (s = !1), !1);\r\n                            }\r\n                            return !0;\r\n                        })), s;\r\n                    }\r\n                    void 0 !== e.begin && (x = g.isRTL ? e.end : e.begin);\r\n                    var S = !0, O = y.extend(!0, [], b.validPositions);\r\n                    if (!1 === k.keepStatic && void 0 !== b.excludes[x] && !0 !== a && !0 !== i) for (var M = x; M < (g.isRTL ? e.begin : e.end); M++) void 0 !== b.excludes[M] && (b.excludes[M] = void 0, \r\n                    delete b.tests[M]);\r\n                    if (\"function\" == typeof k.preValidation && !0 !== i && !0 !== p && (S = w(S = k.preValidation.call(g, r.getBuffer.call(g), x, t, u.call(g, e), k, b, e, n || a))), \r\n                    !0 === S) {\r\n                        if (S = P(x, t, n), (!n || !0 === i) && !1 === S && !0 !== p) {\r\n                            var _ = b.validPositions[x];\r\n                            if (!_ || !0 !== _.match.static || _.match.def !== t && t !== k.skipOptionalPartCharacter) {\r\n                                if (k.insertMode || void 0 === b.validPositions[r.seekNext.call(g, x)] || e.end > x) {\r\n                                    var E = !1;\r\n                                    if (b.jitOffset[x] && void 0 === b.validPositions[r.seekNext.call(g, x)] && !1 !== (S = f.call(g, x + b.jitOffset[x], t, !0, !0)) && (!0 !== a && (S.caret = x), \r\n                                    E = !0), e.end > x && (b.validPositions[x] = void 0), !E && !r.isMask.call(g, x, k.keepStatic && 0 === x)) for (var j = x + 1, T = r.seekNext.call(g, x, !1, 0 !== x); j <= T; j++) if (!1 !== (S = P(j, t, n))) {\r\n                                        S = h.call(g, x, void 0 !== S.pos ? S.pos : j) || S, x = j;\r\n                                        break;\r\n                                    }\r\n                                }\r\n                            } else S = {\r\n                                caret: r.seekNext.call(g, x)\r\n                            };\r\n                        }\r\n                        g.hasAlternator && !0 !== a && !n && (a = !0, !1 === S && k.keepStatic && (c.call(g, r.getBuffer.call(g)) || 0 === x) ? S = s.call(g, x, t, n, i, void 0, e) : (u.call(g, e) && b.tests[x] && b.tests[x].length > 1 && k.keepStatic || 1 == S && !0 !== k.numericInput && b.tests[x] && b.tests[x].length > 1 && r.getLastValidPosition.call(g, void 0, !0) > x) && (S = s.call(g, !0))), \r\n                        !0 === S && (S = {\r\n                            pos: x\r\n                        });\r\n                    }\r\n                    if (\"function\" == typeof k.postValidation && !0 !== i && !0 !== p) {\r\n                        var A = k.postValidation.call(g, r.getBuffer.call(g, !0), void 0 !== e.begin ? g.isRTL ? e.end : e.begin : e, t, S, k, b, n, v);\r\n                        void 0 !== A && (S = !0 === A ? S : A);\r\n                    }\r\n                    S && void 0 === S.pos && (S.pos = x), !1 === S || !0 === p ? (r.resetMaskSet.call(g, !0), \r\n                    b.validPositions = y.extend(!0, [], O)) : h.call(g, void 0, x, !0);\r\n                    var D = w(S);\r\n                    void 0 !== g.maxLength && (r.getBuffer.call(g).length > g.maxLength && !i && (r.resetMaskSet.call(g, !0), \r\n                    b.validPositions = y.extend(!0, [], O), D = !1));\r\n                    return D;\r\n                }\r\n                function p(e, t, n) {\r\n                    for (var i = this.maskset, a = !1, r = o.getTests.call(this, e), s = 0; s < r.length; s++) {\r\n                        if (r[s].match && (r[s].match.nativeDef === t.match[n.shiftPositions ? \"def\" : \"nativeDef\"] && (!n.shiftPositions || !t.match.static) || r[s].match.nativeDef === t.match.nativeDef || n.regex && !r[s].match.static && r[s].match.fn.test(t.input, i, e, !1, n))) {\r\n                            a = !0;\r\n                            break;\r\n                        }\r\n                        if (r[s].match && r[s].match.def === t.match.nativeDef) {\r\n                            a = void 0;\r\n                            break;\r\n                        }\r\n                    }\r\n                    return !1 === a && void 0 !== i.jitOffset[e] && (a = p.call(this, e + i.jitOffset[e], t, n)), \r\n                    a;\r\n                }\r\n                function d(e, t, n) {\r\n                    var a, o, s = this, l = this.maskset, c = this.opts, u = this.dependencyLib, f = c.skipOptionalPartCharacter, p = s.isRTL ? n.slice().reverse() : n;\r\n                    if (c.skipOptionalPartCharacter = \"\", !0 === e) r.resetMaskSet.call(s, !1), e = 0, \r\n                    t = n.length, o = r.determineNewCaretPosition.call(s, {\r\n                        begin: 0,\r\n                        end: 0\r\n                    }, !1).begin; else {\r\n                        for (a = e; a < t; a++) l.validPositions.splice(e, 0);\r\n                        o = e;\r\n                    }\r\n                    var d = new u.Event(\"keypress\");\r\n                    for (a = e; a < t; a++) {\r\n                        d.key = p[a].toString(), s.ignorable = !1;\r\n                        var h = i.EventHandlers.keypressEvent.call(s, d, !0, !1, !1, o);\r\n                        !1 !== h && void 0 !== h && (o = h.forwardPosition);\r\n                    }\r\n                    c.skipOptionalPartCharacter = f;\r\n                }\r\n                function h(e, t, n) {\r\n                    var i = this, a = this.maskset, s = this.dependencyLib;\r\n                    if (void 0 === e) for (e = t - 1; e > 0 && !a.validPositions[e]; e--) ;\r\n                    for (var l = e; l < t; l++) {\r\n                        if (void 0 === a.validPositions[l] && !r.isMask.call(i, l, !1)) if (0 == l ? o.getTest.call(i, l) : a.validPositions[l - 1]) {\r\n                            var c = o.getTests.call(i, l).slice();\r\n                            \"\" === c[c.length - 1].match.def && c.pop();\r\n                            var u, p = o.determineTestTemplate.call(i, l, c);\r\n                            if (p && (!0 !== p.match.jit || \"master\" === p.match.newBlockMarker && (u = a.validPositions[l + 1]) && !0 === u.match.optionalQuantifier) && ((p = s.extend({}, p, {\r\n                                input: o.getPlaceholder.call(i, l, p.match, !0) || p.match.def\r\n                            })).generatedInput = !0, m.call(i, l, p, !0), !0 !== n)) {\r\n                                var d = a.validPositions[t].input;\r\n                                return a.validPositions[t] = void 0, f.call(i, t, d, !0, !0);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                function m(e, t, n, i) {\r\n                    var a = this, s = this.maskset, l = this.opts, c = this.dependencyLib;\r\n                    function d(e, t, n) {\r\n                        var i = t[e];\r\n                        if (void 0 !== i && !0 === i.match.static && !0 !== i.match.optionality && (void 0 === t[0] || void 0 === t[0].alternation)) {\r\n                            var a = n.begin <= e - 1 ? t[e - 1] && !0 === t[e - 1].match.static && t[e - 1] : t[e - 1], r = n.end > e + 1 ? t[e + 1] && !0 === t[e + 1].match.static && t[e + 1] : t[e + 1];\r\n                            return a && r;\r\n                        }\r\n                        return !1;\r\n                    }\r\n                    var h = 0, m = void 0 !== e.begin ? e.begin : e, v = void 0 !== e.end ? e.end : e, g = !0;\r\n                    if (e.begin > e.end && (m = e.end, v = e.begin), i = void 0 !== i ? i : m, void 0 === n && (m !== v || l.insertMode && void 0 !== s.validPositions[i] || void 0 === t || t.match.optionalQuantifier || t.match.optionality)) {\r\n                        var y, k = c.extend(!0, [], s.validPositions), b = r.getLastValidPosition.call(a, void 0, !0);\r\n                        s.p = m;\r\n                        var x = u.call(a, e) ? m : i;\r\n                        for (y = b; y >= x; y--) s.validPositions.splice(y, 1), void 0 === t && delete s.tests[y + 1];\r\n                        var w, P, S = i, O = S;\r\n                        for (t && (s.validPositions[i] = c.extend(!0, {}, t), O++, S++), null == k[v] && s.jitOffset[v] && (v += s.jitOffset[v] + 1), \r\n                        y = t ? v : v - 1; y <= b; y++) {\r\n                            if (void 0 !== (w = k[y]) && !0 !== w.generatedInput && (y >= v || y >= m && d(y, k, {\r\n                                begin: m,\r\n                                end: v\r\n                            }))) {\r\n                                for (;\"\" !== o.getTest.call(a, O).match.def; ) {\r\n                                    if (!1 !== (P = p.call(a, O, w, l)) || \"+\" === w.match.def) {\r\n                                        \"+\" === w.match.def && r.getBuffer.call(a, !0);\r\n                                        var M = f.call(a, O, w.input, \"+\" !== w.match.def, !0);\r\n                                        if (g = !1 !== M, S = (M.pos || O) + 1, !g && P) break;\r\n                                    } else g = !1;\r\n                                    if (g) {\r\n                                        void 0 === t && w.match.static && y === e.begin && h++;\r\n                                        break;\r\n                                    }\r\n                                    if (!g && r.getBuffer.call(a), O > s.maskLength) break;\r\n                                    O++;\r\n                                }\r\n                                \"\" == o.getTest.call(a, O).match.def && (g = !1), O = S;\r\n                            }\r\n                            if (!g) break;\r\n                        }\r\n                        if (!g) return s.validPositions = c.extend(!0, [], k), r.resetMaskSet.call(a, !0), \r\n                        !1;\r\n                    } else t && o.getTest.call(a, i).match.cd === t.match.cd && (s.validPositions[i] = c.extend(!0, {}, t));\r\n                    return r.resetMaskSet.call(a, !0), h;\r\n                }\r\n            },\r\n            7957: function(t) {\r\n                t.exports = e;\r\n            }\r\n        }, n = {};\r\n        function i(e) {\r\n            var a = n[e];\r\n            if (void 0 !== a) return a.exports;\r\n            var r = n[e] = {\r\n                exports: {}\r\n            };\r\n            return t[e](r, r.exports, i), r.exports;\r\n        }\r\n        var a = {};\r\n        return function() {\r\n            var e = a;\r\n            Object.defineProperty(e, \"__esModule\", {\r\n                value: !0\r\n            }), e.default = void 0;\r\n            var t, n = (t = i(3046)) && t.__esModule ? t : {\r\n                default: t\r\n            };\r\n            i(443);\r\n            e.default = n.default;\r\n        }(), a;\r\n    }();\r\n}));\r\n/**\r\n * Swiper 6.8.4\r\n * Most modern mobile touch slider and framework with hardware accelerated transitions\r\n * https://swiperjs.com\r\n *\r\n * Copyright 2014-2021 Vladimir Kharlampidi\r\n *\r\n * Released under the MIT License\r\n *\r\n * Released on: August 23, 2021\r\n */\r\n\r\n!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).Swiper=t()}(this,(function(){\"use strict\";function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(this,arguments)}function a(e){return null!==e&&\"object\"==typeof e&&\"constructor\"in e&&e.constructor===Object}function i(e,t){void 0===e&&(e={}),void 0===t&&(t={}),Object.keys(t).forEach((function(s){void 0===e[s]?e[s]=t[s]:a(t[s])&&a(e[s])&&Object.keys(t[s]).length>0&&i(e[s],t[s])}))}var s={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:\"\"},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:\"\",host:\"\",hostname:\"\",href:\"\",origin:\"\",pathname:\"\",protocol:\"\",search:\"\"}};function r(){var e=\"undefined\"!=typeof document?document:{};return i(e,s),e}var n={document:s,navigator:{userAgent:\"\"},location:{hash:\"\",host:\"\",hostname:\"\",href:\"\",origin:\"\",pathname:\"\",protocol:\"\",search:\"\"},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return\"\"}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}},requestAnimationFrame:function(e){return\"undefined\"==typeof setTimeout?(e(),null):setTimeout(e,0)},cancelAnimationFrame:function(e){\"undefined\"!=typeof setTimeout&&clearTimeout(e)}};function l(){var e=\"undefined\"!=typeof window?window:{};return i(e,n),e}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function u(e,t,a){return(u=p()?Reflect.construct:function(e,t,a){var i=[null];i.push.apply(i,t);var s=new(Function.bind.apply(e,i));return a&&d(s,a.prototype),s}).apply(null,arguments)}function c(e){var t=\"function\"==typeof Map?new Map:void 0;return(c=function(e){if(null===e||(a=e,-1===Function.toString.call(a).indexOf(\"[native code]\")))return e;var a;if(\"function\"!=typeof e)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return u(e,arguments,o(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),d(i,e)})(e)}var h=function(e){var t,a;function i(t){var a,i,s;return a=e.call.apply(e,[this].concat(t))||this,i=function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(a),s=i.__proto__,Object.defineProperty(i,\"__proto__\",{get:function(){return s},set:function(e){s.__proto__=e}}),a}return a=e,(t=i).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a,i}(c(Array));function v(e){void 0===e&&(e=[]);var t=[];return e.forEach((function(e){Array.isArray(e)?t.push.apply(t,v(e)):t.push(e)})),t}function f(e,t){return Array.prototype.filter.call(e,t)}function m(e,t){var a=l(),i=r(),s=[];if(!t&&e instanceof h)return e;if(!e)return new h(s);if(\"string\"==typeof e){var n=e.trim();if(n.indexOf(\"<\")>=0&&n.indexOf(\">\")>=0){var o=\"div\";0===n.indexOf(\"<li\")&&(o=\"ul\"),0===n.indexOf(\"<tr\")&&(o=\"tbody\"),0!==n.indexOf(\"<td\")&&0!==n.indexOf(\"<th\")||(o=\"tr\"),0===n.indexOf(\"<tbody\")&&(o=\"table\"),0===n.indexOf(\"<option\")&&(o=\"select\");var d=i.createElement(o);d.innerHTML=n;for(var p=0;p<d.childNodes.length;p+=1)s.push(d.childNodes[p])}else s=function(e,t){if(\"string\"!=typeof e)return[e];for(var a=[],i=t.querySelectorAll(e),s=0;s<i.length;s+=1)a.push(i[s]);return a}(e.trim(),t||i)}else if(e.nodeType||e===a||e===i)s.push(e);else if(Array.isArray(e)){if(e instanceof h)return e;s=e}return new h(function(e){for(var t=[],a=0;a<e.length;a+=1)-1===t.indexOf(e[a])&&t.push(e[a]);return t}(s))}m.fn=h.prototype;var g,b,w,y={addClass:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var i=v(t.map((function(e){return e.split(\" \")})));return this.forEach((function(e){var t;(t=e.classList).add.apply(t,i)})),this},removeClass:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var i=v(t.map((function(e){return e.split(\" \")})));return this.forEach((function(e){var t;(t=e.classList).remove.apply(t,i)})),this},hasClass:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var i=v(t.map((function(e){return e.split(\" \")})));return f(this,(function(e){return i.filter((function(t){return e.classList.contains(t)})).length>0})).length>0},toggleClass:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var i=v(t.map((function(e){return e.split(\" \")})));this.forEach((function(e){i.forEach((function(t){e.classList.toggle(t)}))}))},attr:function(e,t){if(1===arguments.length&&\"string\"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var a=0;a<this.length;a+=1)if(2===arguments.length)this[a].setAttribute(e,t);else for(var i in e)this[a][i]=e[i],this[a].setAttribute(i,e[i]);return this},removeAttr:function(e){for(var t=0;t<this.length;t+=1)this[t].removeAttribute(e);return this},transform:function(e){for(var t=0;t<this.length;t+=1)this[t].style.transform=e;return this},transition:function(e){for(var t=0;t<this.length;t+=1)this[t].style.transitionDuration=\"string\"!=typeof e?e+\"ms\":e;return this},on:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var i=t[0],s=t[1],r=t[2],n=t[3];function l(e){var t=e.target;if(t){var a=e.target.dom7EventData||[];if(a.indexOf(e)<0&&a.unshift(e),m(t).is(s))r.apply(t,a);else for(var i=m(t).parents(),n=0;n<i.length;n+=1)m(i[n]).is(s)&&r.apply(i[n],a)}}function o(e){var t=e&&e.target&&e.target.dom7EventData||[];t.indexOf(e)<0&&t.unshift(e),r.apply(this,t)}\"function\"==typeof t[1]&&(i=t[0],r=t[1],n=t[2],s=void 0),n||(n=!1);for(var d,p=i.split(\" \"),u=0;u<this.length;u+=1){var c=this[u];if(s)for(d=0;d<p.length;d+=1){var h=p[d];c.dom7LiveListeners||(c.dom7LiveListeners={}),c.dom7LiveListeners[h]||(c.dom7LiveListeners[h]=[]),c.dom7LiveListeners[h].push({listener:r,proxyListener:l}),c.addEventListener(h,l,n)}else for(d=0;d<p.length;d+=1){var v=p[d];c.dom7Listeners||(c.dom7Listeners={}),c.dom7Listeners[v]||(c.dom7Listeners[v]=[]),c.dom7Listeners[v].push({listener:r,proxyListener:o}),c.addEventListener(v,o,n)}}return this},off:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var i=t[0],s=t[1],r=t[2],n=t[3];\"function\"==typeof t[1]&&(i=t[0],r=t[1],n=t[2],s=void 0),n||(n=!1);for(var l=i.split(\" \"),o=0;o<l.length;o+=1)for(var d=l[o],p=0;p<this.length;p+=1){var u=this[p],c=void 0;if(!s&&u.dom7Listeners?c=u.dom7Listeners[d]:s&&u.dom7LiveListeners&&(c=u.dom7LiveListeners[d]),c&&c.length)for(var h=c.length-1;h>=0;h-=1){var v=c[h];r&&v.listener===r||r&&v.listener&&v.listener.dom7proxy&&v.listener.dom7proxy===r?(u.removeEventListener(d,v.proxyListener,n),c.splice(h,1)):r||(u.removeEventListener(d,v.proxyListener,n),c.splice(h,1))}}return this},trigger:function(){for(var e=l(),t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];for(var s=a[0].split(\" \"),r=a[1],n=0;n<s.length;n+=1)for(var o=s[n],d=0;d<this.length;d+=1){var p=this[d];if(e.CustomEvent){var u=new e.CustomEvent(o,{detail:r,bubbles:!0,cancelable:!0});p.dom7EventData=a.filter((function(e,t){return t>0})),p.dispatchEvent(u),p.dom7EventData=[],delete p.dom7EventData}}return this},transitionEnd:function(e){var t=this;return e&&t.on(\"transitionend\",(function a(i){i.target===this&&(e.call(this,i),t.off(\"transitionend\",a))})),this},outerWidth:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetWidth+parseFloat(t.getPropertyValue(\"margin-right\"))+parseFloat(t.getPropertyValue(\"margin-left\"))}return this[0].offsetWidth}return null},outerHeight:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetHeight+parseFloat(t.getPropertyValue(\"margin-top\"))+parseFloat(t.getPropertyValue(\"margin-bottom\"))}return this[0].offsetHeight}return null},styles:function(){var e=l();return this[0]?e.getComputedStyle(this[0],null):{}},offset:function(){if(this.length>0){var e=l(),t=r(),a=this[0],i=a.getBoundingClientRect(),s=t.body,n=a.clientTop||s.clientTop||0,o=a.clientLeft||s.clientLeft||0,d=a===e?e.scrollY:a.scrollTop,p=a===e?e.scrollX:a.scrollLeft;return{top:i.top+d-n,left:i.left+p-o}}return null},css:function(e,t){var a,i=l();if(1===arguments.length){if(\"string\"!=typeof e){for(a=0;a<this.length;a+=1)for(var s in e)this[a].style[s]=e[s];return this}if(this[0])return i.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&\"string\"==typeof e){for(a=0;a<this.length;a+=1)this[a].style[e]=t;return this}return this},each:function(e){return e?(this.forEach((function(t,a){e.apply(t,[t,a])})),this):this},html:function(e){if(void 0===e)return this[0]?this[0].innerHTML:null;for(var t=0;t<this.length;t+=1)this[t].innerHTML=e;return this},text:function(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t+=1)this[t].textContent=e;return this},is:function(e){var t,a,i=l(),s=r(),n=this[0];if(!n||void 0===e)return!1;if(\"string\"==typeof e){if(n.matches)return n.matches(e);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(e);if(n.msMatchesSelector)return n.msMatchesSelector(e);for(t=m(e),a=0;a<t.length;a+=1)if(t[a]===n)return!0;return!1}if(e===s)return n===s;if(e===i)return n===i;if(e.nodeType||e instanceof h){for(t=e.nodeType?[e]:e,a=0;a<t.length;a+=1)if(t[a]===n)return!0;return!1}return!1},index:function(){var e,t=this[0];if(t){for(e=0;null!==(t=t.previousSibling);)1===t.nodeType&&(e+=1);return e}},eq:function(e){if(void 0===e)return this;var t=this.length;if(e>t-1)return m([]);if(e<0){var a=t+e;return m(a<0?[]:[this[a]])}return m([this[e]])},append:function(){for(var e,t=r(),a=0;a<arguments.length;a+=1){e=a<0||arguments.length<=a?void 0:arguments[a];for(var i=0;i<this.length;i+=1)if(\"string\"==typeof e){var s=t.createElement(\"div\");for(s.innerHTML=e;s.firstChild;)this[i].appendChild(s.firstChild)}else if(e instanceof h)for(var n=0;n<e.length;n+=1)this[i].appendChild(e[n]);else this[i].appendChild(e)}return this},prepend:function(e){var t,a,i=r();for(t=0;t<this.length;t+=1)if(\"string\"==typeof e){var s=i.createElement(\"div\");for(s.innerHTML=e,a=s.childNodes.length-1;a>=0;a-=1)this[t].insertBefore(s.childNodes[a],this[t].childNodes[0])}else if(e instanceof h)for(a=0;a<e.length;a+=1)this[t].insertBefore(e[a],this[t].childNodes[0]);else this[t].insertBefore(e,this[t].childNodes[0]);return this},next:function(e){return this.length>0?e?this[0].nextElementSibling&&m(this[0].nextElementSibling).is(e)?m([this[0].nextElementSibling]):m([]):this[0].nextElementSibling?m([this[0].nextElementSibling]):m([]):m([])},nextAll:function(e){var t=[],a=this[0];if(!a)return m([]);for(;a.nextElementSibling;){var i=a.nextElementSibling;e?m(i).is(e)&&t.push(i):t.push(i),a=i}return m(t)},prev:function(e){if(this.length>0){var t=this[0];return e?t.previousElementSibling&&m(t.previousElementSibling).is(e)?m([t.previousElementSibling]):m([]):t.previousElementSibling?m([t.previousElementSibling]):m([])}return m([])},prevAll:function(e){var t=[],a=this[0];if(!a)return m([]);for(;a.previousElementSibling;){var i=a.previousElementSibling;e?m(i).is(e)&&t.push(i):t.push(i),a=i}return m(t)},parent:function(e){for(var t=[],a=0;a<this.length;a+=1)null!==this[a].parentNode&&(e?m(this[a].parentNode).is(e)&&t.push(this[a].parentNode):t.push(this[a].parentNode));return m(t)},parents:function(e){for(var t=[],a=0;a<this.length;a+=1)for(var i=this[a].parentNode;i;)e?m(i).is(e)&&t.push(i):t.push(i),i=i.parentNode;return m(t)},closest:function(e){var t=this;return void 0===e?m([]):(t.is(e)||(t=t.parents(e).eq(0)),t)},find:function(e){for(var t=[],a=0;a<this.length;a+=1)for(var i=this[a].querySelectorAll(e),s=0;s<i.length;s+=1)t.push(i[s]);return m(t)},children:function(e){for(var t=[],a=0;a<this.length;a+=1)for(var i=this[a].children,s=0;s<i.length;s+=1)e&&!m(i[s]).is(e)||t.push(i[s]);return m(t)},filter:function(e){return m(f(this,e))},remove:function(){for(var e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this}};function E(e,t){return void 0===t&&(t=0),setTimeout(e,t)}function x(){return Date.now()}function T(e,t){void 0===t&&(t=\"x\");var a,i,s,r=l(),n=function(e){var t,a=l();return a.getComputedStyle&&(t=a.getComputedStyle(e,null)),!t&&e.currentStyle&&(t=e.currentStyle),t||(t=e.style),t}(e);return r.WebKitCSSMatrix?((i=n.transform||n.webkitTransform).split(\",\").length>6&&(i=i.split(\", \").map((function(e){return e.replace(\",\",\".\")})).join(\", \")),s=new r.WebKitCSSMatrix(\"none\"===i?\"\":i)):a=(s=n.MozTransform||n.OTransform||n.MsTransform||n.msTransform||n.transform||n.getPropertyValue(\"transform\").replace(\"translate(\",\"matrix(1, 0, 0, 1,\")).toString().split(\",\"),\"x\"===t&&(i=r.WebKitCSSMatrix?s.m41:16===a.length?parseFloat(a[12]):parseFloat(a[4])),\"y\"===t&&(i=r.WebKitCSSMatrix?s.m42:16===a.length?parseFloat(a[13]):parseFloat(a[5])),i||0}function C(e){return\"object\"==typeof e&&null!==e&&e.constructor&&\"Object\"===Object.prototype.toString.call(e).slice(8,-1)}function S(e){return\"undefined\"!=typeof window&&void 0!==window.HTMLElement?e instanceof HTMLElement:e&&(1===e.nodeType||11===e.nodeType)}function M(){for(var e=Object(arguments.length<=0?void 0:arguments[0]),t=[\"__proto__\",\"constructor\",\"prototype\"],a=1;a<arguments.length;a+=1){var i=a<0||arguments.length<=a?void 0:arguments[a];if(null!=i&&!S(i))for(var s=Object.keys(Object(i)).filter((function(e){return t.indexOf(e)<0})),r=0,n=s.length;r<n;r+=1){var l=s[r],o=Object.getOwnPropertyDescriptor(i,l);void 0!==o&&o.enumerable&&(C(e[l])&&C(i[l])?i[l].__swiper__?e[l]=i[l]:M(e[l],i[l]):!C(e[l])&&C(i[l])?(e[l]={},i[l].__swiper__?e[l]=i[l]:M(e[l],i[l])):e[l]=i[l])}}return e}function z(e,t){Object.keys(t).forEach((function(a){C(t[a])&&Object.keys(t[a]).forEach((function(i){\"function\"==typeof t[a][i]&&(t[a][i]=t[a][i].bind(e))})),e[a]=t[a]}))}function P(e){return void 0===e&&(e=\"\"),\".\"+e.trim().replace(/([\\.:!\\/])/g,\"\\\\$1\").replace(/ /g,\".\")}function k(e,t,a,i){var s=r();return a&&Object.keys(i).forEach((function(a){if(!t[a]&&!0===t.auto){var r=s.createElement(\"div\");r.className=i[a],e.append(r),t[a]=r}})),t}function $(){return g||(g=function(){var e=l(),t=r();return{touch:!!(\"ontouchstart\"in e||e.DocumentTouch&&t instanceof e.DocumentTouch),pointerEvents:!!e.PointerEvent&&\"maxTouchPoints\"in e.navigator&&e.navigator.maxTouchPoints>=0,observer:\"MutationObserver\"in e||\"WebkitMutationObserver\"in e,passiveListener:function(){var t=!1;try{var a=Object.defineProperty({},\"passive\",{get:function(){t=!0}});e.addEventListener(\"testPassiveListener\",null,a)}catch(e){}return t}(),gestures:\"ongesturestart\"in e}}()),g}function L(e){return void 0===e&&(e={}),b||(b=function(e){var t=(void 0===e?{}:e).userAgent,a=$(),i=l(),s=i.navigator.platform,r=t||i.navigator.userAgent,n={ios:!1,android:!1},o=i.screen.width,d=i.screen.height,p=r.match(/(Android);?[\\s\\/]+([\\d.]+)?/),u=r.match(/(iPad).*OS\\s([\\d_]+)/),c=r.match(/(iPod)(.*OS\\s([\\d_]+))?/),h=!u&&r.match(/(iPhone\\sOS|iOS)\\s([\\d_]+)/),v=\"Win32\"===s,f=\"MacIntel\"===s;return!u&&f&&a.touch&&[\"1024x1366\",\"1366x1024\",\"834x1194\",\"1194x834\",\"834x1112\",\"1112x834\",\"768x1024\",\"1024x768\",\"820x1180\",\"1180x820\",\"810x1080\",\"1080x810\"].indexOf(o+\"x\"+d)>=0&&((u=r.match(/(Version)\\/([\\d.]+)/))||(u=[0,1,\"13_0_0\"]),f=!1),p&&!v&&(n.os=\"android\",n.android=!0),(u||h||c)&&(n.os=\"ios\",n.ios=!0),n}(e)),b}function I(){return w||(w=function(){var e,t=l();return{isEdge:!!t.navigator.userAgent.match(/Edge/g),isSafari:(e=t.navigator.userAgent.toLowerCase(),e.indexOf(\"safari\")>=0&&e.indexOf(\"chrome\")<0&&e.indexOf(\"android\")<0),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}()),w}Object.keys(y).forEach((function(e){Object.defineProperty(m.fn,e,{value:y[e],writable:!0})}));var O={name:\"resize\",create:function(){var e=this;M(e,{resize:{observer:null,createObserver:function(){e&&!e.destroyed&&e.initialized&&(e.resize.observer=new ResizeObserver((function(t){var a=e.width,i=e.height,s=a,r=i;t.forEach((function(t){var a=t.contentBoxSize,i=t.contentRect,n=t.target;n&&n!==e.el||(s=i?i.width:(a[0]||a).inlineSize,r=i?i.height:(a[0]||a).blockSize)})),s===a&&r===i||e.resize.resizeHandler()})),e.resize.observer.observe(e.el))},removeObserver:function(){e.resize.observer&&e.resize.observer.unobserve&&e.el&&(e.resize.observer.unobserve(e.el),e.resize.observer=null)},resizeHandler:function(){e&&!e.destroyed&&e.initialized&&(e.emit(\"beforeResize\"),e.emit(\"resize\"))},orientationChangeHandler:function(){e&&!e.destroyed&&e.initialized&&e.emit(\"orientationchange\")}}})},on:{init:function(e){var t=l();e.params.resizeObserver&&void 0!==l().ResizeObserver?e.resize.createObserver():(t.addEventListener(\"resize\",e.resize.resizeHandler),t.addEventListener(\"orientationchange\",e.resize.orientationChangeHandler))},destroy:function(e){var t=l();e.resize.removeObserver(),t.removeEventListener(\"resize\",e.resize.resizeHandler),t.removeEventListener(\"orientationchange\",e.resize.orientationChangeHandler)}}},A={attach:function(e,t){void 0===t&&(t={});var a=l(),i=this,s=new(a.MutationObserver||a.WebkitMutationObserver)((function(e){if(1!==e.length){var t=function(){i.emit(\"observerUpdate\",e[0])};a.requestAnimationFrame?a.requestAnimationFrame(t):a.setTimeout(t,0)}else i.emit(\"observerUpdate\",e[0])}));s.observe(e,{attributes:void 0===t.attributes||t.attributes,childList:void 0===t.childList||t.childList,characterData:void 0===t.characterData||t.characterData}),i.observer.observers.push(s)},init:function(){var e=this;if(e.support.observer&&e.params.observer){if(e.params.observeParents)for(var t=e.$el.parents(),a=0;a<t.length;a+=1)e.observer.attach(t[a]);e.observer.attach(e.$el[0],{childList:e.params.observeSlideChildren}),e.observer.attach(e.$wrapperEl[0],{attributes:!1})}},destroy:function(){this.observer.observers.forEach((function(e){e.disconnect()})),this.observer.observers=[]}},D={name:\"observer\",params:{observer:!1,observeParents:!1,observeSlideChildren:!1},create:function(){z(this,{observer:t({},A,{observers:[]})})},on:{init:function(e){e.observer.init()},destroy:function(e){e.observer.destroy()}}};function N(e){var t=this,a=r(),i=l(),s=t.touchEventsData,n=t.params,o=t.touches;if(t.enabled&&(!t.animating||!n.preventInteractionOnTransition)){var d=e;d.originalEvent&&(d=d.originalEvent);var p=m(d.target);if((\"wrapper\"!==n.touchEventsTarget||p.closest(t.wrapperEl).length)&&(s.isTouchEvent=\"touchstart\"===d.type,(s.isTouchEvent||!(\"which\"in d)||3!==d.which)&&!(!s.isTouchEvent&&\"button\"in d&&d.button>0||s.isTouched&&s.isMoved))){!!n.noSwipingClass&&\"\"!==n.noSwipingClass&&d.target&&d.target.shadowRoot&&e.path&&e.path[0]&&(p=m(e.path[0]));var u=n.noSwipingSelector?n.noSwipingSelector:\".\"+n.noSwipingClass,c=!(!d.target||!d.target.shadowRoot);if(n.noSwiping&&(c?function(e,t){return void 0===t&&(t=this),function t(a){return a&&a!==r()&&a!==l()?(a.assignedSlot&&(a=a.assignedSlot),a.closest(e)||t(a.getRootNode().host)):null}(t)}(u,d.target):p.closest(u)[0]))t.allowClick=!0;else if(!n.swipeHandler||p.closest(n.swipeHandler)[0]){o.currentX=\"touchstart\"===d.type?d.targetTouches[0].pageX:d.pageX,o.currentY=\"touchstart\"===d.type?d.targetTouches[0].pageY:d.pageY;var h=o.currentX,v=o.currentY,f=n.edgeSwipeDetection||n.iOSEdgeSwipeDetection,g=n.edgeSwipeThreshold||n.iOSEdgeSwipeThreshold;if(f&&(h<=g||h>=i.innerWidth-g)){if(\"prevent\"!==f)return;e.preventDefault()}if(M(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=h,o.startY=v,s.touchStartTime=x(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,n.threshold>0&&(s.allowThresholdMove=!1),\"touchstart\"!==d.type){var b=!0;p.is(s.focusableElements)&&(b=!1),a.activeElement&&m(a.activeElement).is(s.focusableElements)&&a.activeElement!==p[0]&&a.activeElement.blur();var w=b&&t.allowTouchMove&&n.touchStartPreventDefault;!n.touchStartForcePreventDefault&&!w||p[0].isContentEditable||d.preventDefault()}t.emit(\"touchStart\",d)}}}}function G(e){var t=r(),a=this,i=a.touchEventsData,s=a.params,n=a.touches,l=a.rtlTranslate;if(a.enabled){var o=e;if(o.originalEvent&&(o=o.originalEvent),i.isTouched){if(!i.isTouchEvent||\"touchmove\"===o.type){var d=\"touchmove\"===o.type&&o.targetTouches&&(o.targetTouches[0]||o.changedTouches[0]),p=\"touchmove\"===o.type?d.pageX:o.pageX,u=\"touchmove\"===o.type?d.pageY:o.pageY;if(o.preventedByNestedSwiper)return n.startX=p,void(n.startY=u);if(!a.allowTouchMove)return a.allowClick=!1,void(i.isTouched&&(M(n,{startX:p,startY:u,currentX:p,currentY:u}),i.touchStartTime=x()));if(i.isTouchEvent&&s.touchReleaseOnEdges&&!s.loop)if(a.isVertical()){if(u<n.startY&&a.translate<=a.maxTranslate()||u>n.startY&&a.translate>=a.minTranslate())return i.isTouched=!1,void(i.isMoved=!1)}else if(p<n.startX&&a.translate<=a.maxTranslate()||p>n.startX&&a.translate>=a.minTranslate())return;if(i.isTouchEvent&&t.activeElement&&o.target===t.activeElement&&m(o.target).is(i.focusableElements))return i.isMoved=!0,void(a.allowClick=!1);if(i.allowTouchCallbacks&&a.emit(\"touchMove\",o),!(o.targetTouches&&o.targetTouches.length>1)){n.currentX=p,n.currentY=u;var c=n.currentX-n.startX,h=n.currentY-n.startY;if(!(a.params.threshold&&Math.sqrt(Math.pow(c,2)+Math.pow(h,2))<a.params.threshold)){var v;if(void 0===i.isScrolling)a.isHorizontal()&&n.currentY===n.startY||a.isVertical()&&n.currentX===n.startX?i.isScrolling=!1:c*c+h*h>=25&&(v=180*Math.atan2(Math.abs(h),Math.abs(c))/Math.PI,i.isScrolling=a.isHorizontal()?v>s.touchAngle:90-v>s.touchAngle);if(i.isScrolling&&a.emit(\"touchMoveOpposite\",o),void 0===i.startMoving&&(n.currentX===n.startX&&n.currentY===n.startY||(i.startMoving=!0)),i.isScrolling)i.isTouched=!1;else if(i.startMoving){a.allowClick=!1,!s.cssMode&&o.cancelable&&o.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&o.stopPropagation(),i.isMoved||(s.loop&&a.loopFix(),i.startTranslate=a.getTranslate(),a.setTransition(0),a.animating&&a.$wrapperEl.trigger(\"webkitTransitionEnd transitionend\"),i.allowMomentumBounce=!1,!s.grabCursor||!0!==a.allowSlideNext&&!0!==a.allowSlidePrev||a.setGrabCursor(!0),a.emit(\"sliderFirstMove\",o)),a.emit(\"sliderMove\",o),i.isMoved=!0;var f=a.isHorizontal()?c:h;n.diff=f,f*=s.touchRatio,l&&(f=-f),a.swipeDirection=f>0?\"prev\":\"next\",i.currentTranslate=f+i.startTranslate;var g=!0,b=s.resistanceRatio;if(s.touchReleaseOnEdges&&(b=0),f>0&&i.currentTranslate>a.minTranslate()?(g=!1,s.resistance&&(i.currentTranslate=a.minTranslate()-1+Math.pow(-a.minTranslate()+i.startTranslate+f,b))):f<0&&i.currentTranslate<a.maxTranslate()&&(g=!1,s.resistance&&(i.currentTranslate=a.maxTranslate()+1-Math.pow(a.maxTranslate()-i.startTranslate-f,b))),g&&(o.preventedByNestedSwiper=!0),!a.allowSlideNext&&\"next\"===a.swipeDirection&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!a.allowSlidePrev&&\"prev\"===a.swipeDirection&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),a.allowSlidePrev||a.allowSlideNext||(i.currentTranslate=i.startTranslate),s.threshold>0){if(!(Math.abs(f)>s.threshold||i.allowThresholdMove))return void(i.currentTranslate=i.startTranslate);if(!i.allowThresholdMove)return i.allowThresholdMove=!0,n.startX=n.currentX,n.startY=n.currentY,i.currentTranslate=i.startTranslate,void(n.diff=a.isHorizontal()?n.currentX-n.startX:n.currentY-n.startY)}s.followFinger&&!s.cssMode&&((s.freeMode||s.watchSlidesProgress||s.watchSlidesVisibility)&&(a.updateActiveIndex(),a.updateSlidesClasses()),s.freeMode&&(0===i.velocities.length&&i.velocities.push({position:n[a.isHorizontal()?\"startX\":\"startY\"],time:i.touchStartTime}),i.velocities.push({position:n[a.isHorizontal()?\"currentX\":\"currentY\"],time:x()})),a.updateProgress(i.currentTranslate),a.setTranslate(i.currentTranslate))}}}}}else i.startMoving&&i.isScrolling&&a.emit(\"touchMoveOpposite\",o)}}function B(e){var t=this,a=t.touchEventsData,i=t.params,s=t.touches,r=t.rtlTranslate,n=t.$wrapperEl,l=t.slidesGrid,o=t.snapGrid;if(t.enabled){var d=e;if(d.originalEvent&&(d=d.originalEvent),a.allowTouchCallbacks&&t.emit(\"touchEnd\",d),a.allowTouchCallbacks=!1,!a.isTouched)return a.isMoved&&i.grabCursor&&t.setGrabCursor(!1),a.isMoved=!1,void(a.startMoving=!1);i.grabCursor&&a.isMoved&&a.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);var p,u=x(),c=u-a.touchStartTime;if(t.allowClick&&(t.updateClickedSlide(d),t.emit(\"tap click\",d),c<300&&u-a.lastClickTime<300&&t.emit(\"doubleTap doubleClick\",d)),a.lastClickTime=x(),E((function(){t.destroyed||(t.allowClick=!0)})),!a.isTouched||!a.isMoved||!t.swipeDirection||0===s.diff||a.currentTranslate===a.startTranslate)return a.isTouched=!1,a.isMoved=!1,void(a.startMoving=!1);if(a.isTouched=!1,a.isMoved=!1,a.startMoving=!1,p=i.followFinger?r?t.translate:-t.translate:-a.currentTranslate,!i.cssMode)if(i.freeMode){if(p<-t.minTranslate())return void t.slideTo(t.activeIndex);if(p>-t.maxTranslate())return void(t.slides.length<o.length?t.slideTo(o.length-1):t.slideTo(t.slides.length-1));if(i.freeModeMomentum){if(a.velocities.length>1){var h=a.velocities.pop(),v=a.velocities.pop(),f=h.position-v.position,m=h.time-v.time;t.velocity=f/m,t.velocity/=2,Math.abs(t.velocity)<i.freeModeMinimumVelocity&&(t.velocity=0),(m>150||x()-h.time>300)&&(t.velocity=0)}else t.velocity=0;t.velocity*=i.freeModeMomentumVelocityRatio,a.velocities.length=0;var g=1e3*i.freeModeMomentumRatio,b=t.velocity*g,w=t.translate+b;r&&(w=-w);var y,T,C=!1,S=20*Math.abs(t.velocity)*i.freeModeMomentumBounceRatio;if(w<t.maxTranslate())i.freeModeMomentumBounce?(w+t.maxTranslate()<-S&&(w=t.maxTranslate()-S),y=t.maxTranslate(),C=!0,a.allowMomentumBounce=!0):w=t.maxTranslate(),i.loop&&i.centeredSlides&&(T=!0);else if(w>t.minTranslate())i.freeModeMomentumBounce?(w-t.minTranslate()>S&&(w=t.minTranslate()+S),y=t.minTranslate(),C=!0,a.allowMomentumBounce=!0):w=t.minTranslate(),i.loop&&i.centeredSlides&&(T=!0);else if(i.freeModeSticky){for(var M,z=0;z<o.length;z+=1)if(o[z]>-w){M=z;break}w=-(w=Math.abs(o[M]-w)<Math.abs(o[M-1]-w)||\"next\"===t.swipeDirection?o[M]:o[M-1])}if(T&&t.once(\"transitionEnd\",(function(){t.loopFix()})),0!==t.velocity){if(g=r?Math.abs((-w-t.translate)/t.velocity):Math.abs((w-t.translate)/t.velocity),i.freeModeSticky){var P=Math.abs((r?-w:w)-t.translate),k=t.slidesSizesGrid[t.activeIndex];g=P<k?i.speed:P<2*k?1.5*i.speed:2.5*i.speed}}else if(i.freeModeSticky)return void t.slideToClosest();i.freeModeMomentumBounce&&C?(t.updateProgress(y),t.setTransition(g),t.setTranslate(w),t.transitionStart(!0,t.swipeDirection),t.animating=!0,n.transitionEnd((function(){t&&!t.destroyed&&a.allowMomentumBounce&&(t.emit(\"momentumBounce\"),t.setTransition(i.speed),setTimeout((function(){t.setTranslate(y),n.transitionEnd((function(){t&&!t.destroyed&&t.transitionEnd()}))}),0))}))):t.velocity?(t.updateProgress(w),t.setTransition(g),t.setTranslate(w),t.transitionStart(!0,t.swipeDirection),t.animating||(t.animating=!0,n.transitionEnd((function(){t&&!t.destroyed&&t.transitionEnd()})))):(t.emit(\"_freeModeNoMomentumRelease\"),t.updateProgress(w)),t.updateActiveIndex(),t.updateSlidesClasses()}else{if(i.freeModeSticky)return void t.slideToClosest();i.freeMode&&t.emit(\"_freeModeNoMomentumRelease\")}(!i.freeModeMomentum||c>=i.longSwipesMs)&&(t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses())}else{for(var $=0,L=t.slidesSizesGrid[0],I=0;I<l.length;I+=I<i.slidesPerGroupSkip?1:i.slidesPerGroup){var O=I<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;void 0!==l[I+O]?p>=l[I]&&p<l[I+O]&&($=I,L=l[I+O]-l[I]):p>=l[I]&&($=I,L=l[l.length-1]-l[l.length-2])}var A=(p-l[$])/L,D=$<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;if(c>i.longSwipesMs){if(!i.longSwipes)return void t.slideTo(t.activeIndex);\"next\"===t.swipeDirection&&(A>=i.longSwipesRatio?t.slideTo($+D):t.slideTo($)),\"prev\"===t.swipeDirection&&(A>1-i.longSwipesRatio?t.slideTo($+D):t.slideTo($))}else{if(!i.shortSwipes)return void t.slideTo(t.activeIndex);t.navigation&&(d.target===t.navigation.nextEl||d.target===t.navigation.prevEl)?d.target===t.navigation.nextEl?t.slideTo($+D):t.slideTo($):(\"next\"===t.swipeDirection&&t.slideTo($+D),\"prev\"===t.swipeDirection&&t.slideTo($))}}}}function H(){var e=this,t=e.params,a=e.el;if(!a||0!==a.offsetWidth){t.breakpoints&&e.setBreakpoint();var i=e.allowSlideNext,s=e.allowSlidePrev,r=e.snapGrid;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses(),(\"auto\"===t.slidesPerView||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.run(),e.allowSlidePrev=s,e.allowSlideNext=i,e.params.watchOverflow&&r!==e.snapGrid&&e.checkOverflow()}}function R(e){var t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function X(){var e=this,t=e.wrapperEl,a=e.rtlTranslate;if(e.enabled){e.previousTranslate=e.translate,e.isHorizontal()?e.translate=a?t.scrollWidth-t.offsetWidth-t.scrollLeft:-t.scrollLeft:e.translate=-t.scrollTop,-0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();var i=e.maxTranslate()-e.minTranslate();(0===i?0:(e.translate-e.minTranslate())/i)!==e.progress&&e.updateProgress(a?-e.translate:e.translate),e.emit(\"setTranslate\",e.translate,!1)}}var Y=!1;function V(){}var W={init:!0,direction:\"horizontal\",touchEventsTarget:\"container\",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!1,nested:!1,createElements:!1,enabled:!0,focusableElements:\"input, select, option, textarea, button, video, label\",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:\"slide\",breakpoints:void 0,breakpointsBase:\"window\",spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:\"column\",slidesPerGroup:1,slidesPerGroupSkip:0,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!1,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:\"swiper-no-swiping\",noSwipingSelector:null,passiveListeners:!0,containerModifierClass:\"swiper-container-\",slideClass:\"swiper-slide\",slideBlankClass:\"swiper-slide-invisible-blank\",slideActiveClass:\"swiper-slide-active\",slideDuplicateActiveClass:\"swiper-slide-duplicate-active\",slideVisibleClass:\"swiper-slide-visible\",slideDuplicateClass:\"swiper-slide-duplicate\",slideNextClass:\"swiper-slide-next\",slideDuplicateNextClass:\"swiper-slide-duplicate-next\",slidePrevClass:\"swiper-slide-prev\",slideDuplicatePrevClass:\"swiper-slide-duplicate-prev\",wrapperClass:\"swiper-wrapper\",runCallbacksOnInit:!0,_emitClasses:!1},F={modular:{useParams:function(e){var t=this;t.modules&&Object.keys(t.modules).forEach((function(a){var i=t.modules[a];i.params&&M(e,i.params)}))},useModules:function(e){void 0===e&&(e={});var t=this;t.modules&&Object.keys(t.modules).forEach((function(a){var i=t.modules[a],s=e[a]||{};i.on&&t.on&&Object.keys(i.on).forEach((function(e){t.on(e,i.on[e])})),i.create&&i.create.bind(t)(s)}))}},eventsEmitter:{on:function(e,t,a){var i=this;if(\"function\"!=typeof t)return i;var s=a?\"unshift\":\"push\";return e.split(\" \").forEach((function(e){i.eventsListeners[e]||(i.eventsListeners[e]=[]),i.eventsListeners[e][s](t)})),i},once:function(e,t,a){var i=this;if(\"function\"!=typeof t)return i;function s(){i.off(e,s),s.__emitterProxy&&delete s.__emitterProxy;for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];t.apply(i,r)}return s.__emitterProxy=t,i.on(e,s,a)},onAny:function(e,t){var a=this;if(\"function\"!=typeof e)return a;var i=t?\"unshift\":\"push\";return a.eventsAnyListeners.indexOf(e)<0&&a.eventsAnyListeners[i](e),a},offAny:function(e){var t=this;if(!t.eventsAnyListeners)return t;var a=t.eventsAnyListeners.indexOf(e);return a>=0&&t.eventsAnyListeners.splice(a,1),t},off:function(e,t){var a=this;return a.eventsListeners?(e.split(\" \").forEach((function(e){void 0===t?a.eventsListeners[e]=[]:a.eventsListeners[e]&&a.eventsListeners[e].forEach((function(i,s){(i===t||i.__emitterProxy&&i.__emitterProxy===t)&&a.eventsListeners[e].splice(s,1)}))})),a):a},emit:function(){var e,t,a,i=this;if(!i.eventsListeners)return i;for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];\"string\"==typeof r[0]||Array.isArray(r[0])?(e=r[0],t=r.slice(1,r.length),a=i):(e=r[0].events,t=r[0].data,a=r[0].context||i),t.unshift(a);var l=Array.isArray(e)?e:e.split(\" \");return l.forEach((function(e){i.eventsAnyListeners&&i.eventsAnyListeners.length&&i.eventsAnyListeners.forEach((function(i){i.apply(a,[e].concat(t))})),i.eventsListeners&&i.eventsListeners[e]&&i.eventsListeners[e].forEach((function(e){e.apply(a,t)}))})),i}},update:{updateSize:function(){var e,t,a=this,i=a.$el;e=void 0!==a.params.width&&null!==a.params.width?a.params.width:i[0].clientWidth,t=void 0!==a.params.height&&null!==a.params.height?a.params.height:i[0].clientHeight,0===e&&a.isHorizontal()||0===t&&a.isVertical()||(e=e-parseInt(i.css(\"padding-left\")||0,10)-parseInt(i.css(\"padding-right\")||0,10),t=t-parseInt(i.css(\"padding-top\")||0,10)-parseInt(i.css(\"padding-bottom\")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),M(a,{width:e,height:t,size:a.isHorizontal()?e:t}))},updateSlides:function(){var e=this;function t(t){return e.isHorizontal()?t:{width:\"height\",\"margin-top\":\"margin-left\",\"margin-bottom \":\"margin-right\",\"margin-left\":\"margin-top\",\"margin-right\":\"margin-bottom\",\"padding-left\":\"padding-top\",\"padding-right\":\"padding-bottom\",marginRight:\"marginBottom\"}[t]}function a(e,a){return parseFloat(e.getPropertyValue(t(a))||0)}var i=e.params,s=e.$wrapperEl,r=e.size,n=e.rtlTranslate,l=e.wrongRTL,o=e.virtual&&i.virtual.enabled,d=o?e.virtual.slides.length:e.slides.length,p=s.children(\".\"+e.params.slideClass),u=o?e.virtual.slides.length:p.length,c=[],h=[],v=[],f=i.slidesOffsetBefore;\"function\"==typeof f&&(f=i.slidesOffsetBefore.call(e));var m=i.slidesOffsetAfter;\"function\"==typeof m&&(m=i.slidesOffsetAfter.call(e));var g=e.snapGrid.length,b=e.slidesGrid.length,w=i.spaceBetween,y=-f,E=0,x=0;if(void 0!==r){var T,C;\"string\"==typeof w&&w.indexOf(\"%\")>=0&&(w=parseFloat(w.replace(\"%\",\"\"))/100*r),e.virtualSize=-w,n?p.css({marginLeft:\"\",marginBottom:\"\",marginTop:\"\"}):p.css({marginRight:\"\",marginBottom:\"\",marginTop:\"\"}),i.slidesPerColumn>1&&(T=Math.floor(u/i.slidesPerColumn)===u/e.params.slidesPerColumn?u:Math.ceil(u/i.slidesPerColumn)*i.slidesPerColumn,\"auto\"!==i.slidesPerView&&\"row\"===i.slidesPerColumnFill&&(T=Math.max(T,i.slidesPerView*i.slidesPerColumn)));for(var S,z,P,k=i.slidesPerColumn,$=T/k,L=Math.floor(u/i.slidesPerColumn),I=0;I<u;I+=1){C=0;var O=p.eq(I);if(i.slidesPerColumn>1){var A=void 0,D=void 0,N=void 0;if(\"row\"===i.slidesPerColumnFill&&i.slidesPerGroup>1){var G=Math.floor(I/(i.slidesPerGroup*i.slidesPerColumn)),B=I-i.slidesPerColumn*i.slidesPerGroup*G,H=0===G?i.slidesPerGroup:Math.min(Math.ceil((u-G*k*i.slidesPerGroup)/k),i.slidesPerGroup);A=(D=B-(N=Math.floor(B/H))*H+G*i.slidesPerGroup)+N*T/k,O.css({\"-webkit-box-ordinal-group\":A,\"-moz-box-ordinal-group\":A,\"-ms-flex-order\":A,\"-webkit-order\":A,order:A})}else\"column\"===i.slidesPerColumnFill?(N=I-(D=Math.floor(I/k))*k,(D>L||D===L&&N===k-1)&&(N+=1)>=k&&(N=0,D+=1)):D=I-(N=Math.floor(I/$))*$;O.css(t(\"margin-top\"),0!==N?i.spaceBetween&&i.spaceBetween+\"px\":\"\")}if(\"none\"!==O.css(\"display\")){if(\"auto\"===i.slidesPerView){var R=getComputedStyle(O[0]),X=O[0].style.transform,Y=O[0].style.webkitTransform;if(X&&(O[0].style.transform=\"none\"),Y&&(O[0].style.webkitTransform=\"none\"),i.roundLengths)C=e.isHorizontal()?O.outerWidth(!0):O.outerHeight(!0);else{var V=a(R,\"width\"),W=a(R,\"padding-left\"),F=a(R,\"padding-right\"),_=a(R,\"margin-left\"),q=a(R,\"margin-right\"),j=R.getPropertyValue(\"box-sizing\");if(j&&\"border-box\"===j)C=V+_+q;else{var U=O[0],K=U.clientWidth;C=V+W+F+_+q+(U.offsetWidth-K)}}X&&(O[0].style.transform=X),Y&&(O[0].style.webkitTransform=Y),i.roundLengths&&(C=Math.floor(C))}else C=(r-(i.slidesPerView-1)*w)/i.slidesPerView,i.roundLengths&&(C=Math.floor(C)),p[I]&&(p[I].style[t(\"width\")]=C+\"px\");p[I]&&(p[I].swiperSlideSize=C),v.push(C),i.centeredSlides?(y=y+C/2+E/2+w,0===E&&0!==I&&(y=y-r/2-w),0===I&&(y=y-r/2-w),Math.abs(y)<.001&&(y=0),i.roundLengths&&(y=Math.floor(y)),x%i.slidesPerGroup==0&&c.push(y),h.push(y)):(i.roundLengths&&(y=Math.floor(y)),(x-Math.min(e.params.slidesPerGroupSkip,x))%e.params.slidesPerGroup==0&&c.push(y),h.push(y),y=y+C+w),e.virtualSize+=C+w,E=C,x+=1}}if(e.virtualSize=Math.max(e.virtualSize,r)+m,n&&l&&(\"slide\"===i.effect||\"coverflow\"===i.effect)&&s.css({width:e.virtualSize+i.spaceBetween+\"px\"}),i.setWrapperSize)s.css(((z={})[t(\"width\")]=e.virtualSize+i.spaceBetween+\"px\",z));if(i.slidesPerColumn>1)if(e.virtualSize=(C+i.spaceBetween)*T,e.virtualSize=Math.ceil(e.virtualSize/i.slidesPerColumn)-i.spaceBetween,s.css(((P={})[t(\"width\")]=e.virtualSize+i.spaceBetween+\"px\",P)),i.centeredSlides){S=[];for(var Z=0;Z<c.length;Z+=1){var J=c[Z];i.roundLengths&&(J=Math.floor(J)),c[Z]<e.virtualSize+c[0]&&S.push(J)}c=S}if(!i.centeredSlides){S=[];for(var Q=0;Q<c.length;Q+=1){var ee=c[Q];i.roundLengths&&(ee=Math.floor(ee)),c[Q]<=e.virtualSize-r&&S.push(ee)}c=S,Math.floor(e.virtualSize-r)-Math.floor(c[c.length-1])>1&&c.push(e.virtualSize-r)}if(0===c.length&&(c=[0]),0!==i.spaceBetween){var te,ae=e.isHorizontal()&&n?\"marginLeft\":t(\"marginRight\");p.filter((function(e,t){return!i.cssMode||t!==p.length-1})).css(((te={})[ae]=w+\"px\",te))}if(i.centeredSlides&&i.centeredSlidesBounds){var ie=0;v.forEach((function(e){ie+=e+(i.spaceBetween?i.spaceBetween:0)}));var se=(ie-=i.spaceBetween)-r;c=c.map((function(e){return e<0?-f:e>se?se+m:e}))}if(i.centerInsufficientSlides){var re=0;if(v.forEach((function(e){re+=e+(i.spaceBetween?i.spaceBetween:0)})),(re-=i.spaceBetween)<r){var ne=(r-re)/2;c.forEach((function(e,t){c[t]=e-ne})),h.forEach((function(e,t){h[t]=e+ne}))}}M(e,{slides:p,snapGrid:c,slidesGrid:h,slidesSizesGrid:v}),u!==d&&e.emit(\"slidesLengthChange\"),c.length!==g&&(e.params.watchOverflow&&e.checkOverflow(),e.emit(\"snapGridLengthChange\")),h.length!==b&&e.emit(\"slidesGridLengthChange\"),(i.watchSlidesProgress||i.watchSlidesVisibility)&&e.updateSlidesOffset()}},updateAutoHeight:function(e){var t,a=this,i=[],s=a.virtual&&a.params.virtual.enabled,r=0;\"number\"==typeof e?a.setTransition(e):!0===e&&a.setTransition(a.params.speed);var n=function(e){return s?a.slides.filter((function(t){return parseInt(t.getAttribute(\"data-swiper-slide-index\"),10)===e}))[0]:a.slides.eq(e)[0]};if(\"auto\"!==a.params.slidesPerView&&a.params.slidesPerView>1)if(a.params.centeredSlides)a.visibleSlides.each((function(e){i.push(e)}));else for(t=0;t<Math.ceil(a.params.slidesPerView);t+=1){var l=a.activeIndex+t;if(l>a.slides.length&&!s)break;i.push(n(l))}else i.push(n(a.activeIndex));for(t=0;t<i.length;t+=1)if(void 0!==i[t]){var o=i[t].offsetHeight;r=o>r?o:r}r&&a.$wrapperEl.css(\"height\",r+\"px\")},updateSlidesOffset:function(){for(var e=this.slides,t=0;t<e.length;t+=1)e[t].swiperSlideOffset=this.isHorizontal()?e[t].offsetLeft:e[t].offsetTop},updateSlidesProgress:function(e){void 0===e&&(e=this&&this.translate||0);var t=this,a=t.params,i=t.slides,s=t.rtlTranslate;if(0!==i.length){void 0===i[0].swiperSlideOffset&&t.updateSlidesOffset();var r=-e;s&&(r=e),i.removeClass(a.slideVisibleClass),t.visibleSlidesIndexes=[],t.visibleSlides=[];for(var n=0;n<i.length;n+=1){var l=i[n],o=(r+(a.centeredSlides?t.minTranslate():0)-l.swiperSlideOffset)/(l.swiperSlideSize+a.spaceBetween);if(a.watchSlidesVisibility||a.centeredSlides&&a.autoHeight){var d=-(r-l.swiperSlideOffset),p=d+t.slidesSizesGrid[n];(d>=0&&d<t.size-1||p>1&&p<=t.size||d<=0&&p>=t.size)&&(t.visibleSlides.push(l),t.visibleSlidesIndexes.push(n),i.eq(n).addClass(a.slideVisibleClass))}l.progress=s?-o:o}t.visibleSlides=m(t.visibleSlides)}},updateProgress:function(e){var t=this;if(void 0===e){var a=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*a||0}var i=t.params,s=t.maxTranslate()-t.minTranslate(),r=t.progress,n=t.isBeginning,l=t.isEnd,o=n,d=l;0===s?(r=0,n=!0,l=!0):(n=(r=(e-t.minTranslate())/s)<=0,l=r>=1),M(t,{progress:r,isBeginning:n,isEnd:l}),(i.watchSlidesProgress||i.watchSlidesVisibility||i.centeredSlides&&i.autoHeight)&&t.updateSlidesProgress(e),n&&!o&&t.emit(\"reachBeginning toEdge\"),l&&!d&&t.emit(\"reachEnd toEdge\"),(o&&!n||d&&!l)&&t.emit(\"fromEdge\"),t.emit(\"progress\",r)},updateSlidesClasses:function(){var e,t=this,a=t.slides,i=t.params,s=t.$wrapperEl,r=t.activeIndex,n=t.realIndex,l=t.virtual&&i.virtual.enabled;a.removeClass(i.slideActiveClass+\" \"+i.slideNextClass+\" \"+i.slidePrevClass+\" \"+i.slideDuplicateActiveClass+\" \"+i.slideDuplicateNextClass+\" \"+i.slideDuplicatePrevClass),(e=l?t.$wrapperEl.find(\".\"+i.slideClass+'[data-swiper-slide-index=\"'+r+'\"]'):a.eq(r)).addClass(i.slideActiveClass),i.loop&&(e.hasClass(i.slideDuplicateClass)?s.children(\".\"+i.slideClass+\":not(.\"+i.slideDuplicateClass+')[data-swiper-slide-index=\"'+n+'\"]').addClass(i.slideDuplicateActiveClass):s.children(\".\"+i.slideClass+\".\"+i.slideDuplicateClass+'[data-swiper-slide-index=\"'+n+'\"]').addClass(i.slideDuplicateActiveClass));var o=e.nextAll(\".\"+i.slideClass).eq(0).addClass(i.slideNextClass);i.loop&&0===o.length&&(o=a.eq(0)).addClass(i.slideNextClass);var d=e.prevAll(\".\"+i.slideClass).eq(0).addClass(i.slidePrevClass);i.loop&&0===d.length&&(d=a.eq(-1)).addClass(i.slidePrevClass),i.loop&&(o.hasClass(i.slideDuplicateClass)?s.children(\".\"+i.slideClass+\":not(.\"+i.slideDuplicateClass+')[data-swiper-slide-index=\"'+o.attr(\"data-swiper-slide-index\")+'\"]').addClass(i.slideDuplicateNextClass):s.children(\".\"+i.slideClass+\".\"+i.slideDuplicateClass+'[data-swiper-slide-index=\"'+o.attr(\"data-swiper-slide-index\")+'\"]').addClass(i.slideDuplicateNextClass),d.hasClass(i.slideDuplicateClass)?s.children(\".\"+i.slideClass+\":not(.\"+i.slideDuplicateClass+')[data-swiper-slide-index=\"'+d.attr(\"data-swiper-slide-index\")+'\"]').addClass(i.slideDuplicatePrevClass):s.children(\".\"+i.slideClass+\".\"+i.slideDuplicateClass+'[data-swiper-slide-index=\"'+d.attr(\"data-swiper-slide-index\")+'\"]').addClass(i.slideDuplicatePrevClass)),t.emitSlidesClasses()},updateActiveIndex:function(e){var t,a=this,i=a.rtlTranslate?a.translate:-a.translate,s=a.slidesGrid,r=a.snapGrid,n=a.params,l=a.activeIndex,o=a.realIndex,d=a.snapIndex,p=e;if(void 0===p){for(var u=0;u<s.length;u+=1)void 0!==s[u+1]?i>=s[u]&&i<s[u+1]-(s[u+1]-s[u])/2?p=u:i>=s[u]&&i<s[u+1]&&(p=u+1):i>=s[u]&&(p=u);n.normalizeSlideIndex&&(p<0||void 0===p)&&(p=0)}if(r.indexOf(i)>=0)t=r.indexOf(i);else{var c=Math.min(n.slidesPerGroupSkip,p);t=c+Math.floor((p-c)/n.slidesPerGroup)}if(t>=r.length&&(t=r.length-1),p!==l){var h=parseInt(a.slides.eq(p).attr(\"data-swiper-slide-index\")||p,10);M(a,{snapIndex:t,realIndex:h,previousIndex:l,activeIndex:p}),a.emit(\"activeIndexChange\"),a.emit(\"snapIndexChange\"),o!==h&&a.emit(\"realIndexChange\"),(a.initialized||a.params.runCallbacksOnInit)&&a.emit(\"slideChange\")}else t!==d&&(a.snapIndex=t,a.emit(\"snapIndexChange\"))},updateClickedSlide:function(e){var t,a=this,i=a.params,s=m(e.target).closest(\".\"+i.slideClass)[0],r=!1;if(s)for(var n=0;n<a.slides.length;n+=1)if(a.slides[n]===s){r=!0,t=n;break}if(!s||!r)return a.clickedSlide=void 0,void(a.clickedIndex=void 0);a.clickedSlide=s,a.virtual&&a.params.virtual.enabled?a.clickedIndex=parseInt(m(s).attr(\"data-swiper-slide-index\"),10):a.clickedIndex=t,i.slideToClickedSlide&&void 0!==a.clickedIndex&&a.clickedIndex!==a.activeIndex&&a.slideToClickedSlide()}},translate:{getTranslate:function(e){void 0===e&&(e=this.isHorizontal()?\"x\":\"y\");var t=this,a=t.params,i=t.rtlTranslate,s=t.translate,r=t.$wrapperEl;if(a.virtualTranslate)return i?-s:s;if(a.cssMode)return s;var n=T(r[0],e);return i&&(n=-n),n||0},setTranslate:function(e,t){var a=this,i=a.rtlTranslate,s=a.params,r=a.$wrapperEl,n=a.wrapperEl,l=a.progress,o=0,d=0;a.isHorizontal()?o=i?-e:e:d=e,s.roundLengths&&(o=Math.floor(o),d=Math.floor(d)),s.cssMode?n[a.isHorizontal()?\"scrollLeft\":\"scrollTop\"]=a.isHorizontal()?-o:-d:s.virtualTranslate||r.transform(\"translate3d(\"+o+\"px, \"+d+\"px, 0px)\"),a.previousTranslate=a.translate,a.translate=a.isHorizontal()?o:d;var p=a.maxTranslate()-a.minTranslate();(0===p?0:(e-a.minTranslate())/p)!==l&&a.updateProgress(e),a.emit(\"setTranslate\",a.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e,t,a,i,s){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===a&&(a=!0),void 0===i&&(i=!0);var r=this,n=r.params,l=r.wrapperEl;if(r.animating&&n.preventInteractionOnTransition)return!1;var o,d=r.minTranslate(),p=r.maxTranslate();if(o=i&&e>d?d:i&&e<p?p:e,r.updateProgress(o),n.cssMode){var u,c=r.isHorizontal();if(0===t)l[c?\"scrollLeft\":\"scrollTop\"]=-o;else if(l.scrollTo)l.scrollTo(((u={})[c?\"left\":\"top\"]=-o,u.behavior=\"smooth\",u));else l[c?\"scrollLeft\":\"scrollTop\"]=-o;return!0}return 0===t?(r.setTransition(0),r.setTranslate(o),a&&(r.emit(\"beforeTransitionStart\",t,s),r.emit(\"transitionEnd\"))):(r.setTransition(t),r.setTranslate(o),a&&(r.emit(\"beforeTransitionStart\",t,s),r.emit(\"transitionStart\")),r.animating||(r.animating=!0,r.onTranslateToWrapperTransitionEnd||(r.onTranslateToWrapperTransitionEnd=function(e){r&&!r.destroyed&&e.target===this&&(r.$wrapperEl[0].removeEventListener(\"transitionend\",r.onTranslateToWrapperTransitionEnd),r.$wrapperEl[0].removeEventListener(\"webkitTransitionEnd\",r.onTranslateToWrapperTransitionEnd),r.onTranslateToWrapperTransitionEnd=null,delete r.onTranslateToWrapperTransitionEnd,a&&r.emit(\"transitionEnd\"))}),r.$wrapperEl[0].addEventListener(\"transitionend\",r.onTranslateToWrapperTransitionEnd),r.$wrapperEl[0].addEventListener(\"webkitTransitionEnd\",r.onTranslateToWrapperTransitionEnd))),!0}},transition:{setTransition:function(e,t){var a=this;a.params.cssMode||a.$wrapperEl.transition(e),a.emit(\"setTransition\",e,t)},transitionStart:function(e,t){void 0===e&&(e=!0);var a=this,i=a.activeIndex,s=a.params,r=a.previousIndex;if(!s.cssMode){s.autoHeight&&a.updateAutoHeight();var n=t;if(n||(n=i>r?\"next\":i<r?\"prev\":\"reset\"),a.emit(\"transitionStart\"),e&&i!==r){if(\"reset\"===n)return void a.emit(\"slideResetTransitionStart\");a.emit(\"slideChangeTransitionStart\"),\"next\"===n?a.emit(\"slideNextTransitionStart\"):a.emit(\"slidePrevTransitionStart\")}}},transitionEnd:function(e,t){void 0===e&&(e=!0);var a=this,i=a.activeIndex,s=a.previousIndex,r=a.params;if(a.animating=!1,!r.cssMode){a.setTransition(0);var n=t;if(n||(n=i>s?\"next\":i<s?\"prev\":\"reset\"),a.emit(\"transitionEnd\"),e&&i!==s){if(\"reset\"===n)return void a.emit(\"slideResetTransitionEnd\");a.emit(\"slideChangeTransitionEnd\"),\"next\"===n?a.emit(\"slideNextTransitionEnd\"):a.emit(\"slidePrevTransitionEnd\")}}}},slide:{slideTo:function(e,t,a,i,s){if(void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===a&&(a=!0),\"number\"!=typeof e&&\"string\"!=typeof e)throw new Error(\"The 'index' argument cannot have type other than 'number' or 'string'. [\"+typeof e+\"] given.\");if(\"string\"==typeof e){var r=parseInt(e,10);if(!isFinite(r))throw new Error(\"The passed-in 'index' (string) couldn't be converted to 'number'. [\"+e+\"] given.\");e=r}var n=this,l=e;l<0&&(l=0);var o=n.params,d=n.snapGrid,p=n.slidesGrid,u=n.previousIndex,c=n.activeIndex,h=n.rtlTranslate,v=n.wrapperEl,f=n.enabled;if(n.animating&&o.preventInteractionOnTransition||!f&&!i&&!s)return!1;var m=Math.min(n.params.slidesPerGroupSkip,l),g=m+Math.floor((l-m)/n.params.slidesPerGroup);g>=d.length&&(g=d.length-1),(c||o.initialSlide||0)===(u||0)&&a&&n.emit(\"beforeSlideChangeStart\");var b,w=-d[g];if(n.updateProgress(w),o.normalizeSlideIndex)for(var y=0;y<p.length;y+=1){var E=-Math.floor(100*w),x=Math.floor(100*p[y]),T=Math.floor(100*p[y+1]);void 0!==p[y+1]?E>=x&&E<T-(T-x)/2?l=y:E>=x&&E<T&&(l=y+1):E>=x&&(l=y)}if(n.initialized&&l!==c){if(!n.allowSlideNext&&w<n.translate&&w<n.minTranslate())return!1;if(!n.allowSlidePrev&&w>n.translate&&w>n.maxTranslate()&&(c||0)!==l)return!1}if(b=l>c?\"next\":l<c?\"prev\":\"reset\",h&&-w===n.translate||!h&&w===n.translate)return n.updateActiveIndex(l),o.autoHeight&&n.updateAutoHeight(),n.updateSlidesClasses(),\"slide\"!==o.effect&&n.setTranslate(w),\"reset\"!==b&&(n.transitionStart(a,b),n.transitionEnd(a,b)),!1;if(o.cssMode){var C,S=n.isHorizontal(),M=-w;if(h&&(M=v.scrollWidth-v.offsetWidth-M),0===t)v[S?\"scrollLeft\":\"scrollTop\"]=M;else if(v.scrollTo)v.scrollTo(((C={})[S?\"left\":\"top\"]=M,C.behavior=\"smooth\",C));else v[S?\"scrollLeft\":\"scrollTop\"]=M;return!0}return 0===t?(n.setTransition(0),n.setTranslate(w),n.updateActiveIndex(l),n.updateSlidesClasses(),n.emit(\"beforeTransitionStart\",t,i),n.transitionStart(a,b),n.transitionEnd(a,b)):(n.setTransition(t),n.setTranslate(w),n.updateActiveIndex(l),n.updateSlidesClasses(),n.emit(\"beforeTransitionStart\",t,i),n.transitionStart(a,b),n.animating||(n.animating=!0,n.onSlideToWrapperTransitionEnd||(n.onSlideToWrapperTransitionEnd=function(e){n&&!n.destroyed&&e.target===this&&(n.$wrapperEl[0].removeEventListener(\"transitionend\",n.onSlideToWrapperTransitionEnd),n.$wrapperEl[0].removeEventListener(\"webkitTransitionEnd\",n.onSlideToWrapperTransitionEnd),n.onSlideToWrapperTransitionEnd=null,delete n.onSlideToWrapperTransitionEnd,n.transitionEnd(a,b))}),n.$wrapperEl[0].addEventListener(\"transitionend\",n.onSlideToWrapperTransitionEnd),n.$wrapperEl[0].addEventListener(\"webkitTransitionEnd\",n.onSlideToWrapperTransitionEnd))),!0},slideToLoop:function(e,t,a,i){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===a&&(a=!0);var s=this,r=e;return s.params.loop&&(r+=s.loopedSlides),s.slideTo(r,t,a,i)},slideNext:function(e,t,a){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var i=this,s=i.params,r=i.animating;if(!i.enabled)return i;var n=i.activeIndex<s.slidesPerGroupSkip?1:s.slidesPerGroup;if(s.loop){if(r&&s.loopPreventsSlide)return!1;i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft}return i.slideTo(i.activeIndex+n,e,t,a)},slidePrev:function(e,t,a){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var i=this,s=i.params,r=i.animating,n=i.snapGrid,l=i.slidesGrid,o=i.rtlTranslate;if(!i.enabled)return i;if(s.loop){if(r&&s.loopPreventsSlide)return!1;i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft}function d(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}var p,u=d(o?i.translate:-i.translate),c=n.map((function(e){return d(e)})),h=n[c.indexOf(u)-1];return void 0===h&&s.cssMode&&n.forEach((function(e){!h&&u>=e&&(h=e)})),void 0!==h&&(p=l.indexOf(h))<0&&(p=i.activeIndex-1),i.slideTo(p,e,t,a)},slideReset:function(e,t,a){return void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),this.slideTo(this.activeIndex,e,t,a)},slideToClosest:function(e,t,a,i){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),void 0===i&&(i=.5);var s=this,r=s.activeIndex,n=Math.min(s.params.slidesPerGroupSkip,r),l=n+Math.floor((r-n)/s.params.slidesPerGroup),o=s.rtlTranslate?s.translate:-s.translate;if(o>=s.snapGrid[l]){var d=s.snapGrid[l];o-d>(s.snapGrid[l+1]-d)*i&&(r+=s.params.slidesPerGroup)}else{var p=s.snapGrid[l-1];o-p<=(s.snapGrid[l]-p)*i&&(r-=s.params.slidesPerGroup)}return r=Math.max(r,0),r=Math.min(r,s.slidesGrid.length-1),s.slideTo(r,e,t,a)},slideToClickedSlide:function(){var e,t=this,a=t.params,i=t.$wrapperEl,s=\"auto\"===a.slidesPerView?t.slidesPerViewDynamic():a.slidesPerView,r=t.clickedIndex;if(a.loop){if(t.animating)return;e=parseInt(m(t.clickedSlide).attr(\"data-swiper-slide-index\"),10),a.centeredSlides?r<t.loopedSlides-s/2||r>t.slides.length-t.loopedSlides+s/2?(t.loopFix(),r=i.children(\".\"+a.slideClass+'[data-swiper-slide-index=\"'+e+'\"]:not(.'+a.slideDuplicateClass+\")\").eq(0).index(),E((function(){t.slideTo(r)}))):t.slideTo(r):r>t.slides.length-s?(t.loopFix(),r=i.children(\".\"+a.slideClass+'[data-swiper-slide-index=\"'+e+'\"]:not(.'+a.slideDuplicateClass+\")\").eq(0).index(),E((function(){t.slideTo(r)}))):t.slideTo(r)}else t.slideTo(r)}},loop:{loopCreate:function(){var e=this,t=r(),a=e.params,i=e.$wrapperEl;i.children(\".\"+a.slideClass+\".\"+a.slideDuplicateClass).remove();var s=i.children(\".\"+a.slideClass);if(a.loopFillGroupWithBlank){var n=a.slidesPerGroup-s.length%a.slidesPerGroup;if(n!==a.slidesPerGroup){for(var l=0;l<n;l+=1){var o=m(t.createElement(\"div\")).addClass(a.slideClass+\" \"+a.slideBlankClass);i.append(o)}s=i.children(\".\"+a.slideClass)}}\"auto\"!==a.slidesPerView||a.loopedSlides||(a.loopedSlides=s.length),e.loopedSlides=Math.ceil(parseFloat(a.loopedSlides||a.slidesPerView,10)),e.loopedSlides+=a.loopAdditionalSlides,e.loopedSlides>s.length&&(e.loopedSlides=s.length);var d=[],p=[];s.each((function(t,a){var i=m(t);a<e.loopedSlides&&p.push(t),a<s.length&&a>=s.length-e.loopedSlides&&d.push(t),i.attr(\"data-swiper-slide-index\",a)}));for(var u=0;u<p.length;u+=1)i.append(m(p[u].cloneNode(!0)).addClass(a.slideDuplicateClass));for(var c=d.length-1;c>=0;c-=1)i.prepend(m(d[c].cloneNode(!0)).addClass(a.slideDuplicateClass))},loopFix:function(){var e=this;e.emit(\"beforeLoopFix\");var t,a=e.activeIndex,i=e.slides,s=e.loopedSlides,r=e.allowSlidePrev,n=e.allowSlideNext,l=e.snapGrid,o=e.rtlTranslate;e.allowSlidePrev=!0,e.allowSlideNext=!0;var d=-l[a]-e.getTranslate();if(a<s)t=i.length-3*s+a,t+=s,e.slideTo(t,0,!1,!0)&&0!==d&&e.setTranslate((o?-e.translate:e.translate)-d);else if(a>=i.length-s){t=-i.length+a+s,t+=s,e.slideTo(t,0,!1,!0)&&0!==d&&e.setTranslate((o?-e.translate:e.translate)-d)}e.allowSlidePrev=r,e.allowSlideNext=n,e.emit(\"loopFix\")},loopDestroy:function(){var e=this,t=e.$wrapperEl,a=e.params,i=e.slides;t.children(\".\"+a.slideClass+\".\"+a.slideDuplicateClass+\",.\"+a.slideClass+\".\"+a.slideBlankClass).remove(),i.removeAttr(\"data-swiper-slide-index\")}},grabCursor:{setGrabCursor:function(e){var t=this;if(!(t.support.touch||!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)){var a=t.el;a.style.cursor=\"move\",a.style.cursor=e?\"-webkit-grabbing\":\"-webkit-grab\",a.style.cursor=e?\"-moz-grabbin\":\"-moz-grab\",a.style.cursor=e?\"grabbing\":\"grab\"}},unsetGrabCursor:function(){var e=this;e.support.touch||e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.el.style.cursor=\"\")}},manipulation:{appendSlide:function(e){var t=this,a=t.$wrapperEl,i=t.params;if(i.loop&&t.loopDestroy(),\"object\"==typeof e&&\"length\"in e)for(var s=0;s<e.length;s+=1)e[s]&&a.append(e[s]);else a.append(e);i.loop&&t.loopCreate(),i.observer&&t.support.observer||t.update()},prependSlide:function(e){var t=this,a=t.params,i=t.$wrapperEl,s=t.activeIndex;a.loop&&t.loopDestroy();var r=s+1;if(\"object\"==typeof e&&\"length\"in e){for(var n=0;n<e.length;n+=1)e[n]&&i.prepend(e[n]);r=s+e.length}else i.prepend(e);a.loop&&t.loopCreate(),a.observer&&t.support.observer||t.update(),t.slideTo(r,0,!1)},addSlide:function(e,t){var a=this,i=a.$wrapperEl,s=a.params,r=a.activeIndex;s.loop&&(r-=a.loopedSlides,a.loopDestroy(),a.slides=i.children(\".\"+s.slideClass));var n=a.slides.length;if(e<=0)a.prependSlide(t);else if(e>=n)a.appendSlide(t);else{for(var l=r>e?r+1:r,o=[],d=n-1;d>=e;d-=1){var p=a.slides.eq(d);p.remove(),o.unshift(p)}if(\"object\"==typeof t&&\"length\"in t){for(var u=0;u<t.length;u+=1)t[u]&&i.append(t[u]);l=r>e?r+t.length:r}else i.append(t);for(var c=0;c<o.length;c+=1)i.append(o[c]);s.loop&&a.loopCreate(),s.observer&&a.support.observer||a.update(),s.loop?a.slideTo(l+a.loopedSlides,0,!1):a.slideTo(l,0,!1)}},removeSlide:function(e){var t=this,a=t.params,i=t.$wrapperEl,s=t.activeIndex;a.loop&&(s-=t.loopedSlides,t.loopDestroy(),t.slides=i.children(\".\"+a.slideClass));var r,n=s;if(\"object\"==typeof e&&\"length\"in e){for(var l=0;l<e.length;l+=1)r=e[l],t.slides[r]&&t.slides.eq(r).remove(),r<n&&(n-=1);n=Math.max(n,0)}else r=e,t.slides[r]&&t.slides.eq(r).remove(),r<n&&(n-=1),n=Math.max(n,0);a.loop&&t.loopCreate(),a.observer&&t.support.observer||t.update(),a.loop?t.slideTo(n+t.loopedSlides,0,!1):t.slideTo(n,0,!1)},removeAllSlides:function(){for(var e=[],t=0;t<this.slides.length;t+=1)e.push(t);this.removeSlide(e)}},events:{attachEvents:function(){var e=this,t=r(),a=e.params,i=e.touchEvents,s=e.el,n=e.wrapperEl,l=e.device,o=e.support;e.onTouchStart=N.bind(e),e.onTouchMove=G.bind(e),e.onTouchEnd=B.bind(e),a.cssMode&&(e.onScroll=X.bind(e)),e.onClick=R.bind(e);var d=!!a.nested;if(!o.touch&&o.pointerEvents)s.addEventListener(i.start,e.onTouchStart,!1),t.addEventListener(i.move,e.onTouchMove,d),t.addEventListener(i.end,e.onTouchEnd,!1);else{if(o.touch){var p=!(\"touchstart\"!==i.start||!o.passiveListener||!a.passiveListeners)&&{passive:!0,capture:!1};s.addEventListener(i.start,e.onTouchStart,p),s.addEventListener(i.move,e.onTouchMove,o.passiveListener?{passive:!1,capture:d}:d),s.addEventListener(i.end,e.onTouchEnd,p),i.cancel&&s.addEventListener(i.cancel,e.onTouchEnd,p),Y||(t.addEventListener(\"touchstart\",V),Y=!0)}(a.simulateTouch&&!l.ios&&!l.android||a.simulateTouch&&!o.touch&&l.ios)&&(s.addEventListener(\"mousedown\",e.onTouchStart,!1),t.addEventListener(\"mousemove\",e.onTouchMove,d),t.addEventListener(\"mouseup\",e.onTouchEnd,!1))}(a.preventClicks||a.preventClicksPropagation)&&s.addEventListener(\"click\",e.onClick,!0),a.cssMode&&n.addEventListener(\"scroll\",e.onScroll),a.updateOnWindowResize?e.on(l.ios||l.android?\"resize orientationchange observerUpdate\":\"resize observerUpdate\",H,!0):e.on(\"observerUpdate\",H,!0)},detachEvents:function(){var e=this,t=r(),a=e.params,i=e.touchEvents,s=e.el,n=e.wrapperEl,l=e.device,o=e.support,d=!!a.nested;if(!o.touch&&o.pointerEvents)s.removeEventListener(i.start,e.onTouchStart,!1),t.removeEventListener(i.move,e.onTouchMove,d),t.removeEventListener(i.end,e.onTouchEnd,!1);else{if(o.touch){var p=!(\"onTouchStart\"!==i.start||!o.passiveListener||!a.passiveListeners)&&{passive:!0,capture:!1};s.removeEventListener(i.start,e.onTouchStart,p),s.removeEventListener(i.move,e.onTouchMove,d),s.removeEventListener(i.end,e.onTouchEnd,p),i.cancel&&s.removeEventListener(i.cancel,e.onTouchEnd,p)}(a.simulateTouch&&!l.ios&&!l.android||a.simulateTouch&&!o.touch&&l.ios)&&(s.removeEventListener(\"mousedown\",e.onTouchStart,!1),t.removeEventListener(\"mousemove\",e.onTouchMove,d),t.removeEventListener(\"mouseup\",e.onTouchEnd,!1))}(a.preventClicks||a.preventClicksPropagation)&&s.removeEventListener(\"click\",e.onClick,!0),a.cssMode&&n.removeEventListener(\"scroll\",e.onScroll),e.off(l.ios||l.android?\"resize orientationchange observerUpdate\":\"resize observerUpdate\",H)}},breakpoints:{setBreakpoint:function(){var e=this,t=e.activeIndex,a=e.initialized,i=e.loopedSlides,s=void 0===i?0:i,r=e.params,n=e.$el,l=r.breakpoints;if(l&&(!l||0!==Object.keys(l).length)){var o=e.getBreakpoint(l,e.params.breakpointsBase,e.el);if(o&&e.currentBreakpoint!==o){var d=o in l?l[o]:void 0;d&&[\"slidesPerView\",\"spaceBetween\",\"slidesPerGroup\",\"slidesPerGroupSkip\",\"slidesPerColumn\"].forEach((function(e){var t=d[e];void 0!==t&&(d[e]=\"slidesPerView\"!==e||\"AUTO\"!==t&&\"auto\"!==t?\"slidesPerView\"===e?parseFloat(t):parseInt(t,10):\"auto\")}));var p=d||e.originalParams,u=r.slidesPerColumn>1,c=p.slidesPerColumn>1,h=r.enabled;u&&!c?(n.removeClass(r.containerModifierClass+\"multirow \"+r.containerModifierClass+\"multirow-column\"),e.emitContainerClasses()):!u&&c&&(n.addClass(r.containerModifierClass+\"multirow\"),(p.slidesPerColumnFill&&\"column\"===p.slidesPerColumnFill||!p.slidesPerColumnFill&&\"column\"===r.slidesPerColumnFill)&&n.addClass(r.containerModifierClass+\"multirow-column\"),e.emitContainerClasses());var v=p.direction&&p.direction!==r.direction,f=r.loop&&(p.slidesPerView!==r.slidesPerView||v);v&&a&&e.changeDirection(),M(e.params,p);var m=e.params.enabled;M(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),h&&!m?e.disable():!h&&m&&e.enable(),e.currentBreakpoint=o,e.emit(\"_beforeBreakpoint\",p),f&&a&&(e.loopDestroy(),e.loopCreate(),e.updateSlides(),e.slideTo(t-s+e.loopedSlides,0,!1)),e.emit(\"breakpoint\",p)}}},getBreakpoint:function(e,t,a){if(void 0===t&&(t=\"window\"),e&&(\"container\"!==t||a)){var i=!1,s=l(),r=\"window\"===t?s.innerHeight:a.clientHeight,n=Object.keys(e).map((function(e){if(\"string\"==typeof e&&0===e.indexOf(\"@\")){var t=parseFloat(e.substr(1));return{value:r*t,point:e}}return{value:e,point:e}}));n.sort((function(e,t){return parseInt(e.value,10)-parseInt(t.value,10)}));for(var o=0;o<n.length;o+=1){var d=n[o],p=d.point,u=d.value;\"window\"===t?s.matchMedia(\"(min-width: \"+u+\"px)\").matches&&(i=p):u<=a.clientWidth&&(i=p)}return i||\"max\"}}},checkOverflow:{checkOverflow:function(){var e=this,t=e.params,a=e.isLocked,i=e.slides.length>0&&t.slidesOffsetBefore+t.spaceBetween*(e.slides.length-1)+e.slides[0].offsetWidth*e.slides.length;t.slidesOffsetBefore&&t.slidesOffsetAfter&&i?e.isLocked=i<=e.size:e.isLocked=1===e.snapGrid.length,e.allowSlideNext=!e.isLocked,e.allowSlidePrev=!e.isLocked,a!==e.isLocked&&e.emit(e.isLocked?\"lock\":\"unlock\"),a&&a!==e.isLocked&&(e.isEnd=!1,e.navigation&&e.navigation.update())}},classes:{addClasses:function(){var e,t,a,i=this,s=i.classNames,r=i.params,n=i.rtl,l=i.$el,o=i.device,d=i.support,p=(e=[\"initialized\",r.direction,{\"pointer-events\":d.pointerEvents&&!d.touch},{\"free-mode\":r.freeMode},{autoheight:r.autoHeight},{rtl:n},{multirow:r.slidesPerColumn>1},{\"multirow-column\":r.slidesPerColumn>1&&\"column\"===r.slidesPerColumnFill},{android:o.android},{ios:o.ios},{\"css-mode\":r.cssMode}],t=r.containerModifierClass,a=[],e.forEach((function(e){\"object\"==typeof e?Object.keys(e).forEach((function(i){e[i]&&a.push(t+i)})):\"string\"==typeof e&&a.push(t+e)})),a);s.push.apply(s,p),l.addClass([].concat(s).join(\" \")),i.emitContainerClasses()},removeClasses:function(){var e=this,t=e.$el,a=e.classNames;t.removeClass(a.join(\" \")),e.emitContainerClasses()}},images:{loadImage:function(e,t,a,i,s,r){var n,o=l();function d(){r&&r()}m(e).parent(\"picture\")[0]||e.complete&&s?d():t?((n=new o.Image).onload=d,n.onerror=d,i&&(n.sizes=i),a&&(n.srcset=a),t&&(n.src=t)):d()},preloadImages:function(){var e=this;function t(){null!=e&&e&&!e.destroyed&&(void 0!==e.imagesLoaded&&(e.imagesLoaded+=1),e.imagesLoaded===e.imagesToLoad.length&&(e.params.updateOnImagesReady&&e.update(),e.emit(\"imagesReady\")))}e.imagesToLoad=e.$el.find(\"img\");for(var a=0;a<e.imagesToLoad.length;a+=1){var i=e.imagesToLoad[a];e.loadImage(i,i.currentSrc||i.getAttribute(\"src\"),i.srcset||i.getAttribute(\"srcset\"),i.sizes||i.getAttribute(\"sizes\"),!0,t)}}}},_={},q=function(){function t(){for(var e,a,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];if(1===s.length&&s[0].constructor&&\"Object\"===Object.prototype.toString.call(s[0]).slice(8,-1)?a=s[0]:(e=s[0],a=s[1]),a||(a={}),a=M({},a),e&&!a.el&&(a.el=e),a.el&&m(a.el).length>1){var n=[];return m(a.el).each((function(e){var i=M({},a,{el:e});n.push(new t(i))})),n}var l=this;l.__swiper__=!0,l.support=$(),l.device=L({userAgent:a.userAgent}),l.browser=I(),l.eventsListeners={},l.eventsAnyListeners=[],void 0===l.modules&&(l.modules={}),Object.keys(l.modules).forEach((function(e){var t=l.modules[e];if(t.params){var i=Object.keys(t.params)[0],s=t.params[i];if(\"object\"!=typeof s||null===s)return;if([\"navigation\",\"pagination\",\"scrollbar\"].indexOf(i)>=0&&!0===a[i]&&(a[i]={auto:!0}),!(i in a)||!(\"enabled\"in s))return;!0===a[i]&&(a[i]={enabled:!0}),\"object\"!=typeof a[i]||\"enabled\"in a[i]||(a[i].enabled=!0),a[i]||(a[i]={enabled:!1})}}));var o,d,p=M({},W);return l.useParams(p),l.params=M({},p,_,a),l.originalParams=M({},l.params),l.passedParams=M({},a),l.params&&l.params.on&&Object.keys(l.params.on).forEach((function(e){l.on(e,l.params.on[e])})),l.params&&l.params.onAny&&l.onAny(l.params.onAny),l.$=m,M(l,{enabled:l.params.enabled,el:e,classNames:[],slides:m(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return\"horizontal\"===l.params.direction},isVertical:function(){return\"vertical\"===l.params.direction},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEvents:(o=[\"touchstart\",\"touchmove\",\"touchend\",\"touchcancel\"],d=[\"mousedown\",\"mousemove\",\"mouseup\"],l.support.pointerEvents&&(d=[\"pointerdown\",\"pointermove\",\"pointerup\"]),l.touchEventsTouch={start:o[0],move:o[1],end:o[2],cancel:o[3]},l.touchEventsDesktop={start:d[0],move:d[1],end:d[2]},l.support.touch||!l.params.simulateTouch?l.touchEventsTouch:l.touchEventsDesktop),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:l.params.focusableElements,lastClickTime:x(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.useModules(),l.emit(\"_swiper\"),l.params.init&&l.init(),l}var a,i,s,n=t.prototype;return n.enable=function(){var e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit(\"enable\"))},n.disable=function(){var e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit(\"disable\"))},n.setProgress=function(e,t){var a=this;e=Math.min(Math.max(e,0),1);var i=a.minTranslate(),s=(a.maxTranslate()-i)*e+i;a.translateTo(s,void 0===t?0:t),a.updateActiveIndex(),a.updateSlidesClasses()},n.emitContainerClasses=function(){var e=this;if(e.params._emitClasses&&e.el){var t=e.el.className.split(\" \").filter((function(t){return 0===t.indexOf(\"swiper-container\")||0===t.indexOf(e.params.containerModifierClass)}));e.emit(\"_containerClasses\",t.join(\" \"))}},n.getSlideClasses=function(e){var t=this;return e.className.split(\" \").filter((function(e){return 0===e.indexOf(\"swiper-slide\")||0===e.indexOf(t.params.slideClass)})).join(\" \")},n.emitSlidesClasses=function(){var e=this;if(e.params._emitClasses&&e.el){var t=[];e.slides.each((function(a){var i=e.getSlideClasses(a);t.push({slideEl:a,classNames:i}),e.emit(\"_slideClass\",a,i)})),e.emit(\"_slideClasses\",t)}},n.slidesPerViewDynamic=function(){var e=this,t=e.params,a=e.slides,i=e.slidesGrid,s=e.size,r=e.activeIndex,n=1;if(t.centeredSlides){for(var l,o=a[r].swiperSlideSize,d=r+1;d<a.length;d+=1)a[d]&&!l&&(n+=1,(o+=a[d].swiperSlideSize)>s&&(l=!0));for(var p=r-1;p>=0;p-=1)a[p]&&!l&&(n+=1,(o+=a[p].swiperSlideSize)>s&&(l=!0))}else for(var u=r+1;u<a.length;u+=1)i[u]-i[r]<s&&(n+=1);return n},n.update=function(){var e=this;if(e&&!e.destroyed){var t=e.snapGrid,a=e.params;a.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.params.freeMode?(i(),e.params.autoHeight&&e.updateAutoHeight()):((\"auto\"===e.params.slidesPerView||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0))||i(),a.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit(\"update\")}function i(){var t=e.rtlTranslate?-1*e.translate:e.translate,a=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}},n.changeDirection=function(e,t){void 0===t&&(t=!0);var a=this,i=a.params.direction;return e||(e=\"horizontal\"===i?\"vertical\":\"horizontal\"),e===i||\"horizontal\"!==e&&\"vertical\"!==e||(a.$el.removeClass(\"\"+a.params.containerModifierClass+i).addClass(\"\"+a.params.containerModifierClass+e),a.emitContainerClasses(),a.params.direction=e,a.slides.each((function(t){\"vertical\"===e?t.style.width=\"\":t.style.height=\"\"})),a.emit(\"changeDirection\"),t&&a.update()),a},n.mount=function(e){var t=this;if(t.mounted)return!0;var a=m(e||t.params.el);if(!(e=a[0]))return!1;e.swiper=t;var i=function(){return\".\"+(t.params.wrapperClass||\"\").trim().split(\" \").join(\".\")},s=function(){if(e&&e.shadowRoot&&e.shadowRoot.querySelector){var t=m(e.shadowRoot.querySelector(i()));return t.children=function(e){return a.children(e)},t}return a.children(i())}();if(0===s.length&&t.params.createElements){var n=r().createElement(\"div\");s=m(n),n.className=t.params.wrapperClass,a.append(n),a.children(\".\"+t.params.slideClass).each((function(e){s.append(e)}))}return M(t,{$el:a,el:e,$wrapperEl:s,wrapperEl:s[0],mounted:!0,rtl:\"rtl\"===e.dir.toLowerCase()||\"rtl\"===a.css(\"direction\"),rtlTranslate:\"horizontal\"===t.params.direction&&(\"rtl\"===e.dir.toLowerCase()||\"rtl\"===a.css(\"direction\")),wrongRTL:\"-webkit-box\"===s.css(\"display\")}),!0},n.init=function(e){var t=this;return t.initialized||!1===t.mount(e)||(t.emit(\"beforeInit\"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.params.loop&&t.loopCreate(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.preloadImages&&t.preloadImages(),t.params.loop?t.slideTo(t.params.initialSlide+t.loopedSlides,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.attachEvents(),t.initialized=!0,t.emit(\"init\"),t.emit(\"afterInit\")),t},n.destroy=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);var a,i=this,s=i.params,r=i.$el,n=i.$wrapperEl,l=i.slides;return void 0===i.params||i.destroyed||(i.emit(\"beforeDestroy\"),i.initialized=!1,i.detachEvents(),s.loop&&i.loopDestroy(),t&&(i.removeClasses(),r.removeAttr(\"style\"),n.removeAttr(\"style\"),l&&l.length&&l.removeClass([s.slideVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass].join(\" \")).removeAttr(\"style\").removeAttr(\"data-swiper-slide-index\")),i.emit(\"destroy\"),Object.keys(i.eventsListeners).forEach((function(e){i.off(e)})),!1!==e&&(i.$el[0].swiper=null,a=i,Object.keys(a).forEach((function(e){try{a[e]=null}catch(e){}try{delete a[e]}catch(e){}}))),i.destroyed=!0),null},t.extendDefaults=function(e){M(_,e)},t.installModule=function(e){t.prototype.modules||(t.prototype.modules={});var a=e.name||Object.keys(t.prototype.modules).length+\"_\"+x();t.prototype.modules[a]=e},t.use=function(e){return Array.isArray(e)?(e.forEach((function(e){return t.installModule(e)})),t):(t.installModule(e),t)},a=t,s=[{key:\"extendedDefaults\",get:function(){return _}},{key:\"defaults\",get:function(){return W}}],(i=null)&&e(a.prototype,i),s&&e(a,s),t}();Object.keys(F).forEach((function(e){Object.keys(F[e]).forEach((function(t){q.prototype[t]=F[e][t]}))})),q.use([O,D]);var j={update:function(e){var t=this,a=t.params,i=a.slidesPerView,s=a.slidesPerGroup,r=a.centeredSlides,n=t.params.virtual,l=n.addSlidesBefore,o=n.addSlidesAfter,d=t.virtual,p=d.from,u=d.to,c=d.slides,h=d.slidesGrid,v=d.renderSlide,f=d.offset;t.updateActiveIndex();var m,g,b,w=t.activeIndex||0;m=t.rtlTranslate?\"right\":t.isHorizontal()?\"left\":\"top\",r?(g=Math.floor(i/2)+s+o,b=Math.floor(i/2)+s+l):(g=i+(s-1)+o,b=s+l);var y=Math.max((w||0)-b,0),E=Math.min((w||0)+g,c.length-1),x=(t.slidesGrid[y]||0)-(t.slidesGrid[0]||0);function T(){t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.lazy&&t.params.lazy.enabled&&t.lazy.load()}if(M(t.virtual,{from:y,to:E,offset:x,slidesGrid:t.slidesGrid}),p===y&&u===E&&!e)return t.slidesGrid!==h&&x!==f&&t.slides.css(m,x+\"px\"),void t.updateProgress();if(t.params.virtual.renderExternal)return t.params.virtual.renderExternal.call(t,{offset:x,from:y,to:E,slides:function(){for(var e=[],t=y;t<=E;t+=1)e.push(c[t]);return e}()}),void(t.params.virtual.renderExternalUpdate&&T());var C=[],S=[];if(e)t.$wrapperEl.find(\".\"+t.params.slideClass).remove();else for(var z=p;z<=u;z+=1)(z<y||z>E)&&t.$wrapperEl.find(\".\"+t.params.slideClass+'[data-swiper-slide-index=\"'+z+'\"]').remove();for(var P=0;P<c.length;P+=1)P>=y&&P<=E&&(void 0===u||e?S.push(P):(P>u&&S.push(P),P<p&&C.push(P)));S.forEach((function(e){t.$wrapperEl.append(v(c[e],e))})),C.sort((function(e,t){return t-e})).forEach((function(e){t.$wrapperEl.prepend(v(c[e],e))})),t.$wrapperEl.children(\".swiper-slide\").css(m,x+\"px\"),T()},renderSlide:function(e,t){var a=this,i=a.params.virtual;if(i.cache&&a.virtual.cache[t])return a.virtual.cache[t];var s=i.renderSlide?m(i.renderSlide.call(a,e,t)):m('<div class=\"'+a.params.slideClass+'\" data-swiper-slide-index=\"'+t+'\">'+e+\"</div>\");return s.attr(\"data-swiper-slide-index\")||s.attr(\"data-swiper-slide-index\",t),i.cache&&(a.virtual.cache[t]=s),s},appendSlide:function(e){var t=this;if(\"object\"==typeof e&&\"length\"in e)for(var a=0;a<e.length;a+=1)e[a]&&t.virtual.slides.push(e[a]);else t.virtual.slides.push(e);t.virtual.update(!0)},prependSlide:function(e){var t=this,a=t.activeIndex,i=a+1,s=1;if(Array.isArray(e)){for(var r=0;r<e.length;r+=1)e[r]&&t.virtual.slides.unshift(e[r]);i=a+e.length,s=e.length}else t.virtual.slides.unshift(e);if(t.params.virtual.cache){var n=t.virtual.cache,l={};Object.keys(n).forEach((function(e){var t=n[e],a=t.attr(\"data-swiper-slide-index\");a&&t.attr(\"data-swiper-slide-index\",parseInt(a,10)+1),l[parseInt(e,10)+s]=t})),t.virtual.cache=l}t.virtual.update(!0),t.slideTo(i,0)},removeSlide:function(e){var t=this;if(null!=e){var a=t.activeIndex;if(Array.isArray(e))for(var i=e.length-1;i>=0;i-=1)t.virtual.slides.splice(e[i],1),t.params.virtual.cache&&delete t.virtual.cache[e[i]],e[i]<a&&(a-=1),a=Math.max(a,0);else t.virtual.slides.splice(e,1),t.params.virtual.cache&&delete t.virtual.cache[e],e<a&&(a-=1),a=Math.max(a,0);t.virtual.update(!0),t.slideTo(a,0)}},removeAllSlides:function(){var e=this;e.virtual.slides=[],e.params.virtual.cache&&(e.virtual.cache={}),e.virtual.update(!0),e.slideTo(0,0)}},U={name:\"virtual\",params:{virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}},create:function(){z(this,{virtual:t({},j,{slides:this.params.virtual.slides,cache:{}})})},on:{beforeInit:function(e){if(e.params.virtual.enabled){e.classNames.push(e.params.containerModifierClass+\"virtual\");var t={watchSlidesProgress:!0};M(e.params,t),M(e.originalParams,t),e.params.initialSlide||e.virtual.update()}},setTranslate:function(e){e.params.virtual.enabled&&e.virtual.update()}}},K={handle:function(e){var t=this;if(t.enabled){var a=l(),i=r(),s=t.rtlTranslate,n=e;n.originalEvent&&(n=n.originalEvent);var o=n.keyCode||n.charCode,d=t.params.keyboard.pageUpDown,p=d&&33===o,u=d&&34===o,c=37===o,h=39===o,v=38===o,f=40===o;if(!t.allowSlideNext&&(t.isHorizontal()&&h||t.isVertical()&&f||u))return!1;if(!t.allowSlidePrev&&(t.isHorizontal()&&c||t.isVertical()&&v||p))return!1;if(!(n.shiftKey||n.altKey||n.ctrlKey||n.metaKey||i.activeElement&&i.activeElement.nodeName&&(\"input\"===i.activeElement.nodeName.toLowerCase()||\"textarea\"===i.activeElement.nodeName.toLowerCase()))){if(t.params.keyboard.onlyInViewport&&(p||u||c||h||v||f)){var m=!1;if(t.$el.parents(\".\"+t.params.slideClass).length>0&&0===t.$el.parents(\".\"+t.params.slideActiveClass).length)return;var g=t.$el,b=g[0].clientWidth,w=g[0].clientHeight,y=a.innerWidth,E=a.innerHeight,x=t.$el.offset();s&&(x.left-=t.$el[0].scrollLeft);for(var T=[[x.left,x.top],[x.left+b,x.top],[x.left,x.top+w],[x.left+b,x.top+w]],C=0;C<T.length;C+=1){var S=T[C];if(S[0]>=0&&S[0]<=y&&S[1]>=0&&S[1]<=E){if(0===S[0]&&0===S[1])continue;m=!0}}if(!m)return}t.isHorizontal()?((p||u||c||h)&&(n.preventDefault?n.preventDefault():n.returnValue=!1),((u||h)&&!s||(p||c)&&s)&&t.slideNext(),((p||c)&&!s||(u||h)&&s)&&t.slidePrev()):((p||u||v||f)&&(n.preventDefault?n.preventDefault():n.returnValue=!1),(u||f)&&t.slideNext(),(p||v)&&t.slidePrev()),t.emit(\"keyPress\",o)}}},enable:function(){var e=this,t=r();e.keyboard.enabled||(m(t).on(\"keydown\",e.keyboard.handle),e.keyboard.enabled=!0)},disable:function(){var e=this,t=r();e.keyboard.enabled&&(m(t).off(\"keydown\",e.keyboard.handle),e.keyboard.enabled=!1)}},Z={name:\"keyboard\",params:{keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}},create:function(){z(this,{keyboard:t({enabled:!1},K)})},on:{init:function(e){e.params.keyboard.enabled&&e.keyboard.enable()},destroy:function(e){e.keyboard.enabled&&e.keyboard.disable()}}};var J={lastScrollTime:x(),lastEventBeforeSnap:void 0,recentWheelEvents:[],event:function(){return l().navigator.userAgent.indexOf(\"firefox\")>-1?\"DOMMouseScroll\":function(){var e=r(),t=\"onwheel\",a=t in e;if(!a){var i=e.createElement(\"div\");i.setAttribute(t,\"return;\"),a=\"function\"==typeof i.onwheel}return!a&&e.implementation&&e.implementation.hasFeature&&!0!==e.implementation.hasFeature(\"\",\"\")&&(a=e.implementation.hasFeature(\"Events.wheel\",\"3.0\")),a}()?\"wheel\":\"mousewheel\"},normalize:function(e){var t=0,a=0,i=0,s=0;return\"detail\"in e&&(a=e.detail),\"wheelDelta\"in e&&(a=-e.wheelDelta/120),\"wheelDeltaY\"in e&&(a=-e.wheelDeltaY/120),\"wheelDeltaX\"in e&&(t=-e.wheelDeltaX/120),\"axis\"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=a,a=0),i=10*t,s=10*a,\"deltaY\"in e&&(s=e.deltaY),\"deltaX\"in e&&(i=e.deltaX),e.shiftKey&&!i&&(i=s,s=0),(i||s)&&e.deltaMode&&(1===e.deltaMode?(i*=40,s*=40):(i*=800,s*=800)),i&&!t&&(t=i<1?-1:1),s&&!a&&(a=s<1?-1:1),{spinX:t,spinY:a,pixelX:i,pixelY:s}},handleMouseEnter:function(){this.enabled&&(this.mouseEntered=!0)},handleMouseLeave:function(){this.enabled&&(this.mouseEntered=!1)},handle:function(e){var t=e,a=this;if(a.enabled){var i=a.params.mousewheel;a.params.cssMode&&t.preventDefault();var s=a.$el;if(\"container\"!==a.params.mousewheel.eventsTarget&&(s=m(a.params.mousewheel.eventsTarget)),!a.mouseEntered&&!s[0].contains(t.target)&&!i.releaseOnEdges)return!0;t.originalEvent&&(t=t.originalEvent);var r=0,n=a.rtlTranslate?-1:1,l=J.normalize(t);if(i.forceToAxis)if(a.isHorizontal()){if(!(Math.abs(l.pixelX)>Math.abs(l.pixelY)))return!0;r=-l.pixelX*n}else{if(!(Math.abs(l.pixelY)>Math.abs(l.pixelX)))return!0;r=-l.pixelY}else r=Math.abs(l.pixelX)>Math.abs(l.pixelY)?-l.pixelX*n:-l.pixelY;if(0===r)return!0;i.invert&&(r=-r);var o=a.getTranslate()+r*i.sensitivity;if(o>=a.minTranslate()&&(o=a.minTranslate()),o<=a.maxTranslate()&&(o=a.maxTranslate()),(!!a.params.loop||!(o===a.minTranslate()||o===a.maxTranslate()))&&a.params.nested&&t.stopPropagation(),a.params.freeMode){var d={time:x(),delta:Math.abs(r),direction:Math.sign(r)},p=a.mousewheel.lastEventBeforeSnap,u=p&&d.time<p.time+500&&d.delta<=p.delta&&d.direction===p.direction;if(!u){a.mousewheel.lastEventBeforeSnap=void 0,a.params.loop&&a.loopFix();var c=a.getTranslate()+r*i.sensitivity,h=a.isBeginning,v=a.isEnd;if(c>=a.minTranslate()&&(c=a.minTranslate()),c<=a.maxTranslate()&&(c=a.maxTranslate()),a.setTransition(0),a.setTranslate(c),a.updateProgress(),a.updateActiveIndex(),a.updateSlidesClasses(),(!h&&a.isBeginning||!v&&a.isEnd)&&a.updateSlidesClasses(),a.params.freeModeSticky){clearTimeout(a.mousewheel.timeout),a.mousewheel.timeout=void 0;var f=a.mousewheel.recentWheelEvents;f.length>=15&&f.shift();var g=f.length?f[f.length-1]:void 0,b=f[0];if(f.push(d),g&&(d.delta>g.delta||d.direction!==g.direction))f.splice(0);else if(f.length>=15&&d.time-b.time<500&&b.delta-d.delta>=1&&d.delta<=6){var w=r>0?.8:.2;a.mousewheel.lastEventBeforeSnap=d,f.splice(0),a.mousewheel.timeout=E((function(){a.slideToClosest(a.params.speed,!0,void 0,w)}),0)}a.mousewheel.timeout||(a.mousewheel.timeout=E((function(){a.mousewheel.lastEventBeforeSnap=d,f.splice(0),a.slideToClosest(a.params.speed,!0,void 0,.5)}),500))}if(u||a.emit(\"scroll\",t),a.params.autoplay&&a.params.autoplayDisableOnInteraction&&a.autoplay.stop(),c===a.minTranslate()||c===a.maxTranslate())return!0}}else{var y={time:x(),delta:Math.abs(r),direction:Math.sign(r),raw:e},T=a.mousewheel.recentWheelEvents;T.length>=2&&T.shift();var C=T.length?T[T.length-1]:void 0;if(T.push(y),C?(y.direction!==C.direction||y.delta>C.delta||y.time>C.time+150)&&a.mousewheel.animateSlider(y):a.mousewheel.animateSlider(y),a.mousewheel.releaseScroll(y))return!0}return t.preventDefault?t.preventDefault():t.returnValue=!1,!1}},animateSlider:function(e){var t=this,a=l();return!(this.params.mousewheel.thresholdDelta&&e.delta<this.params.mousewheel.thresholdDelta)&&(!(this.params.mousewheel.thresholdTime&&x()-t.mousewheel.lastScrollTime<this.params.mousewheel.thresholdTime)&&(e.delta>=6&&x()-t.mousewheel.lastScrollTime<60||(e.direction<0?t.isEnd&&!t.params.loop||t.animating||(t.slideNext(),t.emit(\"scroll\",e.raw)):t.isBeginning&&!t.params.loop||t.animating||(t.slidePrev(),t.emit(\"scroll\",e.raw)),t.mousewheel.lastScrollTime=(new a.Date).getTime(),!1)))},releaseScroll:function(e){var t=this,a=t.params.mousewheel;if(e.direction<0){if(t.isEnd&&!t.params.loop&&a.releaseOnEdges)return!0}else if(t.isBeginning&&!t.params.loop&&a.releaseOnEdges)return!0;return!1},enable:function(){var e=this,t=J.event();if(e.params.cssMode)return e.wrapperEl.removeEventListener(t,e.mousewheel.handle),!0;if(!t)return!1;if(e.mousewheel.enabled)return!1;var a=e.$el;return\"container\"!==e.params.mousewheel.eventsTarget&&(a=m(e.params.mousewheel.eventsTarget)),a.on(\"mouseenter\",e.mousewheel.handleMouseEnter),a.on(\"mouseleave\",e.mousewheel.handleMouseLeave),a.on(t,e.mousewheel.handle),e.mousewheel.enabled=!0,!0},disable:function(){var e=this,t=J.event();if(e.params.cssMode)return e.wrapperEl.addEventListener(t,e.mousewheel.handle),!0;if(!t)return!1;if(!e.mousewheel.enabled)return!1;var a=e.$el;return\"container\"!==e.params.mousewheel.eventsTarget&&(a=m(e.params.mousewheel.eventsTarget)),a.off(t,e.mousewheel.handle),e.mousewheel.enabled=!1,!0}},Q={toggleEl:function(e,t){e[t?\"addClass\":\"removeClass\"](this.params.navigation.disabledClass),e[0]&&\"BUTTON\"===e[0].tagName&&(e[0].disabled=t)},update:function(){var e=this,t=e.params.navigation,a=e.navigation.toggleEl;if(!e.params.loop){var i=e.navigation,s=i.$nextEl,r=i.$prevEl;r&&r.length>0&&(e.isBeginning?a(r,!0):a(r,!1),e.params.watchOverflow&&e.enabled&&r[e.isLocked?\"addClass\":\"removeClass\"](t.lockClass)),s&&s.length>0&&(e.isEnd?a(s,!0):a(s,!1),e.params.watchOverflow&&e.enabled&&s[e.isLocked?\"addClass\":\"removeClass\"](t.lockClass))}},onPrevClick:function(e){var t=this;e.preventDefault(),t.isBeginning&&!t.params.loop||t.slidePrev()},onNextClick:function(e){var t=this;e.preventDefault(),t.isEnd&&!t.params.loop||t.slideNext()},init:function(){var e,t,a=this,i=a.params.navigation;(a.params.navigation=k(a.$el,a.params.navigation,a.params.createElements,{nextEl:\"swiper-button-next\",prevEl:\"swiper-button-prev\"}),i.nextEl||i.prevEl)&&(i.nextEl&&(e=m(i.nextEl),a.params.uniqueNavElements&&\"string\"==typeof i.nextEl&&e.length>1&&1===a.$el.find(i.nextEl).length&&(e=a.$el.find(i.nextEl))),i.prevEl&&(t=m(i.prevEl),a.params.uniqueNavElements&&\"string\"==typeof i.prevEl&&t.length>1&&1===a.$el.find(i.prevEl).length&&(t=a.$el.find(i.prevEl))),e&&e.length>0&&e.on(\"click\",a.navigation.onNextClick),t&&t.length>0&&t.on(\"click\",a.navigation.onPrevClick),M(a.navigation,{$nextEl:e,nextEl:e&&e[0],$prevEl:t,prevEl:t&&t[0]}),a.enabled||(e&&e.addClass(i.lockClass),t&&t.addClass(i.lockClass)))},destroy:function(){var e=this,t=e.navigation,a=t.$nextEl,i=t.$prevEl;a&&a.length&&(a.off(\"click\",e.navigation.onNextClick),a.removeClass(e.params.navigation.disabledClass)),i&&i.length&&(i.off(\"click\",e.navigation.onPrevClick),i.removeClass(e.params.navigation.disabledClass))}},ee={update:function(){var e=this,t=e.rtl,a=e.params.pagination;if(a.el&&e.pagination.el&&e.pagination.$el&&0!==e.pagination.$el.length){var i,s=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,r=e.pagination.$el,n=e.params.loop?Math.ceil((s-2*e.loopedSlides)/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?((i=Math.ceil((e.activeIndex-e.loopedSlides)/e.params.slidesPerGroup))>s-1-2*e.loopedSlides&&(i-=s-2*e.loopedSlides),i>n-1&&(i-=n),i<0&&\"bullets\"!==e.params.paginationType&&(i=n+i)):i=void 0!==e.snapIndex?e.snapIndex:e.activeIndex||0,\"bullets\"===a.type&&e.pagination.bullets&&e.pagination.bullets.length>0){var l,o,d,p=e.pagination.bullets;if(a.dynamicBullets&&(e.pagination.bulletSize=p.eq(0)[e.isHorizontal()?\"outerWidth\":\"outerHeight\"](!0),r.css(e.isHorizontal()?\"width\":\"height\",e.pagination.bulletSize*(a.dynamicMainBullets+4)+\"px\"),a.dynamicMainBullets>1&&void 0!==e.previousIndex&&(e.pagination.dynamicBulletIndex+=i-e.previousIndex,e.pagination.dynamicBulletIndex>a.dynamicMainBullets-1?e.pagination.dynamicBulletIndex=a.dynamicMainBullets-1:e.pagination.dynamicBulletIndex<0&&(e.pagination.dynamicBulletIndex=0)),l=i-e.pagination.dynamicBulletIndex,d=((o=l+(Math.min(p.length,a.dynamicMainBullets)-1))+l)/2),p.removeClass(a.bulletActiveClass+\" \"+a.bulletActiveClass+\"-next \"+a.bulletActiveClass+\"-next-next \"+a.bulletActiveClass+\"-prev \"+a.bulletActiveClass+\"-prev-prev \"+a.bulletActiveClass+\"-main\"),r.length>1)p.each((function(e){var t=m(e),s=t.index();s===i&&t.addClass(a.bulletActiveClass),a.dynamicBullets&&(s>=l&&s<=o&&t.addClass(a.bulletActiveClass+\"-main\"),s===l&&t.prev().addClass(a.bulletActiveClass+\"-prev\").prev().addClass(a.bulletActiveClass+\"-prev-prev\"),s===o&&t.next().addClass(a.bulletActiveClass+\"-next\").next().addClass(a.bulletActiveClass+\"-next-next\"))}));else{var u=p.eq(i),c=u.index();if(u.addClass(a.bulletActiveClass),a.dynamicBullets){for(var h=p.eq(l),v=p.eq(o),f=l;f<=o;f+=1)p.eq(f).addClass(a.bulletActiveClass+\"-main\");if(e.params.loop)if(c>=p.length-a.dynamicMainBullets){for(var g=a.dynamicMainBullets;g>=0;g-=1)p.eq(p.length-g).addClass(a.bulletActiveClass+\"-main\");p.eq(p.length-a.dynamicMainBullets-1).addClass(a.bulletActiveClass+\"-prev\")}else h.prev().addClass(a.bulletActiveClass+\"-prev\").prev().addClass(a.bulletActiveClass+\"-prev-prev\"),v.next().addClass(a.bulletActiveClass+\"-next\").next().addClass(a.bulletActiveClass+\"-next-next\");else h.prev().addClass(a.bulletActiveClass+\"-prev\").prev().addClass(a.bulletActiveClass+\"-prev-prev\"),v.next().addClass(a.bulletActiveClass+\"-next\").next().addClass(a.bulletActiveClass+\"-next-next\")}}if(a.dynamicBullets){var b=Math.min(p.length,a.dynamicMainBullets+4),w=(e.pagination.bulletSize*b-e.pagination.bulletSize)/2-d*e.pagination.bulletSize,y=t?\"right\":\"left\";p.css(e.isHorizontal()?y:\"top\",w+\"px\")}}if(\"fraction\"===a.type&&(r.find(P(a.currentClass)).text(a.formatFractionCurrent(i+1)),r.find(P(a.totalClass)).text(a.formatFractionTotal(n))),\"progressbar\"===a.type){var E;E=a.progressbarOpposite?e.isHorizontal()?\"vertical\":\"horizontal\":e.isHorizontal()?\"horizontal\":\"vertical\";var x=(i+1)/n,T=1,C=1;\"horizontal\"===E?T=x:C=x,r.find(P(a.progressbarFillClass)).transform(\"translate3d(0,0,0) scaleX(\"+T+\") scaleY(\"+C+\")\").transition(e.params.speed)}\"custom\"===a.type&&a.renderCustom?(r.html(a.renderCustom(e,i+1,n)),e.emit(\"paginationRender\",r[0])):e.emit(\"paginationUpdate\",r[0]),e.params.watchOverflow&&e.enabled&&r[e.isLocked?\"addClass\":\"removeClass\"](a.lockClass)}},render:function(){var e=this,t=e.params.pagination;if(t.el&&e.pagination.el&&e.pagination.$el&&0!==e.pagination.$el.length){var a=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,i=e.pagination.$el,s=\"\";if(\"bullets\"===t.type){var r=e.params.loop?Math.ceil((a-2*e.loopedSlides)/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&!e.params.loop&&r>a&&(r=a);for(var n=0;n<r;n+=1)t.renderBullet?s+=t.renderBullet.call(e,n,t.bulletClass):s+=\"<\"+t.bulletElement+' class=\"'+t.bulletClass+'\"></'+t.bulletElement+\">\";i.html(s),e.pagination.bullets=i.find(P(t.bulletClass))}\"fraction\"===t.type&&(s=t.renderFraction?t.renderFraction.call(e,t.currentClass,t.totalClass):'<span class=\"'+t.currentClass+'\"></span> / <span class=\"'+t.totalClass+'\"></span>',i.html(s)),\"progressbar\"===t.type&&(s=t.renderProgressbar?t.renderProgressbar.call(e,t.progressbarFillClass):'<span class=\"'+t.progressbarFillClass+'\"></span>',i.html(s)),\"custom\"!==t.type&&e.emit(\"paginationRender\",e.pagination.$el[0])}},init:function(){var e=this;e.params.pagination=k(e.$el,e.params.pagination,e.params.createElements,{el:\"swiper-pagination\"});var t=e.params.pagination;if(t.el){var a=m(t.el);0!==a.length&&(e.params.uniqueNavElements&&\"string\"==typeof t.el&&a.length>1&&(a=e.$el.find(t.el)),\"bullets\"===t.type&&t.clickable&&a.addClass(t.clickableClass),a.addClass(t.modifierClass+t.type),\"bullets\"===t.type&&t.dynamicBullets&&(a.addClass(\"\"+t.modifierClass+t.type+\"-dynamic\"),e.pagination.dynamicBulletIndex=0,t.dynamicMainBullets<1&&(t.dynamicMainBullets=1)),\"progressbar\"===t.type&&t.progressbarOpposite&&a.addClass(t.progressbarOppositeClass),t.clickable&&a.on(\"click\",P(t.bulletClass),(function(t){t.preventDefault();var a=m(this).index()*e.params.slidesPerGroup;e.params.loop&&(a+=e.loopedSlides),e.slideTo(a)})),M(e.pagination,{$el:a,el:a[0]}),e.enabled||a.addClass(t.lockClass))}},destroy:function(){var e=this,t=e.params.pagination;if(t.el&&e.pagination.el&&e.pagination.$el&&0!==e.pagination.$el.length){var a=e.pagination.$el;a.removeClass(t.hiddenClass),a.removeClass(t.modifierClass+t.type),e.pagination.bullets&&e.pagination.bullets.removeClass(t.bulletActiveClass),t.clickable&&a.off(\"click\",P(t.bulletClass))}}},te={setTranslate:function(){var e=this;if(e.params.scrollbar.el&&e.scrollbar.el){var t=e.scrollbar,a=e.rtlTranslate,i=e.progress,s=t.dragSize,r=t.trackSize,n=t.$dragEl,l=t.$el,o=e.params.scrollbar,d=s,p=(r-s)*i;a?(p=-p)>0?(d=s-p,p=0):-p+s>r&&(d=r+p):p<0?(d=s+p,p=0):p+s>r&&(d=r-p),e.isHorizontal()?(n.transform(\"translate3d(\"+p+\"px, 0, 0)\"),n[0].style.width=d+\"px\"):(n.transform(\"translate3d(0px, \"+p+\"px, 0)\"),n[0].style.height=d+\"px\"),o.hide&&(clearTimeout(e.scrollbar.timeout),l[0].style.opacity=1,e.scrollbar.timeout=setTimeout((function(){l[0].style.opacity=0,l.transition(400)}),1e3))}},setTransition:function(e){var t=this;t.params.scrollbar.el&&t.scrollbar.el&&t.scrollbar.$dragEl.transition(e)},updateSize:function(){var e=this;if(e.params.scrollbar.el&&e.scrollbar.el){var t=e.scrollbar,a=t.$dragEl,i=t.$el;a[0].style.width=\"\",a[0].style.height=\"\";var s,r=e.isHorizontal()?i[0].offsetWidth:i[0].offsetHeight,n=e.size/e.virtualSize,l=n*(r/e.size);s=\"auto\"===e.params.scrollbar.dragSize?r*n:parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?a[0].style.width=s+\"px\":a[0].style.height=s+\"px\",i[0].style.display=n>=1?\"none\":\"\",e.params.scrollbar.hide&&(i[0].style.opacity=0),M(t,{trackSize:r,divider:n,moveDivider:l,dragSize:s}),e.params.watchOverflow&&e.enabled&&t.$el[e.isLocked?\"addClass\":\"removeClass\"](e.params.scrollbar.lockClass)}},getPointerPosition:function(e){return this.isHorizontal()?\"touchstart\"===e.type||\"touchmove\"===e.type?e.targetTouches[0].clientX:e.clientX:\"touchstart\"===e.type||\"touchmove\"===e.type?e.targetTouches[0].clientY:e.clientY},setDragPosition:function(e){var t,a=this,i=a.scrollbar,s=a.rtlTranslate,r=i.$el,n=i.dragSize,l=i.trackSize,o=i.dragStartPos;t=(i.getPointerPosition(e)-r.offset()[a.isHorizontal()?\"left\":\"top\"]-(null!==o?o:n/2))/(l-n),t=Math.max(Math.min(t,1),0),s&&(t=1-t);var d=a.minTranslate()+(a.maxTranslate()-a.minTranslate())*t;a.updateProgress(d),a.setTranslate(d),a.updateActiveIndex(),a.updateSlidesClasses()},onDragStart:function(e){var t=this,a=t.params.scrollbar,i=t.scrollbar,s=t.$wrapperEl,r=i.$el,n=i.$dragEl;t.scrollbar.isTouched=!0,t.scrollbar.dragStartPos=e.target===n[0]||e.target===n?i.getPointerPosition(e)-e.target.getBoundingClientRect()[t.isHorizontal()?\"left\":\"top\"]:null,e.preventDefault(),e.stopPropagation(),s.transition(100),n.transition(100),i.setDragPosition(e),clearTimeout(t.scrollbar.dragTimeout),r.transition(0),a.hide&&r.css(\"opacity\",1),t.params.cssMode&&t.$wrapperEl.css(\"scroll-snap-type\",\"none\"),t.emit(\"scrollbarDragStart\",e)},onDragMove:function(e){var t=this,a=t.scrollbar,i=t.$wrapperEl,s=a.$el,r=a.$dragEl;t.scrollbar.isTouched&&(e.preventDefault?e.preventDefault():e.returnValue=!1,a.setDragPosition(e),i.transition(0),s.transition(0),r.transition(0),t.emit(\"scrollbarDragMove\",e))},onDragEnd:function(e){var t=this,a=t.params.scrollbar,i=t.scrollbar,s=t.$wrapperEl,r=i.$el;t.scrollbar.isTouched&&(t.scrollbar.isTouched=!1,t.params.cssMode&&(t.$wrapperEl.css(\"scroll-snap-type\",\"\"),s.transition(\"\")),a.hide&&(clearTimeout(t.scrollbar.dragTimeout),t.scrollbar.dragTimeout=E((function(){r.css(\"opacity\",0),r.transition(400)}),1e3)),t.emit(\"scrollbarDragEnd\",e),a.snapOnRelease&&t.slideToClosest())},enableDraggable:function(){var e=this;if(e.params.scrollbar.el){var t=r(),a=e.scrollbar,i=e.touchEventsTouch,s=e.touchEventsDesktop,n=e.params,l=e.support,o=a.$el[0],d=!(!l.passiveListener||!n.passiveListeners)&&{passive:!1,capture:!1},p=!(!l.passiveListener||!n.passiveListeners)&&{passive:!0,capture:!1};o&&(l.touch?(o.addEventListener(i.start,e.scrollbar.onDragStart,d),o.addEventListener(i.move,e.scrollbar.onDragMove,d),o.addEventListener(i.end,e.scrollbar.onDragEnd,p)):(o.addEventListener(s.start,e.scrollbar.onDragStart,d),t.addEventListener(s.move,e.scrollbar.onDragMove,d),t.addEventListener(s.end,e.scrollbar.onDragEnd,p)))}},disableDraggable:function(){var e=this;if(e.params.scrollbar.el){var t=r(),a=e.scrollbar,i=e.touchEventsTouch,s=e.touchEventsDesktop,n=e.params,l=e.support,o=a.$el[0],d=!(!l.passiveListener||!n.passiveListeners)&&{passive:!1,capture:!1},p=!(!l.passiveListener||!n.passiveListeners)&&{passive:!0,capture:!1};o&&(l.touch?(o.removeEventListener(i.start,e.scrollbar.onDragStart,d),o.removeEventListener(i.move,e.scrollbar.onDragMove,d),o.removeEventListener(i.end,e.scrollbar.onDragEnd,p)):(o.removeEventListener(s.start,e.scrollbar.onDragStart,d),t.removeEventListener(s.move,e.scrollbar.onDragMove,d),t.removeEventListener(s.end,e.scrollbar.onDragEnd,p)))}},init:function(){var e=this,t=e.scrollbar,a=e.$el;e.params.scrollbar=k(a,e.params.scrollbar,e.params.createElements,{el:\"swiper-scrollbar\"});var i=e.params.scrollbar;if(i.el){var s=m(i.el);e.params.uniqueNavElements&&\"string\"==typeof i.el&&s.length>1&&1===a.find(i.el).length&&(s=a.find(i.el));var r=s.find(\".\"+e.params.scrollbar.dragClass);0===r.length&&(r=m('<div class=\"'+e.params.scrollbar.dragClass+'\"></div>'),s.append(r)),M(t,{$el:s,el:s[0],$dragEl:r,dragEl:r[0]}),i.draggable&&t.enableDraggable(),s&&s[e.enabled?\"removeClass\":\"addClass\"](e.params.scrollbar.lockClass)}},destroy:function(){this.scrollbar.disableDraggable()}},ae={setTransform:function(e,t){var a=this.rtl,i=m(e),s=a?-1:1,r=i.attr(\"data-swiper-parallax\")||\"0\",n=i.attr(\"data-swiper-parallax-x\"),l=i.attr(\"data-swiper-parallax-y\"),o=i.attr(\"data-swiper-parallax-scale\"),d=i.attr(\"data-swiper-parallax-opacity\");if(n||l?(n=n||\"0\",l=l||\"0\"):this.isHorizontal()?(n=r,l=\"0\"):(l=r,n=\"0\"),n=n.indexOf(\"%\")>=0?parseInt(n,10)*t*s+\"%\":n*t*s+\"px\",l=l.indexOf(\"%\")>=0?parseInt(l,10)*t+\"%\":l*t+\"px\",null!=d){var p=d-(d-1)*(1-Math.abs(t));i[0].style.opacity=p}if(null==o)i.transform(\"translate3d(\"+n+\", \"+l+\", 0px)\");else{var u=o-(o-1)*(1-Math.abs(t));i.transform(\"translate3d(\"+n+\", \"+l+\", 0px) scale(\"+u+\")\")}},setTranslate:function(){var e=this,t=e.$el,a=e.slides,i=e.progress,s=e.snapGrid;t.children(\"[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]\").each((function(t){e.parallax.setTransform(t,i)})),a.each((function(t,a){var r=t.progress;e.params.slidesPerGroup>1&&\"auto\"!==e.params.slidesPerView&&(r+=Math.ceil(a/2)-i*(s.length-1)),r=Math.min(Math.max(r,-1),1),m(t).find(\"[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]\").each((function(t){e.parallax.setTransform(t,r)}))}))},setTransition:function(e){void 0===e&&(e=this.params.speed);this.$el.find(\"[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]\").each((function(t){var a=m(t),i=parseInt(a.attr(\"data-swiper-parallax-duration\"),10)||e;0===e&&(i=0),a.transition(i)}))}},ie={getDistanceBetweenTouches:function(e){if(e.targetTouches.length<2)return 1;var t=e.targetTouches[0].pageX,a=e.targetTouches[0].pageY,i=e.targetTouches[1].pageX,s=e.targetTouches[1].pageY;return Math.sqrt(Math.pow(i-t,2)+Math.pow(s-a,2))},onGestureStart:function(e){var t=this,a=t.support,i=t.params.zoom,s=t.zoom,r=s.gesture;if(s.fakeGestureTouched=!1,s.fakeGestureMoved=!1,!a.gestures){if(\"touchstart\"!==e.type||\"touchstart\"===e.type&&e.targetTouches.length<2)return;s.fakeGestureTouched=!0,r.scaleStart=ie.getDistanceBetweenTouches(e)}r.$slideEl&&r.$slideEl.length||(r.$slideEl=m(e.target).closest(\".\"+t.params.slideClass),0===r.$slideEl.length&&(r.$slideEl=t.slides.eq(t.activeIndex)),r.$imageEl=r.$slideEl.find(\"img, svg, canvas, picture, .swiper-zoom-target\"),r.$imageWrapEl=r.$imageEl.parent(\".\"+i.containerClass),r.maxRatio=r.$imageWrapEl.attr(\"data-swiper-zoom\")||i.maxRatio,0!==r.$imageWrapEl.length)?(r.$imageEl&&r.$imageEl.transition(0),t.zoom.isScaling=!0):r.$imageEl=void 0},onGestureChange:function(e){var t=this,a=t.support,i=t.params.zoom,s=t.zoom,r=s.gesture;if(!a.gestures){if(\"touchmove\"!==e.type||\"touchmove\"===e.type&&e.targetTouches.length<2)return;s.fakeGestureMoved=!0,r.scaleMove=ie.getDistanceBetweenTouches(e)}r.$imageEl&&0!==r.$imageEl.length?(a.gestures?s.scale=e.scale*s.currentScale:s.scale=r.scaleMove/r.scaleStart*s.currentScale,s.scale>r.maxRatio&&(s.scale=r.maxRatio-1+Math.pow(s.scale-r.maxRatio+1,.5)),s.scale<i.minRatio&&(s.scale=i.minRatio+1-Math.pow(i.minRatio-s.scale+1,.5)),r.$imageEl.transform(\"translate3d(0,0,0) scale(\"+s.scale+\")\")):\"gesturechange\"===e.type&&s.onGestureStart(e)},onGestureEnd:function(e){var t=this,a=t.device,i=t.support,s=t.params.zoom,r=t.zoom,n=r.gesture;if(!i.gestures){if(!r.fakeGestureTouched||!r.fakeGestureMoved)return;if(\"touchend\"!==e.type||\"touchend\"===e.type&&e.changedTouches.length<2&&!a.android)return;r.fakeGestureTouched=!1,r.fakeGestureMoved=!1}n.$imageEl&&0!==n.$imageEl.length&&(r.scale=Math.max(Math.min(r.scale,n.maxRatio),s.minRatio),n.$imageEl.transition(t.params.speed).transform(\"translate3d(0,0,0) scale(\"+r.scale+\")\"),r.currentScale=r.scale,r.isScaling=!1,1===r.scale&&(n.$slideEl=void 0))},onTouchStart:function(e){var t=this.device,a=this.zoom,i=a.gesture,s=a.image;i.$imageEl&&0!==i.$imageEl.length&&(s.isTouched||(t.android&&e.cancelable&&e.preventDefault(),s.isTouched=!0,s.touchesStart.x=\"touchstart\"===e.type?e.targetTouches[0].pageX:e.pageX,s.touchesStart.y=\"touchstart\"===e.type?e.targetTouches[0].pageY:e.pageY))},onTouchMove:function(e){var t=this,a=t.zoom,i=a.gesture,s=a.image,r=a.velocity;if(i.$imageEl&&0!==i.$imageEl.length&&(t.allowClick=!1,s.isTouched&&i.$slideEl)){s.isMoved||(s.width=i.$imageEl[0].offsetWidth,s.height=i.$imageEl[0].offsetHeight,s.startX=T(i.$imageWrapEl[0],\"x\")||0,s.startY=T(i.$imageWrapEl[0],\"y\")||0,i.slideWidth=i.$slideEl[0].offsetWidth,i.slideHeight=i.$slideEl[0].offsetHeight,i.$imageWrapEl.transition(0));var n=s.width*a.scale,l=s.height*a.scale;if(!(n<i.slideWidth&&l<i.slideHeight)){if(s.minX=Math.min(i.slideWidth/2-n/2,0),s.maxX=-s.minX,s.minY=Math.min(i.slideHeight/2-l/2,0),s.maxY=-s.minY,s.touchesCurrent.x=\"touchmove\"===e.type?e.targetTouches[0].pageX:e.pageX,s.touchesCurrent.y=\"touchmove\"===e.type?e.targetTouches[0].pageY:e.pageY,!s.isMoved&&!a.isScaling){if(t.isHorizontal()&&(Math.floor(s.minX)===Math.floor(s.startX)&&s.touchesCurrent.x<s.touchesStart.x||Math.floor(s.maxX)===Math.floor(s.startX)&&s.touchesCurrent.x>s.touchesStart.x))return void(s.isTouched=!1);if(!t.isHorizontal()&&(Math.floor(s.minY)===Math.floor(s.startY)&&s.touchesCurrent.y<s.touchesStart.y||Math.floor(s.maxY)===Math.floor(s.startY)&&s.touchesCurrent.y>s.touchesStart.y))return void(s.isTouched=!1)}e.cancelable&&e.preventDefault(),e.stopPropagation(),s.isMoved=!0,s.currentX=s.touchesCurrent.x-s.touchesStart.x+s.startX,s.currentY=s.touchesCurrent.y-s.touchesStart.y+s.startY,s.currentX<s.minX&&(s.currentX=s.minX+1-Math.pow(s.minX-s.currentX+1,.8)),s.currentX>s.maxX&&(s.currentX=s.maxX-1+Math.pow(s.currentX-s.maxX+1,.8)),s.currentY<s.minY&&(s.currentY=s.minY+1-Math.pow(s.minY-s.currentY+1,.8)),s.currentY>s.maxY&&(s.currentY=s.maxY-1+Math.pow(s.currentY-s.maxY+1,.8)),r.prevPositionX||(r.prevPositionX=s.touchesCurrent.x),r.prevPositionY||(r.prevPositionY=s.touchesCurrent.y),r.prevTime||(r.prevTime=Date.now()),r.x=(s.touchesCurrent.x-r.prevPositionX)/(Date.now()-r.prevTime)/2,r.y=(s.touchesCurrent.y-r.prevPositionY)/(Date.now()-r.prevTime)/2,Math.abs(s.touchesCurrent.x-r.prevPositionX)<2&&(r.x=0),Math.abs(s.touchesCurrent.y-r.prevPositionY)<2&&(r.y=0),r.prevPositionX=s.touchesCurrent.x,r.prevPositionY=s.touchesCurrent.y,r.prevTime=Date.now(),i.$imageWrapEl.transform(\"translate3d(\"+s.currentX+\"px, \"+s.currentY+\"px,0)\")}}},onTouchEnd:function(){var e=this.zoom,t=e.gesture,a=e.image,i=e.velocity;if(t.$imageEl&&0!==t.$imageEl.length){if(!a.isTouched||!a.isMoved)return a.isTouched=!1,void(a.isMoved=!1);a.isTouched=!1,a.isMoved=!1;var s=300,r=300,n=i.x*s,l=a.currentX+n,o=i.y*r,d=a.currentY+o;0!==i.x&&(s=Math.abs((l-a.currentX)/i.x)),0!==i.y&&(r=Math.abs((d-a.currentY)/i.y));var p=Math.max(s,r);a.currentX=l,a.currentY=d;var u=a.width*e.scale,c=a.height*e.scale;a.minX=Math.min(t.slideWidth/2-u/2,0),a.maxX=-a.minX,a.minY=Math.min(t.slideHeight/2-c/2,0),a.maxY=-a.minY,a.currentX=Math.max(Math.min(a.currentX,a.maxX),a.minX),a.currentY=Math.max(Math.min(a.currentY,a.maxY),a.minY),t.$imageWrapEl.transition(p).transform(\"translate3d(\"+a.currentX+\"px, \"+a.currentY+\"px,0)\")}},onTransitionEnd:function(){var e=this,t=e.zoom,a=t.gesture;a.$slideEl&&e.previousIndex!==e.activeIndex&&(a.$imageEl&&a.$imageEl.transform(\"translate3d(0,0,0) scale(1)\"),a.$imageWrapEl&&a.$imageWrapEl.transform(\"translate3d(0,0,0)\"),t.scale=1,t.currentScale=1,a.$slideEl=void 0,a.$imageEl=void 0,a.$imageWrapEl=void 0)},toggle:function(e){var t=this.zoom;t.scale&&1!==t.scale?t.out():t.in(e)},in:function(e){var t,a,i,s,r,n,o,d,p,u,c,h,v,f,g,b,w=this,y=l(),E=w.zoom,x=w.params.zoom,T=E.gesture,C=E.image;(T.$slideEl||(e&&e.target&&(T.$slideEl=m(e.target).closest(\".\"+w.params.slideClass)),T.$slideEl||(w.params.virtual&&w.params.virtual.enabled&&w.virtual?T.$slideEl=w.$wrapperEl.children(\".\"+w.params.slideActiveClass):T.$slideEl=w.slides.eq(w.activeIndex)),T.$imageEl=T.$slideEl.find(\"img, svg, canvas, picture, .swiper-zoom-target\"),T.$imageWrapEl=T.$imageEl.parent(\".\"+x.containerClass)),T.$imageEl&&0!==T.$imageEl.length&&T.$imageWrapEl&&0!==T.$imageWrapEl.length)&&(T.$slideEl.addClass(\"\"+x.zoomedSlideClass),void 0===C.touchesStart.x&&e?(t=\"touchend\"===e.type?e.changedTouches[0].pageX:e.pageX,a=\"touchend\"===e.type?e.changedTouches[0].pageY:e.pageY):(t=C.touchesStart.x,a=C.touchesStart.y),E.scale=T.$imageWrapEl.attr(\"data-swiper-zoom\")||x.maxRatio,E.currentScale=T.$imageWrapEl.attr(\"data-swiper-zoom\")||x.maxRatio,e?(g=T.$slideEl[0].offsetWidth,b=T.$slideEl[0].offsetHeight,i=T.$slideEl.offset().left+y.scrollX+g/2-t,s=T.$slideEl.offset().top+y.scrollY+b/2-a,o=T.$imageEl[0].offsetWidth,d=T.$imageEl[0].offsetHeight,p=o*E.scale,u=d*E.scale,v=-(c=Math.min(g/2-p/2,0)),f=-(h=Math.min(b/2-u/2,0)),(r=i*E.scale)<c&&(r=c),r>v&&(r=v),(n=s*E.scale)<h&&(n=h),n>f&&(n=f)):(r=0,n=0),T.$imageWrapEl.transition(300).transform(\"translate3d(\"+r+\"px, \"+n+\"px,0)\"),T.$imageEl.transition(300).transform(\"translate3d(0,0,0) scale(\"+E.scale+\")\"))},out:function(){var e=this,t=e.zoom,a=e.params.zoom,i=t.gesture;i.$slideEl||(e.params.virtual&&e.params.virtual.enabled&&e.virtual?i.$slideEl=e.$wrapperEl.children(\".\"+e.params.slideActiveClass):i.$slideEl=e.slides.eq(e.activeIndex),i.$imageEl=i.$slideEl.find(\"img, svg, canvas, picture, .swiper-zoom-target\"),i.$imageWrapEl=i.$imageEl.parent(\".\"+a.containerClass)),i.$imageEl&&0!==i.$imageEl.length&&i.$imageWrapEl&&0!==i.$imageWrapEl.length&&(t.scale=1,t.currentScale=1,i.$imageWrapEl.transition(300).transform(\"translate3d(0,0,0)\"),i.$imageEl.transition(300).transform(\"translate3d(0,0,0) scale(1)\"),i.$slideEl.removeClass(\"\"+a.zoomedSlideClass),i.$slideEl=void 0)},toggleGestures:function(e){var t=this,a=t.zoom,i=a.slideSelector,s=a.passiveListener;t.$wrapperEl[e](\"gesturestart\",i,a.onGestureStart,s),t.$wrapperEl[e](\"gesturechange\",i,a.onGestureChange,s),t.$wrapperEl[e](\"gestureend\",i,a.onGestureEnd,s)},enableGestures:function(){this.zoom.gesturesEnabled||(this.zoom.gesturesEnabled=!0,this.zoom.toggleGestures(\"on\"))},disableGestures:function(){this.zoom.gesturesEnabled&&(this.zoom.gesturesEnabled=!1,this.zoom.toggleGestures(\"off\"))},enable:function(){var e=this,t=e.support,a=e.zoom;if(!a.enabled){a.enabled=!0;var i=!(\"touchstart\"!==e.touchEvents.start||!t.passiveListener||!e.params.passiveListeners)&&{passive:!0,capture:!1},s=!t.passiveListener||{passive:!1,capture:!0},r=\".\"+e.params.slideClass;e.zoom.passiveListener=i,e.zoom.slideSelector=r,t.gestures?(e.$wrapperEl.on(e.touchEvents.start,e.zoom.enableGestures,i),e.$wrapperEl.on(e.touchEvents.end,e.zoom.disableGestures,i)):\"touchstart\"===e.touchEvents.start&&(e.$wrapperEl.on(e.touchEvents.start,r,a.onGestureStart,i),e.$wrapperEl.on(e.touchEvents.move,r,a.onGestureChange,s),e.$wrapperEl.on(e.touchEvents.end,r,a.onGestureEnd,i),e.touchEvents.cancel&&e.$wrapperEl.on(e.touchEvents.cancel,r,a.onGestureEnd,i)),e.$wrapperEl.on(e.touchEvents.move,\".\"+e.params.zoom.containerClass,a.onTouchMove,s)}},disable:function(){var e=this,t=e.zoom;if(t.enabled){var a=e.support;e.zoom.enabled=!1;var i=!(\"touchstart\"!==e.touchEvents.start||!a.passiveListener||!e.params.passiveListeners)&&{passive:!0,capture:!1},s=!a.passiveListener||{passive:!1,capture:!0},r=\".\"+e.params.slideClass;a.gestures?(e.$wrapperEl.off(e.touchEvents.start,e.zoom.enableGestures,i),e.$wrapperEl.off(e.touchEvents.end,e.zoom.disableGestures,i)):\"touchstart\"===e.touchEvents.start&&(e.$wrapperEl.off(e.touchEvents.start,r,t.onGestureStart,i),e.$wrapperEl.off(e.touchEvents.move,r,t.onGestureChange,s),e.$wrapperEl.off(e.touchEvents.end,r,t.onGestureEnd,i),e.touchEvents.cancel&&e.$wrapperEl.off(e.touchEvents.cancel,r,t.onGestureEnd,i)),e.$wrapperEl.off(e.touchEvents.move,\".\"+e.params.zoom.containerClass,t.onTouchMove,s)}}},se={loadInSlide:function(e,t){void 0===t&&(t=!0);var a=this,i=a.params.lazy;if(void 0!==e&&0!==a.slides.length){var s=a.virtual&&a.params.virtual.enabled?a.$wrapperEl.children(\".\"+a.params.slideClass+'[data-swiper-slide-index=\"'+e+'\"]'):a.slides.eq(e),r=s.find(\".\"+i.elementClass+\":not(.\"+i.loadedClass+\"):not(.\"+i.loadingClass+\")\");!s.hasClass(i.elementClass)||s.hasClass(i.loadedClass)||s.hasClass(i.loadingClass)||r.push(s[0]),0!==r.length&&r.each((function(e){var r=m(e);r.addClass(i.loadingClass);var n=r.attr(\"data-background\"),l=r.attr(\"data-src\"),o=r.attr(\"data-srcset\"),d=r.attr(\"data-sizes\"),p=r.parent(\"picture\");a.loadImage(r[0],l||n,o,d,!1,(function(){if(null!=a&&a&&(!a||a.params)&&!a.destroyed){if(n?(r.css(\"background-image\",'url(\"'+n+'\")'),r.removeAttr(\"data-background\")):(o&&(r.attr(\"srcset\",o),r.removeAttr(\"data-srcset\")),d&&(r.attr(\"sizes\",d),r.removeAttr(\"data-sizes\")),p.length&&p.children(\"source\").each((function(e){var t=m(e);t.attr(\"data-srcset\")&&(t.attr(\"srcset\",t.attr(\"data-srcset\")),t.removeAttr(\"data-srcset\"))})),l&&(r.attr(\"src\",l),r.removeAttr(\"data-src\"))),r.addClass(i.loadedClass).removeClass(i.loadingClass),s.find(\".\"+i.preloaderClass).remove(),a.params.loop&&t){var e=s.attr(\"data-swiper-slide-index\");if(s.hasClass(a.params.slideDuplicateClass)){var u=a.$wrapperEl.children('[data-swiper-slide-index=\"'+e+'\"]:not(.'+a.params.slideDuplicateClass+\")\");a.lazy.loadInSlide(u.index(),!1)}else{var c=a.$wrapperEl.children(\".\"+a.params.slideDuplicateClass+'[data-swiper-slide-index=\"'+e+'\"]');a.lazy.loadInSlide(c.index(),!1)}}a.emit(\"lazyImageReady\",s[0],r[0]),a.params.autoHeight&&a.updateAutoHeight()}})),a.emit(\"lazyImageLoad\",s[0],r[0])}))}},load:function(){var e=this,t=e.$wrapperEl,a=e.params,i=e.slides,s=e.activeIndex,r=e.virtual&&a.virtual.enabled,n=a.lazy,l=a.slidesPerView;function o(e){if(r){if(t.children(\".\"+a.slideClass+'[data-swiper-slide-index=\"'+e+'\"]').length)return!0}else if(i[e])return!0;return!1}function d(e){return r?m(e).attr(\"data-swiper-slide-index\"):m(e).index()}if(\"auto\"===l&&(l=0),e.lazy.initialImageLoaded||(e.lazy.initialImageLoaded=!0),e.params.watchSlidesVisibility)t.children(\".\"+a.slideVisibleClass).each((function(t){var a=r?m(t).attr(\"data-swiper-slide-index\"):m(t).index();e.lazy.loadInSlide(a)}));else if(l>1)for(var p=s;p<s+l;p+=1)o(p)&&e.lazy.loadInSlide(p);else e.lazy.loadInSlide(s);if(n.loadPrevNext)if(l>1||n.loadPrevNextAmount&&n.loadPrevNextAmount>1){for(var u=n.loadPrevNextAmount,c=l,h=Math.min(s+c+Math.max(u,c),i.length),v=Math.max(s-Math.max(c,u),0),f=s+l;f<h;f+=1)o(f)&&e.lazy.loadInSlide(f);for(var g=v;g<s;g+=1)o(g)&&e.lazy.loadInSlide(g)}else{var b=t.children(\".\"+a.slideNextClass);b.length>0&&e.lazy.loadInSlide(d(b));var w=t.children(\".\"+a.slidePrevClass);w.length>0&&e.lazy.loadInSlide(d(w))}},checkInViewOnLoad:function(){var e=l(),t=this;if(t&&!t.destroyed){var a=t.params.lazy.scrollingElement?m(t.params.lazy.scrollingElement):m(e),i=a[0]===e,s=i?e.innerWidth:a[0].offsetWidth,r=i?e.innerHeight:a[0].offsetHeight,n=t.$el.offset(),o=!1;t.rtlTranslate&&(n.left-=t.$el[0].scrollLeft);for(var d=[[n.left,n.top],[n.left+t.width,n.top],[n.left,n.top+t.height],[n.left+t.width,n.top+t.height]],p=0;p<d.length;p+=1){var u=d[p];if(u[0]>=0&&u[0]<=s&&u[1]>=0&&u[1]<=r){if(0===u[0]&&0===u[1])continue;o=!0}}var c=!(\"touchstart\"!==t.touchEvents.start||!t.support.passiveListener||!t.params.passiveListeners)&&{passive:!0,capture:!1};o?(t.lazy.load(),a.off(\"scroll\",t.lazy.checkInViewOnLoad,c)):t.lazy.scrollHandlerAttached||(t.lazy.scrollHandlerAttached=!0,a.on(\"scroll\",t.lazy.checkInViewOnLoad,c))}}},re={LinearSpline:function(e,t){var a,i,s,r,n,l=function(e,t){for(i=-1,a=e.length;a-i>1;)e[s=a+i>>1]<=t?i=s:a=s;return a};return this.x=e,this.y=t,this.lastIndex=e.length-1,this.interpolate=function(e){return e?(n=l(this.x,e),r=n-1,(e-this.x[r])*(this.y[n]-this.y[r])/(this.x[n]-this.x[r])+this.y[r]):0},this},getInterpolateFunction:function(e){var t=this;t.controller.spline||(t.controller.spline=t.params.loop?new re.LinearSpline(t.slidesGrid,e.slidesGrid):new re.LinearSpline(t.snapGrid,e.snapGrid))},setTranslate:function(e,t){var a,i,s=this,r=s.controller.control,n=s.constructor;function l(e){var t=s.rtlTranslate?-s.translate:s.translate;\"slide\"===s.params.controller.by&&(s.controller.getInterpolateFunction(e),i=-s.controller.spline.interpolate(-t)),i&&\"container\"!==s.params.controller.by||(a=(e.maxTranslate()-e.minTranslate())/(s.maxTranslate()-s.minTranslate()),i=(t-s.minTranslate())*a+e.minTranslate()),s.params.controller.inverse&&(i=e.maxTranslate()-i),e.updateProgress(i),e.setTranslate(i,s),e.updateActiveIndex(),e.updateSlidesClasses()}if(Array.isArray(r))for(var o=0;o<r.length;o+=1)r[o]!==t&&r[o]instanceof n&&l(r[o]);else r instanceof n&&t!==r&&l(r)},setTransition:function(e,t){var a,i=this,s=i.constructor,r=i.controller.control;function n(t){t.setTransition(e,i),0!==e&&(t.transitionStart(),t.params.autoHeight&&E((function(){t.updateAutoHeight()})),t.$wrapperEl.transitionEnd((function(){r&&(t.params.loop&&\"slide\"===i.params.controller.by&&t.loopFix(),t.transitionEnd())})))}if(Array.isArray(r))for(a=0;a<r.length;a+=1)r[a]!==t&&r[a]instanceof s&&n(r[a]);else r instanceof s&&t!==r&&n(r)}},ne={getRandomNumber:function(e){void 0===e&&(e=16);return\"x\".repeat(e).replace(/x/g,(function(){return Math.round(16*Math.random()).toString(16)}))},makeElFocusable:function(e){return e.attr(\"tabIndex\",\"0\"),e},makeElNotFocusable:function(e){return e.attr(\"tabIndex\",\"-1\"),e},addElRole:function(e,t){return e.attr(\"role\",t),e},addElRoleDescription:function(e,t){return e.attr(\"aria-roledescription\",t),e},addElControls:function(e,t){return e.attr(\"aria-controls\",t),e},addElLabel:function(e,t){return e.attr(\"aria-label\",t),e},addElId:function(e,t){return e.attr(\"id\",t),e},addElLive:function(e,t){return e.attr(\"aria-live\",t),e},disableEl:function(e){return e.attr(\"aria-disabled\",!0),e},enableEl:function(e){return e.attr(\"aria-disabled\",!1),e},onEnterOrSpaceKey:function(e){if(13===e.keyCode||32===e.keyCode){var t=this,a=t.params.a11y,i=m(e.target);t.navigation&&t.navigation.$nextEl&&i.is(t.navigation.$nextEl)&&(t.isEnd&&!t.params.loop||t.slideNext(),t.isEnd?t.a11y.notify(a.lastSlideMessage):t.a11y.notify(a.nextSlideMessage)),t.navigation&&t.navigation.$prevEl&&i.is(t.navigation.$prevEl)&&(t.isBeginning&&!t.params.loop||t.slidePrev(),t.isBeginning?t.a11y.notify(a.firstSlideMessage):t.a11y.notify(a.prevSlideMessage)),t.pagination&&i.is(P(t.params.pagination.bulletClass))&&i[0].click()}},notify:function(e){var t=this.a11y.liveRegion;0!==t.length&&(t.html(\"\"),t.html(e))},updateNavigation:function(){var e=this;if(!e.params.loop&&e.navigation){var t=e.navigation,a=t.$nextEl,i=t.$prevEl;i&&i.length>0&&(e.isBeginning?(e.a11y.disableEl(i),e.a11y.makeElNotFocusable(i)):(e.a11y.enableEl(i),e.a11y.makeElFocusable(i))),a&&a.length>0&&(e.isEnd?(e.a11y.disableEl(a),e.a11y.makeElNotFocusable(a)):(e.a11y.enableEl(a),e.a11y.makeElFocusable(a)))}},updatePagination:function(){var e=this,t=e.params.a11y;e.pagination&&e.params.pagination.clickable&&e.pagination.bullets&&e.pagination.bullets.length&&e.pagination.bullets.each((function(a){var i=m(a);e.a11y.makeElFocusable(i),e.params.pagination.renderBullet||(e.a11y.addElRole(i,\"button\"),e.a11y.addElLabel(i,t.paginationBulletMessage.replace(/\\{\\{index\\}\\}/,i.index()+1)))}))},init:function(){var e=this,t=e.params.a11y;e.$el.append(e.a11y.liveRegion);var a=e.$el;t.containerRoleDescriptionMessage&&e.a11y.addElRoleDescription(a,t.containerRoleDescriptionMessage),t.containerMessage&&e.a11y.addElLabel(a,t.containerMessage);var i=e.$wrapperEl,s=i.attr(\"id\")||\"swiper-wrapper-\"+e.a11y.getRandomNumber(16),r=e.params.autoplay&&e.params.autoplay.enabled?\"off\":\"polite\";e.a11y.addElId(i,s),e.a11y.addElLive(i,r),t.itemRoleDescriptionMessage&&e.a11y.addElRoleDescription(m(e.slides),t.itemRoleDescriptionMessage),e.a11y.addElRole(m(e.slides),t.slideRole);var n,l,o=e.params.loop?e.slides.filter((function(t){return!t.classList.contains(e.params.slideDuplicateClass)})).length:e.slides.length;e.slides.each((function(a,i){var s=m(a),r=e.params.loop?parseInt(s.attr(\"data-swiper-slide-index\"),10):i,n=t.slideLabelMessage.replace(/\\{\\{index\\}\\}/,r+1).replace(/\\{\\{slidesLength\\}\\}/,o);e.a11y.addElLabel(s,n)})),e.navigation&&e.navigation.$nextEl&&(n=e.navigation.$nextEl),e.navigation&&e.navigation.$prevEl&&(l=e.navigation.$prevEl),n&&n.length&&(e.a11y.makeElFocusable(n),\"BUTTON\"!==n[0].tagName&&(e.a11y.addElRole(n,\"button\"),n.on(\"keydown\",e.a11y.onEnterOrSpaceKey)),e.a11y.addElLabel(n,t.nextSlideMessage),e.a11y.addElControls(n,s)),l&&l.length&&(e.a11y.makeElFocusable(l),\"BUTTON\"!==l[0].tagName&&(e.a11y.addElRole(l,\"button\"),l.on(\"keydown\",e.a11y.onEnterOrSpaceKey)),e.a11y.addElLabel(l,t.prevSlideMessage),e.a11y.addElControls(l,s)),e.pagination&&e.params.pagination.clickable&&e.pagination.bullets&&e.pagination.bullets.length&&e.pagination.$el.on(\"keydown\",P(e.params.pagination.bulletClass),e.a11y.onEnterOrSpaceKey)},destroy:function(){var e,t,a=this;a.a11y.liveRegion&&a.a11y.liveRegion.length>0&&a.a11y.liveRegion.remove(),a.navigation&&a.navigation.$nextEl&&(e=a.navigation.$nextEl),a.navigation&&a.navigation.$prevEl&&(t=a.navigation.$prevEl),e&&e.off(\"keydown\",a.a11y.onEnterOrSpaceKey),t&&t.off(\"keydown\",a.a11y.onEnterOrSpaceKey),a.pagination&&a.params.pagination.clickable&&a.pagination.bullets&&a.pagination.bullets.length&&a.pagination.$el.off(\"keydown\",P(a.params.pagination.bulletClass),a.a11y.onEnterOrSpaceKey)}},le={init:function(){var e=this,t=l();if(e.params.history){if(!t.history||!t.history.pushState)return e.params.history.enabled=!1,void(e.params.hashNavigation.enabled=!0);var a=e.history;a.initialized=!0,a.paths=le.getPathValues(e.params.url),(a.paths.key||a.paths.value)&&(a.scrollToSlide(0,a.paths.value,e.params.runCallbacksOnInit),e.params.history.replaceState||t.addEventListener(\"popstate\",e.history.setHistoryPopState))}},destroy:function(){var e=l();this.params.history.replaceState||e.removeEventListener(\"popstate\",this.history.setHistoryPopState)},setHistoryPopState:function(){var e=this;e.history.paths=le.getPathValues(e.params.url),e.history.scrollToSlide(e.params.speed,e.history.paths.value,!1)},getPathValues:function(e){var t=l(),a=(e?new URL(e):t.location).pathname.slice(1).split(\"/\").filter((function(e){return\"\"!==e})),i=a.length;return{key:a[i-2],value:a[i-1]}},setHistory:function(e,t){var a=this,i=l();if(a.history.initialized&&a.params.history.enabled){var s;s=a.params.url?new URL(a.params.url):i.location;var r=a.slides.eq(t),n=le.slugify(r.attr(\"data-history\"));if(a.params.history.root.length>0){var o=a.params.history.root;\"/\"===o[o.length-1]&&(o=o.slice(0,o.length-1)),n=o+\"/\"+e+\"/\"+n}else s.pathname.includes(e)||(n=e+\"/\"+n);var d=i.history.state;d&&d.value===n||(a.params.history.replaceState?i.history.replaceState({value:n},null,n):i.history.pushState({value:n},null,n))}},slugify:function(e){return e.toString().replace(/\\s+/g,\"-\").replace(/[^\\w-]+/g,\"\").replace(/--+/g,\"-\").replace(/^-+/,\"\").replace(/-+$/,\"\")},scrollToSlide:function(e,t,a){var i=this;if(t)for(var s=0,r=i.slides.length;s<r;s+=1){var n=i.slides.eq(s);if(le.slugify(n.attr(\"data-history\"))===t&&!n.hasClass(i.params.slideDuplicateClass)){var l=n.index();i.slideTo(l,e,a)}}else i.slideTo(0,e,a)}},oe={onHashChange:function(){var e=this,t=r();e.emit(\"hashChange\");var a=t.location.hash.replace(\"#\",\"\");if(a!==e.slides.eq(e.activeIndex).attr(\"data-hash\")){var i=e.$wrapperEl.children(\".\"+e.params.slideClass+'[data-hash=\"'+a+'\"]').index();if(void 0===i)return;e.slideTo(i)}},setHash:function(){var e=this,t=l(),a=r();if(e.hashNavigation.initialized&&e.params.hashNavigation.enabled)if(e.params.hashNavigation.replaceState&&t.history&&t.history.replaceState)t.history.replaceState(null,null,\"#\"+e.slides.eq(e.activeIndex).attr(\"data-hash\")||\"\"),e.emit(\"hashSet\");else{var i=e.slides.eq(e.activeIndex),s=i.attr(\"data-hash\")||i.attr(\"data-history\");a.location.hash=s||\"\",e.emit(\"hashSet\")}},init:function(){var e=this,t=r(),a=l();if(!(!e.params.hashNavigation.enabled||e.params.history&&e.params.history.enabled)){e.hashNavigation.initialized=!0;var i=t.location.hash.replace(\"#\",\"\");if(i)for(var s=0,n=e.slides.length;s<n;s+=1){var o=e.slides.eq(s);if((o.attr(\"data-hash\")||o.attr(\"data-history\"))===i&&!o.hasClass(e.params.slideDuplicateClass)){var d=o.index();e.slideTo(d,0,e.params.runCallbacksOnInit,!0)}}e.params.hashNavigation.watchState&&m(a).on(\"hashchange\",e.hashNavigation.onHashChange)}},destroy:function(){var e=l();this.params.hashNavigation.watchState&&m(e).off(\"hashchange\",this.hashNavigation.onHashChange)}},de={run:function(){var e=this,t=e.slides.eq(e.activeIndex),a=e.params.autoplay.delay;t.attr(\"data-swiper-autoplay\")&&(a=t.attr(\"data-swiper-autoplay\")||e.params.autoplay.delay),clearTimeout(e.autoplay.timeout),e.autoplay.timeout=E((function(){var t;e.params.autoplay.reverseDirection?e.params.loop?(e.loopFix(),t=e.slidePrev(e.params.speed,!0,!0),e.emit(\"autoplay\")):e.isBeginning?e.params.autoplay.stopOnLastSlide?e.autoplay.stop():(t=e.slideTo(e.slides.length-1,e.params.speed,!0,!0),e.emit(\"autoplay\")):(t=e.slidePrev(e.params.speed,!0,!0),e.emit(\"autoplay\")):e.params.loop?(e.loopFix(),t=e.slideNext(e.params.speed,!0,!0),e.emit(\"autoplay\")):e.isEnd?e.params.autoplay.stopOnLastSlide?e.autoplay.stop():(t=e.slideTo(0,e.params.speed,!0,!0),e.emit(\"autoplay\")):(t=e.slideNext(e.params.speed,!0,!0),e.emit(\"autoplay\")),(e.params.cssMode&&e.autoplay.running||!1===t)&&e.autoplay.run()}),a)},start:function(){var e=this;return void 0===e.autoplay.timeout&&(!e.autoplay.running&&(e.autoplay.running=!0,e.emit(\"autoplayStart\"),e.autoplay.run(),!0))},stop:function(){var e=this;return!!e.autoplay.running&&(void 0!==e.autoplay.timeout&&(e.autoplay.timeout&&(clearTimeout(e.autoplay.timeout),e.autoplay.timeout=void 0),e.autoplay.running=!1,e.emit(\"autoplayStop\"),!0))},pause:function(e){var t=this;t.autoplay.running&&(t.autoplay.paused||(t.autoplay.timeout&&clearTimeout(t.autoplay.timeout),t.autoplay.paused=!0,0!==e&&t.params.autoplay.waitForTransition?[\"transitionend\",\"webkitTransitionEnd\"].forEach((function(e){t.$wrapperEl[0].addEventListener(e,t.autoplay.onTransitionEnd)})):(t.autoplay.paused=!1,t.autoplay.run())))},onVisibilityChange:function(){var e=this,t=r();\"hidden\"===t.visibilityState&&e.autoplay.running&&e.autoplay.pause(),\"visible\"===t.visibilityState&&e.autoplay.paused&&(e.autoplay.run(),e.autoplay.paused=!1)},onTransitionEnd:function(e){var t=this;t&&!t.destroyed&&t.$wrapperEl&&e.target===t.$wrapperEl[0]&&([\"transitionend\",\"webkitTransitionEnd\"].forEach((function(e){t.$wrapperEl[0].removeEventListener(e,t.autoplay.onTransitionEnd)})),t.autoplay.paused=!1,t.autoplay.running?t.autoplay.run():t.autoplay.stop())},onMouseEnter:function(){var e=this;e.params.autoplay.disableOnInteraction?e.autoplay.stop():e.autoplay.pause(),[\"transitionend\",\"webkitTransitionEnd\"].forEach((function(t){e.$wrapperEl[0].removeEventListener(t,e.autoplay.onTransitionEnd)}))},onMouseLeave:function(){var e=this;e.params.autoplay.disableOnInteraction||(e.autoplay.paused=!1,e.autoplay.run())},attachMouseEvents:function(){var e=this;e.params.autoplay.pauseOnMouseEnter&&(e.$el.on(\"mouseenter\",e.autoplay.onMouseEnter),e.$el.on(\"mouseleave\",e.autoplay.onMouseLeave))},detachMouseEvents:function(){var e=this;e.$el.off(\"mouseenter\",e.autoplay.onMouseEnter),e.$el.off(\"mouseleave\",e.autoplay.onMouseLeave)}},pe={setTranslate:function(){for(var e=this,t=e.slides,a=0;a<t.length;a+=1){var i=e.slides.eq(a),s=-i[0].swiperSlideOffset;e.params.virtualTranslate||(s-=e.translate);var r=0;e.isHorizontal()||(r=s,s=0);var n=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(i[0].progress),0):1+Math.min(Math.max(i[0].progress,-1),0);i.css({opacity:n}).transform(\"translate3d(\"+s+\"px, \"+r+\"px, 0px)\")}},setTransition:function(e){var t=this,a=t.slides,i=t.$wrapperEl;if(a.transition(e),t.params.virtualTranslate&&0!==e){var s=!1;a.transitionEnd((function(){if(!s&&t&&!t.destroyed){s=!0,t.animating=!1;for(var e=[\"webkitTransitionEnd\",\"transitionend\"],a=0;a<e.length;a+=1)i.trigger(e[a])}}))}}},ue={setTranslate:function(){var e,t=this,a=t.$el,i=t.$wrapperEl,s=t.slides,r=t.width,n=t.height,l=t.rtlTranslate,o=t.size,d=t.browser,p=t.params.cubeEffect,u=t.isHorizontal(),c=t.virtual&&t.params.virtual.enabled,h=0;p.shadow&&(u?(0===(e=i.find(\".swiper-cube-shadow\")).length&&(e=m('<div class=\"swiper-cube-shadow\"></div>'),i.append(e)),e.css({height:r+\"px\"})):0===(e=a.find(\".swiper-cube-shadow\")).length&&(e=m('<div class=\"swiper-cube-shadow\"></div>'),a.append(e)));for(var v=0;v<s.length;v+=1){var f=s.eq(v),g=v;c&&(g=parseInt(f.attr(\"data-swiper-slide-index\"),10));var b=90*g,w=Math.floor(b/360);l&&(b=-b,w=Math.floor(-b/360));var y=Math.max(Math.min(f[0].progress,1),-1),E=0,x=0,T=0;g%4==0?(E=4*-w*o,T=0):(g-1)%4==0?(E=0,T=4*-w*o):(g-2)%4==0?(E=o+4*w*o,T=o):(g-3)%4==0&&(E=-o,T=3*o+4*o*w),l&&(E=-E),u||(x=E,E=0);var C=\"rotateX(\"+(u?0:-b)+\"deg) rotateY(\"+(u?b:0)+\"deg) translate3d(\"+E+\"px, \"+x+\"px, \"+T+\"px)\";if(y<=1&&y>-1&&(h=90*g+90*y,l&&(h=90*-g-90*y)),f.transform(C),p.slideShadows){var S=u?f.find(\".swiper-slide-shadow-left\"):f.find(\".swiper-slide-shadow-top\"),M=u?f.find(\".swiper-slide-shadow-right\"):f.find(\".swiper-slide-shadow-bottom\");0===S.length&&(S=m('<div class=\"swiper-slide-shadow-'+(u?\"left\":\"top\")+'\"></div>'),f.append(S)),0===M.length&&(M=m('<div class=\"swiper-slide-shadow-'+(u?\"right\":\"bottom\")+'\"></div>'),f.append(M)),S.length&&(S[0].style.opacity=Math.max(-y,0)),M.length&&(M[0].style.opacity=Math.max(y,0))}}if(i.css({\"-webkit-transform-origin\":\"50% 50% -\"+o/2+\"px\",\"-moz-transform-origin\":\"50% 50% -\"+o/2+\"px\",\"-ms-transform-origin\":\"50% 50% -\"+o/2+\"px\",\"transform-origin\":\"50% 50% -\"+o/2+\"px\"}),p.shadow)if(u)e.transform(\"translate3d(0px, \"+(r/2+p.shadowOffset)+\"px, \"+-r/2+\"px) rotateX(90deg) rotateZ(0deg) scale(\"+p.shadowScale+\")\");else{var z=Math.abs(h)-90*Math.floor(Math.abs(h)/90),P=1.5-(Math.sin(2*z*Math.PI/360)/2+Math.cos(2*z*Math.PI/360)/2),k=p.shadowScale,$=p.shadowScale/P,L=p.shadowOffset;e.transform(\"scale3d(\"+k+\", 1, \"+$+\") translate3d(0px, \"+(n/2+L)+\"px, \"+-n/2/$+\"px) rotateX(-90deg)\")}var I=d.isSafari||d.isWebView?-o/2:0;i.transform(\"translate3d(0px,0,\"+I+\"px) rotateX(\"+(t.isHorizontal()?0:h)+\"deg) rotateY(\"+(t.isHorizontal()?-h:0)+\"deg)\")},setTransition:function(e){var t=this,a=t.$el;t.slides.transition(e).find(\".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left\").transition(e),t.params.cubeEffect.shadow&&!t.isHorizontal()&&a.find(\".swiper-cube-shadow\").transition(e)}},ce={setTranslate:function(){for(var e=this,t=e.slides,a=e.rtlTranslate,i=0;i<t.length;i+=1){var s=t.eq(i),r=s[0].progress;e.params.flipEffect.limitRotation&&(r=Math.max(Math.min(s[0].progress,1),-1));var n=-180*r,l=0,o=-s[0].swiperSlideOffset,d=0;if(e.isHorizontal()?a&&(n=-n):(d=o,o=0,l=-n,n=0),s[0].style.zIndex=-Math.abs(Math.round(r))+t.length,e.params.flipEffect.slideShadows){var p=e.isHorizontal()?s.find(\".swiper-slide-shadow-left\"):s.find(\".swiper-slide-shadow-top\"),u=e.isHorizontal()?s.find(\".swiper-slide-shadow-right\"):s.find(\".swiper-slide-shadow-bottom\");0===p.length&&(p=m('<div class=\"swiper-slide-shadow-'+(e.isHorizontal()?\"left\":\"top\")+'\"></div>'),s.append(p)),0===u.length&&(u=m('<div class=\"swiper-slide-shadow-'+(e.isHorizontal()?\"right\":\"bottom\")+'\"></div>'),s.append(u)),p.length&&(p[0].style.opacity=Math.max(-r,0)),u.length&&(u[0].style.opacity=Math.max(r,0))}s.transform(\"translate3d(\"+o+\"px, \"+d+\"px, 0px) rotateX(\"+l+\"deg) rotateY(\"+n+\"deg)\")}},setTransition:function(e){var t=this,a=t.slides,i=t.activeIndex,s=t.$wrapperEl;if(a.transition(e).find(\".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left\").transition(e),t.params.virtualTranslate&&0!==e){var r=!1;a.eq(i).transitionEnd((function(){if(!r&&t&&!t.destroyed){r=!0,t.animating=!1;for(var e=[\"webkitTransitionEnd\",\"transitionend\"],a=0;a<e.length;a+=1)s.trigger(e[a])}}))}}},he={setTranslate:function(){for(var e=this,t=e.width,a=e.height,i=e.slides,s=e.slidesSizesGrid,r=e.params.coverflowEffect,n=e.isHorizontal(),l=e.translate,o=n?t/2-l:a/2-l,d=n?r.rotate:-r.rotate,p=r.depth,u=0,c=i.length;u<c;u+=1){var h=i.eq(u),v=s[u],f=(o-h[0].swiperSlideOffset-v/2)/v*r.modifier,g=n?d*f:0,b=n?0:d*f,w=-p*Math.abs(f),y=r.stretch;\"string\"==typeof y&&-1!==y.indexOf(\"%\")&&(y=parseFloat(r.stretch)/100*v);var E=n?0:y*f,x=n?y*f:0,T=1-(1-r.scale)*Math.abs(f);Math.abs(x)<.001&&(x=0),Math.abs(E)<.001&&(E=0),Math.abs(w)<.001&&(w=0),Math.abs(g)<.001&&(g=0),Math.abs(b)<.001&&(b=0),Math.abs(T)<.001&&(T=0);var C=\"translate3d(\"+x+\"px,\"+E+\"px,\"+w+\"px)  rotateX(\"+b+\"deg) rotateY(\"+g+\"deg) scale(\"+T+\")\";if(h.transform(C),h[0].style.zIndex=1-Math.abs(Math.round(f)),r.slideShadows){var S=n?h.find(\".swiper-slide-shadow-left\"):h.find(\".swiper-slide-shadow-top\"),M=n?h.find(\".swiper-slide-shadow-right\"):h.find(\".swiper-slide-shadow-bottom\");0===S.length&&(S=m('<div class=\"swiper-slide-shadow-'+(n?\"left\":\"top\")+'\"></div>'),h.append(S)),0===M.length&&(M=m('<div class=\"swiper-slide-shadow-'+(n?\"right\":\"bottom\")+'\"></div>'),h.append(M)),S.length&&(S[0].style.opacity=f>0?f:0),M.length&&(M[0].style.opacity=-f>0?-f:0)}}},setTransition:function(e){this.slides.transition(e).find(\".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left\").transition(e)}},ve={init:function(){var e=this,t=e.params.thumbs;if(e.thumbs.initialized)return!1;e.thumbs.initialized=!0;var a=e.constructor;return t.swiper instanceof a?(e.thumbs.swiper=t.swiper,M(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),M(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1})):C(t.swiper)&&(e.thumbs.swiper=new a(M({},t.swiper,{watchSlidesVisibility:!0,watchSlidesProgress:!0,slideToClickedSlide:!1})),e.thumbs.swiperCreated=!0),e.thumbs.swiper.$el.addClass(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on(\"tap\",e.thumbs.onThumbClick),!0},onThumbClick:function(){var e=this,t=e.thumbs.swiper;if(t){var a=t.clickedIndex,i=t.clickedSlide;if(!(i&&m(i).hasClass(e.params.thumbs.slideThumbActiveClass)||null==a)){var s;if(s=t.params.loop?parseInt(m(t.clickedSlide).attr(\"data-swiper-slide-index\"),10):a,e.params.loop){var r=e.activeIndex;e.slides.eq(r).hasClass(e.params.slideDuplicateClass)&&(e.loopFix(),e._clientLeft=e.$wrapperEl[0].clientLeft,r=e.activeIndex);var n=e.slides.eq(r).prevAll('[data-swiper-slide-index=\"'+s+'\"]').eq(0).index(),l=e.slides.eq(r).nextAll('[data-swiper-slide-index=\"'+s+'\"]').eq(0).index();s=void 0===n?l:void 0===l?n:l-r<r-n?l:n}e.slideTo(s)}}},update:function(e){var t=this,a=t.thumbs.swiper;if(a){var i=\"auto\"===a.params.slidesPerView?a.slidesPerViewDynamic():a.params.slidesPerView,s=t.params.thumbs.autoScrollOffset,r=s&&!a.params.loop;if(t.realIndex!==a.realIndex||r){var n,l,o=a.activeIndex;if(a.params.loop){a.slides.eq(o).hasClass(a.params.slideDuplicateClass)&&(a.loopFix(),a._clientLeft=a.$wrapperEl[0].clientLeft,o=a.activeIndex);var d=a.slides.eq(o).prevAll('[data-swiper-slide-index=\"'+t.realIndex+'\"]').eq(0).index(),p=a.slides.eq(o).nextAll('[data-swiper-slide-index=\"'+t.realIndex+'\"]').eq(0).index();n=void 0===d?p:void 0===p?d:p-o==o-d?a.params.slidesPerGroup>1?p:o:p-o<o-d?p:d,l=t.activeIndex>t.previousIndex?\"next\":\"prev\"}else l=(n=t.realIndex)>t.previousIndex?\"next\":\"prev\";r&&(n+=\"next\"===l?s:-1*s),a.visibleSlidesIndexes&&a.visibleSlidesIndexes.indexOf(n)<0&&(a.params.centeredSlides?n=n>o?n-Math.floor(i/2)+1:n+Math.floor(i/2)-1:n>o&&a.params.slidesPerGroup,a.slideTo(n,e?0:void 0))}var u=1,c=t.params.thumbs.slideThumbActiveClass;if(t.params.slidesPerView>1&&!t.params.centeredSlides&&(u=t.params.slidesPerView),t.params.thumbs.multipleActiveThumbs||(u=1),u=Math.floor(u),a.slides.removeClass(c),a.params.loop||a.params.virtual&&a.params.virtual.enabled)for(var h=0;h<u;h+=1)a.$wrapperEl.children('[data-swiper-slide-index=\"'+(t.realIndex+h)+'\"]').addClass(c);else for(var v=0;v<u;v+=1)a.slides.eq(t.realIndex+v).addClass(c)}}},fe=[U,Z,{name:\"mousewheel\",params:{mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:\"container\",thresholdDelta:null,thresholdTime:null}},create:function(){z(this,{mousewheel:{enabled:!1,lastScrollTime:x(),lastEventBeforeSnap:void 0,recentWheelEvents:[],enable:J.enable,disable:J.disable,handle:J.handle,handleMouseEnter:J.handleMouseEnter,handleMouseLeave:J.handleMouseLeave,animateSlider:J.animateSlider,releaseScroll:J.releaseScroll}})},on:{init:function(e){!e.params.mousewheel.enabled&&e.params.cssMode&&e.mousewheel.disable(),e.params.mousewheel.enabled&&e.mousewheel.enable()},destroy:function(e){e.params.cssMode&&e.mousewheel.enable(),e.mousewheel.enabled&&e.mousewheel.disable()}}},{name:\"navigation\",params:{navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:\"swiper-button-disabled\",hiddenClass:\"swiper-button-hidden\",lockClass:\"swiper-button-lock\"}},create:function(){z(this,{navigation:t({},Q)})},on:{init:function(e){e.navigation.init(),e.navigation.update()},toEdge:function(e){e.navigation.update()},fromEdge:function(e){e.navigation.update()},destroy:function(e){e.navigation.destroy()},\"enable disable\":function(e){var t=e.navigation,a=t.$nextEl,i=t.$prevEl;a&&a[e.enabled?\"removeClass\":\"addClass\"](e.params.navigation.lockClass),i&&i[e.enabled?\"removeClass\":\"addClass\"](e.params.navigation.lockClass)},click:function(e,t){var a=e.navigation,i=a.$nextEl,s=a.$prevEl,r=t.target;if(e.params.navigation.hideOnClick&&!m(r).is(s)&&!m(r).is(i)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===r||e.pagination.el.contains(r)))return;var n;i?n=i.hasClass(e.params.navigation.hiddenClass):s&&(n=s.hasClass(e.params.navigation.hiddenClass)),!0===n?e.emit(\"navigationShow\"):e.emit(\"navigationHide\"),i&&i.toggleClass(e.params.navigation.hiddenClass),s&&s.toggleClass(e.params.navigation.hiddenClass)}}}},{name:\"pagination\",params:{pagination:{el:null,bulletElement:\"span\",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:\"bullets\",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:function(e){return e},formatFractionTotal:function(e){return e},bulletClass:\"swiper-pagination-bullet\",bulletActiveClass:\"swiper-pagination-bullet-active\",modifierClass:\"swiper-pagination-\",currentClass:\"swiper-pagination-current\",totalClass:\"swiper-pagination-total\",hiddenClass:\"swiper-pagination-hidden\",progressbarFillClass:\"swiper-pagination-progressbar-fill\",progressbarOppositeClass:\"swiper-pagination-progressbar-opposite\",clickableClass:\"swiper-pagination-clickable\",lockClass:\"swiper-pagination-lock\"}},create:function(){z(this,{pagination:t({dynamicBulletIndex:0},ee)})},on:{init:function(e){e.pagination.init(),e.pagination.render(),e.pagination.update()},activeIndexChange:function(e){(e.params.loop||void 0===e.snapIndex)&&e.pagination.update()},snapIndexChange:function(e){e.params.loop||e.pagination.update()},slidesLengthChange:function(e){e.params.loop&&(e.pagination.render(),e.pagination.update())},snapGridLengthChange:function(e){e.params.loop||(e.pagination.render(),e.pagination.update())},destroy:function(e){e.pagination.destroy()},\"enable disable\":function(e){var t=e.pagination.$el;t&&t[e.enabled?\"removeClass\":\"addClass\"](e.params.pagination.lockClass)},click:function(e,t){var a=t.target;if(e.params.pagination.el&&e.params.pagination.hideOnClick&&e.pagination.$el.length>0&&!m(a).hasClass(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&a===e.navigation.nextEl||e.navigation.prevEl&&a===e.navigation.prevEl))return;!0===e.pagination.$el.hasClass(e.params.pagination.hiddenClass)?e.emit(\"paginationShow\"):e.emit(\"paginationHide\"),e.pagination.$el.toggleClass(e.params.pagination.hiddenClass)}}}},{name:\"scrollbar\",params:{scrollbar:{el:null,dragSize:\"auto\",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:\"swiper-scrollbar-lock\",dragClass:\"swiper-scrollbar-drag\"}},create:function(){z(this,{scrollbar:t({isTouched:!1,timeout:null,dragTimeout:null},te)})},on:{init:function(e){e.scrollbar.init(),e.scrollbar.updateSize(),e.scrollbar.setTranslate()},update:function(e){e.scrollbar.updateSize()},resize:function(e){e.scrollbar.updateSize()},observerUpdate:function(e){e.scrollbar.updateSize()},setTranslate:function(e){e.scrollbar.setTranslate()},setTransition:function(e,t){e.scrollbar.setTransition(t)},\"enable disable\":function(e){var t=e.scrollbar.$el;t&&t[e.enabled?\"removeClass\":\"addClass\"](e.params.scrollbar.lockClass)},destroy:function(e){e.scrollbar.destroy()}}},{name:\"parallax\",params:{parallax:{enabled:!1}},create:function(){z(this,{parallax:t({},ae)})},on:{beforeInit:function(e){e.params.parallax.enabled&&(e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)},init:function(e){e.params.parallax.enabled&&e.parallax.setTranslate()},setTranslate:function(e){e.params.parallax.enabled&&e.parallax.setTranslate()},setTransition:function(e,t){e.params.parallax.enabled&&e.parallax.setTransition(t)}}},{name:\"zoom\",params:{zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:\"swiper-zoom-container\",zoomedSlideClass:\"swiper-slide-zoomed\"}},create:function(){var e=this;z(e,{zoom:t({enabled:!1,scale:1,currentScale:1,isScaling:!1,gesture:{$slideEl:void 0,slideWidth:void 0,slideHeight:void 0,$imageEl:void 0,$imageWrapEl:void 0,maxRatio:3},image:{isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},velocity:{x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0}},ie)});var a=1;Object.defineProperty(e.zoom,\"scale\",{get:function(){return a},set:function(t){if(a!==t){var i=e.zoom.gesture.$imageEl?e.zoom.gesture.$imageEl[0]:void 0,s=e.zoom.gesture.$slideEl?e.zoom.gesture.$slideEl[0]:void 0;e.emit(\"zoomChange\",t,i,s)}a=t}})},on:{init:function(e){e.params.zoom.enabled&&e.zoom.enable()},destroy:function(e){e.zoom.disable()},touchStart:function(e,t){e.zoom.enabled&&e.zoom.onTouchStart(t)},touchEnd:function(e,t){e.zoom.enabled&&e.zoom.onTouchEnd(t)},doubleTap:function(e,t){!e.animating&&e.params.zoom.enabled&&e.zoom.enabled&&e.params.zoom.toggle&&e.zoom.toggle(t)},transitionEnd:function(e){e.zoom.enabled&&e.params.zoom.enabled&&e.zoom.onTransitionEnd()},slideChange:function(e){e.zoom.enabled&&e.params.zoom.enabled&&e.params.cssMode&&e.zoom.onTransitionEnd()}}},{name:\"lazy\",params:{lazy:{checkInView:!1,enabled:!1,loadPrevNext:!1,loadPrevNextAmount:1,loadOnTransitionStart:!1,scrollingElement:\"\",elementClass:\"swiper-lazy\",loadingClass:\"swiper-lazy-loading\",loadedClass:\"swiper-lazy-loaded\",preloaderClass:\"swiper-lazy-preloader\"}},create:function(){z(this,{lazy:t({initialImageLoaded:!1},se)})},on:{beforeInit:function(e){e.params.lazy.enabled&&e.params.preloadImages&&(e.params.preloadImages=!1)},init:function(e){e.params.lazy.enabled&&!e.params.loop&&0===e.params.initialSlide&&(e.params.lazy.checkInView?e.lazy.checkInViewOnLoad():e.lazy.load())},scroll:function(e){e.params.freeMode&&!e.params.freeModeSticky&&e.lazy.load()},\"scrollbarDragMove resize _freeModeNoMomentumRelease\":function(e){e.params.lazy.enabled&&e.lazy.load()},transitionStart:function(e){e.params.lazy.enabled&&(e.params.lazy.loadOnTransitionStart||!e.params.lazy.loadOnTransitionStart&&!e.lazy.initialImageLoaded)&&e.lazy.load()},transitionEnd:function(e){e.params.lazy.enabled&&!e.params.lazy.loadOnTransitionStart&&e.lazy.load()},slideChange:function(e){var t=e.params,a=t.lazy,i=t.cssMode,s=t.watchSlidesVisibility,r=t.watchSlidesProgress,n=t.touchReleaseOnEdges,l=t.resistanceRatio;a.enabled&&(i||(s||r)&&(n||0===l))&&e.lazy.load()}}},{name:\"controller\",params:{controller:{control:void 0,inverse:!1,by:\"slide\"}},create:function(){z(this,{controller:t({control:this.params.controller.control},re)})},on:{update:function(e){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)},resize:function(e){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)},observerUpdate:function(e){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)},setTranslate:function(e,t,a){e.controller.control&&e.controller.setTranslate(t,a)},setTransition:function(e,t,a){e.controller.control&&e.controller.setTransition(t,a)}}},{name:\"a11y\",params:{a11y:{enabled:!0,notificationClass:\"swiper-notification\",prevSlideMessage:\"Previous slide\",nextSlideMessage:\"Next slide\",firstSlideMessage:\"This is the first slide\",lastSlideMessage:\"This is the last slide\",paginationBulletMessage:\"Go to slide {{index}}\",slideLabelMessage:\"{{index}} / {{slidesLength}}\",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:\"group\"}},create:function(){z(this,{a11y:t({},ne,{liveRegion:m('<span class=\"'+this.params.a11y.notificationClass+'\" aria-live=\"assertive\" aria-atomic=\"true\"></span>')})})},on:{afterInit:function(e){e.params.a11y.enabled&&(e.a11y.init(),e.a11y.updateNavigation())},toEdge:function(e){e.params.a11y.enabled&&e.a11y.updateNavigation()},fromEdge:function(e){e.params.a11y.enabled&&e.a11y.updateNavigation()},paginationUpdate:function(e){e.params.a11y.enabled&&e.a11y.updatePagination()},destroy:function(e){e.params.a11y.enabled&&e.a11y.destroy()}}},{name:\"history\",params:{history:{enabled:!1,root:\"\",replaceState:!1,key:\"slides\"}},create:function(){z(this,{history:t({},le)})},on:{init:function(e){e.params.history.enabled&&e.history.init()},destroy:function(e){e.params.history.enabled&&e.history.destroy()},\"transitionEnd _freeModeNoMomentumRelease\":function(e){e.history.initialized&&e.history.setHistory(e.params.history.key,e.activeIndex)},slideChange:function(e){e.history.initialized&&e.params.cssMode&&e.history.setHistory(e.params.history.key,e.activeIndex)}}},{name:\"hash-navigation\",params:{hashNavigation:{enabled:!1,replaceState:!1,watchState:!1}},create:function(){z(this,{hashNavigation:t({initialized:!1},oe)})},on:{init:function(e){e.params.hashNavigation.enabled&&e.hashNavigation.init()},destroy:function(e){e.params.hashNavigation.enabled&&e.hashNavigation.destroy()},\"transitionEnd _freeModeNoMomentumRelease\":function(e){e.hashNavigation.initialized&&e.hashNavigation.setHash()},slideChange:function(e){e.hashNavigation.initialized&&e.params.cssMode&&e.hashNavigation.setHash()}}},{name:\"autoplay\",params:{autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}},create:function(){z(this,{autoplay:t({},de,{running:!1,paused:!1})})},on:{init:function(e){e.params.autoplay.enabled&&(e.autoplay.start(),r().addEventListener(\"visibilitychange\",e.autoplay.onVisibilityChange),e.autoplay.attachMouseEvents())},beforeTransitionStart:function(e,t,a){e.autoplay.running&&(a||!e.params.autoplay.disableOnInteraction?e.autoplay.pause(t):e.autoplay.stop())},sliderFirstMove:function(e){e.autoplay.running&&(e.params.autoplay.disableOnInteraction?e.autoplay.stop():e.autoplay.pause())},touchEnd:function(e){e.params.cssMode&&e.autoplay.paused&&!e.params.autoplay.disableOnInteraction&&e.autoplay.run()},destroy:function(e){e.autoplay.detachMouseEvents(),e.autoplay.running&&e.autoplay.stop(),r().removeEventListener(\"visibilitychange\",e.autoplay.onVisibilityChange)}}},{name:\"effect-fade\",params:{fadeEffect:{crossFade:!1}},create:function(){z(this,{fadeEffect:t({},pe)})},on:{beforeInit:function(e){if(\"fade\"===e.params.effect){e.classNames.push(e.params.containerModifierClass+\"fade\");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};M(e.params,t),M(e.originalParams,t)}},setTranslate:function(e){\"fade\"===e.params.effect&&e.fadeEffect.setTranslate()},setTransition:function(e,t){\"fade\"===e.params.effect&&e.fadeEffect.setTransition(t)}}},{name:\"effect-cube\",params:{cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}},create:function(){z(this,{cubeEffect:t({},ue)})},on:{beforeInit:function(e){if(\"cube\"===e.params.effect){e.classNames.push(e.params.containerModifierClass+\"cube\"),e.classNames.push(e.params.containerModifierClass+\"3d\");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0};M(e.params,t),M(e.originalParams,t)}},setTranslate:function(e){\"cube\"===e.params.effect&&e.cubeEffect.setTranslate()},setTransition:function(e,t){\"cube\"===e.params.effect&&e.cubeEffect.setTransition(t)}}},{name:\"effect-flip\",params:{flipEffect:{slideShadows:!0,limitRotation:!0}},create:function(){z(this,{flipEffect:t({},ce)})},on:{beforeInit:function(e){if(\"flip\"===e.params.effect){e.classNames.push(e.params.containerModifierClass+\"flip\"),e.classNames.push(e.params.containerModifierClass+\"3d\");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};M(e.params,t),M(e.originalParams,t)}},setTranslate:function(e){\"flip\"===e.params.effect&&e.flipEffect.setTranslate()},setTransition:function(e,t){\"flip\"===e.params.effect&&e.flipEffect.setTransition(t)}}},{name:\"effect-coverflow\",params:{coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}},create:function(){z(this,{coverflowEffect:t({},he)})},on:{beforeInit:function(e){\"coverflow\"===e.params.effect&&(e.classNames.push(e.params.containerModifierClass+\"coverflow\"),e.classNames.push(e.params.containerModifierClass+\"3d\"),e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)},setTranslate:function(e){\"coverflow\"===e.params.effect&&e.coverflowEffect.setTranslate()},setTransition:function(e,t){\"coverflow\"===e.params.effect&&e.coverflowEffect.setTransition(t)}}},{name:\"thumbs\",params:{thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:\"swiper-slide-thumb-active\",thumbsContainerClass:\"swiper-container-thumbs\"}},create:function(){z(this,{thumbs:t({swiper:null,initialized:!1},ve)})},on:{beforeInit:function(e){var t=e.params.thumbs;t&&t.swiper&&(e.thumbs.init(),e.thumbs.update(!0))},slideChange:function(e){e.thumbs.swiper&&e.thumbs.update()},update:function(e){e.thumbs.swiper&&e.thumbs.update()},resize:function(e){e.thumbs.swiper&&e.thumbs.update()},observerUpdate:function(e){e.thumbs.swiper&&e.thumbs.update()},setTransition:function(e,t){var a=e.thumbs.swiper;a&&a.setTransition(t)},beforeDestroy:function(e){var t=e.thumbs.swiper;t&&e.thumbs.swiperCreated&&t&&t.destroy()}}}];return q.use(fe),q}));\r\n//# sourceMappingURL=swiper-bundle.min.js.map\r\n/**\r\n * Copyright (C) 2010-2021 Graham Breach\r\n *\r\n * This program is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU Lesser General Public License as published by\r\n * the Free Software Foundation, either version 3 of the License, or\r\n * (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU Lesser General Public License for more details.\r\n * \r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n */\r\n/**\r\n * jQuery.tagcanvas 2.11\r\n * For more information, please contact <graham@goat1000.com>\r\n */\r\n(function(f){\"use strict\";var r,F,p=Math.abs,s=Math.sin,m=Math.cos,h=Math.max,i=Math.min,W=Math.ceil,G=Math.sqrt,x=Math.pow,K={},D={},Q={0:\"0,\",1:\"17,\",2:\"34,\",3:\"51,\",4:\"68,\",5:\"85,\",6:\"102,\",7:\"119,\",8:\"136,\",9:\"153,\",a:\"170,\",A:\"170,\",b:\"187,\",B:\"187,\",c:\"204,\",C:\"204,\",d:\"221,\",D:\"221,\",e:\"238,\",E:\"238,\",f:\"255,\",F:\"255,\"},g,d,b,P,B,L,J,c=document,v,e,T,k={};for(r=0;r<256;++r)F=r.toString(16),r<16&&(F='0'+F),D[F]=D[F.toUpperCase()]=r.toString()+',';function o(a){return typeof a!='undefined'}function C(a){return typeof a=='object'&&a!=null}function I(a,c,b){return isNaN(a)?b:i(b,h(c,a))}function y(){return!1}function q(){return(new Date).valueOf()}function aI(c,d){var b=[],e=c.length,a;for(a=0;a<e;++a)b.push(c[a]);return b.sort(d),b}function ah(a){for(var b=a.length-1,d,c;b;)c=~~(Math.random()*b),d=a[b],a[b]=a[c],a[c]=d,--b}function aj(){var a=window.AudioContext||window.webkitAudioContext;if(e=new a,!e){e='off';return}return e}function ae(u,a,t,s,r,q,p){var j=s,h=r,i=t*.01,n=80*i,m=100*i,o=40*i,l=30*i,c=l/2,b=j+n,f=b-o,k=h+m,d=k-l,g=h+l,e=h+m/2;if(a.setTransform(1,0,0,1,0,0),a.setLineDash([]),a.globalAlpha=1,a.strokeStyle=p,a.lineWidth=q,a.lineJoin='round',a.beginPath(),a.moveTo(f,g),a.lineTo(f,d),a.moveTo(b,k),a.lineTo(f,d),a.lineTo(j,d),a.lineTo(j,g),a.lineTo(f,g),a.lineTo(b,h),u){a.lineTo(b,g),a.moveTo(b,d),a.lineTo(b,k),a.moveTo(b-c,e-c),a.lineTo(b+c,e+c),a.moveTo(b+c,e-c),a.lineTo(b-c,e+c),a.stroke();return}a.closePath(),a.stroke()}function t(a,b,c){this.x=a,this.y=b,this.z=c}B=t.prototype,B.length=function(){return G(this.x*this.x+this.y*this.y+this.z*this.z)},B.dot=function(a){return this.x*a.x+this.y*a.y+this.z*a.z},B.cross=function(a){var b=this.y*a.z-this.z*a.y,c=this.z*a.x-this.x*a.z,d=this.x*a.y-this.y*a.x;return new t(b,c,d)},B.angle=function(b){var c=this.dot(b),a;return c==0?Math.PI/2:(a=c/(this.length()*b.length()),a>=1)?0:a<=-1?Math.PI:Math.acos(a)},B.unit=function(){var a=this.length();return new t(this.x/a,this.y/a,this.z/a)};function aH(b,a){a=a*Math.PI/180,b=b*Math.PI/180;var c=s(b)*m(a),d=-s(a),e=-m(b)*m(a);return new t(c,d,e)}function n(a){this[1]={1:a[0],2:a[1],3:a[2]},this[2]={1:a[3],2:a[4],3:a[5]},this[3]={1:a[6],2:a[7],3:a[8]}}P=n.prototype,n.Identity=function(){return new n([1,0,0,0,1,0,0,0,1])},n.Rotation=function(e,a){var c=s(e),d=m(e),b=1-d;return new n([d+x(a.x,2)*b,a.x*a.y*b-a.z*c,a.x*a.z*b+a.y*c,a.y*a.x*b+a.z*c,d+x(a.y,2)*b,a.y*a.z*b-a.x*c,a.z*a.x*b-a.y*c,a.z*a.y*b+a.x*c,d+x(a.z,2)*b])},P.mul=function(c){var d=[],a,b,e=c.xform?1:0;for(a=1;a<=3;++a)for(b=1;b<=3;++b)e?d.push(this[a][1]*c[1][b]+this[a][2]*c[2][b]+this[a][3]*c[3][b]):d.push(this[a][b]*c);return new n(d)},P.xform=function(b){var a={},c=b.x,d=b.y,e=b.z;return a.x=c*this[1][1]+d*this[2][1]+e*this[3][1],a.y=c*this[1][2]+d*this[2][2]+e*this[3][2],a.z=c*this[1][3]+d*this[2][3]+e*this[3][3],a};function aG(g,j,k,l,f){var a,b,c,d,e=[],h=2/g,i;i=Math.PI*(3-G(5)+(parseFloat(f)?parseFloat(f):0));for(a=0;a<g;++a)b=a*h-1+h/2,c=G(1-b*b),d=a*i,e.push([m(d)*c*j,b*k,s(d)*c*l]);return e}function ad(n,o,l,k,h,g){var b,f=[],i=2/n,j,a,d,c,e;j=Math.PI*(3-G(5)+(parseFloat(g)?parseFloat(g):0));for(a=0;a<n;++a)d=a*i-1+i/2,b=a*j,c=m(b),e=s(b),f.push(o?[d*l,c*k,e*h]:[c*l,d*k,e*h]);return f}function aa(k,e,f,h,i,j){var b,g=[],l=Math.PI*2/e,a,c,d;for(a=0;a<e;++a)b=a*l,c=m(b),d=s(b),g.push(k?[j*f,c*h,d*i]:[c*f,j*h,d*i]);return g}function aF(a,b,c,d,e){return ad(a,0,b,c,d,e)}function aE(a,b,c,d,e){return ad(a,1,b,c,d,e)}function aC(b,c,d,e,a){return a=isNaN(a)?0:a*1,aa(0,b,c,d,e,a)}function ap(b,c,d,e,a){return a=isNaN(a)?0:a*1,aa(1,b,c,d,e,a)}function az(b){var a=new Image;a.onload=function(){var c=a.width/2,d=a.height/2;b.centreFunc=function(b,g,h,e,f){b.setTransform(1,0,0,1,0,0),b.globalAlpha=1,b.drawImage(a,e-c,f-d)}},a.src=b.centreImage}function ay(a,c){var b=a,d,e,f=(c*1).toPrecision(3)+')';return a[0]==='#'?(K[a]||(a.length===4?K[a]='rgba('+Q[a[1]]+Q[a[2]]+Q[a[3]]:K[a]='rgba('+D[a.substr(1,2)]+D[a.substr(3,2)]+D[a.substr(5,2)]),b=K[a]+f):a.substr(0,4)==='rgb('||a.substr(0,4)==='hsl('?b=a.replace('(','a(').replace(')',','+f):(a.substr(0,5)==='rgba('||a.substr(0,5)==='hsla(')&&(d=a.lastIndexOf(',')+1,e=a.indexOf(')'),c*=parseFloat(a.substring(d,e)),b=a.substr(0,d)+c.toPrecision(3)+')'),b}function l(b,d){if(window.G_vmlCanvasManager)return null;var a=c.createElement('canvas');return a.width=b,a.height=d,a}function aw(){var b=l(3,3),a,c;return!!b&&(a=b.getContext('2d'),a.strokeStyle='#000',a.shadowColor='#fff',a.shadowBlur=3,a.globalAlpha=0,a.strokeRect(2,2,2,2),a.globalAlpha=1,c=a.getImageData(2,2,1,1),b=null,c.data[0]>0)}function au(a,c,f,d){var e=a.createLinearGradient(0,0,c,0),b;for(b in d)e.addColorStop(1-b,d[b]);a.fillStyle=e,a.fillRect(0,f,c,1)}function H(a,m,j){var k=1024,d=1,e=a.weightGradient,g,f,b,c;if(a.gCanvas)f=a.gCanvas.getContext('2d'),d=a.gCanvas.height;else{if(C(e[0])?d=e.length:e=[e],a.gCanvas=g=l(k,d),!g)return null;f=g.getContext('2d');for(b=0;b<d;++b)au(f,k,b,e[b])}return j=h(i(j||0,d-1),0),c=f.getImageData(~~((k-1)*m),j,1,1).data,'rgba('+c[0]+','+c[1]+','+c[2]+','+c[3]/255+')'}function Z(b,i,q,k,o,n,h,d,a,g,f,l){var m=o+(d||0)+(a.length&&a[0]<0?p(a[0]):0),j=n+(d||0)+(a.length&&a[1]<0?p(a[1]):0),c,e;b.font=i,b.textBaseline='top',b.fillStyle=q,h&&(b.shadowColor=h),d&&(b.shadowBlur=d),a.length&&(b.shadowOffsetX=a[0],b.shadowOffsetY=a[1]);for(c=0;c<k.length;++c)e=0,f&&('right'==l?e=g-f[c]:'centre'==l&&(e=(g-f[c])/2)),b.fillText(k[c],m+e,j),j+=parseInt(i)}function z(d,a,b,f,e,c,g){c?(d.beginPath(),d.moveTo(a,b+e-c),d.arcTo(a,b,a+c,b,c),d.arcTo(a+f,b,a+f,b+c,c),d.arcTo(a+f,b+e,a+f-c,b+e,c),d.arcTo(a,b+e,a,b+e-c,c),d.closePath(),d[g?'stroke':'fill']()):d[g?'strokeRect':'fillRect'](a,b,f,e)}function R(a,b,c,d,e,f,g,h,i){this.strings=a,this.font=b,this.width=c,this.height=d,this.maxWidth=e,this.stringWidths=f,this.align=g,this.valign=h,this.scale=i}J=R.prototype,J.SetImage=function(a,b,c,d,e,f,g,h){this.image=a,this.iwidth=b*this.scale,this.iheight=c*this.scale,this.ipos=d,this.ipad=e*this.scale,this.iscale=h,this.ialign=f,this.ivalign=g},J.Align=function(c,d,a){var b=0;return a=='right'||a=='bottom'?b=d-c:a!='left'&&a!='top'&&(b=(d-c)/2),b},J.Create=function(G,D,F,b,A,m,q,j,E){var o,e,f,a,k,s,g,u,v,r,w,n,c,d,x,B=p(q[0]),C=p(q[1]),t,y;return j=h(j,B+m,C+m),k=2*(j+b),g=2*(j+b),e=this.width+k,f=this.height+g,v=r=j+b,this.image&&(w=n=j+b,c=this.iwidth,d=this.iheight,this.ipos=='top'||this.ipos=='bottom'?(c<this.width?w+=this.Align(c,this.width,this.ialign):v+=this.Align(this.width,c,this.align),this.ipos=='top'?r+=d+this.ipad:n+=this.height+this.ipad,e=h(e,c+k),f+=d+this.ipad):(d<this.height?n+=this.Align(d,this.height,this.ivalign):r+=this.Align(this.height,d,this.valign),this.ipos=='right'?w+=this.width+this.ipad:v+=c+this.ipad,e+=c+this.ipad,f=h(f,d+g))),o=l(e,f),!o?null:(k=g=b/2,s=e-b,u=f-b,x=i(E,s/2,u/2),a=o.getContext('2d'),D&&(a.fillStyle=D,z(a,k,g,s,u,x)),b&&(a.strokeStyle=F,a.lineWidth=b,z(a,k,g,s,u,x,!0)),(m||B||C)&&(t=l(e,f),t&&(y=a,a=t.getContext('2d'))),Z(a,this.font,G,this.strings,v,r,0,0,[],this.maxWidth,this.stringWidths,this.align),this.image&&a.drawImage(this.image,w,n,c,d),y&&(a=y,A&&(a.shadowColor=A),m&&(a.shadowBlur=m),a.shadowOffsetX=q[0],a.shadowOffsetY=q[1],a.drawImage(t,0,0)),o)};function O(a,c,d){var b=l(c,d),e;return b?(e=b.getContext('2d'),e.drawImage(a,(c-a.width)/2,(d-a.height)/2),b):null}function U(e,b,c){var a=l(b,c),d;return a?(d=a.getContext('2d'),d.drawImage(e,0,0,b,c),a):null}function ac(n,u,t,e,s,c,v,d,r,w){var g=u+(2*d+c)*e,f=t+(2*d+c)*e,k=l(g,f),b,h,q,m,j,o,a,p;return k?(c*=e,r*=e,h=q=c/2,m=g-c,j=f-c,d=d*e+h,b=k.getContext('2d'),p=i(r,m/2,j/2),s&&(b.fillStyle=s,z(b,h,q,m,j,p)),c&&(b.strokeStyle=v,b.lineWidth=c,z(b,h,q,m,j,p,!0)),w?(o=l(g,f),a=o.getContext('2d'),a.drawImage(n,d,d,u,t),a.globalCompositeOperation='source-in',a.fillStyle=v,a.fillRect(0,0,g,f),a.globalCompositeOperation='destination-over',a.drawImage(k,0,0),a.globalCompositeOperation='source-over',b.drawImage(o,0,0)):b.drawImage(n,d,d,n.width,n.height),{image:k,width:g/e,height:f/e}):null}function an(k,f,c,d,j){var e,a,b=parseFloat(f),g=h(c,d);return e=l(c,d),!e?null:(f.indexOf('%')>0?b=g*b/100:b=b*j,a=e.getContext('2d'),a.globalCompositeOperation='source-over',a.fillStyle='#fff',b>=g/2?(b=i(c,d)/2,a.beginPath(),a.moveTo(c/2,d/2),a.arc(c/2,d/2,b,0,2*Math.PI,!1),a.fill(),a.closePath()):(b=i(c/2,d/2,b),z(a,0,0,c,d,b,!0),a.fill()),a.globalCompositeOperation='source-in',a.drawImage(k,0,0,c,d),e)}function aJ(q,m,i,b,h,a,c){var g=p(c[0]),f=p(c[1]),j=m+(g>a?g+a:a*2)*b,k=i+(f>a?f+a:a*2)*b,n=b*((a||0)+(c[0]<0?g:0)),o=b*((a||0)+(c[1]<0?f:0)),e,d;return e=l(j,k),!e?null:(d=e.getContext('2d'),h&&(d.shadowColor=h),a&&(d.shadowBlur=a*b),c&&(d.shadowOffsetX=c[0]*b,d.shadowOffsetY=c[1]*b),d.drawImage(q,n,o,m,i),{image:e,width:j/b,height:k/b})}function af(m,o,k){var c=parseInt(m.toString().length*k),h=parseInt(k*2*m.length),j=l(c,h),g,i,e,f,b,d,n,a;if(!j)return null;g=j.getContext('2d'),g.fillStyle='#000',g.fillRect(0,0,c,h),Z(g,k+'px '+o,'#fff',m,0,0,0,0,[],'centre'),i=g.getImageData(0,0,c,h),e=i.width,f=i.height,a={min:{x:e,y:f},max:{x:-1,y:-1}};for(d=0;d<f;++d)for(b=0;b<e;++b)n=(d*e+b)*4,i.data[n+1]>0&&(b<a.min.x&&(a.min.x=b),b>a.max.x&&(a.max.x=b),d<a.min.y&&(a.min.y=d),d>a.max.y&&(a.max.y=d));return e!=c&&(a.min.x*=c/e,a.max.x*=c/e),f!=h&&(a.min.y*=c/f,a.max.y*=c/f),j=null,a}function S(a){return\"'\"+a.replace(/(\\'|\\\")/g,'').replace(/\\s*,\\s*/g,\"', '\")+\"'\"}function w(b,d,a){a=a||c,a.addEventListener?a.addEventListener(b,d,!1):a.attachEvent('on'+b,d)}function ak(b,d,a){a=a||c,a.removeEventListener?a.removeEventListener(b,d):a.detachEvent('on'+b,d)}function E(g,e,i,a,b){var l=b.imageScale,h,c,k,m,f,d;if(!e.complete)return w('load',function(){E(g,e,i,a,b)},e);if(!g.complete)return w('load',function(){E(g,e,i,a,b)},g);if(i&&!i.complete)return w('load',function(){E(g,e,i,a,b)},i);e.width=e.width,e.height=e.height,l&&(g.width=e.width*l,g.height=e.height*l),a.iw=g.width,a.ih=g.height,b.txtOpt&&(c=g,h=b.zoomMax*b.txtScale,f=a.iw*h,d=a.ih*h,f<e.naturalWidth||d<e.naturalHeight?(c=U(g,f,d),c&&(a.fimage=c)):(f=a.iw,d=a.ih,h=1),parseFloat(b.imageRadius)&&(a.image=a.fimage=g=an(a.image,b.imageRadius,f,d,h)),a.HasText()||(b.shadow&&(c=aJ(a.image,f,d,h,b.shadow,b.shadowBlur,b.shadowOffset),c&&(a.fimage=c.image,a.w=c.width,a.h=c.height)),(b.bgColour||b.bgOutlineThickness)&&(k=b.bgColour=='tag'?j(a.a,'background-color'):b.bgColour,m=b.bgOutline=='tag'?j(a.a,'color'):b.bgOutline||b.textColour,f=a.fimage.width,d=a.fimage.height,b.outlineMethod=='colour'&&(c=ac(a.fimage,f,d,h,k,b.bgOutlineThickness,a.outline.colour,b.padding,b.bgRadius,1),c&&(a.oimage=c.image)),c=ac(a.fimage,f,d,h,k,b.bgOutlineThickness,m,b.padding,b.bgRadius),c&&(a.fimage=c.image,a.w=c.width,a.h=c.height)),b.outlineMethod=='size'&&(b.outlineIncrease>0?(a.iw+=2*b.outlineIncrease,a.ih+=2*b.outlineIncrease,f=h*a.iw,d=h*a.ih,c=U(a.fimage,f,d),a.oimage=c,a.fimage=O(a.fimage,a.oimage.width,a.oimage.height)):(f=h*(a.iw+2*b.outlineIncrease),d=h*(a.ih+2*b.outlineIncrease),c=U(a.fimage,f,d),a.oimage=O(c,a.fimage.width,a.fimage.height))))),a.alt=i,a.Init()}function j(a,d){var b=c.defaultView,e=d.replace(/\\-([a-z])/g,function(a){return a.charAt(1).toUpperCase()});return b&&b.getComputedStyle&&b.getComputedStyle(a,null).getPropertyValue(d)||a.currentStyle&&a.currentStyle[e]}function al(c,d,e){var b=1,a;return d?b=1*(c.getAttribute(d)||e):(a=j(c,'font-size'))&&(b=a.indexOf('px')>-1&&a.replace('px','')*1||a.indexOf('pt')>-1&&a.replace('pt','')*1.25||a*3.3),b}function A(a){return a.target&&o(a.target.id)?a.target.id:a.srcElement.parentNode.id}function N(a,c){var b,d,e=parseInt(j(c,'width'))/c.width,f=parseInt(j(c,'height'))/c.height;return o(a.offsetX)?b={x:a.offsetX,y:a.offsetY}:(d=Y(c.id),o(a.changedTouches)&&(a=a.changedTouches[0]),a.pageX&&(b={x:a.pageX-d.x,y:a.pageY-d.y})),b&&e&&f&&(b.x/=e,b.y/=f),b}function ao(c){var d=c.target||c.fromElement.parentNode,b=a.tc[d.id];b&&(b.mx=b.my=-1,b.UnFreeze(),b.EndDrag())}function ab(e){var g,c=a,b,d,f=A(e);for(g in c.tc)b=c.tc[g],b.tttimer&&(clearTimeout(b.tttimer),b.tttimer=null);f&&c.tc[f]&&(b=c.tc[f],(d=N(e,b.canvas))&&(b.mx=d.x,b.my=d.y,b.Drag(e,d)),b.drawn=0)}function aq(b){var e=a,f=c.addEventListener?0:1,d=A(b);d&&b.button==f&&e.tc[d]&&e.tc[d].BeginDrag(b)}function ar(b){var f=a,g=c.addEventListener?0:1,e=A(b),d;e&&b.button==g&&f.tc[e]&&(d=f.tc[e],ab(b),!d.EndDrag()&&!d.touchState&&d.Clicked(b))}function at(c){var e=A(c),b=e&&a.tc[e],d;b&&c.changedTouches&&(c.touches.length==1&&b.touchState==0?(b.touchState=1,b.BeginDrag(c),(d=N(c,b.canvas))&&(b.mx=d.x,b.my=d.y,b.drawn=0)):c.targetTouches.length==2&&b.pinchZoom?(b.touchState=3,b.EndDrag(),b.BeginPinch(c)):(b.EndDrag(),b.EndPinch(),b.touchState=0))}function X(c){var d=A(c),b=d&&a.tc[d];if(b&&c.changedTouches){switch(b.touchState){case 1:b.Draw(),b.Clicked();break;break;case 2:b.EndDrag();break;case 3:b.EndPinch()}b.touchState=0}}function av(c){var f,e=a,b,d,g=A(c);for(f in e.tc)b=e.tc[f],b.tttimer&&(clearTimeout(b.tttimer),b.tttimer=null);if(b=g&&e.tc[g],b&&c.changedTouches&&b.touchState){switch(b.touchState){case 1:case 2:(d=N(c,b.canvas))&&(b.mx=d.x,b.my=d.y,b.Drag(c,d)&&(b.touchState=2));break;case 3:b.Pinch(c)}b.drawn=0}}function V(b){var d=a,c=A(b);c&&d.tc[c]&&(b.cancelBubble=!0,b.returnValue=!1,b.preventDefault&&b.preventDefault(),d.tc[c].Wheel((b.wheelDelta||b.detail)>0))}function ax(d){var c,b=a;clearTimeout(b.scrollTimer);for(c in b.tc)b.tc[c].Pause();b.scrollTimer=setTimeout(function(){var b,c=a;for(b in c.tc)c.tc[b].Resume()},b.scrollPause)}function am(){ai(q())}function ai(b){var c=a.tc,d;a.NextFrame(a.interval),b=b||q();for(d in c)c[d].Draw(b)}function aA(){requestAnimationFrame(ai)}function aB(a){setTimeout(am,a)}function Y(f){var g=c.getElementById(f),b=g.getBoundingClientRect(),a=c.documentElement,d=c.body,e=window,h=e.pageXOffset||a.scrollLeft,i=e.pageYOffset||a.scrollTop,j=a.clientLeft||d.clientLeft,k=a.clientTop||d.clientTop;return{x:b.left+h-j,y:b.top+i-k}}function aD(a,b,d,e){var c=a.radius*a.z1/(a.z1+a.z2+b.z);return{x:b.x*c*d,y:b.y*c*e,z:b.z,w:(a.z1-b.z)/a.z2}}function _(a){this.e=a,this.br=0,this.line=[],this.text=[],this.original=a.innerText||a.textContent}L=_.prototype,L.Empty=function(){for(var a=0;a<this.text.length;++a)if(this.text[a].length)return!1;return!0},L.Lines=function(c){var e=c?1:0,b,d,a;c=c||this.e,b=c.childNodes,d=b.length;for(a=0;a<d;++a)b[a].nodeName=='BR'?(this.text.push(this.line.join(' ')),this.br=1):b[a].nodeType==3?this.br?(this.line=[b[a].nodeValue],this.br=0):this.line.push(b[a].nodeValue):this.Lines(b[a]);return e||this.br||this.text.push(this.line.join(' ')),this.text},L.SplitWidth=function(h,e,f,g){var c,b,a,d=[];e.font=g+'px '+f;for(c=0;c<this.text.length;++c){a=this.text[c].split(/\\s+/),this.line=[a[0]];for(b=1;b<a.length;++b)e.measureText(this.line.join(' ')+' '+a[b]).width>h?(d.push(this.line.join(' ')),this.line=[a[b]]):this.line.push(a[b]);d.push(this.line.join(' '))}return this.text=d};function $(a,b){this.ts=null,this.tc=a,this.tag=b,this.x=this.y=this.w=this.h=this.sc=1,this.z=0,this.pulse=1,this.pulsate=a.pulsateTo<1,this.colour=a.outlineColour,this.adash=~~a.outlineDash,this.agap=~~a.outlineDashSpace||this.adash,this.aspeed=a.outlineDashSpeed*1,this.colour=='tag'?this.colour=j(b.a,'color'):this.colour=='tagbg'&&(this.colour=j(b.a,'background-color')),this.Draw=this.pulsate?this.DrawPulsate:this.DrawSimple,this.radius=a.outlineRadius|0,this.SetMethod(a.outlineMethod,a.altImage)}g=$.prototype,g.SetMethod=function(a,d){var b={block:['PreDraw','DrawBlock'],colour:['PreDraw','DrawColour'],outline:['PostDraw','DrawOutline'],classic:['LastDraw','DrawOutline'],size:['PreDraw','DrawSize'],none:['LastDraw']},c=b[a]||b.outline;a=='none'?this.Draw=function(){return 1}:this.drawFunc=this[c[1]],this[c[0]]=this.Draw,d&&(this.RealPreDraw=this.PreDraw,this.PreDraw=this.DrawAlt)},g.Update=function(d,e,i,j,a,f,g,h){var b=this.tc.outlineOffset,c=2*b;this.x=a*d+g-b,this.y=a*e+h-b,this.w=a*i+c,this.h=a*j+c,this.sc=a,this.z=f},g.Ants=function(k){if(!this.adash)return;var b=this.adash,c=this.agap,a=this.aspeed,j=b+c,h=0,g=b,f=c,i=0,d=0,e;a&&(d=p(a)*(q()-this.ts)/50,a<0&&(d=864e4-d),a=~~d%j),a?(b>=a?(h=b-a,g=a):(f=j-a,i=c-f),e=[h,f,g,i]):e=[b,c],k.setLineDash(e)},g.DrawOutline=function(a,d,e,b,c,f){var g=i(this.radius,c/2,b/2);a.strokeStyle=f,this.Ants(a),z(a,d,e,b,c,g,!0)},g.DrawSize=function(i,n,m,l,k,j,a,h,g){var f=a.w,e=a.h,c,b,d;return this.pulsate?(a.image?d=(a.image.height+this.tc.outlineIncrease)/a.image.height:d=a.oscale,b=a.fimage||a.image,c=1+(d-1)*(1-this.pulse),a.h*=c,a.w*=c):b=a.oimage,a.alpha=1,a.Draw(i,h,g,b),a.h=e,a.w=f,1},g.DrawColour=function(d,h,i,e,f,g,a,b,c){return a.oimage?(this.pulse<1?(a.alpha=1-x(this.pulse,2),a.Draw(d,b,c,a.fimage),a.alpha=this.pulse):a.alpha=1,a.Draw(d,b,c,a.oimage),1):this[a.image?'DrawColourImage':'DrawColourText'](d,h,i,e,f,g,a,b,c)},g.DrawColourText=function(f,h,i,j,g,e,a,b,c){var d=a.colour;return a.colour=e,a.alpha=1,a.Draw(f,b,c),a.colour=d,1},g.DrawColourImage=function(a,q,p,o,n,m,g,r,k){var f=a.canvas,e=~~h(q,0),d=~~h(p,0),c=i(f.width-e,o)+.5|0,b=i(f.height-d,n)+.5|0,j;return v?(v.width=c,v.height=b):v=l(c,b),!v?this.SetMethod('outline'):(j=v.getContext('2d'),j.drawImage(f,e,d,c,b,0,0,c,b),a.clearRect(e,d,c,b),this.pulsate?g.alpha=1-x(this.pulse,2):g.alpha=1,g.Draw(a,r,k),a.setTransform(1,0,0,1,0,0),a.save(),a.beginPath(),a.rect(e,d,c,b),a.clip(),a.globalCompositeOperation='source-in',a.fillStyle=m,a.fillRect(e,d,c,b),a.restore(),a.globalAlpha=1,a.globalCompositeOperation='destination-over',a.drawImage(v,0,0,c,b,e,d,c,b),a.globalCompositeOperation='source-over',1)},g.DrawAlt=function(b,a,c,d,f,g){var e=this.RealPreDraw(b,a,c,d,f,g);return a.alt&&(a.DrawImage(b,c,d,a.alt),e=1),e},g.DrawBlock=function(a,d,e,b,c,f){var g=i(this.radius,c/2,b/2);a.fillStyle=f,z(a,d,e,b,c,g)},g.DrawSimple=function(a,b,c,d,e,f){var g=this.tc;return a.setTransform(1,0,0,1,0,0),a.strokeStyle=this.colour,a.lineWidth=g.outlineThickness,a.shadowBlur=a.shadowOffsetX=a.shadowOffsetY=0,a.globalAlpha=f?e:1,this.drawFunc(a,this.x,this.y,this.w,this.h,this.colour,b,c,d)},g.DrawPulsate=function(h,d,e,f){var g=q()-this.ts,c=this.tc,b=c.pulsateTo+(1-c.pulsateTo)*(.5+m(2*Math.PI*g/(1e3*c.pulsateTime))/2);return this.pulse=b=a.Smooth(1,b),this.DrawSimple(h,d,e,f,b,1)},g.Active=function(d,a,b){var c=a>=this.x&&b>=this.y&&a<=this.x+this.w&&b<=this.y+this.h;return c?this.ts=this.ts||q():this.ts=null,c},g.PreDraw=g.PostDraw=g.LastDraw=y;function M(a,h,c,b,e,f,g,d,i,j,k,l,m,n){this.tc=a,this.image=null,this.text=h,this.text_original=n,this.line_widths=[],this.title=c.title||null,this.a=c,this.position=new t(b[0],b[1],b[2]),this.x=this.y=this.z=0,this.w=e,this.h=f,this.colour=g||a.textColour,this.bgColour=d||a.bgColour,this.bgRadius=i|0,this.bgOutline=j||this.colour,this.bgOutlineThickness=k|0,this.textFont=l||a.textFont,this.padding=m|0,this.sc=this.alpha=1,this.weighted=!a.weight,this.outline=new $(a,this),this.audio=null}d=M.prototype,d.Init=function(b){var a=this.tc;this.textHeight=a.textHeight,this.HasText()?this.Measure(a.ctxt,a):(this.w=this.iw,this.h=this.ih),this.SetShadowColour=a.shadowAlpha?this.SetShadowColourAlpha:this.SetShadowColourFixed,this.SetDraw(a)},d.Draw=y,d.HasText=function(){return this.text&&this.text[0].length>0},d.EqualTo=function(a){var b=a.getElementsByTagName('img');return this.a.href!=a.href?0:b.length?this.image.src==b[0].src:(a.innerText||a.textContent)==this.text_original},d.SetImage=function(a){this.image=this.fimage=a},d.SetAudio=function(a){this.audio=a,this.audio.load()},d.SetDraw=function(a){this.Draw=this.fimage?a.ie>7?this.DrawImageIE:this.DrawImage:this.DrawText,a.noSelect&&(this.CheckActive=y)},d.MeasureText=function(d){var a,e=this.text.length,b=0,c;for(a=0;a<e;++a)this.line_widths[a]=c=d.measureText(this.text[a]).width,b=h(b,c);return b},d.Measure=function(e,a){var f=af(this.text,this.textFont,this.textHeight),b,k,h,i,g,l,j,c,d;j=f?f.max.y+f.min.y:this.textHeight,e.font=this.font=this.textHeight+'px '+this.textFont,l=this.MeasureText(e),a.txtOpt&&(b=a.txtScale,k=b*this.textHeight,h=k+'px '+this.textFont,i=[b*a.shadowOffset[0],b*a.shadowOffset[1]],e.font=h,g=this.MeasureText(e),d=new R(this.text,h,g+b,b*j+b,g,this.line_widths,a.textAlign,a.textVAlign,b),this.image&&d.SetImage(this.image,this.iw,this.ih,a.imagePosition,a.imagePadding,a.imageAlign,a.imageVAlign,a.imageScale),c=d.Create(this.colour,this.bgColour,this.bgOutline,b*this.bgOutlineThickness,a.shadow,b*a.shadowBlur,i,b*this.padding,b*this.bgRadius),a.outlineMethod=='colour'?this.oimage=d.Create(this.outline.colour,this.bgColour,this.outline.colour,b*this.bgOutlineThickness,a.shadow,b*a.shadowBlur,i,b*this.padding,b*this.bgRadius):a.outlineMethod=='size'&&(f=af(this.text,this.textFont,this.textHeight+a.outlineIncrease),k=f.max.y+f.min.y,h=b*(this.textHeight+a.outlineIncrease)+'px '+this.textFont,e.font=h,g=this.MeasureText(e),d=new R(this.text,h,g+b,b*k+b,g,this.line_widths,a.textAlign,a.textVAlign,b),this.image&&d.SetImage(this.image,this.iw+a.outlineIncrease,this.ih+a.outlineIncrease,a.imagePosition,a.imagePadding,a.imageAlign,a.imageVAlign,a.imageScale),this.oimage=d.Create(this.colour,this.bgColour,this.bgOutline,b*this.bgOutlineThickness,a.shadow,b*a.shadowBlur,i,b*this.padding,b*this.bgRadius),this.oscale=this.oimage.width/c.width,a.outlineIncrease>0?c=O(c,this.oimage.width,this.oimage.height):this.oimage=O(this.oimage,c.width,c.height)),c&&(this.fimage=c,l=this.fimage.width/b,j=this.fimage.height/b),this.SetDraw(a),a.txtOpt=!!this.fimage),this.h=j,this.w=l},d.SetFont=function(a,b,c,d){this.textFont=a,this.colour=b,this.bgColour=c,this.bgOutline=d,this.Measure(this.tc.ctxt,this.tc)},d.SetWeight=function(c){var b=this.tc,e=b.weightMode.split(/[, ]/),d,a,f=c.length;if(!this.HasText())return;this.weighted=!0;for(a=0;a<f;++a)d=e[a]||'size','both'==d?(this.Weight(c[a],b.ctxt,b,'size',b.min_weight[a],b.max_weight[a],a),this.Weight(c[a],b.ctxt,b,'colour',b.min_weight[a],b.max_weight[a],a)):this.Weight(c[a],b.ctxt,b,d,b.min_weight[a],b.max_weight[a],a);this.Measure(b.ctxt,b)},d.Weight=function(b,i,a,d,f,g,e){b=isNaN(b)?1:b;var c=(b-f)/(g-f);'colour'==d?this.colour=H(a,c,e):'bgcolour'==d?this.bgColour=H(a,c,e):'bgoutline'==d?this.bgOutline=H(a,c,e):'outline'==d?this.outline.colour=H(a,c,e):'size'==d&&(a.weightSizeMin>0&&a.weightSizeMax>a.weightSizeMin?this.textHeight=a.weightSize*(a.weightSizeMin+(a.weightSizeMax-a.weightSizeMin)*c):this.textHeight=h(1,b*a.weightSize))},d.SetShadowColourFixed=function(a,b,c){a.shadowColor=b},d.SetShadowColourAlpha=function(a,b,c){a.shadowColor=ay(b,c)},d.DrawText=function(a,h,i){var e=this.tc,g=this.x,f=this.y,c=this.sc,b,d;a.globalAlpha=this.alpha,a.fillStyle=this.colour,e.shadow&&this.SetShadowColour(a,e.shadow,this.alpha),a.font=this.font,g+=h/c,f+=i/c-this.h/2;for(b=0;b<this.text.length;++b)d=g,'right'==e.textAlign?d+=this.w/2-this.line_widths[b]:'centre'==e.textAlign?d-=this.line_widths[b]/2:d-=this.w/2,a.setTransform(c,0,0,c,c*d,c*f),a.fillText(this.text[b],0,0),f+=this.textHeight},d.DrawImage=function(b,i,k,l){var e=this.x,f=this.y,a=this.sc,j=l||this.fimage,c=this.w,d=this.h,g=this.alpha,h=this.shadow;b.globalAlpha=g,h&&this.SetShadowColour(b,h,g),e+=i/a-c/2,f+=k/a-d/2,b.setTransform(a,0,0,a,a*e,a*f),b.drawImage(j,0,0,c,d)},d.DrawImageIE=function(b,d,e){var c=this.fimage,a=this.sc,f=c.width=this.w*a,g=c.height=this.h*a,h=this.x*a+d-f/2,i=this.y*a+e-g/2;b.setTransform(1,0,0,1,0,0),b.globalAlpha=this.alpha,b.drawImage(c,h,i)},d.Calc=function(g,e){var a,b=this.tc,d=b.minBrightness,f=b.maxBrightness,c=b.max_radius;return a=g.xform(this.position),this.xformed=a,a=aD(b,a,b.stretchX,b.stretchY),this.x=a.x,this.y=a.y,this.z=a.z,this.sc=a.w,this.alpha=e*I(d+(f-d)*(c-this.z)/(2*c),0,1),this.xformed},d.UpdateActive=function(h,e,f){var a=this.outline,b=this.w,c=this.h,d=this.x-b/2,g=this.y-c/2;return a.Update(d,g,b,c,this.sc,this.z,e,f),a},d.CheckActive=function(a,d,e){var b=this.tc,c=this.UpdateActive(a,d,e);return c.Active(a,b.mx,b.my)?c:null},d.Clicked=function(f){var b=this.a,a=b.target,d=b.href,e;if(a!=''&&a!='_self'){if(self.frames[a])self.frames[a].document.location=d;else{try{if(top.frames[a]){top.frames[a].document.location=d;return}}catch(a){}window.open(d,a)}return}if(c.createEvent){if(e=c.createEvent('MouseEvents'),e.initMouseEvent('click',1,1,window,0,0,0,0,0,0,0,0,0,0,null),!b.dispatchEvent(e))return}else if(b.fireEvent)if(!b.fireEvent('onclick'))return;c.location=d},d.StopAudio=function(){this.audio&&this.playing&&this.audio.pause(),this.stopped=1,this.playing=0},d.PlayAudio=function(){if(e==='off'||this.tc.audioOff)return;if(!e&&!aj())return;var a=this.tc.audio,c=this.tc.gain,d='suspended',b;if(this.audio)if(this.track||(this.track=e.createMediaElementSource(this.audio),this.gain=e.createGain(),this.track.connect(this.gain),this.gain.connect(e.destination)),a=this.audio,c=this.gain,!a.paused)return 1;if(a){if(e.state==d&&e.resume(),e.state==d)return;return c.gain.value=i(2,h(0,this.tc.audioVolume*1)),a.currentTime=0,this.stopped=0,b=a.play(),b!==void 0&&b.then(a=>{this.stopped?this.audio.pause():this.playing=1}),1}};function a(f,m,j){var d,g,b=c.getElementById(f),l=['id','class','innerHTML'];if(!b)throw 0;if(o(window.G_vmlCanvasManager)&&(b=window.G_vmlCanvasManager.initElement(b),this.ie=parseFloat(navigator.appVersion.split('MSIE')[1])),b&&(!b.getContext||!b.getContext('2d').fillText)){g=c.createElement('DIV');for(d=0;d<l.length;++d)g[l[d]]=b[l[d]];throw b.parentNode.insertBefore(g,b),b.parentNode.removeChild(b),0}for(d in a.options)this[d]=j&&o(j[d])?j[d]:o(a[d])?a[d]:a.options[d];if(this.canvas=b,this.ctxt=b.getContext('2d'),this.z1=250/h(this.depth,.001),this.z2=this.z1/this.zoom,this.radius=i(b.height,b.width)*.0075,this.max_radius=100,this.max_weight=[],this.min_weight=[],this.textFont=this.textFont&&S(this.textFont),this.textHeight*=1,this.imageRadius=this.imageRadius.toString(),this.pulsateTo=I(this.pulsateTo,0,1),this.minBrightness=I(this.minBrightness,0,1),this.maxBrightness=I(this.maxBrightness,this.minBrightness,1),this.ctxt.textBaseline='top',this.lx=(this.lock+'').indexOf('x')+1,this.ly=(this.lock+'').indexOf('y')+1,this.frozen=this.dx=this.dy=this.fixedAnim=this.touchState=0,this.fixedAlpha=1,this.source=m||f,this.repeatTags=i(64,~~this.repeatTags),this.minTags=i(200,~~this.minTags),~~this.scrollPause>0?a.scrollPause=~~this.scrollPause:this.scrollPause=0,this.minTags>0&&this.repeatTags<1&&(d=this.GetTags().length)&&(this.repeatTags=W(this.minTags/d)-1),this.transform=n.Identity(),this.startTime=this.time=q(),this.mx=this.my=-1,this.centreImage&&az(this),this.Animate=this.dragControl?this.AnimateDrag:this.AnimatePosition,this.animTiming=typeof a[this.animTiming]=='function'?a[this.animTiming]:a.Smooth,this.shadowBlur||this.shadowOffset[0]||this.shadowOffset[1]?(this.ctxt.shadowColor=this.shadow,this.shadow=this.ctxt.shadowColor,this.shadowAlpha=aw()):delete this.shadow,this.activeAudio===!1?e='off':this.activeAudio&&this.LoadAudio(),this.Load(),m&&this.hideTags&&function(b){a.loaded?b.HideTags():w('load',function(){b.HideTags()},window)}(this),this.yaw=this.initial?this.initial[0]*this.maxSpeed:0,this.pitch=this.initial?this.initial[1]*this.maxSpeed:0,this.tooltip?(this.ctitle=b.title,b.title='',this.tooltip=='native'?this.Tooltip=this.TooltipNative:(this.Tooltip=this.TooltipDiv,this.ttdiv||(this.ttdiv=c.createElement('div'),this.ttdiv.className=this.tooltipClass,this.ttdiv.style.position='absolute',this.ttdiv.style.zIndex=b.style.zIndex+1,w('mouseover',function(a){a.target.style.display='none'},this.ttdiv),c.body.appendChild(this.ttdiv)))):this.Tooltip=this.TooltipNone,!this.noMouse&&!k[f]){k[f]=[['mousemove',ab],['mouseout',ao],['mouseup',ar],['touchstart',at],['touchend',X],['touchcancel',X],['touchmove',av]],this.dragControl&&(k[f].push(['mousedown',aq]),k[f].push(['selectstart',y])),this.wheelZoom&&(k[f].push(['mousewheel',V]),k[f].push(['DOMMouseScroll',V])),this.scrollPause&&k[f].push(['scroll',ax,window]);for(d=0;d<k[f].length;++d)g=k[f][d],w(g[0],g[1],g[2]?g[2]:b)}a.started||(a.NextFrame=window.requestAnimationFrame?aA:aB,a.interval=this.interval,a.NextFrame(this.interval),a.started=1)}b=a.prototype,b.SourceElements=function(){return c.querySelectorAll?c.querySelectorAll('#'+this.source):[c.getElementById(this.source)]},b.HideTags=function(){var b=this.SourceElements(),a;for(a=0;a<b.length;++a)b[a].style.display='none'},b.GetTags=function(){var e=this.SourceElements(),c,f=[],a,b,d;for(d=0;d<=this.repeatTags;++d)for(a=0;a<e.length;++a){c=e[a].getElementsByTagName('a');for(b=0;b<c.length;++b)f.push(c[b])}return f},b.Message=function(j){var g=[],a,f,b=j.split(''),d,e,h,i;for(a=0;a<b.length;++a)b[a]!=' '&&(f=a-b.length/2,d=c.createElement('A'),d.href='#',d.innerText=b[a],h=100*s(f/9),i=-100*m(f/9),e=new M(this,b[a],d,[h,0,i],2,18,'#000','#fff',0,0,0,'monospace',2,b[a]),e.Init(),g.push(e));return g},b.AddAudio=function(b,c){if(e==='off')return;var a=b.getElementsByTagName('audio');a.length&&(c.SetAudio(a[0]),this.hasAudio=1)},b.CreateTag=function(b){var e,c,a,f,d,g,h,i,k=[0,0,0],l;if('text'!=this.imageMode)if(e=b.getElementsByTagName('img'),e.length)if(c=new Image,c.src=e[0].src,!this.imageMode)return a=new M(this,\"\",b,k,0,0),a.SetImage(c),E(c,e[0],e[1],a,this),this.AddAudio(b,a),a;if('image'!=this.imageMode&&(d=new _(b),f=d.Lines(),d.Empty()?d=null:(g=this.textFont||S(j(b,'font-family')),this.splitWidth&&(f=d.SplitWidth(this.splitWidth,this.ctxt,g,this.textHeight)),h=this.bgColour=='tag'?j(b,'background-color'):this.bgColour,i=this.bgOutline=='tag'?j(b,'color'):this.bgOutline)),d||c)return a=new M(this,f,b,k,2,this.textHeight+2,this.textColour||j(b,'color'),h,this.bgRadius,i,this.bgOutlineThickness,g,this.padding,d&&d.original),c?(a.SetImage(c),E(c,e[0],e[1],a,this)):a.Init(),this.AddAudio(b,a),a},b.UpdateTag=function(a,b){var c=this.textColour||j(b,'color'),d=this.textFont||S(j(b,'font-family')),e=this.bgColour=='tag'?j(b,'background-color'):this.bgColour,f=this.bgOutline=='tag'?j(b,'color'):this.bgOutline;a.a=b,a.title=b.title,(a.colour!=c||a.textFont!=d||a.bgColour!=e||a.bgOutline!=f)&&a.SetFont(d,c,e,f)},b.Weight=function(d){var f=d.length,c,b,a,e=[],g,h=this.weightFrom?this.weightFrom.split(/[, ]/):[null],i=h.length;for(b=0;b<f;++b){e[b]=[];for(a=0;a<i;++a)c=al(d[b].a,h[a],this.textHeight),(!this.max_weight[a]||c>this.max_weight[a])&&(this.max_weight[a]=c),(!this.min_weight[a]||c<this.min_weight[a])&&(this.min_weight[a]=c),e[b][a]=c}for(a=0;a<i;++a)this.max_weight[a]>this.min_weight[a]&&(g=1);if(g)for(b=0;b<f;++b)d[b].SetWeight(e[b])},b.Load=function(){var c=this.GetTags(),b=[],d,k,l,g,i,j,f,a,e=[],m={sphere:aG,vcylinder:aF,hcylinder:aE,vring:aC,hring:ap};if(c.length){e.length=c.length;for(a=0;a<c.length;++a)e[a]=a;this.shuffleTags&&ah(e),g=100*this.radiusX,i=100*this.radiusY,j=100*this.radiusZ,this.max_radius=h(g,h(i,j));for(a=0;a<c.length;++a)k=this.CreateTag(c[e[a]]),k&&b.push(k);this.weight&&this.Weight(b,!0),this.shapeArgs?this.shapeArgs[0]=b.length:(l=this.shape.toString().split(/[(),]/),d=l.shift(),typeof window[d]=='function'?this.shape=window[d]:this.shape=m[d]||m.sphere,this.shapeArgs=[b.length,g,i,j].concat(l)),f=this.shape.apply(this,this.shapeArgs),this.listLength=b.length;for(a=0;a<b.length;++a)b[a].position=new t(f[a][0],f[a][1],f[a][2])}this.noTagsMessage&&!b.length&&(a=this.imageMode&&this.imageMode!='both'?this.imageMode+' ':'',b=this.Message('No '+a+'tags')),this.taglist=b},b.Update=function(){var e=this.GetTags(),d=[],j=this.taglist,k,f=[],c=[],h,i,g,a,b;if(!this.shapeArgs)return this.Load();if(e.length){g=this.listLength=e.length,i=j.length;for(a=0;a<i;++a)d.push(j[a]),c.push(a);for(a=0;a<g;++a){for(b=0,k=0;b<i;++b)j[b].EqualTo(e[a])&&(this.UpdateTag(d[b],e[a]),k=c[b]=-1);k||f.push(a)}for(a=0,b=0;a<i;++a)c[b]==-1?c.splice(b,1):++b;if(c.length){for(ah(c);c.length&&f.length;)a=c.shift(),b=f.shift(),d[a]=this.CreateTag(e[b]);for(c.sort(function(a,b){return a-b});c.length;)d.splice(c.pop(),1)}for(b=d.length/(f.length+1),a=0;f.length;)d.splice(W(++a*b),0,this.CreateTag(e[f.shift()]));this.shapeArgs[0]=g=d.length,h=this.shape.apply(this,this.shapeArgs);for(a=0;a<g;++a)d[a].position=new t(h[a][0],h[a][1],h[a][2]);this.weight&&this.Weight(d)}this.taglist=d},b.SetShadow=function(a){a.shadowBlur=this.shadowBlur,a.shadowOffsetX=this.shadowOffset[0],a.shadowOffsetY=this.shadowOffset[1]},b.LoadAudio=function(){if(!e&&!aj())return;this.audio=c.createElement('audio'),this.audio.src=this.activeAudio,this.track=e.createMediaElementSource(this.audio),this.gain=e.createGain(),this.track.connect(this.gain),this.gain.connect(e.destination),this.hasAudio=1,T=function(a){e.resume(),c.removeEventListener('click',T)},c.addEventListener('click',T)},b.ShowAudioIcon=function(){var a=this.audioIconSize,c=this.canvas,d=this.ctxt,k=c.width-a-3,f=c.height-a-3,g=this.audioIconThickness,h='#000',i='#fff',j=this.audioIconDark,b=this.audioOff,l='suspended';if(!e)return;b||(b=e.state===l),this.audioIcon&&this.hasAudio&&(ae(b,d,a,k,f,g+1,j?i:h),ae(b,d,a,k,f,g,j?h:i))},b.CheckAudioIcon=function(){var a=this.audioIconSize,b=this.canvas,c=this.audioIconThickness/2,d=b.width-a-3-c,e=b.height-a-3-c;if(this.audioIcon&&this.mx>=d&&this.my>=e)return!0},b.ToggleAudio=function(){var a=this.audioOff||e&&e.state==='suspended';a||this.currentAudio&&this.currentAudio.StopAudio(),this.audioOff=!a},b.Draw=function(s){if(this.paused)return;var l=this.canvas,i=l.width,j=l.height,q=0,p=(s-this.time)*a.interval/1e3,h=i/2+this.offsetX,g=j/2+this.offsetY,d=this.ctxt,b,f,c,o=-1,e=this.taglist,k=e.length,t=this.active&&this.active.tag,m='',u=this.frontSelect,r=this.centreFunc==y,n;if(this.time=s,this.frozen&&this.drawn)return this.Animate(i,j,p);n=this.AnimateFixed(),d.setTransform(1,0,0,1,0,0);for(c=0;c<k;++c)e[c].Calc(this.transform,this.fixedAlpha);if(e=aI(e,function(a,b){return b.z-a.z}),n&&this.fixedAnim.active)b=this.fixedAnim.tag.UpdateActive(d,h,g);else if(this.active=null,this.CheckAudioIcon())m='pointer';else{for(c=0;c<k;++c)f=this.mx>=0&&this.my>=0&&this.taglist[c].CheckActive(d,h,g),f&&f.sc>q&&(!u||f.z<=0)&&(b=f,o=c,b.tag=this.taglist[c],q=f.sc);this.active=b}this.txtOpt||this.shadow&&this.SetShadow(d),d.clearRect(0,0,i,j);for(c=0;c<k;++c){if(!r&&e[c].z<=0){try{this.centreFunc(d,i,j,h,g)}catch(a){alert(a),this.centreFunc=y}r=!0}b&&b.tag==e[c]&&b.PreDraw(d,e[c],h,g)||e[c].Draw(d,h,g),b&&b.tag==e[c]&&b.PostDraw(d)}this.freezeActive&&b?this.Freeze():(this.UnFreeze(),this.drawn=k==this.listLength),this.fixedCallback&&(this.fixedCallback(this,this.fixedCallbackTag),this.fixedCallback=null),n||this.Animate(i,j,p),b&&(b.LastDraw(d),b.tag!=t&&(this.currentAudio&&this.currentAudio!=b.tag&&this.currentAudio.StopAudio(),b.tag.PlayAudio()&&(this.currentAudio=b.tag)),m=this.activeCursor),l.style.cursor=m,this.Tooltip(b,this.taglist[o]),this.audioIcon&&this.ShowAudioIcon()},b.TooltipNone=function(){},b.TooltipNative=function(b,a){b?this.canvas.title=a&&a.title?a.title:'':this.canvas.title=this.ctitle},b.SetTTDiv=function(c,d){var a=this,b=a.ttdiv.style;c!=a.ttdiv.innerHTML&&(b.display='none'),a.ttdiv.innerHTML=c,d&&(d.title=a.ttdiv.innerHTML),b.display=='none'&&!a.tttimer&&(a.tttimer=setTimeout(function(){var c=Y(a.canvas.id);b.display='block',b.left=c.x+a.mx+'px',b.top=c.y+a.my+24+'px',a.tttimer=null},a.tooltipDelay))},b.TooltipDiv=function(b,a){b&&a&&a.title?this.SetTTDiv(a.title,a):!b&&this.mx!=-1&&this.my!=-1&&this.ctitle.length?this.SetTTDiv(this.ctitle):this.ttdiv.style.display='none'},b.Transform=function(c,a,b){if(a||b){var d=s(a),e=m(a),f=s(b),g=m(b),h=new n([g,0,f,0,1,0,-f,0,g]),i=new n([1,0,0,0,e,-d,0,d,e]);c.transform=c.transform.mul(h.mul(i))}},b.AnimateFixed=function(){var a,b,c,d,e;return!!(this.fadeIn&&(b=q()-this.startTime,b>=this.fadeIn?(this.fadeIn=0,this.fixedAlpha=1):this.fixedAlpha=b/this.fadeIn),this.fixedAnim)&&(this.fixedAnim.transform||(this.fixedAnim.transform=this.transform),a=this.fixedAnim,b=q()-a.t0,c=a.angle,d,e=this.animTiming(a.t,b),this.transform=a.transform,b>=a.t?(this.fixedCallbackTag=a.tag,this.fixedCallback=a.cb,this.fixedAnim=this.yaw=this.pitch=0):c*=e,d=n.Rotation(c,a.axis),this.transform=this.transform.mul(d),this.fixedAnim!=0)},b.AnimatePosition=function(g,h,f){var a=this,d=a.mx,e=a.my,b,c;!a.frozen&&d>=0&&e>=0&&d<g&&e<h?(b=a.maxSpeed,c=a.reverse?-1:1,a.lx||(a.yaw=(d*2*b/g-b)*c*f),a.ly||(a.pitch=(e*2*b/h-b)*-c*f),a.initial=null):a.initial||(a.frozen&&!a.freezeDecel?a.yaw=a.pitch=0:a.Decel(a)),this.Transform(a,a.pitch,a.yaw)},b.AnimateDrag=function(d,e,c){var a=this,b=100*c*a.maxSpeed/a.max_radius/a.zoom;a.dx||a.dy?(a.lx||(a.yaw=a.dx*b/a.stretchX),a.ly||(a.pitch=a.dy*-b/a.stretchY),a.dx=a.dy=0,a.initial=null):a.initial||a.Decel(a),this.Transform(a,a.pitch,a.yaw)},b.Freeze=function(){this.frozen||(this.preFreeze=[this.yaw,this.pitch],this.frozen=1,this.drawn=0)},b.UnFreeze=function(){this.frozen&&(this.yaw=this.preFreeze[0],this.pitch=this.preFreeze[1],this.frozen=0)},b.Decel=function(a){var b=a.minSpeed,c=p(a.yaw),d=p(a.pitch);!a.lx&&c>b&&(a.yaw=c>a.z0?a.yaw*a.decel:0),!a.ly&&d>b&&(a.pitch=d>a.z0?a.pitch*a.decel:0)},b.Zoom=function(a){this.z2=this.z1*(1/a),this.drawn=0},b.Clicked=function(b){if(this.CheckAudioIcon()){this.ToggleAudio();return}var a=this.active;try{a&&a.tag&&(this.clickToFront===!1||this.clickToFront===null?a.tag.Clicked(b):this.TagToFront(a.tag,this.clickToFront,function(){a.tag.Clicked(b)},!0))}catch(a){}},b.Wheel=function(a){var b=this.zoom+this.zoomStep*(a?1:-1);this.zoom=i(this.zoomMax,h(this.zoomMin,b)),this.Zoom(this.zoom)},b.BeginDrag=function(a){this.down=N(a,this.canvas),a.cancelBubble=!0,a.returnValue=!1,a.preventDefault&&a.preventDefault()},b.Drag=function(e,a){if(this.dragControl&&this.down){var d=this.dragThreshold*this.dragThreshold,b=a.x-this.down.x,c=a.y-this.down.y;(this.dragging||b*b+c*c>d)&&(this.dx=b,this.dy=c,this.dragging=1,this.down=a)}return this.dragging},b.EndDrag=function(){var a=this.dragging;return this.dragging=this.down=null,a};function ag(a){var b=a.targetTouches[0],c=a.targetTouches[1];return G(x(c.pageX-b.pageX,2)+x(c.pageY-b.pageY,2))}b.BeginPinch=function(a){this.pinched=[ag(a),this.zoom],a.preventDefault&&a.preventDefault()},b.Pinch=function(d){var b,c,a=this.pinched;if(!a)return;c=ag(d),b=a[1]*c/a[0],this.zoom=i(this.zoomMax,h(this.zoomMin,b)),this.Zoom(this.zoom)},b.EndPinch=function(a){this.pinched=null},b.Pause=function(){this.paused=!0},b.Resume=function(){this.paused=!1},b.SetSpeed=function(a){this.initial=a,this.yaw=a[0]*this.maxSpeed,this.pitch=a[1]*this.maxSpeed},b.FindTag=function(a){if(!o(a))return null;if(o(a.index)&&(a=a.index),!C(a))return this.taglist[a];var c,d,b;o(a.id)?(c='id',d=a.id):o(a.text)&&(c='innerText',d=a.text);for(b=0;b<this.taglist.length;++b)if(this.taglist[b].a[c]==d)return this.taglist[b]},b.RotateTag=function(a,h,i,j,f,g){var b=a.Calc(this.transform,1),c=new t(b.x,b.y,b.z),d=aH(i,h),e=c.angle(d),k=c.cross(d).unit();e==0?(this.fixedCallbackTag=a,this.fixedCallback=f):this.fixedAnim={angle:-e,axis:k,t:j,t0:q(),cb:f,tag:a,active:g}},b.TagToFront=function(a,b,c,d){this.RotateTag(a,0,0,b,c,d)},b.Volume=function(a){this.audioVolume=a*1},a.Start=function(b,c,d){a.Delete(b),a.tc[b]=new a(b,c,d)};function u(c,b){a.tc[b]&&a.tc[b][c]()}a.Linear=function(a,b){return b/a},a.Smooth=function(a,b){return.5-m(b*Math.PI/a)/2},a.Pause=function(a){u('Pause',a)},a.Resume=function(a){u('Resume',a)},a.Reload=function(a){u('Load',a)},a.Update=function(a){u('Update',a)},a.SetSpeed=function(c,b){return!!(C(b)&&a.tc[c]&&!isNaN(b[0])&&!isNaN(b[1]))&&(a.tc[c].SetSpeed(b),!0)},a.TagToFront=function(c,b){return!!C(b)&&(b.lat=b.lng=0,a.RotateTag(c,b))},a.RotateTag=function(c,b){if(C(b)&&a.tc[c]){isNaN(b.time)&&(b.time=500);var d=a.tc[c].FindTag(b);if(d)return a.tc[c].RotateTag(d,b.lat,b.lng,b.time,b.callback,b.active),!0}return!1},a.Delete=function(b){var d,e;if(k[b])if(e=c.getElementById(b),e)for(d=0;d<k[b].length;++d)ak(k[b][d][0],k[b][d][1],e);delete k[b],delete a.tc[b]},a.tc={},a.options={z1:2e4,z2:2e4,z0:2e-4,freezeActive:!1,freezeDecel:!1,activeCursor:'pointer',pulsateTo:1,pulsateTime:3,reverse:!1,depth:.5,maxSpeed:.05,minSpeed:0,decel:.95,interval:20,minBrightness:.1,maxBrightness:1,outlineColour:'#ffff99',outlineThickness:2,outlineOffset:5,outlineMethod:'outline',outlineRadius:0,textColour:'#ff99ff',textHeight:15,textFont:'Helvetica, Arial, sans-serif',shadow:'#000',shadowBlur:0,shadowOffset:[0,0],initial:null,hideTags:!0,zoom:1,weight:!1,weightMode:'size',weightFrom:null,weightSize:1,weightSizeMin:null,weightSizeMax:null,weightGradient:{0:'#f00',0.33:'#ff0',0.66:'#0f0',1:'#00f'},txtOpt:!0,txtScale:2,frontSelect:!1,wheelZoom:!0,zoomMin:.3,zoomMax:3,zoomStep:.05,shape:'sphere',lock:null,tooltip:null,tooltipDelay:300,tooltipClass:'tctooltip',radiusX:1,radiusY:1,radiusZ:1,stretchX:1,stretchY:1,offsetX:0,offsetY:0,shuffleTags:!1,noSelect:!1,noMouse:!1,imageScale:1,paused:!1,dragControl:!1,dragThreshold:4,centreFunc:y,splitWidth:0,animTiming:'Smooth',clickToFront:!1,fadeIn:0,padding:0,bgColour:null,bgRadius:0,bgOutline:null,bgOutlineThickness:0,outlineIncrease:4,textAlign:'centre',textVAlign:'middle',imageMode:null,imagePosition:null,imagePadding:2,imageAlign:'centre',imageVAlign:'middle',noTagsMessage:!0,centreImage:null,pinchZoom:!1,repeatTags:0,minTags:0,imageRadius:0,scrollPause:!1,outlineDash:0,outlineDashSpace:0,outlineDashSpeed:1,activeAudio:'',audioVolume:1,audioIcon:1,audioIconSize:20,audioIconThickness:2,audioIconDark:0,altImage:0};for(r in a.options)a[r]=a.options[r];window.TagCanvas=a,jQuery.fn.tagcanvas=function(b,c){var d={pause:function(){f(this).each(function(){u('Pause',f(this)[0].id)})},resume:function(){f(this).each(function(){u('Resume',f(this)[0].id)})},reload:function(){f(this).each(function(){u('Load',f(this)[0].id)})},update:function(){f(this).each(function(){u('Update',f(this)[0].id)})},tagtofront:function(){f(this).each(function(){a.TagToFront(f(this)[0].id,c)})},rotatetag:function(){f(this).each(function(){a.RotateTag(f(this)[0].id,c)})},delete:function(){f(this).each(function(){a.Delete(f(this)[0].id)})},setspeed:function(){f(this).each(function(){a.SetSpeed(f(this)[0].id,c)})}};return typeof b=='string'&&d[b]?(d[b].apply(this),this):(a.jquery=1,f(this).each(function(){a.Start(f(this)[0].id,c,b)}),a.started)},w('load',function(){a.loaded=1},window)})(jQuery)\r\n\r\n// Импортируем другие js-файлы\r\nif (window.location.search.indexOf(\"mobileDevice=1\") > -1) {\r\n\r\n    let pushState = History.prototype.pushState\r\n    History.prototype.pushState = function (state, title, url) {\r\n        let event = new CustomEvent('pushState', {detail: {state: state, title: title, url: url}})\r\n        window.frameElement.dispatchEvent(event)\r\n        pushState.call(this, state, title, url)\r\n    }\r\n\r\n    Object.defineProperty(window.navigator, 'userAgent', {value: 'Mozilla/5.0 (iPhone; CPU iPhone OS 14_0 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/14.0.0 Mobile/15A5370a Safari/602.1', writable: false})\r\n    Object.defineProperty(window.screen, 'availWidth', {value: 390, writable: false})\r\n    Object.defineProperty(window.screen, 'availHeight', {value: 844, writable: false})\r\n    Object.defineProperty(window.screen, 'width', {value: 390, writable: false})\r\n    Object.defineProperty(window.screen, 'height', {value: 844, writable: false})\r\n    Object.defineProperty(window, 'devicePixelRatio', {value: 3, writable: false})\r\n    Object.defineProperty(window, 'outerWidth', {value: 390, writable: false})\r\n    Object.defineProperty(window, 'outerHeight', {value: 844, writable: false})\r\n    Object.defineProperty(window.screen.orientation, 'angle', {value: 0, writable: false})\r\n    Object.defineProperty(window.screen.orientation, 'type', {value: 'portrait-primary', writable: false})\r\n    //Object.defineProperty(window.navigator, \"serviceWorker\", { value: \"\", writable : false });\r\n    ServiceWorkerContainer.prototype.register = function () { return new Promise((resolve, reject) => { reject() }) }\r\n\r\n    var windowOpenFn = window.open\r\n    window.open = (url, name, features) => {\r\n        name = name.replace('_top', '_self').replace('_parent', '_self')\r\n        windowOpenFn(url, name, features)\r\n    }\r\n\r\n    var body = document.body;\r\n\r\n    body.classList.add(\"mobile-simulator\");\r\n\r\n\r\n    var obj = document.createElement('style');\r\n    obj.innerText = 'html { zoom: 100% !important;}*:not(.simulator) {    cursor: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAYAAAAe2bNZAAAACXBIWXMAAC4jAAAuIwF4pT92AAAE/2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDIgNzkuMTY0NDYwLCAyMDIwLzA1LzEyLTE2OjA0OjE3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMiAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjAtMTEtMDFUMjA6MzM6MzMrMDE6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjAtMTEtMDFUMjA6MzM6MzMrMDE6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIwLTExLTAxVDIwOjMzOjMzKzAxOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1NGQ2YzIwNC01MTg5LTQ3NDQtYmNjMi1iYWFlODA5MDhmMTUiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDoyMTE0OTVlYS1mODk3LTA0NGMtODVlMS0wZjYxMjA3OTRhNjYiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1NGQ2YzIwNC01MTg5LTQ3NDQtYmNjMi1iYWFlODA5MDhmMTUiIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjU0ZDZjMjA0LTUxODktNDc0NC1iY2MyLWJhYWU4MDkwOGYxNSIgc3RFdnQ6d2hlbj0iMjAyMC0xMS0wMVQyMDozMzozMyswMTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjIgKE1hY2ludG9zaCkiLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+7bt9yAAAAh9JREFUWMPNmDtuwkAQhleWoePRQQlNlJwBaAFBAxyEXAAQNDREIig02wANVHAGKIBrkR1rfmvjKMgbP4tfFtZ65sOenZ0Z8Xg8hIEspVelntK70lzpU0nydc73e7zOMrHvd2FOqa+0YMd+teDncmHA2EodpS84uFwucjabyVarJavVqiwWi1II4VzpN92fTqfOOg2Knu+yvX/BlJRGMHg6nWS9Xncc+xWtp+c0qBHbNYJ5UVqSgfv97vxbEwivms2mY4eBlmzfF8wrPsvhcJDZbDYQCJTJZBx7DLRmP09hStgdu90uFAivttut1HZf6S8YGzGy3+8jAYHIPgON9aDWYTqIEXqlUcKQ/dvtBqCOFyaPOGm325GCQLQptPjJ6zCUMeXxeIwFBCJ/DNQHjIXM2mg0YoWhPKRlagtbWZ7P51hBIPLLQG/uJ6IUnwTMZDIBzIBghnEGrlfkl2GGgo99WalUEoGhw5Vh5gSzoh+FQiERGPLLMCuBEzUJEMhlSNubSVXMpGo3pSrPpCoDu2eTaY0bxdkk+NRMxamNeobqisDFdxj1jFvpUQWWdKWHGniclhr4R3ew2WwiASG7froDvW9ao2+ybTsUCLJj2jf96iiv16vTEQbtKLUYMeoooTJiCNveNA/VajV9+yJGykGmEF18NkwhaMqAKQROe7o+mUKsg04hdOU5MX0Yzmdo/QB5JKxh0bPJ1Qr1SNDJ1Te3Vbki9SeGVAAAAABJRU5ErkJggg==) 17 17, pointer !important;    scrollbar-width: none;}body {display: block !important;}* {image-rendering: -webkit-optimize-contrast;image-rendering: optimize-contrast;}::-webkit-scrollbar {background: transparent;width: 0 !important; height: 0 !important;}::-webkit-scrollbar-thumb {width: 0 !important;background: rgba(0, 0, 0, 0.5);border: solid 3px transparent;background-clip: content-box;border-radius: 17px;}.mf-hide-element {display: none !important;opacity: 0 !important;visibility: hidden !important;} .widget_wrap {display: none !important;}'\r\n    body.appendChild(obj);\r\n}\r\n/**\r\n * widget для бокового меню\r\n */\r\nfunction widgetDev() {\r\n    $('.widget_wrap').hoverIntent({\r\n        over: makeHoverWidgetTall,\r\n        out: makeHoverWidgetShort,\r\n        timeout: 300,\r\n        interval: 50\r\n    })\r\n\r\n    function makeHoverWidgetTall() {\r\n        $(this).addClass('widget_active')\r\n    }\r\n\r\n    function makeHoverWidgetShort() {\r\n        $(this).removeClass('widget_active')\r\n    }\r\n\r\n    $(document).on('touchstart', '.widget_wrap', function (e) {\r\n        if (this.offsetWidth - event.offsetX < 0) {\r\n            $('.widget_wrap').toggleClass('widget_active')\r\n        }\r\n    })\r\n}\r\n\r\n/* script для фиксирования шапки при скролле */\r\n\r\nfunction newHeaderFix() {\r\n    if ( $('.header_new_topline').length === 0) {\r\n        return false\r\n    }\r\n\r\n    var w = $(window).width()\r\n    var a = $('.header_new_topline').position().top\r\n    var b = +a - 42\r\n    var $windowScrot = $(window)\r\n    $windowScrot.scroll(function () {\r\n        if ($(this).scrollTop() > a) {\r\n            $('body').addClass('new_h_fix')\r\n        } else {\r\n            $('body').removeClass('new_h_fix')\r\n        }\r\n    })\r\n\r\n    if ($windowScrot.scrollTop() > a) {\r\n        $('body').addClass('new_h_fix')\r\n    } else {\r\n        $('body').removeClass('new_h_fix')\r\n    }\r\n}\r\n\r\nfunction openJivoSiteMobile() {\r\n    $('.js_jivo_open_button').click(function () {\r\n        $('.jivo_mobile').show()\r\n    })\r\n    $('.jivo_wrapios_removeText').click(function () {\r\n        $('.jivo_mobile').hide()\r\n    })\r\n    $('.jivo_back').mouseup(function () {\r\n        $('.jivo_mobile').hide()\r\n    })\r\n}\r\n\r\nfunction headerSearchOpener() {\r\n    $('.elem_mob_search, .search-close-btn').click(function () {\r\n        toggleSearchPanel();\r\n    })\r\n\r\n    function toggleSearchPanel() {\r\n        $('.elem.elem_search').toggleClass('open');\r\n        $('.elem_bars').removeClass('active');\r\n        $('html, body').removeClass('noscroll');\r\n        $('.header_new_topline_menu').removeClass('block');\r\n        $('#query_autocomplite').focus();\r\n    }\r\n}\r\n\r\nfunction openFilterMobile() {\r\n    $('.js-openfilter').click(function () {\r\n        $('.ncatfilter form').addClass('active')\r\n        mSearch2.filterModalOpen = true\r\n    })\r\n    $('.js-close-filter').click(function () {\r\n        mSearch2.filterModalOpen = false\r\n        mSearch2.submit()\r\n        setTimeout(function () {\r\n            $('.ncatfilter form').removeClass('active')\r\n        }, 500)\r\n    })\r\n}\r\n\r\nfunction openMobileBottomHeader() {\r\n\r\n    $('.little_mobile_line_close').click(function () {\r\n        $('.menu_show_wrapper_menu').removeClass('active open')\r\n        $('body').removeClass('active_menu')\r\n    })\r\n\r\n\r\n    $('.elem_bars').click(function () {\r\n        $('html, body').toggleClass('noscroll')\r\n        $('.elem_bars').toggleClass('active')\r\n        $('.header_new_topline_menu').toggleClass('block')\r\n        $('.elem.elem_search').removeClass('open');\r\n    })\r\n\r\n\r\n    $('.little_mobile_line_close').click(function () {\r\n        $('.elem_bars').removeClass('active')\r\n        $('html, body').removeClass('noscroll')\r\n        $('.header_new_topline_menu').removeClass('block')\r\n        $('.elem.elem_search').removeClass('open');\r\n    })\r\n\r\n    /**\r\n     * Нажатие на кнопку \"Каталог\"\r\n     */\r\n\r\n    $('.js_open_nav_category').click(function () {\r\n        megaMenuSwitch.call(this,'toggle')\r\n    })\r\n\r\n    $(document).on('click', '.modal-megamenu', function (e) {\r\n        e.preventDefault();\r\n        megaMenuSwitch.call(this,'close')\r\n    })\r\n}\r\n\r\nfunction megaMenuSwitch(mode) {\r\n\r\n    var $body = $('body')\r\n    // var $menu = $('.menu_show_wrapper_menu')\r\n    var $menu = $('.navigation');\r\n    var $button = $('.js_open_nav_category')\r\n    // var isMenuVisible = $($menu).hasClass('active');\r\n    // var isScreenScrolled = $('html').scrollTop() === 0;\r\n    \r\n    // function singleScrollTop() {\r\n    //     $('body,html').animate({ scrollTop: 0 }, 300);\r\n    // }\r\n\r\n    // function scrollToTopNav() {\r\n    //     if (!isMenuVisible && !isScreenScrolled) {\r\n    //         if ($('html').scrollTop() > 150) {\r\n    //             $('body,html').animate(\r\n    //                 { scrollTop: 150 },\r\n    //                 0,\r\n    //                 singleScrollTop\r\n    //             );\r\n    //         } else {\r\n    //             singleScrollTop();\r\n    //         }\r\n    //     }\r\n    // }\r\n    \r\n    $menu.find('.active').removeClass('active');\r\n\r\n    switch (mode){\r\n        case 'toggle':\r\n            $menu.toggleClass('active');\r\n            // $menu.toggleClass('active open')\r\n            // $body.toggleClass('active_menu')\r\n            // $button.toggleClass('active')\r\n            // scrollToTopNav();\r\n          break;\r\n        case 'close':\r\n            $menu.removeClass('active');\r\n            // $menu.removeClass('active open')\r\n            // $body.removeClass('active_menu')\r\n            // $button.removeClass('active')\r\n          break;\r\n        case 'open':\r\n          break;\r\n        default:\r\n          break;\r\n    }\r\n\r\n\r\n    /*if ($body.hasClass('active_menu')) {\r\n        var bg = $('<div class=\"modal-backdrop  fade in modal-megamenu\"></div>')\r\n        $body.append(bg)\r\n    } else {\r\n        $('.modal-megamenu').remove()\r\n    }*/\r\n}\r\n\r\n\r\nfunction closeRegionChoice() {\r\n    $('.userlocation-location-confirm-close').click(function () {\r\n        $('.userlocation').slideUp(0)\r\n    })\r\n}\r\n\r\nfunction initToggleAuth() {\r\n    // С этого урла загружаем разметку для модалки авторизации\r\n    var URL = '/auth.html';\r\n    \r\n    function loadAuth() {\r\n        async function loader() {\r\n            const res = await fetch(URL);\r\n    \r\n            if (!res.ok) {\r\n                const message = `Ошибка загрузки Auth layout: ${res.status}`;\r\n                throw new Error(message);\r\n            }\r\n    \r\n            return await res.text();\r\n        }\r\n    \r\n        loader()\r\n            .then(function(html) {\r\n                $('body').append(html);\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error)\r\n            });\r\n    }\r\n    \r\n    function toggleAuth() {\r\n        console.log('show or hide auth')\r\n    }\r\n    \r\n    $('#toggleAuthModal').on('click', function (e) {\r\n        e.preventDefault();\r\n        if (!$('#auth_modal').length) {\r\n            loadAuth();\r\n        } else {\r\n            toggleAuth();\r\n        }\r\n    })\r\n}\r\n\r\nfunction fetchDaData() {\r\n    // const URL = 'https://cleaner.dadata.ru/api/v1/clean/address';\r\n    var url = \"https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address\";\r\n\r\n    const token = \"fdb9d40ad2d9778cb78ba079d7a385bb9c408337\";\r\n    const secret = \"86acab981b378b54e384223e7fbc313eb7c86786\";\r\n    const inputAddress = document.getElementById('street');\r\n\r\n    if (!inputAddress) return\r\n\r\n    const findAddress = async (query) => {\r\n        // const options = {\r\n        //     method: \"POST\",\r\n        //     mode: \"cors\",\r\n        //     headers: {\r\n        //         \"Content-Type\": \"application/json\",\r\n        //         Authorization: \"Token \" + token,\r\n        //         \"X-Secret\": secret,\r\n        //     },\r\n        //     body: JSON.stringify([query]),\r\n        // };\r\n\r\n        var options = {\r\n            method: \"POST\",\r\n            mode: \"cors\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                \"Accept\": \"application/json\",\r\n                \"Authorization\": \"Token \" + token,\r\n                \"X-Secret\": secret\r\n            },\r\n            body: JSON.stringify({query: query})\r\n        }\r\n\r\n        if (query === '') return\r\n\r\n        try {\r\n            // const res = await fetch(URL, options);\r\n            const res = await fetch(url, options);\r\n\r\n            if (!res.ok) {\r\n                const message = `Ошибка запроса: ${res.status}`;\r\n                throw new Error(message);\r\n            }\r\n\r\n            let data = await res.json();\r\n\r\n\r\n            console.log('Response of Address/Placement request', data)\r\n            data = data.suggestions\r\n\r\n\r\n            const list = document.querySelector('._js-list-street-result');\r\n\r\n            if (data.length) {\r\n                // const items = data.map(item => `<div>${item.result}</div>`).join('');\r\n                const items = data.map(item => `<div>${item.value}</div>`).join('');\r\n                list.innerHTML = items;\r\n                list.classList.add('active');\r\n            } else {\r\n                inputAddress.classList.add('error')\r\n                inputAddress.value = 'Адрес не найден'\r\n                list.classList.remove('active')\r\n            }\r\n\r\n        } catch (error) {\r\n            console.error(\"Ошибка:\", error);\r\n        }\r\n    };\r\n\r\n    const debouncedSearch = debounce(findAddress, 1000);\r\n\r\n    inputAddress.addEventListener(\"input\", (event) => {\r\n        const _this = event.target\r\n        const query = _this.value;\r\n\r\n        _this.classList.remove('error')\r\n\r\n        debouncedSearch(query);\r\n    });\r\n}\r\n\r\nfunction debounce(func, delay) {\r\n    let timeoutId;\r\n\r\n    return function () {\r\n        var args = arguments;\r\n        var context = this;\r\n\r\n        clearTimeout(timeoutId);\r\n\r\n        timeoutId = setTimeout(function () {\r\n            func.apply(context, args);\r\n        }, delay);\r\n    };\r\n}\r\n\r\nfunction handleStreetClick() {\r\n    const list = document.querySelector('._js-list-street-result');\r\n\r\n    if (list) {\r\n        list.addEventListener('click', (event) => {\r\n            if (event.target.tagName === 'DIV') {\r\n                const streetText = event.target.textContent;\r\n\r\n                const streetInput = document.getElementById('street');\r\n\r\n                streetInput.value = streetText;\r\n                list.classList.remove('active')\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nfunction toggleAddressInputVisible() {\r\n    var togglerNode = document.querySelector('.controll_wrap-toggle-container button')\r\n\r\n\tif (!togglerNode) return\r\n\r\n    var wrapperNode = togglerNode.parentNode\r\n    var inputNode = wrapperNode.querySelector('input')\r\n\r\n    togglerNode.addEventListener('click', () => {\r\n        wrapperNode.classList.toggle('toggled')\r\n        togglerNode.blur()\r\n        inputNode.focus()\r\n    })\r\n}\r\n\r\n$(document).ready(function ($) {\r\n    initToggleAuth()\r\n    newHeaderFix()\r\n    openJivoSiteMobile()\r\n    headerSearchOpener()\r\n    openFilterMobile()\r\n    openMobileBottomHeader()\r\n    closeRegionChoice()\r\n    fetchDaData()\r\n    handleStreetClick()\r\n    toggleAddressInputVisible()\r\n\r\n    $('[data-toggle=\"tooltip\"]').tooltip({\r\n        delay: { 'show': 400, 'hide': 100 }\r\n    })\r\n\r\n    if ($('.widget_wrap').length > 0) {\r\n        // dev скрипты\r\n        widgetDev()\r\n    }\r\n\r\n    // $('#query_autocomplite')\r\n\r\n    $('.btn_search_reset').on('click', function () {\r\n        var input = $(this)\r\n            .closest('form')\r\n            .find('#query_autocomplite');\r\n\r\n        $(input).val('');\r\n        $(input).focus();\r\n        checkResetSearchBtn();\r\n    });\r\n\r\n    $('#query_autocomplite').on('input', function () {\r\n        checkResetSearchBtn();\r\n    });\r\n\r\n    function checkResetSearchBtn() {\r\n        var resetBtn = $('.btn_search_reset');\r\n        var isFiled = $('#query_autocomplite').val().length > 0;\r\n    \r\n        isFiled\r\n            ? $(resetBtn).addClass('visible')\r\n            : $(resetBtn).removeClass('visible');\r\n    }\r\n})\r\n$(document).ready(function ($) {\r\n    $('.dyn_3,.dyn_2,.dyn_4').addClass('hide')\r\n\r\n    var anc = window.location.hash.replace('?&mobileDevice=1', '')\r\n    //var anc = window.location.hash.replace(\"#\",\"\");\r\n\r\n    switch (anc) {\r\n        case '#open_mobile_menu':\r\n            $('#menu_sandwich').click()\r\n            break\r\n        case '#js_open_nav_category':\r\n            $('#js_open_nav_category').click()\r\n            break\r\n        case '#open_mobile_menu_icons':\r\n            $('.elem_bars').click()\r\n            break\r\n        default:\r\n            break\r\n    }\r\n\r\n})\r\n$(document).on('click', '.widget_link_dynamic', function (e) {\r\n    e.preventDefault()\r\n    var $num = $(this).data('num')\r\n    $('.dyn').addClass('hide')\r\n    $('.dyn.' + $num).removeClass('hide')\r\n    $(document).trigger($num)\r\n})\r\n\r\n$(document).on('dyn_1', function (e) {\r\n    $('.msfavorites').addClass('voted')\r\n})\r\n\r\n$(document).on('dyn_2', function (e) {\r\n    $('.msfavorites').removeClass('voted')\r\n})\r\n\r\n$(document).on('dyn_3', function (e) {\r\n    $('.msfavorites').removeClass('voted')\r\n})\r\n\r\n$(document).on('dyn_4', function (e) {\r\n    $('.msfavorites').removeClass('voted')\r\n})\r\n/**\r\n * Скрипт нужен для mindbox чтобы тестировать отображение блоков\r\n * Грузится только когда есть переменная в адресной строке pm-test-form\r\n */\r\nif (window.location.hostname !== 'localhost' && window.location.search.search(\"pm-test-form\") === 1) {\r\n\r\n    // document.write('<script id=\"popmechanic-script\" type=\"text/javascript\" src=\"https://static.popmechanic.ru/service/loader.js?c=30391\" async=\"true\" defer=\"true\"></script>')\r\n    // document.write('<script src=\"https://api.mindbox.ru/scripts/v1/tracker.js\" async></script>')\r\n    // mindbox = window.mindbox || function() { mindbox.queue.push(arguments); };\r\n    // mindbox.queue = mindbox.queue || [];\r\n    // mindbox('create', {\r\n    //     endpointID: 'fandeco.ru'\r\n    // });\r\n\r\n    document.write('<script src=\"https://api.mindbox.ru/scripts/v1/tracker.js\" async></script>')\r\n    document.write('<script src=\"https://static.popmechanic.ru/service/loader.js?c=30391\" async></script>')\r\n    mindbox = window.mindbox || function () {\r\n        mindbox.queue.push(arguments)\r\n    }\r\n    mindbox.queue = mindbox.queue || []\r\n    mindbox('create', {\r\n        firebaseMessagingSenderId: '1031197085358'\r\n    })\r\n    mindbox('webpush.create')\r\n}\r\nfunction listFilterCleanProduct() {\r\n\tvar page = $('.main_filters').length\r\n\tif (page) {\r\n\t\tvar a = $('.main_filters').offset().left;\r\n\t\tvar w = $('.main_filters').width();\r\n\t\tvar b = +a + 0;\r\n\t\tvar a2 = $('.main_filters').offset().top;\r\n\t\tvar a3 = $('.main_filters').height();\r\n\t\t$('.clean_filters').css({ 'left': b, 'width': w });\r\n\t\t$(window).scroll(function () {\r\n\t\t\tvar g2 = $('.newfilterj').height();\r\n\t\t\tvar g1 = $('.newfilterj').offset().top;\r\n\t\t\tvar g3 = +g2 - g1 - 270;\r\n\t\t\tif ($(this).scrollTop() > g3) {\r\n\t\t\t\t$('.clean_filters').addClass('active');\r\n\t\t\t} else {\r\n\t\t\t\t$('.clean_filters').removeClass('active');\r\n\t\t\t};\r\n\t\t});\r\n\t}\r\n}\r\n\r\n$(document).ready(function () {\r\n\tlistFilterCleanProduct()\r\n})\r\n\r\n$(document).ready(function () {\r\n\tlistFilterCleanProduct()\r\n})\r\n\r\nconst toggleAboutProduct = document.getElementById('toggleAboutProduct');\r\n\r\nif (toggleAboutProduct) {\r\n\ttoggleAboutProduct.addEventListener('click', function () {\r\n\t\tvar container = document.querySelector(\r\n\t\t\t'.characteristics_collapsed_block');\r\n\t\t\r\n\t\tvar shadow = this.closest('.characteristics__footer');\r\n\t\t\r\n\t\tthis.classList.toggle('uncollapsed');\r\n\t\tshadow.classList.toggle('uncollapsed');\r\n\t\tcontainer.classList.toggle('characteristics_collapsed_show');\r\n\t});\r\n}\r\n/*\r\n    Callback function that is called immediately after JivoChat is loaded\r\n*/\r\nfunction jivo_onLoadCallback() {\r\n    // Create a DIV element for the label\r\n    window.jivo_cstm_widget = document.createElement('div')\r\n    jivo_cstm_widget.setAttribute('id', 'jivo_custom_widget')\r\n    document.body.appendChild(jivo_cstm_widget)\r\n\r\n    // Adds handlers click on the icon - to maximize the window when clicked\r\n    jivo_cstm_widget.onclick = function () {\r\n        //jivo_api.open()\r\n        // Окно активного приглашения\r\n        // https://www.dropbox.com/s/zqjih6kpk9gm8v8/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202022-01-10%20%D0%B2%2019.56.44.png?dl=0\r\n        // jivo_api.showProactiveInvitation()\r\n    }\r\n\r\n    // Change the CSS class if there are agents online\r\n    if (jivo_config.chat_mode == 'online') {\r\n        jivo_cstm_widget.setAttribute('class', 'jivo_online')\r\n    }\r\n\r\n    // Now you can show the user a shortcut\r\n    window.jivo_cstm_widget.style.display = 'block'\r\n\r\n}\r\n\r\n/*\r\n    Callback function jivo_onOpen and jivo_onClose called whenever the chat window JivoChat is expanded or collapsed by the user or by the proactive invitations rule.\r\n*/\r\nfunction jivo_onOpen() {\r\n    // If chat is deployed - hide shortcut\r\n    if (jivo_cstm_widget) {\r\n        jivo_cstm_widget.style.display = 'none'\r\n    }\r\n}\r\n\r\nfunction jivo_onClose() {\r\n    // If chat is minimized - show label\r\n    if (jivo_cstm_widget) {\r\n        jivo_cstm_widget.style.display = 'block'\r\n    }\r\n}\r\nfunction jivo_onOpen() {\r\ndocument.getElementById(\"jivocb\").style.display= \"none\";}\r\nfunction jivo_onClose() {\r\ndocument.getElementById(\"jivocb\").style.display= \"block\";\r\n}\r\n\r\n// Старый msearch2.js --- START\r\n// удалил из main.js, оставил как комментарий\r\n// components/msearch2.js\r\n// Старый msearch2.js --- FINISH\r\n\r\n// Новый msearch2.js --- START\r\n// Начинает по дефолту отправлять post запрос + выпадают ошибки в default.js, поэтому пока добавлять не стал\r\n// msearch2/_functions.js\r\n// msearch2/main.js\r\n// msearch2/Hash.js\r\n// msearch2/Suggestions.js\r\n// msearch2/Reset.js\r\n// msearch2/Selected.js\r\n// msearch2/Head.js\r\n// msearch2/Message.js\r\n// msearch2/Hash.js\r\n// msearch2/Skeleton.js\r\n// msearch2/History.js\r\n// msearch2/Spinner.js\r\n// msearch2/Toggle.js\r\n// msearch2/ScrollCheckbox.js\r\n// msearch2/Ready.js\r\n// msearch2/default.js\r\n// Новый msearch2.js --- FINISH\r\n\r\n/*  jQuery\r\nПоиск по в массиве с использованием транлитирации\r\n*/\r\n\r\nString.prototype.translit = String.prototype.translit || function () {\r\n    var str = this\r\n    var replace = ''\r\n    var replacer = {\r\n        'q': 'й',\r\n        'w': 'ц',\r\n        'e': 'у',\r\n        'r': 'к',\r\n        't': 'е',\r\n        'y': 'н',\r\n        'u': 'г',\r\n        'i': 'ш',\r\n        'o': 'щ',\r\n        'p': 'з',\r\n        '[': 'х', ']': 'ъ',\r\n        'a': 'ф',\r\n        's': 'ы',\r\n        'd': 'в',\r\n        'f': 'а',\r\n        'g': 'п',\r\n        'h': 'р',\r\n        'j': 'о',\r\n        'k': 'л',\r\n        'l': 'д',\r\n        ';': 'ж',\r\n        '\\'':\r\n            'э',\r\n        'z': 'я',\r\n        'x': 'ч',\r\n        'c': 'с',\r\n        'v': 'м',\r\n        'b': 'и',\r\n        'n': 'т',\r\n        'm': 'ь',\r\n        ',': 'б',\r\n        '.': 'ю',\r\n        '/': '.'\r\n    }\r\n\r\n    var newReplacer = swapString(replacer)\r\n    for (var i = 0; i < str.length; i++) {\r\n        if (replacer[str[i].toLowerCase()] !== undefined) {\r\n            if (str[i] === str[i].toLowerCase()) {\r\n                replace = replacer[str[i].toLowerCase()]\r\n            } else if (str[i] === str[i].toUpperCase()) {\r\n                replace = replacer[str[i].toLowerCase()].toUpperCase()\r\n            }\r\n            str = str.replace(str[i], replace)\r\n        }\r\n    }\r\n    return str\r\n}\r\nString.prototype.translitBack = String.prototype.translitBack || function () {\r\n    var str = this\r\n    var replace = ''\r\n    var replacer = swapString({\r\n        'q': 'й',\r\n        'w': 'ц',\r\n        'e': 'у',\r\n        'r': 'к',\r\n        't': 'е',\r\n        'y': 'н',\r\n        'u': 'г',\r\n        'i': 'ш',\r\n        'o': 'щ',\r\n        'p': 'з',\r\n        '[': 'х', ']': 'ъ',\r\n        'a': 'ф',\r\n        's': 'ы',\r\n        'd': 'в',\r\n        'f': 'а',\r\n        'g': 'п',\r\n        'h': 'р',\r\n        'j': 'о',\r\n        'k': 'л',\r\n        'l': 'д',\r\n        ';': 'ж',\r\n        '\\'':\r\n            'э',\r\n        'z': 'я',\r\n        'x': 'ч',\r\n        'c': 'с',\r\n        'v': 'м',\r\n        'b': 'и',\r\n        'n': 'т',\r\n        'm': 'ь',\r\n        ',': 'б',\r\n        '.': 'ю',\r\n        '/': '.'\r\n    })\r\n    for (var i = 0; i < str.length; i++) {\r\n        if (replacer[str[i].toLowerCase()] !== undefined) {\r\n            if (str[i] === str[i].toLowerCase()) {\r\n                replace = replacer[str[i].toLowerCase()]\r\n            } else if (str[i] === str[i].toUpperCase()) {\r\n                replace = replacer[str[i].toLowerCase()].toUpperCase()\r\n            }\r\n            str = str.replace(str[i], replace)\r\n        }\r\n    }\r\n    return str\r\n}\r\n\r\nfunction swapString (obj) {\r\n    var res = {}\r\n    Object.keys(obj).forEach(function (value) {\r\n        var key = obj[value]\r\n        res[key] = value\r\n    })\r\n    return res\r\n}\r\n\r\n\r\n(function ($) {\r\n    $.fn.findCheckList = function () {\r\n\r\n        var filterByName = '';\r\n        var inputs = this\r\n        for (var i = 0; i < inputs.length; i += 1) {\r\n            $(inputs[i]).closest('.ncatfilterun').find('.btn_reset_search').on('click', '', clearInput)\r\n            inputs[i].addEventListener('keyup', keyupHandler)\r\n        }\r\n\r\n        function clearInput () {\r\n            var $input = $(this).closest('.ncatfilterun').find('.terms_filter_input')\r\n            $input.val('')\r\n            keyupHandler.call(this)\r\n        }\r\n\r\n        function keyupHandler () {\r\n            var terms_filter = $(this).closest('.ncatfilterun').find('fieldset')\r\n            var check_wrap = $(this).closest('.ncatfilterun').find('fieldset')\r\n            var btn_reset_search = $(this).closest('.ncatfilterun').find('.btn_reset_search')\r\n            var filterItems = terms_filter.find('.fl_chek')\r\n\r\n            filterByName = this.value\r\n            var label = {}\r\n            var the_tit, text = ''\r\n            var countVisible = 0\r\n            for (var i = 0; i < filterItems.length; i++) {\r\n                if (!filterItems.hasOwnProperty(i)) {\r\n                    continue\r\n                }\r\n                label = filterItems[i]\r\n                text = $(label).find('span').text()\r\n                if (search(text)) {\r\n                    countVisible++\r\n                    label.style.display = ''\r\n                } else {\r\n                    label.style.display = 'none'\r\n                }\r\n            }\r\n\r\n            check_wrap.find('.terms_filter_empty_results').remove()\r\n            if (countVisible === 0) {\r\n                var emptyText = document.createElement('div')\r\n                emptyText.classList.add('terms_filter_empty_results')\r\n                emptyText.innerHTML = 'По вашемо запросу ничего не найдено'\r\n                check_wrap.append(emptyText)\r\n            }\r\n\r\n            if (filterByName.length > 0) {\r\n                btn_reset_search.show()\r\n            } else {\r\n                btn_reset_search.hide()\r\n            }\r\n\r\n        }\r\n\r\n        function search (text) {\r\n            if (filterByName.length === 0) {\r\n                return true\r\n            }\r\n            var label = text.toString().toLowerCase()\r\n            return (label.indexOf(filterByName.toLowerCase()) > -1 || label.indexOf(filterByName.translit().toLowerCase()) > -1 || label.indexOf(filterByName.translitBack().toLowerCase()) > -1)\r\n        }\r\n\r\n        return this;\r\n    };\r\n}(jQuery));\r\n/*  jQuery\r\nПоиск по в массиве с использованием транлитирации\r\n*/\r\n(function ($) {\r\n    $.fn.filterNoUiSlider = function () {\r\n\r\n        var sliders = this\r\n        for (var i = 0; i < sliders.length; i += 1) {\r\n            init.call(sliders[i])\r\n        }\r\n\r\n        function init () {\r\n\r\n            var self = this\r\n\r\n            var filter = this.getAttribute('data-filter')\r\n            var container = this.closest('.ncatslrange')\r\n            var inputs = [container.querySelector('.slider-input-min'), container.querySelector('.slider-input-max')]\r\n\r\n            // Имя поля\r\n            var name = inputs[0].getAttribute('name')\r\n\r\n            var debug = false\r\n\r\n            if (!inputs[1]) {\r\n                return true\r\n            }\r\n\r\n            var min = parseInt(inputs[0].getAttribute('data-current-value'))\r\n            var min_start = parseInt(inputs[0].getAttribute('value'))\r\n            var max = parseInt(inputs[1].getAttribute('data-current-value'))\r\n            var max_start = parseInt(inputs[1].getAttribute('value'))\r\n\r\n            // Если что то введено в адресную строку то устаналиваем что это сделал пользователь\r\n            var changed = mSearch2.Hash.get()[name] !== undefined\r\n            mSearch2.sliders[name] = {\r\n                changed: changed,\r\n                user_changed: changed\r\n            }\r\n\r\n            // Установка значения из заголовка\r\n            var values = mSearch2.Hash.get()\r\n\r\n            if (debug) {\r\n                console.log(min_start)\r\n            }\r\n\r\n            if (values[name]) {\r\n                var tmp = values[name].split(mse2Config['values_delimeter'])\r\n                if (tmp[0].match(/(?!^-)[^0-9\\.]/g)) {\r\n                    tmp[0] = tmp[0].replace(/(?!^-)[^0-9\\.]/g, '')\r\n                }\r\n                if (tmp.length > 1) {\r\n                    if (tmp[1].match(/(?!^-)[^0-9\\.]/g)) {\r\n                        tmp[1] = tmp[1].replace(/(?!^-)[^0-9\\.]/g, '')\r\n                    }\r\n                }\r\n                min_start = tmp[0]\r\n                max_start = tmp.length > 1 ? tmp[1] : tmp[0]\r\n            }\r\n\r\n            min_start = parseInt(min_start)\r\n            max_start = parseInt(max_start)\r\n\r\n            if (debug) {\r\n                console.log('start min ' + min + ' max ' + max)\r\n                console.log('start min_start ' + min_start + ' max_start ' + max_start)\r\n            }\r\n\r\n            var ranges_values = ranges(min, max)\r\n            if (debug) {\r\n                console.log(ranges_values)\r\n            }\r\n\r\n            noUiSlider.create(this, {\r\n                start: [min_start, max_start],\r\n                connect: true,\r\n                range: ranges_values,\r\n                format: {\r\n                    to: function (value) {\r\n                        return parseInt(value)\r\n                    },\r\n                    from: function (value) {\r\n                        return parseInt(value)\r\n                    }\r\n                }\r\n            })\r\n\r\n            this.noUiSlider.on('update', function (values, handle) {\r\n                if (debug) {\r\n                    console.log('update')\r\n                }\r\n                // Записываем только если были внесены изменения\r\n                if (mSearch2.sliders[name].changed || mSearch2.sliders[name].user_changed) {\r\n                    inputs[handle].value = values[handle]\r\n                }\r\n            })\r\n\r\n            this.noUiSlider.on('slide', function (values, handle) {\r\n                if (debug) {\r\n                    console.log('slide')\r\n                }\r\n                // Записываем только если были внесены изменения\r\n                if (!mSearch2.sliders[name].user_changed) {\r\n                    mSearch2.sliders[name].user_changed = true\r\n                }\r\n            })\r\n\r\n            function userChanged (values) {\r\n                if (debug) {\r\n                    console.log('userChanged')\r\n                }\r\n                fdkButtonFilterShow.fdkButton(inputs[0])\r\n\r\n                // Установка что произошли изменения\r\n                mSearch2.sliders[name]['changed'] = true\r\n                mSearch2.sliders[name]['user_changed'] = true\r\n\r\n                // Установка значения\r\n                mSearch2.sliders[name]['values'] = values\r\n\r\n                // Вызываем submit\r\n                $(inputs[0]).trigger('change')\r\n            }\r\n\r\n            this.noUiSlider.on('set.one', userChanged)\r\n\r\n            function handlerInput (value) {\r\n                switch (this.classList[0]) {\r\n                    case 'slider-input-min':\r\n                        self.noUiSlider.set([Number(value), null])\r\n                        break\r\n                    case 'slider-input-max':\r\n                        self.noUiSlider.set([null, Number(value)])\r\n                        break\r\n                    default:\r\n                        break\r\n                }\r\n            }\r\n\r\n            // Listen to keydown events on the input field.\r\n            inputs.forEach(function (input, handle) {\r\n                input.addEventListener('change', function () {\r\n                    if (debug) {\r\n                        console.log('change')\r\n                        console.log(this)\r\n                    }\r\n                    handlerInput.call(this, this.value)\r\n                })\r\n\r\n                input.addEventListener('keydown', function (e) {\r\n                    var values = self.noUiSlider.get()\r\n                    var value = Number(values[handle])\r\n                    var steps = self.noUiSlider.steps()\r\n\r\n                    if (debug) {\r\n                        console.log('keydown')\r\n                    }\r\n\r\n                    // [down, up]\r\n                    var step = steps[handle]\r\n                    var position\r\n                    // 13 is enter,\r\n                    // 38 is key up,\r\n                    // 40 is key down.\r\n                    switch (e.which) {\r\n                        case 13:\r\n                            if (debug) {\r\n                                console.log('keyword 13')\r\n                            }\r\n                            /// Кнопка работает по умолчанию\r\n                            //self.handlerInput(this, this.value)\r\n                            break\r\n                        case 38:\r\n                            if (debug) {\r\n                                console.log('keyword 38')\r\n                            }\r\n                            // Get step to go increase slider value (up)\r\n                            position = step[1]\r\n                            // false = no step is set\r\n                            if (position === false) {\r\n                                position = 1\r\n                            }\r\n                            // null = edge of slider\r\n                            if (position !== null) {\r\n                                self.handlerInput.call(this, value + position)\r\n                            }\r\n                            break\r\n\r\n                        case 40:\r\n\r\n                            if (debug) {\r\n                                console.log('keyword 40')\r\n                            }\r\n                            position = step[0]\r\n                            if (position === false) {\r\n                                position = 1\r\n                            }\r\n                            if (position !== null) {\r\n                                self.handlerInput.call(this, value + position)\r\n                            }\r\n                            break\r\n                    }\r\n                })\r\n            })\r\n\r\n        }\r\n\r\n        function ranges (min, max) {\r\n            // Когда одинаковые значения\r\n            if (min === max) {\r\n                return {\r\n                    'min': [min],\r\n                    'max': [max]\r\n                }\r\n            }\r\n            var ranges = {\r\n                'min': min,\r\n                'max': max\r\n            }\r\n\r\n            // Установка области для движения ползунка\r\n            if (max > 15000) {\r\n                ranges['80%'] = 15000\r\n            }\r\n            if (max > 100000) {\r\n                ranges['90%'] = 100000\r\n            }\r\n            return ranges\r\n        }\r\n\r\n        return this\r\n    }\r\n}(jQuery))\r\nvar fdkButtonFilterShow = {\r\n    params: {},\r\n    class: 'apply-filters-float-btn',\r\n    hideTimer: true,\r\n    main_filters: null,\r\n    button: null,\r\n    loader: null,\r\n    init: function () {\r\n\r\n\r\n        var main_filters = $('.main_filters');\r\n\r\n        if (main_filters.length) {\r\n            this.main_filters = main_filters[0]\r\n        }\r\n\r\n        $(document).on('click', '.fl_chek_con input[type=\"checkbox\"], .ncatfilcheck_marker input[type=\"checkbox\"].ncatcheckbox', function (e) {\r\n            fdkButtonFilterShow.fdkButton(this)\r\n        })\r\n\r\n        $(document).on('click', '.' + this.class, function (e) {\r\n            fdkButtonFilterShow.click()\r\n        })\r\n\r\n        $(document).on('click', '.ncatformsubm', function (e) {\r\n            fdkButtonFilterShow.click()\r\n        })\r\n\r\n        $(document).on('mse2_load', function (e, response) {\r\n            var element = $('.' + fdkButtonFilterShow.class);\r\n\r\n            if (element.length) {\r\n                var skware = element.find('div')\r\n                if (skware.length) {\r\n                    skware.html(response.data.total + ' шт.')\r\n                }\r\n            }\r\n\r\n            // Скрываем кнопку через 3000 секунд в случае если загрузка не успела завершиться\r\n            if ($(fdkButtonFilterShow.button).length > 0) {\r\n                fdkButtonFilterShow.hideTimer = setTimeout(fdkButtonFilterShow.hide.bind(), fdkButtonFilterShow.params.hideDelay)\r\n            }\r\n\r\n            $('.mse2_total').text(response.data.total)\r\n        })\r\n        this.setLoader()\r\n    },\r\n\r\n    click: function (e) {\r\n\r\n        var topScroll = $(mSearch2.options.wrapper).position().top;\r\n\r\n        topScroll = topScroll - 60;\r\n\r\n        $('html, body').animate({\r\n            scrollTop: topScroll || 0\r\n        }, 'slow');\r\n\r\n        var newfilterj = $('.newfilterj');\r\n\r\n        if (mSearch2.filterModalOpen) {\r\n            mSearch2.filterModalOpen = false;\r\n            mSearch2.submit();\r\n\r\n            setTimeout(function () {\r\n                if (newfilterj.length && newfilterj.hasClass('active')) {\r\n                    newfilterj.removeClass('active')\r\n                }\r\n            }, 300);\r\n\r\n        } else {\r\n            if (newfilterj.length && newfilterj.hasClass('active')) {\r\n                newfilterj.removeClass('active')\r\n            }\r\n        }\r\n\r\n        this.hide()\r\n    },\r\n\r\n    setLoader: function () {\r\n        this.loader = document.createElement('div');\r\n        this.loader.classList.add('sk-wave');\r\n\r\n        skrect1 = document.createElement('div');\r\n        skrect1.classList.add('sk-rect');\r\n        skrect1.classList.add('sk-rect-1');\r\n\r\n        skrect2 = document.createElement('div');\r\n        skrect2.classList.add('sk-rect');\r\n        skrect2.classList.add('sk-rect-2');\r\n\r\n        skrect3 = document.createElement('div');\r\n        skrect3.classList.add('sk-rect');\r\n        skrect3.classList.add('sk-rect-3');\r\n\r\n        // skrect4 = document.createElement('div'),\r\n        // skrect4.classList.add('sk-rect'),\r\n        // skrect4.classList.add('sk-rect-4')\r\n\r\n        this.loader.append(skrect1);\r\n        this.loader.append(skrect2);\r\n        this.loader.append(skrect3);\r\n        // this.loader.append(skrect4)\r\n    },\r\n\r\n    fdkButton: function (e) {\r\n        if (this.button) {\r\n            this.hide()\r\n        }\r\n\r\n        this.setLoader();\r\n\r\n        this.hideTimer = null;\r\n        e.hideDelay = e.hideDelay || 3e3, this.params = e;\r\n        this.button = document.createElement('div');\r\n        this.button.classList.add(this.class);\r\n        this.button.innerHTML = '<div class=\"sk-result\">Найдено<span>0 шт.</span></div>';\r\n        this.button.append(this.loader);\r\n        this.show(e);\r\n    },\r\n\r\n    show: function (element) {\r\n        this.params.parent = this.params.closest('.ncatfiltersector');\r\n        \r\n        if (null !== this.hideTimer) {\r\n            clearTimeout(this.hideTimer);\r\n        } else {\r\n            this.main_filters.appendChild(this.button);\r\n            var parentTop = this.main_filters.getBoundingClientRect().top;\r\n            var elementTop = this.params.getBoundingClientRect().top;\r\n            var n = elementTop - parentTop - this.button.clientHeight / 2;\r\n            this.button.style.top = n + 'px';\r\n\r\n            //this.hideTimer = setTimeout(this.hide.bind(this),this.params.hideDelay)\r\n            //this.hideTimer = setTimeout(this.hide.bind(this),this.params.hideDelay)\r\n        }\r\n\r\n\r\n        // TODO только для ВЕРСТКИ\r\n        // setTimeout(function () {\r\n        //     fdkButtonFilterShow.hide()\r\n        //     $('#mse2_results').css('opacity',1)\r\n        // }, 3300)\r\n    },\r\n\r\n    hide: function () {\r\n        fdkButtonFilterShow.button.remove();\r\n        clearTimeout(fdkButtonFilterShow.hideTimer);\r\n        fdkButtonFilterShow.hideTimer = null;\r\n    },\r\n}\r\nfdkButtonFilterShow.init();\r\nfunction openFilterList() {\r\n    $('.listing_filters_wrapperHeadline').click(function () {\r\n        $(this).toggleClass('active')\r\n        $(this).closest('.listing_filters_wrapper').find('.listing_filters_wrapperList').slideToggle(100)\r\n\r\n        var nextElement = $(this).parent().next()\r\n        if (nextElement.hasClass('listing_filters_slide_choice')) {\r\n            nextElement.toggleClass('hide')\r\n        }\r\n    })\r\n}\r\n\r\n/**\r\n * Раскрытие фильтров\r\n */\r\nfunction nCatFiltOp() {\r\n\r\n    // $('.check_wrap').each(function () {\r\n    //     var col = $(this).find('input[type=\"checkbox\"]').length\r\n    //     if (col < 6) {\r\n    //         var hei = col * 40\r\n    //     } else {\r\n    //         var hei = 220\r\n    //     }\r\n    //     $(this).css('height', hei)\r\n    // })\r\n\r\n    // // Для всех открытых автоматически накладываем скрол\r\n    // $('.ncatfiltitopener.active').each(function () {\r\n    //     var check_wrap = $(this).closest('.ncatfilterun').find('.check_wrap')\r\n    //     if (check_wrap.find('input[type=\"checkbox\"]').length > 5) {\r\n    //         var $check_wrap = $(this).closest('.ncatfilterun').find('.check_wrap')\r\n    //         var ps = new PerfectScrollbar($check_wrap[0], {\r\n    //             suppressScrollX: true,\r\n    //             suppressScrollY: false,\r\n    //             wheelPropagation: false,\r\n    //         })\r\n    //     }\r\n    // })\r\n\r\n\r\n    /**\r\n     * Объект в котором храним все Perfect Scrollbar \r\n     * элемнты с сгенерированными ключами\r\n     * \r\n     * Сгенерированный ключ, также добавляется в html ноду (button) \r\n     * для последующего поиска унжного элемента в массиве после клика\r\n     */\r\n    var psElements = {};\r\n\r\n    function initialPerfectScrollbar(el) {\r\n        return new PerfectScrollbar(el, {\r\n            suppressScrollX: true,\r\n            suppressScrollY: false,\r\n            wheelPropagation: false,\r\n        });\r\n    }\r\n\r\n    function destroyPerfectScrollbar(psEl) {\r\n        \r\n    }\r\n\r\n    // setTimeout(function () {\r\n    //     $('.ncatfiltitopener.active').each(function () {\r\n    //         var check_wrap = $(this).closest('.ncatfilterun').find('.check_wrap')\r\n    //         if (check_wrap.find('input[type=\"checkbox\"]').length > 5) {\r\n    //             scrollPerfectScrollbar(check_wrap[0])\r\n    //         }\r\n    //     })\r\n    // }, 300)\r\n\r\n    // Открывает фильтры\r\n    $('.ncatfiltitopener').click(function () {\r\n        $(this).closest('.ncatfilterun').find('.ncatfilcontainer').slideToggle()\r\n        $(this).toggleClass('active')\r\n        \r\n        \r\n        // Открываем фильтры и добавляем на них скролл бар\r\n        // var check_wrap = $(this).closest('.ncatfilterun').find('.check_wrap')\r\n        // if (check_wrap.find('input[type=\"checkbox\"]').length > 12) {\r\n        //     if (!check_wrap.hasClass('ps')) {\r\n        //         scrollPerfectScrollbar(check_wrap[0])\r\n        //     }\r\n        // }\r\n    })\r\n\r\n    $('.ncatfilcontainerout').click(function () {\r\n        $(this).closest('.ncatfilcontainerinnwrap').find('.ncatfilcontainerinn').slideToggle()\r\n        $(this).toggleClass('active')\r\n    })\r\n\r\n    // Разворачиваем фильтр на 10 элементов и добавляем скролл, если элементов больше 10.\r\n    $('.main_filters .show-more').on('click', function() {\r\n\r\n        var _this = this;\r\n\r\n        var scrollableContainer = $(this)\r\n            .closest('.ncatfilterun').find('.check_wrap')[0];\r\n\r\n        var searchContainer = $(this)\r\n            .closest('.ncatfilterun').find('.the_search.toggleable')[0];\r\n\r\n        var itemsCount = $(scrollableContainer)\r\n            .find('input[type=\"checkbox\"]').length;\r\n\r\n        $(this).toggleClass('show');\r\n        $(scrollableContainer).toggleClass('dropped');\r\n\r\n        // Если разворачиваем контейнер и элементов более 10, инициализируем PerfectScrollbar\r\n        if (itemsCount > 10\r\n            && !$(scrollableContainer).hasClass('ps')) {\r\n                $(searchContainer).addClass('show');\r\n                setTimeout(function() {\r\n                    var id = Date.now();\r\n                    var psEl = initialPerfectScrollbar(scrollableContainer);\r\n\r\n                    _this.dataset.psId = id;\r\n                    psElements[id] = psEl;\r\n\r\n                }, 330);\r\n            return;\r\n        }\r\n\r\n        // Когда сворачиваем контейнер, всегда убиваем PerfectScrollbar\r\n        $(searchContainer).removeClass('show');\r\n        var psId = this.dataset.psId;\r\n        if (psId) {\r\n            psElements[psId].destroy();\r\n            delete psElements[psId];\r\n            scrollableContainer.scrollTop = 0;\r\n        }\r\n    });\r\n}\r\n\r\n/*function chg () {\r\n        // Попытка сортировать\r\n    var nodeList = document.querySelectorAll('div[data-filter_key=\"plafond_color\"] .fl_chek')\r\n\r\n    var itemsArray = []\r\n    var parent = nodeList[0].parentNode\r\n    for (var i = 0; i < nodeList.length; i++) {\r\n        itemsArray.push(parent.removeChild(nodeList[i]))\r\n    }\r\n    itemsArray.sort(function (nodeA, nodeB) {\r\n        var textA = nodeA.querySelector('sup').textContent\r\n        var textB = nodeB.querySelector('sup').textContent\r\n        var numberA = parseInt(textA)\r\n        var numberB = parseInt(textB)\r\n        if (numberA < numberB) return -1\r\n        if (numberA > numberB) return 1\r\n        return 0\r\n    }).forEach(function (node) {\r\n        parent.appendChild(node)\r\n    })\r\n}*/\r\n\r\n$(document).ready(function () {\r\n    $('.terms_filter_input').findCheckList()\r\n    nCatFiltOp()\r\n    openFilterList()\r\n})\r\n\r\n// Throttling func\r\nwindow.throttle = (func, ms) => {\r\n    let isThrottled = false,\r\n        savedArgs,\r\n        savedThis\r\n\r\n    function wrapper() {\r\n\r\n        if (isThrottled) { // 2\r\n            savedArgs = arguments\r\n            savedThis = this\r\n            return\r\n        }\r\n\r\n        func.apply(this, arguments) // 1\r\n\r\n        isThrottled = true\r\n\r\n        setTimeout(function() {\r\n            isThrottled = false // 3\r\n            if (savedArgs) {\r\n                wrapper.apply(savedThis, savedArgs)\r\n                savedArgs = savedThis = null\r\n            }\r\n        }, ms)\r\n    }\r\n\r\n    return wrapper\r\n}\r\n\r\n// Drop and hide inner content\r\nconst initFiltersBadgesToggle = () => {\r\n    const toggle = document.querySelector('.filters__toggle-selects')\r\n    toggle.addEventListener('click', function() {\r\n        this\r\n            .closest('.filters__selected')\r\n            .classList\r\n            .toggle('show')\r\n    })\r\n}\r\n\r\nconst handleFiltersItemToggleClick = (toggle) => {\r\n    const isShow = toggle.classList.contains('show')\r\n    var collapse = toggle.nextElementSibling\r\n\r\n    if (isShow) {\r\n        toggle.classList.remove('show')\r\n        collapse.classList.remove('show')\r\n        return\r\n    }\r\n\r\n    toggle.classList.add('show')\r\n    collapse.classList.add('show')\r\n}\r\n\r\nconst initFiltersItemToggles = () => {\r\n    const togglers = Array.from(document\r\n        .querySelectorAll('.filters__toggle:not(:has(.filters__radio))'))\r\n\r\n    togglers.forEach(toggle => toggle\r\n        .addEventListener('click', function(e) {\r\n            e.preventDefault()\r\n            e.stopPropagation()\r\n            handleFiltersItemToggleClick(this)\r\n        }))\r\n}\r\n\r\n// Tooltips\r\nconst initFiltersTooltips = () => {\r\n    const tooltips = Array.from(document.querySelectorAll('.filters__tooltip'))\r\n\r\n    tooltips.forEach(tooltip => tooltip.addEventListener('click', function(e) {\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n    }))\r\n}\r\n\r\nconst hideAllFilterTooltips = () => {\r\n    const tooltips = Array.from(document\r\n        .querySelectorAll('.filters__tooltip'))\r\n\r\n    tooltips.forEach(tooltip => tooltip.classList.remove('show', 'visible'))\r\n}\r\n\r\nconst getPositionFiltersTooltipsActions = (node) => {\r\n    var rect = node.getBoundingClientRect()\r\n    var left = rect.left\r\n    var top = rect.top\r\n    return { left: left, top: top }\r\n}\r\n\r\nconst setFiltersTooltipPosition = (button, tooltip) => {\r\n    const {left, top} = getPositionFiltersTooltipsActions(button)\r\n    tooltip.style.left = `${left}px`\r\n    tooltip.style.top = `${top}px`\r\n}\r\n\r\nconst showSingleFiltersTooltip = (tooltip) => {\r\n    tooltip.classList.add('show')\r\n\r\n    setTimeout(\r\n        () => tooltip.classList.add('visible'),\r\n        100\r\n    )\r\n}\r\n\r\nconst handlerFiltersTooltipsActionsClick = (button) => {\r\n    const tooltip = button\r\n        .closest('.filters__toggle')\r\n        .querySelector('.filters__tooltip')\r\n\r\n    if (tooltip.classList.contains('show')) {\r\n        hideAllFilterTooltips()\r\n        return\r\n    }\r\n\r\n    window.innerWidth > 1200\r\n        ? setFiltersTooltipPosition(button, tooltip)\r\n        : tooltip.removeAttribute('style')\r\n\r\n    hideAllFilterTooltips()\r\n    showSingleFiltersTooltip(tooltip)\r\n}\r\n\r\nconst initFiltersTooltipsActions = () => {\r\n    const btns = Array.from(document.querySelectorAll('.filters__toggle strong'))\r\n\r\n    btns.forEach(btn => btn.addEventListener('click', function(e) {\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n        handlerFiltersTooltipsActionsClick(this)\r\n    }))\r\n}\r\n\r\nconst initHideAllFilterTooltipsOnWindow = () => {\r\n    const filterScrollBody = document.querySelector('.filters__scrollable')\r\n    filterScrollBody.addEventListener('scroll', hideAllFilterTooltips)\r\n\r\n    const filtersToggles = Array.from(document.querySelectorAll('.filters__toggle'))\r\n    filtersToggles.forEach(toggle => toggle.addEventListener('click', hideAllFilterTooltips))\r\n\r\n    window.addEventListener('resize', hideAllFilterTooltips)\r\n    document.addEventListener('click', hideAllFilterTooltips)\r\n}\r\n\r\nconst initHandlerFilterTooltipsClose = () => {\r\n    const buttons = Array.from(document\r\n        .querySelectorAll('.filters__tooltip-close'))\r\n\r\n    buttons.forEach(btn => btn.addEventListener(\r\n        'click',\r\n        hideAllFilterTooltips\r\n    ))\r\n}\r\n\r\n// Drop and hide Lists with controllers\r\nconst handlerFilterDropTogglerClick = (toggle) => {\r\n    const list = toggle.parentNode\r\n        .querySelector('.filters__controller-list')\r\n    const search = toggle.parentNode\r\n        .querySelector('.filters__search')\r\n\r\n    const isCompressed = !list.classList.contains('uncompressed')\r\n\r\n    if (isCompressed) {\r\n        list.classList.add('uncompressed')\r\n        search.classList.add('show')\r\n        toggle.innerText = 'Свернуть'\r\n        return\r\n    }\r\n\r\n    list.scrollTop = 0\r\n    list.classList.remove('uncompressed')\r\n    search.classList.remove('show')\r\n    toggle.innerText = 'Смотреть все'\r\n}\r\n\r\nconst initFiltersDropTogglers = () => {\r\n    const togglers = Array.from(document\r\n        .querySelectorAll('.filters__drop-toggler'))\r\n\r\n    togglers.forEach(toggle => toggle.addEventListener('click', function() {\r\n        handlerFilterDropTogglerClick(this)\r\n    }))\r\n}\r\n\r\n// Searching controllers lists\r\nconst checkFiltersDropToggler = (items) => {\r\n    const dropToggler = items[0]\r\n        .closest('.filters__dropdown')\r\n        .querySelector('.filters__drop-toggler')\r\n\r\n    const unfilteredVals = Array\r\n        .from(items)\r\n        .filter(item => !item\r\n            .closest('.filters__controller')\r\n            .classList.contains('invisible'))\r\n\r\n    unfilteredVals.length <= 10\r\n        ? dropToggler.classList.add('invisible')\r\n        : dropToggler.classList.remove('invisible')\r\n}\r\n\r\nconst parseFiltersRuText = (engStr) => {\r\n    const englishLayout = 'qwertyuiop[]asdfghjkl;\\'zxcvbnm,./'\r\n    const russianLayout = 'йцукенгшщзхъфывапролджэячсмитьбю.'\r\n\r\n    return engStr.split('').map(char => {\r\n        const index = englishLayout.indexOf(char)\r\n        return index > -1 ? russianLayout[index] : char\r\n    }).join('')\r\n}\r\n\r\nconst handleSearchInput = (e) => {\r\n    const input = e.target\r\n    const parent = input.closest('.filters__item')\r\n    const items = parent.querySelectorAll('.filters__checkbox .text')\r\n\r\n    for (const i of items) {\r\n        const parentNode = i.closest('.filters__controller')\r\n        let value = i.innerText.trim().toLowerCase().replace(/ё/g, 'е')\r\n        let marker = input.value.trim().toLowerCase().replace(/ё/g, 'е')\r\n        marker = parseFiltersRuText(marker)\r\n        const isContains = value.includes(marker)\r\n\r\n        parentNode.classList.remove('invisible')\r\n        if (!isContains) parentNode.classList.add('invisible')\r\n    }\r\n\r\n    checkFiltersDropToggler(items)\r\n}\r\n\r\nconst initFiltersSearchingIntoDropList = () => {\r\n    const searches = Array.from(document\r\n        .querySelectorAll('.filters__search input'))\r\n\r\n    searches.forEach(input => input.addEventListener(\r\n        'input',\r\n        handleSearchInput\r\n    ))\r\n}\r\n\r\n// Periods\r\nconst setFiltersInputFromRange = (node) => {\r\n    const val = node.value\r\n    const name = node.name\r\n    const type = node.dataset.target\r\n    const input = document.querySelector(`[data-range-name=\"${name}\"][data-range-type=\"${type}\"]`)\r\n    input.value = val\r\n    input.dispatchEvent(new Event('input'))\r\n}\r\n\r\nconst setFiltersRangeView = (node, val) => {\r\n    if (!val) val = node.value\r\n\r\n    const type = node.dataset.target\r\n    const bar = node.parentNode.querySelector('.bar')\r\n    const slide = node.parentNode.querySelector('.slide')\r\n    const max = node.max - node.min\r\n    const value = val - node.min\r\n    const percentValue = value / max * 100\r\n\r\n    slide.style.left = `${percentValue}%`\r\n\r\n    bar.style.width = type === 'min'\r\n        ? `calc(${100 - percentValue}% + 20px)`\r\n        : `calc(${percentValue}% + 20px)`\r\n}\r\n\r\nconst fixFiltersInputRangeValue = (val) => {\r\n    if (val === '.') val = ''\r\n\r\n    val = val.replace(/[^0-9.]/g, \"\") // вырезаем все кроме цифр и точки\r\n\r\n    val = val.replace(/\\.+/g, '.') // вырезаем несколько точек подряд\r\n\r\n    if ((val.match(/\\./g) || []).length > 1) { // если количество точке (не подряд) более одной\r\n        val = val.replace(/\\.$/, '') // отрезаем точку в конце строки\r\n    }\r\n\r\n    if (val.startsWith('0') && !val.startsWith('0.') && val.length > 1) { // вырезаем 0 есть он стоит первым символом без точки\r\n        val = val.slice(1)\r\n    }\r\n\r\n    return val\r\n}\r\n\r\nconst handleBlurPeriodInput = (node, e) => {\r\n    const type = node.dataset.rangeType\r\n    const name = node.dataset.rangeName\r\n    const target = document.querySelector(`[name=\"${name}\"][data-target=\"${type}\"]`)\r\n    let val = node.value\r\n\r\n    if (val === '') val = type === 'min'\r\n        ? target.min\r\n        : target.max\r\n\r\n    if (parseFloat(val) < parseFloat(target.min)) val = target.min\r\n    if (parseFloat(val) > parseFloat(target.max)) val = target.max\r\n\r\n    val = val.replace(/^\\./, \"0.\") // заменяем первую точку на .0\r\n\r\n    node.value = val\r\n    setFiltersRangeView(target, val)\r\n}\r\n\r\nconst initFiltersPeriods = () => {\r\n    const ranges = Array.from(document.querySelectorAll('.filters [type=\"range\"]'))\r\n    ranges.forEach(range => range.addEventListener('input', function() {\r\n        setFiltersInputFromRange(this)\r\n        setFiltersRangeView(this)\r\n    }))\r\n\r\n    const inputs = Array.from(document.querySelectorAll('.filters__period-values [type=\"text\"]'))\r\n    inputs.forEach(input => {\r\n        input.addEventListener('input', function(e) {\r\n            this.removeAttribute('data-current-value')\r\n            this.value = fixFiltersInputRangeValue(this.value)\r\n        })\r\n\r\n        input.addEventListener('keypress', function(e) {\r\n            if (e.key === \"Enter\") {\r\n                this.dispatchEvent(new Event('input'))\r\n                this.blur()\r\n            }\r\n        })\r\n\r\n        input.addEventListener('blur', function(e) {\r\n            if (this.dataset.currentValue) {\r\n                this.value = this.dataset.currentValue\r\n                return\r\n            }\r\n\r\n            handleBlurPeriodInput(this, e)\r\n        })\r\n\r\n        input.addEventListener('focus', function(e) {\r\n            const value = this.value\r\n            this.setAttribute('data-current-value', value)\r\n            this.value = ''\r\n        })\r\n    })\r\n}\r\n\r\n// Selects\r\nconst checkFiltersResetBadges = () => {\r\n    const nodes = Array.from(document\r\n        .querySelectorAll('.filters__selected button:not(.filters__reset)'))\r\n\r\n    const selected = document.querySelector('.filters__selected')\r\n\r\n    if (nodes.length === 0) selected.classList.add('invisible')\r\n}\r\n\r\nconst initFiltersRemoveSelected = () => {\r\n    const nodes = Array.from(document\r\n        .querySelectorAll('.filters__selected button:not(.filters__reset)'))\r\n\r\n    nodes.forEach(node => node.addEventListener('click', function() {\r\n        const targetName = this.dataset.targetName\r\n        const target = document.querySelector(`input[type=\"checkbox\"][name=\"${targetName}\"]`)\r\n\r\n        if (target) target.checked = false\r\n\r\n        this.parentNode.remove()\r\n        checkFiltersResetBadges()\r\n    }))\r\n}\r\n\r\n// Toggle filter modal\r\nconst initFiltersModal = () => {\r\n    const close = document.querySelector('.filters__close')\r\n    const togglers = Array.from(document.querySelectorAll('.show-filter'))\r\n    const modal = document.getElementById('filters')\r\n\r\n    const toggleFilter = () => {\r\n        if (modal.classList.contains('show')) {\r\n            document.body.classList.remove('filters-opem')\r\n            modal.classList.remove('visible')\r\n            setTimeout(() => modal.classList.remove('show'), 100)\r\n            return\r\n        }\r\n\r\n        document.body.classList.add('filters-opem')\r\n        modal.classList.add('show')\r\n        setTimeout(() => modal.classList.add('visible'), 100)\r\n    }\r\n\r\n    close.addEventListener('click', toggleFilter)\r\n    togglers.forEach(toggler => toggler.addEventListener('click', toggleFilter))\r\n}\r\n\r\n// Reset all filters\r\nconst initFiltersResetAll = () => {\r\n    // Checkboxes\r\n    const checkboxes = Array.from(document\r\n        .querySelectorAll('.filters [type=\"checkbox\"]'))\r\n\r\n    const resetCheckboxes = () => {\r\n        checkboxes.forEach(input => input.checked = false)\r\n    }\r\n\r\n    // Periods\r\n    const periods = Array.from(document\r\n        .querySelectorAll('.filters__period-values [type=\"text\"]'))\r\n\r\n    const resetPeriods = () => {\r\n        periods.forEach(input => {\r\n            input.value = input.dataset.resetValue\r\n            input.dispatchEvent(new Event('blur'))\r\n        })\r\n    }\r\n\r\n    // Selects\r\n    const selects = Array.from(document\r\n        .querySelectorAll('.filters__selected li:not(.filters__toggle-selects)'))\r\n\r\n    const resetSelects = () => {\r\n        selects.forEach(select => select.remove())\r\n        checkFiltersResetBadges()\r\n    }\r\n\r\n    // Event\r\n    const btns = document.querySelectorAll('.filters .filters__reset')\r\n\r\n    btns.forEach(btn => btn.addEventListener(\r\n        'click',\r\n        () => {\r\n            resetCheckboxes()\r\n            resetPeriods()\r\n            resetSelects()\r\n        }\r\n    ))\r\n}\r\n\r\n// Filtering\r\nlet isFilteringProcess = false\r\n\r\nconst setFilters = () => {\r\n    if (isFilteringProcess) return\r\n\r\n    isFilteringProcess = true\r\n\r\n    const resultsNode = document.querySelector('.filters__results')\r\n    resultsNode.classList.add('loading')\r\n\r\n    console.log('Собираем данные со всех инпутов, обновляем модель данных, делаем запрос количества на сервер');\r\n\r\n    const timeoutId = setTimeout(() => {\r\n        isFilteringProcess = false\r\n        resultsNode.classList.remove('loading')\r\n        clearTimeout(timeoutId)\r\n    }, 3000)\r\n}\r\n\r\nconst throttledSetFilters = window.throttle(setFilters, 1000)\r\n\r\nconst initFiltersFiltering = () => {\r\n    let inputList = Array.from(document\r\n        .querySelectorAll('.filters input:not([type=\"range\"])'))\r\n\r\n    inputList = inputList.filter(input => !input.closest('.filters__search'))\r\n\r\n    inputList.forEach(input => input.addEventListener('input', throttledSetFilters))\r\n}\r\n\r\n// Sticky filter header\r\nconst handleFiltersScroll = (filters) => {\r\n    const filtersHeader = document.querySelector('.filters__header')\r\n    const filtersScrollTop = filters.scrollTop\r\n    const filtersHeaderHeight = filtersHeader.offsetHeight\r\n\r\n    filtersScrollTop > filtersHeaderHeight\r\n        ? filtersHeader.classList.add('sticky')\r\n        : filtersHeader.classList.remove('sticky')\r\n}\r\n\r\nconst initFiltersStickyHeader = () => {\r\n    const filtersScrollable = document\r\n        .querySelector('.filters__scrollable')\r\n\r\n    filtersScrollable.addEventListener('scroll', function() {\r\n        handleFiltersScroll(this)\r\n    })\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n    const isFilters = document.querySelector('.filters')\r\n    if (!isFilters) return\r\n\r\n    // Dropdowns\r\n    initFiltersItemToggles()\r\n    initFiltersBadgesToggle()\r\n\r\n    // Tooltips\r\n    initFiltersTooltips()\r\n    initFiltersTooltipsActions()\r\n    initHideAllFilterTooltipsOnWindow()\r\n    initHandlerFilterTooltipsClose()\r\n    initFiltersDropTogglers()\r\n\r\n    // Searching\r\n    initFiltersSearchingIntoDropList()\r\n\r\n    // Periods\r\n    initFiltersPeriods()\r\n\r\n    // Selects\r\n    initFiltersRemoveSelected()\r\n\r\n    // Toggle filter modal\r\n    initFiltersModal()\r\n\r\n    // Reset all Filters\r\n    initFiltersResetAll()\r\n\r\n    // Filtering\r\n    initFiltersFiltering()\r\n\r\n    // Sticky header\r\n    initFiltersStickyHeader()\r\n})\r\n\r\n// Тогглим бэйджи с выбранными параметрами фильтрации --- START\r\nwindow.addEventListener('load', () => {\r\n    const toggler = document.querySelector('.ecommerce-hide')\r\n\r\n    if (toggler) {\r\n        toggler.addEventListener('click', function() {\r\n            this.closest('.ecommerce-selected')\r\n                .classList.toggle('show')\r\n        })\r\n    }\r\n})\r\n// Тогглим бэйджи с выбранными параметрами фильтрации --- FINISH\r\nfunction cooperationTabs() {\r\n\t$('.cooperation_tabButtons .btn').click(function (e) {\r\n\t\te.preventDefault()\r\n\t\t$('.cooperation_tabButtons .btn').removeClass('active')\r\n\t\t$(this).addClass('active')\r\n\t\tvar a = $(this).attr('data-tab')\r\n\t\t$('.cooperation_advantages_tab').removeClass('active')\r\n\t\t$('.cooperation_advantages_tab' + a).addClass('active')\r\n\t\t$('.cooperation_banner').removeClass('active')\r\n\t\t$('.cooperation_banner' + a).addClass('active')\r\n\t})\r\n\r\n\t$('.cooperation_tabButtons_mob').click(function (j) {\r\n\t\tj.preventDefault()\r\n\t\t$('.cooperation_tabButtons_mob').removeClass('active')\r\n\t\t$(this).addClass('active')\r\n\t\tvar a = $(this).attr('data-tab')\r\n\t\t$('.cooperation_advantages_tab').removeClass('active')\r\n\t\t$('.cooperation_advantages_tab' + a).addClass('active')\r\n\t\t$('.cooperation_banner').removeClass('active')\r\n\t\t$('.cooperation_banner' + a).addClass('active')\r\n\t})\r\n}\r\n\r\n$(document).ready(function () {\r\n\tcooperationTabs()\r\n\t$(\".mask_phone\").inputmask(\"(999) 999-99-99\");\r\n})\r\n\r\n// Card Product\r\n\r\nLazyLoadConfig = {\r\n    cls: 'lazyload_img',\r\n}\r\nvar LazyLoad = {\r\n    timeout: 2000,\r\n    load: function () {\r\n        var selector = '.' + LazyLoadConfig.cls\r\n        var imagesElements = $(selector).not(selector + 'InitSuccess')\r\n        if (imagesElements.length > 0) {\r\n            lazyload(imagesElements, {selector: LazyLoadConfig.cls})\r\n            imagesElements.addClass(LazyLoadConfig.cls + 'InitSuccess')\r\n        }\r\n    },\r\n}\r\nLazyLoad.load()\r\nfunction cardToolTip () {\r\n    $('.item-article__3dmodel, .reviews__3d-model').tooltip({\r\n        title: 'Есть 3D модель',\r\n        fallbackPlacements: ['right'],\r\n        placement: 'right',\r\n        //delay: 300,\r\n        padding: 0,\r\n        trigger: 'hover',\r\n        delay: { \"show\": 300, \"hide\": 0 }\r\n    })\r\n    $('.item-article__ies').tooltip({\r\n        title: 'Есть IES файл',\r\n        fallbackPlacements: ['right'],\r\n        placement: 'right',\r\n        //delay: 300,\r\n        padding: 0,\r\n        trigger: 'hover',\r\n        delay: { \"show\": 300, \"hide\": 0 }\r\n    })\r\n    $('.item-article__yottube, .reviews__youtube').tooltip({\r\n        title: 'Смотреть видео',\r\n        fallbackPlacements: ['right'],\r\n        placement: 'right',\r\n        //delay: 300,\r\n        padding: 0,\r\n        trigger: 'hover',\r\n        delay: { \"show\": 300, \"hide\": 0 }\r\n    })\r\n\r\n    $('.item-badges__el_tv').tooltip({\r\n        title: 'Участник телепередачи',\r\n        fallbackPlacements: ['right'],\r\n        placement: 'right',\r\n        padding: 0,\r\n        trigger: 'hover',\r\n        delay: { \"show\": 300, \"hide\": 0 }\r\n    });\r\n\r\n    $('.item-badges__el_water-drop').tooltip({\r\n        title: 'Для влажных помещений',\r\n        fallbackPlacements: ['right'],\r\n        placement: 'right',\r\n        padding: 0,\r\n        trigger: 'hover',\r\n        delay: { \"show\": 300, \"hide\": 0 }\r\n    });\r\n}\r\n\r\n/**\r\n * Выбор сортировки\r\n */\r\nfunction filtesDropSort () {\r\n\r\n    $(document).on('click', '.ecommerce-header__sort .dropdown-menu a', function (e) {\r\n        e.preventDefault()\r\n        var $btn = $(this).closest('.ecommerce-header__sort').find('.ecommerce-header__sort__btn')\r\n        var sort = $(this).data('value')\r\n        var array = sort.split(':')\r\n        var field = array[0]\r\n        var dir = array[1]\r\n        var name = $(this).text()\r\n        $('.ecommerce-header__sort__name')\r\n            .text(name)\r\n\r\n        $btn.removeClass('ecommerce-header__sort__asc')\r\n            .removeClass('ecommerce-header__sort__desc')\r\n            .addClass('ecommerce-header__sort__' + dir)\r\n    })\r\n}\r\n\r\n/**\r\n * Удаление фильтра\r\n */\r\nfunction filtesClearFilterButton () {\r\n    $(document).on('click', '#mse2_selected a', function (e) {\r\n        e.preventDefault()\r\n        console.log(this)\r\n        $(this).remove()\r\n    })\r\n}\r\n\r\n/**\r\n * Выбор вид товара grid или list\r\n */\r\nfunction filtesChangeView () {\r\n\r\n    $(document).on('click', '.ecommerce-header__view__btn-list-view,.ecommerce-header__view__btn-grid-view', function (e) {\r\n        e.preventDefault()\r\n\r\n        var value\r\n        if (window.screen.width < 768) {\r\n            // mobile\r\n            $('.ecommerce-header__view label:not(.active)').addClass('active')\r\n            $(this).removeClass('active')\r\n            value = $('.ecommerce-header__view label.active').find('input').val()\r\n        } else {\r\n            // desktop\r\n            $('.ecommerce-header__view label').removeClass('active')\r\n            $(this).addClass('active')\r\n            value = $('.ecommerce-header__view label.active').find('input').val()\r\n        }\r\n\r\n        switch (value) {\r\n            case 'grid-view':\r\n                $('.list-view').removeClass('list-view').addClass('grid-view')\r\n                break\r\n            case 'list-view':\r\n                $('.grid-view').removeClass('grid-view').addClass('list-view')\r\n                break\r\n            default:\r\n                break\r\n        }\r\n\r\n\r\n\r\n        // нажимаем на первую картинки чтобы касание пересчитала размеры\r\n        $('.item-slider .item-slider__dot:first-child').click()\r\n\r\n    })\r\n\r\n}\r\n\r\n/**\r\n * Выстраиваем выбранные фильтры в строку с возможностью drag\r\n */\r\nfunction filterDragSelected () {\r\n\r\n    if ($('#mse2_selected').length === 0) {\r\n        return false\r\n    }\r\n\r\n    const slider = document.querySelector('#mse2_selected')\r\n    let isDown = false\r\n    let startX\r\n    let scrollLeft\r\n    slider.addEventListener('mousedown', (e) => {\r\n        isDown = true\r\n        slider.classList.add('active')\r\n        startX = e.pageX - slider.offsetLeft\r\n        scrollLeft = slider.scrollLeft\r\n    })\r\n    slider.addEventListener('mouseleave', () => {\r\n        isDown = false\r\n        slider.classList.remove('active')\r\n    })\r\n    slider.addEventListener('mouseup', () => {\r\n        isDown = false\r\n        slider.classList.remove('active')\r\n    })\r\n    slider.addEventListener('mousemove', (e) => {\r\n        if (!isDown) return\r\n        e.preventDefault()\r\n        const x = e.pageX - slider.offsetLeft\r\n        const walk = (x - startX) * 3 //scroll-fast\r\n        slider.scrollLeft = scrollLeft - walk\r\n    })\r\n}\r\n\r\n\r\nfunction cardShowAllLable () {\r\n\r\n    $(document).on('click', '.item-label__caret', function (e) {\r\n        e.preventDefault()\r\n\r\n        var $label = $(this).closest('.item-label')\r\n\r\n        $label.toggleClass('active')\r\n    })\r\n\r\n    $(document).on('click', '.btn-favorite', function (e) {\r\n        e.preventDefault()\r\n        $(this).toggleClass('voted')\r\n    })\r\n\r\n    $(document).on('click', '.btn-compare', function (e) {\r\n        e.preventDefault()\r\n        $(this).toggleClass('added')\r\n    })\r\n\r\n    /**\r\n     * После нажатия на кнопку в корзину, добавляет preloader\r\n     */\r\n    $(document).on('click', '.btn-cart', function (e) {\r\n        e.preventDefault()\r\n        $(this).closest('.ecommerce-card').addClass('fdk_load')\r\n    })\r\n\r\n}\r\n\r\n/* Выбор представления товаров - список или коллекции */\r\nfunction filtersItemViews () {\r\n    var controller = $('.toggle-collections input');\r\n    var itemCollections = $('#productCollections');\r\n    var itemLists = $('#mse2_results');\r\n\r\n    $(controller).on('change', function () {\r\n        if (this.checked) {\r\n            $(itemLists).show();\r\n            $(itemCollections).css('display', 'none');\r\n        } else {\r\n            $(itemLists).hide();\r\n            $(itemCollections).css('display', 'flex');\r\n        }\r\n    });\r\n}\r\n\r\n$(document).ready(function () {\r\n    filtersItemViews();\r\n});\r\n\r\n$(function () {\r\n    cardToolTip()\r\n    // filtesDropSort()\r\n    // filtesChangeView()\r\n    // filtesClearFilterButton()\r\n    // cardShowAllLable()\r\n    // filterDragSelected()\r\n})\r\n/**\r\n * Установить выбранную точку\r\n * @param slideIndex\r\n */\r\nfunction esliderSetDot (slideIndex, mode) {\r\n    mode = mode === 'slide_dot' ? 'slide_dot' : 'dot'\r\n    var $el = $(this).closest('.item-img')\r\n    switch (mode) {\r\n        case 'dot':\r\n            // Указываем только выбранную точку по индексу\r\n            $el.find('.item-slider__dot').removeClass('active')\r\n            $el.find('.item-slider__dot[data-index=\"' + slideIndex + '\"]').addClass('active')\r\n            break\r\n        case 'slide_dot':\r\n            // Выбираем нужный слайд\r\n            slideIndex++;\r\n\r\n            // Получаем свайпер и устанавливаем слайд\r\n            $el.find('.eslider-list')[0].swiper.slideTo(slideIndex);\r\n\r\n            // dot устанавливать не надо так как в событии slideChange он сам переключиться\r\n            break\r\n        default:\r\n            break\r\n    }\r\n}\r\n\r\n/**\r\n * Устанавливается зона\r\n * @returns {boolean}\r\n */\r\nfunction esliderHoverZone () {\r\n    esliderSetDot.call($(this), $(this).data('index'), 'slide_dot')\r\n    return false\r\n}\r\n\r\n$(document).ready(function ($) {\r\n\r\n    // Только для десктопной версии надо подключать\r\n\r\n    // Наведение на зону\r\n    $('.item-images__zone').hoverIntent({\r\n        over: esliderHoverZone,\r\n        out: function () {},\r\n        timeout: 100,\r\n        interval: 25\r\n    })\r\n    LazyLoad.load()\r\n\r\n    new Swiper('.eslider-list', {\r\n        slidesPerView: 1,\r\n        // spaceBetween: 1,\r\n\r\n        loop: true,\r\n        grabCursor: true,\r\n\r\n        observer: true, // перестраивать при изменении одного из контейнеров (родитель или потомок)\r\n        observeParents: true, // перестравать при изменении родителя\r\n        observeSlideChildren: true, // перестраивать при изменении потомка\r\n\r\n        // Disable preloading of all images\r\n        preloadImages: true,\r\n        // Enable lazy loading\r\n       lazy: {\r\n            enabled: true,\r\n            checkInView: true,\r\n            loadOnTransitionStart: true,\r\n        },\r\n        on: {\r\n            slideChange: (e) => {\r\n                // Устанавливаем точку\r\n                esliderSetDot.call(e.$el, e.realIndex)\r\n            }\r\n        }\r\n    })\r\n\r\n    /**\r\n     * Устанавливается точка и указывается слайдер\r\n     */\r\n    $(document).on('click', '.item-slider__dot', function (e) {\r\n        e.preventDefault()\r\n        esliderSetDot.call($(this), $(this).data('index'), 'slide_dot')\r\n    })\r\n\r\n})\r\n\r\n$(function () {\r\n    $('.ecommerce-card').map(function (index, item) {\r\n        var $item = $(item)\r\n\r\n\r\n\r\n        var $label = $item.find('.item-label')\r\n        var $slider__dot = $item.find('.item-slider .item-slider__dot:first')\r\n        if ($slider__dot.length> 0) {\r\n            $slider__dot.addClass('active');\r\n        }\r\n\r\n\r\n        var num = index\r\n        num++;\r\n        switch (num) {\r\n            case 1:\r\n            case 3:\r\n            case 4:\r\n            case 8:\r\n                //$label.addClass('active')\r\n                break\r\n            default:\r\n                break\r\n        }\r\n\r\n        switch (num){\r\n            case 4:\r\n                $item.find('.btn-favorite').addClass('voted')\r\n                $item.find('.btn-compare').addClass('added')\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n\r\n    })\r\n\r\n})\r\n// Быстрые ссылки\r\n$(function () {\r\n\r\n    var popularcategories = new Swiper('.e_fast_link', {\r\n        slidesPerView: 8,\r\n        spaceBetween: 10,\r\n        scrollbar: {\r\n            draggable: true,\r\n            el: '.swiper-scrollbar',\r\n            hide: true,\r\n        },\r\n        breakpoints: {\r\n            320: {\r\n                slidesPerView: 2.75,\r\n                spaceBetween: 5\r\n            },\r\n            360: {\r\n                slidesPerView: 3.5,\r\n                spaceBetween: 5\r\n            },\r\n            400: {\r\n                slidesPerView: 3.5,\r\n                spaceBetween: 5\r\n            },\r\n            500: {\r\n                slidesPerView: 4,\r\n                spaceBetween: 10\r\n            },\r\n            650: {\r\n                slidesPerView: 5,\r\n                spaceBetween: 10\r\n            },\r\n            768: {\r\n                slidesPerView: 5,\r\n                spaceBetween: 10\r\n            },\r\n            992: {\r\n                slidesPerView: 6,\r\n                spaceBetween: 10\r\n            },\r\n            1200: {\r\n                slidesPerView: 6,\r\n                spaceBetween: 10\r\n            },\r\n            1400: {\r\n                slidesPerView: 8,\r\n                spaceBetween: 10\r\n            },\r\n        }\r\n    })\r\n\r\n    var ecommerceTop;\r\n    var isSwiperInitialized = false;\r\n    var containerWidth = 767;\r\n\r\n    function initSwiper() {\r\n        if (window.innerWidth <= containerWidth && !isSwiperInitialized) {\r\n            ecommerceTop = new Swiper('.ecommerce_top__filters-results', {\r\n                slidesPerView: 'auto',\r\n                spaceBetween: 10,\r\n                freeMode: true,\r\n                watchOverflow: true\r\n            });\r\n            isSwiperInitialized = true;\r\n        }\r\n\r\n        if (window.innerWidth > containerWidth && isSwiperInitialized) {\r\n            ecommerceTop.destroy(true, true);\r\n            isSwiperInitialized = false;\r\n        }\r\n    }\r\n\r\n    initSwiper();\r\n    window.addEventListener('resize', initSwiper);\r\n})\r\nfunction initProductPreviewsSlider(htmlNode) {\r\n    const swiperNode = htmlNode.querySelector('.swiper')\r\n\r\n    return new Swiper(swiperNode, {\r\n        slidesPerView: 'auto',\r\n        observer: true,\r\n        observeParents: true,\r\n        observeSlideChildren: true,\r\n        watchOverflow: true,\r\n        mousewheel: true,\r\n\r\n        breakpoints: {\r\n            576: {\r\n                direction: 'vertical'\r\n            }\r\n        },\r\n\r\n        navigation: {\r\n            nextEl: '.swiper-button-next',\r\n            prevEl: '.swiper-button-prev',\r\n        },\r\n\r\n        on: {\r\n            init: function() {\r\n                if (this.slides.length === 1) {\r\n                    htmlNode.querySelector('.swiper-button-prev').remove()\r\n                    htmlNode.querySelector('.swiper-button-next').remove()\r\n                }\r\n            }\r\n        }\r\n    })\r\n}\r\n\r\nfunction initDisplayControllers(display, swiper) {\r\n    const prevBtn = display.querySelector('.swiper-button-prev')\r\n    const nextBtn = display.querySelector('.swiper-button-next')\r\n\r\n    prevBtn.addEventListener('click', function(evt) {\r\n        evt.stopPropagation()\r\n        setPreviewsActiveSlide(swiper, 'prev', display)\r\n    })\r\n\r\n    nextBtn.addEventListener('click', function(evt) {\r\n        evt.stopPropagation()\r\n        setPreviewsActiveSlide(swiper, 'next', display)\r\n    })\r\n}\r\n\r\nfunction setPreviewsActiveSlide(swiper, direction, display) {\r\n    const lastSlideIdx = swiper.slides.length - 1\r\n    const activeSlideIdx = swiper.slides\r\n        .findIndex(function(el) {\r\n            return el.classList.contains('active')\r\n        })\r\n\r\n    resetActiveSlide(swiper, activeSlideIdx)\r\n\r\n    switch (direction) {\r\n        case 'prev': goToPrev()\r\n            break\r\n        case 'next': goToNext()\r\n            break\r\n    }\r\n\r\n    function goToPrev() {\r\n        if (activeSlideIdx === 0) { // go to the End\r\n            updateActiveSlideTo(swiper, lastSlideIdx, display)\r\n            swiper.slideTo(lastSlideIdx)\r\n            return\r\n        }\r\n\r\n        updateActiveSlideTo(swiper, activeSlideIdx - 1, display)\r\n        swiper.slideTo(activeSlideIdx - 1)\r\n    }\r\n\r\n    function goToNext() {\r\n        if (activeSlideIdx === lastSlideIdx) { // go to the Start\r\n            updateActiveSlideTo(swiper, 0, display)\r\n            swiper.slideTo(0)\r\n            return\r\n        }\r\n\r\n        updateActiveSlideTo(swiper, activeSlideIdx + 1, display)\r\n        swiper.slideTo(activeSlideIdx + 1)\r\n    }\r\n}\r\n\r\nfunction resetActiveSlide(swiper, idx) {\r\n    swiper.slides[idx].classList.remove('active')\r\n}\r\n\r\nfunction updateActiveSlideTo(swiper, idx, display) {\r\n    swiper.slides[idx].classList.add('active')\r\n    updateDisplayContent(swiper.slides[idx], display)\r\n}\r\n\r\nfunction isImage(url) {\r\n    const imageExtensions = ['jpeg', 'jpg', 'gif', 'png', 'webp'];\r\n    for (var i = 0; i < imageExtensions.length; i++) {\r\n        const el = imageExtensions[i]\r\n        if (url.toLowerCase().includes('.' + el)) {\r\n            return true\r\n        }\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\nfunction updateDisplayContent(activeSlide, display) {\r\n    const container = display.querySelector('.presentation__display-content')\r\n    const item = activeSlide.querySelector('[data-source]')\r\n\r\n    const newNode = createMediaElement(\r\n        item.dataset.source,\r\n        item.dataset.zoom,\r\n        item.dataset.poster\r\n    )\r\n\r\n    while (container.firstChild) {\r\n        container.removeChild(container.firstChild)\r\n    }\r\n\r\n    container.appendChild(newNode)\r\n}\r\n\r\nfunction createMediaElement(source, zoom, poster) {\r\n\r\n    // for images\r\n    if (isImage(source)) {\r\n        const div = document.createElement('div')\r\n\r\n        const img = document.createElement('img')\r\n        img.src = source\r\n        img.loading = 'lazy'\r\n        img.alt = ''\r\n        img.classList.add('presentation__display-view')\r\n\r\n        const canvas = document.createElement('div')\r\n        canvas.classList.add('presentation__display-zoom')\r\n        canvas.style.backgroundImage = 'url(\"' + zoom + '\")'\r\n        canvas.style.backgroundPosition = \"0% 0%\"\r\n\r\n        // const saverImg = document.createElement('img')\r\n        // saverImg.src = source\r\n        // saverImg.loading = 'lazy'\r\n        // saverImg.alt = ''\r\n        // saverImg.classList.add('presentation__display-saver')\r\n\r\n        div.appendChild(img)\r\n        // if (zoom) div.appendChild(canvas)\r\n        // div.appendChild(saverImg)\r\n\r\n        return div\r\n    }\r\n\r\n    // for video\r\n    const a = document.createElement('a')\r\n    a.href = source\r\n    a.dataset.fancybox = 'video-gallery'\r\n    a.classList.add('video-link')\r\n\r\n    if (source.includes('rutube')) {\r\n        a.dataset.type='iframe'\r\n        a.classList.add('_rt')\r\n    } else {\r\n        a.classList.add('_yt')\r\n    }\r\n\r\n    const img = document.createElement('img')\r\n    img.src = poster\r\n    img.loading = 'lazy'\r\n    img.alt = ''\r\n\r\n    a.appendChild(img)\r\n\r\n    return a\r\n}\r\n\r\nfunction initClickHandlerOnSlide(display, swiper) {\r\n    const slides = Array.from(swiper.el.querySelectorAll('.swiper-slide'))\r\n\r\n    slides.forEach(function(slide) {\r\n        slide.addEventListener('click', function() {\r\n            const currentActiveIdx = slides.findIndex(function(el) {\r\n                return el.classList.contains('active')\r\n            })\r\n\r\n            const newActiveIdx = slides.findIndex(function(el) {\r\n                return el === slide\r\n            })\r\n\r\n            resetActiveSlide(swiper, currentActiveIdx)\r\n            updateActiveSlideTo(swiper, newActiveIdx, display)\r\n        })\r\n    })\r\n}\r\n\r\nfunction addSwiperHandler(display, swiper) {\r\n    var xDown = null\r\n    var yDown = null\r\n\r\n    function handleTouchStart(e) {\r\n        xDown = e.touches[0].clientX\r\n        yDown = e.touches[0].clientY\r\n    }\r\n\r\n    function handleTouchMove(e) {\r\n        if (!xDown || !yDown) return\r\n\r\n        const xUp = e.touches[0].clientX\r\n        const yUp = e.touches[0].clientY\r\n\r\n        const xDiff = xDown - xUp\r\n        const yDiff = yDown - yUp\r\n\r\n        if (Math.abs(xDiff) > Math.abs(yDiff)) {\r\n            if (xDiff > 0) {\r\n                setPreviewsActiveSlide(swiper, 'next', display)\r\n            } else {\r\n                setPreviewsActiveSlide(swiper, 'prev', display)\r\n            }\r\n        }\r\n\r\n        xDown = null\r\n        yDown = null\r\n    }\r\n\r\n    display.addEventListener('touchstart', handleTouchStart, false)\r\n    display.addEventListener('touchmove', handleTouchMove, false)\r\n}\r\n\r\n// function initZoom(display) {\r\n\r\n//     if ('ontouchstart' in window) return\r\n\r\n//     const displayContent = display.querySelector('.presentation__display-content')\r\n\r\n//     displayContent.addEventListener('mousemove', function(e) {\r\n//         const displayZoom = display.querySelector('.presentation__display-zoom')\r\n//         const rect = displayContent.getBoundingClientRect()\r\n//         const x = e.clientX - rect.left\r\n//         const y = e.clientY - rect.top\r\n\r\n//         const posX = ((x / rect.width) * 100).toFixed(3)\r\n//         const posY = ((y / rect.height) * 100).toFixed(3)\r\n\r\n//         if (displayZoom) displayZoom.style.backgroundPosition = posX + '%' + ' ' +  posY + '%'\r\n//     })\r\n// }\r\n\r\nfunction initShowFancybox(display, swiper) {\r\n    if (!display) return\r\n\r\n    display.addEventListener('click', function() {\r\n        if (display.querySelector('.video-link')) return\r\n\r\n        const activeSlide = swiper.slides.filter(function(slide) {\r\n            return slide.classList.contains('active')\r\n        })[0]\r\n\r\n        if (!activeSlide) return\r\n\r\n        const fancyLink = activeSlide.querySelector('a[data-fancybox]')\r\n\r\n        if (!fancyLink) return\r\n\r\n        if (typeof (jQuery().fancybox) !== 'undefined') {\r\n            fancyLink.click()\r\n        }\r\n    })\r\n}\r\n\r\n// function initPresentationSources(display, startedOnInitial) {\r\n\r\n//     if ('ontouchstart' in window) return\r\n\r\n//     var timeout\r\n\r\n//     if (startedOnInitial) {\r\n//         timeout = 7000\r\n//     } else {\r\n//         timeout = 0\r\n//     }\r\n\r\n//     const saverNode = display.querySelector('.presentation__display-saver')\r\n//     const zoomNode = display.querySelector('.presentation__display-zoom')\r\n\r\n//     setTimeout(\r\n//         function() {\r\n//             setProductPresentationSources(zoomNode, 'zoom')\r\n//             setProductPresentationSources(saverNode, 'saver')\r\n//         },\r\n//         timeout\r\n//     )\r\n\r\n//     if (startedOnInitial) {\r\n//         const newCardMainDolyami = display.closest('.new_card_main_dolyami')\r\n\r\n//         if (newCardMainDolyami) {\r\n//             newCardMainDolyami.addEventListener('mouseover', function() {\r\n//                 setProductPresentationSources(zoomNode, 'zoom')\r\n//                 setProductPresentationSources(saverNode, 'saver')\r\n//             })\r\n//         }\r\n//     }\r\n// }\r\n\r\n// function setProductPresentationSources(htmlNode, type) {\r\n//     const src = htmlNode.dataset.src\r\n\r\n//     if (type === 'zoom') {\r\n//         htmlNode.style.backgroundImage = 'url(' + src + ')'\r\n//         htmlNode.style.backgroundPosition = '0 0'\r\n\r\n//         return\r\n//     }\r\n\r\n//     htmlNode.src = src\r\n// }\r\n\r\nfunction blockSimilarButtonBubbling() {\r\n    const buttons = document.querySelectorAll('.btn-similar-products')\r\n\r\n    buttons.forEach(function(button) {\r\n        button.addEventListener('click', function(evt) {\r\n            evt.stopPropagation()\r\n        })\r\n    })\r\n}\r\n\r\nfunction initProductsPresentations(startedOnInitial) {\r\n    const displays = document.querySelectorAll('.presentation__display')\r\n    const swiperContainers = document.querySelectorAll('.presentation__previews-slider')\r\n\r\n    if (!displays && !swiperContainers) return\r\n\r\n    const swipers = Array.from(swiperContainers).map(function(htmlNode) {\r\n        return initProductPreviewsSlider(htmlNode)\r\n    })\r\n\r\n    displays.forEach(function(display, idx) {\r\n        const swiper = swipers[idx]\r\n\r\n        initDisplayControllers(display, swiper) // Кнопки влево/вправо в мобильной версии на дисплее\r\n        initClickHandlerOnSlide(display, swiper) // Смена картинки после клика по превью\r\n        addSwiperHandler(display, swiper) // Смена картинки на дисплее при свайпах влево/вправо на мобильных\r\n        // initZoom(display) // Добавляем зумминг картинки\r\n        initShowFancybox(display, swiper) // Запускаем галерею Fancybox после клики по дисплею с картинкой\r\n        // initPresentationSources(display, startedOnInitial)\r\n        blockSimilarButtonBubbling() // Блокируем показ галереи после клика по кнопке Похожие\r\n    })\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', function() {\r\n    initProductsPresentations(true)\r\n})\r\n\r\n// module\r\n/**\r\n * Слайдер точки для 4-х картинок в списке товаров\r\n */\r\nfunction threeDotsSlideOpen () {\r\n\tvar myTimeout\r\n\t$('.threeDotsSlider_dots').click(function (e) {\r\n\t\te.preventDefault()\r\n\t})\r\n\t$('.threeDotsSlider_dots_btn').click(function (f) {\r\n\t\tf.preventDefault()\r\n\t\t$(this).closest('.threeDotsSlider_dots').find('.threeDotsSlider_dots_btn').removeClass('active')\r\n\t\t$(this).addClass('active')\r\n\t\tvar ad = $(this).attr('data-open')\r\n\t\t$(this).closest('.threeDotsSlider').find('img').removeClass('op1')\r\n\t\t$(this).closest('.threeDotsSlider').find('img[data-slide=\"' + ad + '\"]').addClass('op1')\r\n\t})\r\n}\r\n\r\n$(document).ready(function () {\r\n\r\n\t$('.threeDotsSlider_dots_img_opener').hoverIntent({\r\n\t\tover: threeDotsSlideOpen2,\r\n\t\tout: threeDotsSlideOpen3,\r\n\t\ttimeout: 25,\r\n\t\tinterval: 25\r\n\t})\r\n\r\n\tfunction threeDotsSlideOpen2 () {\r\n\t\tvar a = $(this).attr('data-open')\r\n\t\t$(this).closest('.threeDotsSlider').find('.cart_product_img').removeClass('op0')\r\n\t\t$(this).closest('.threeDotsSlider').find('img').removeClass('op1')\r\n\t\t$(this).closest('.threeDotsSlider').find('.threeDotsSlider_dots_btn').removeClass('active')\r\n\t\t$(this).closest('.anothunimg').find('a>img').addClass('op0')\r\n\t\t$(this).closest('.swiper-slide').find('a>img').addClass('op0')\r\n\t\t$(this).closest('.threeDotsSlider').find('img[data-slide=\"' + a + '\"]').addClass('op1')\r\n\t\t$(this).closest('.threeDotsSlider').find('.threeDotsSlider_dots_btn[data-open=\"' + a + '\"]').addClass('active')\r\n\t\t// if ($(this).hasClass('act')) {\r\n\t\t// \treturn false;\r\n\t\t// }\r\n\t\t// $(this).addClass('act')\r\n\t}\r\n\r\n\tfunction threeDotsSlideOpen3 () {\r\n\t\tvar b = $(this).attr('data-open')\r\n\t\t$(this).closest('.threeDotsSlider').find('.cart_product_img').removeClass('op0')\r\n\t\t$(this).closest('.threeDotsSlider').find('img').removeClass('op1')\r\n\t\t$(this).closest('.threeDotsSlider').find('.threeDotsSlider_dots_btn').removeClass('active')\r\n\t\t$(this).closest('.anothunimg').find('a>img').addClass('op0')\r\n\t\t$(this).closest('.swiper-slide').find('a>img').addClass('op0')\r\n\t\t$(this).closest('.threeDotsSlider').find('img').removeClass('op1')\r\n\t\t$(this).closest('.threeDotsSlider').find('img[data-slide=\"1\"]').addClass('op1')\r\n\t\t$(this).closest('.threeDotsSlider').find('.threeDotsSlider_dots_btn[data-open=\"1\"]').addClass('active')\r\n\t}\r\n\r\n\tthreeDotsSlideOpen()\r\n})\r\n\r\n// page\r\nfunction listingSliders () {\r\n    var a = $('.listing_swiper').length\r\n    if (a) {\r\n        var swiper = new Swiper('.listing_swiper', {\r\n            pagination: {\r\n                el: '.swiper-pagination',\r\n                clickable: true,\r\n            },\r\n            scrollbar: {\r\n                el: '.swiper-scrollbar',\r\n                draggable: true,\r\n            },\r\n            loop: false,\r\n            autoplay: {\r\n                delay: 4000,\r\n            },\r\n            breakpoints: {\r\n                320: {\r\n                    slidesPerView: 1,\r\n                    spaceBetween: 10,\r\n                },\r\n                650: {\r\n                    slidesPerView: 3,\r\n                    spaceBetween: 10,\r\n                },\r\n                768: {\r\n                    slidesPerView: 4,\r\n                    spaceBetween: 20,\r\n                },\r\n                992: {\r\n                    slidesPerView: 6,\r\n                    spaceBetween: 20,\r\n                },\r\n                1100: {\r\n                    slidesPerView: 9,\r\n                    spaceBetween: 10,\r\n                },\r\n            }\r\n        })\r\n    }\r\n    var b = $('.new_listing_tags').length\r\n    if (b) {\r\n        var swiper2 = new Swiper('.new_listing_tags_swiper', {\r\n            scrollbar: {\r\n                el: '.swiper-scrollbar',\r\n                hide: true,\r\n            },\r\n            spaceBetween: 17,\r\n            slidesPerView: 'auto',\r\n            watchSlidesVisibility: true,\r\n            breakpoints: {\r\n                320: {\r\n                    spaceBetween: 12,\r\n                },\r\n                768: {},\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nfunction listingSelects () {\r\n    $('.listing_filters_slide select').niceSelect()\r\n    $('.option_select_mob').niceSelect()\r\n}\r\n\r\nfunction openFilterList () {\r\n    $('.listing_filters_element .unit:not(.unit_active) .js_open_list_tit').click(function () {\r\n        $(this).closest('.unit').toggleClass('open')\r\n        $(this).closest('.unit').find('.the_list').slideToggle(0)\r\n        $(this).closest('.js_open_list').toggleClass('active')\r\n    })\r\n    $('.js_btn_all_filter_open').click(function () {\r\n        var ab = $(this).attr('data-open')\r\n        $(this).find('span').toggleClass('active')\r\n        if (ab == 'y') {\r\n            $(this).closest('.listing_filters_element').find('.unit:not(.unit_active) .the_list').slideDown()\r\n            $('.js_open_list').addClass('active')\r\n            $(this).attr('data-open', 'n')\r\n        } else {\r\n            $(this).closest('.listing_filters_element').find('.unit:not(.unit_active) .the_list').slideUp()\r\n            $('.js_open_list').removeClass('active')\r\n            $(this).attr('data-open', 'y')\r\n        }\r\n\r\n    })\r\n    $('.check_wrap').each(function () {\r\n        var a = $(this).find('input[type=\"checkbox\"]').length\r\n        // if (a < 4) {\r\n        // \t$(this).closest('.unit').find('.js_full_list').css('display', 'none');\r\n        // }\r\n    })\r\n\r\n    // $('.listing_filters_wrapperHeadline').click(function () {\r\n    //     $(this).toggleClass('active')\r\n    //     $(this).closest('.listing_filters_wrapper').find('.listing_filters_wrapperList').slideToggle(100)\r\n    // })\r\n}\r\n\r\nfunction listOpenMore () {//открытие списка фильтров\r\n    $('.check_wrap').each(function () {\r\n        let col = $(this).find('[type=\"checkbox\"]').length;\r\n        if (col < 6) {\r\n            var hei = col * 40\r\n        } else {\r\n            var hei = 234\r\n        }\r\n        $(this).css('height', hei)\r\n        $(this).find(':nth-child(n+13)').css('display', 'none')\r\n    })\r\n    $('.js_full_list').click(function () {\r\n        $(this).find('span').toggleClass('active')\r\n        $(this).closest('.the_list').find('.check_wrap :nth-child(n+13)').toggleClass('block')\r\n    })\r\n}\r\n\r\nfunction listFilterClean () {\r\n    if ($('.listing_filters').length > 0) {\r\n        var a = $('.listing_filters').offset().left\r\n        var w = $('.listing_filters').width()\r\n        var b = +a + 15\r\n        var a2 = $('.listing_filters').offset().top\r\n        var a3 = $('.listing_filters').height()\r\n        $('.clean_filters').css({'left': b, 'width': w - 15})\r\n        $(window).scroll(function () {\r\n            var g2 = $('.new_listing').height()\r\n            var g1 = $('.new_listing').offset().top\r\n            var g3 = +g2 - g1 - 270\r\n            if ($(this).scrollTop() > g3) {\r\n                $('.clean_filters').addClass('active')\r\n            } else {\r\n                $('.clean_filters').removeClass('active')\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nfunction selectCustom () {\r\n    var c = $('.option_select select option').length\r\n    for (var i = 1; i <= c; i++) {\r\n        var b = $('.option_select select option:nth-child(' + i + ')').attr('data-ic')\r\n        $('.nice-select.option_select .list .option:nth-child(' + i + ')').attr('data-ic', b)\r\n    }\r\n    $('.nice-select.option_select .list .option').mouseup(function () {\r\n        var ic = $(this).attr('data-ic')\r\n        $(this).closest('.nice-select').find('.current').attr('data-ic', ic)\r\n    })\r\n}\r\n\r\nfunction selectCustomMob () {\r\n    var c = $('.option_select_mob option').length\r\n    for (var i = 1; i <= c; i++) {\r\n        var b = $('.option_select_mob option:nth-child(' + i + ')').attr('data-ic')\r\n        $('.nice-select.option_select_mob .list .option:nth-child(' + i + ')').attr('data-ic', b)\r\n    }\r\n    $('.nice-select.option_select_mob .list .option').mouseup(function () {\r\n        var ic = $(this).attr('data-ic')\r\n        $(this).closest('.nice-select').find('.current').attr('data-ic', ic)\r\n    })\r\n}\r\n\r\nfunction listingTabContent () {\r\n    $('.top_filter_menu_tabs .btn').click(function () {\r\n        var a = $(this).attr('data-tab')\r\n        if (a == '1') {\r\n            $('.top_filter_menu_tabs .btn_bac1').addClass('active')\r\n            $('.top_filter_menu_tabs .btn_bac2').removeClass('active')\r\n            $('.listing_content_tab_wrap').removeClass('listing_content_tab_wrap2')\r\n        } else if (a == '2') {\r\n            $('.top_filter_menu_tabs .btn_bac2').addClass('active')\r\n            $('.top_filter_menu_tabs .btn_bac1').removeClass('active')\r\n            $('.listing_content_tab_wrap').addClass('listing_content_tab_wrap2')\r\n        }\r\n    })\r\n}\r\n\r\nfunction listingAkciaOpen () {\r\n    $('.btn_js_drop').click(function () {\r\n        $(this).toggleClass('active')\r\n        $(this).closest('.element').find('.element_akcia').toggleClass('active')\r\n    })\r\n}\r\n\r\nfunction listingArticle () {\r\n    $('.article_btn .ic').click(function () {\r\n        $(this).closest('.element').find('.article_full').show()\r\n        $(this).closest('.element').find('.el2').addClass('active')\r\n        //$('.listing_content_tab_wrap').addClass('dop_info_bg')\r\n    })\r\n    $('.article_full_close').click(function () {\r\n        $(this).closest('.element').find('.article_full').hide()\r\n        $(this).closest('.element').find('.el2').removeClass('active')\r\n        //$('.listing_content_tab_wrap').removeClass('dop_info_bg')\r\n    })\r\n    $('.article_full .btn_more').click(function () {\r\n        $(this).toggleClass('active')\r\n        $(this).find('span').toggleClass('active')\r\n        $(this).closest('.article_full').toggleClass('open')\r\n    })\r\n}\r\n\r\nfunction listReadMore () {\r\n    // $('.listing_content_tab_wrap .element_wrap').slice(0, 8).show();\r\n    // $('.js-open-otziv').click(function () {\r\n    // \t$('.listing_content_tab_wrap .element_wrap:hidden').slice(0, 4).show();\r\n    // });\r\n}\r\n\r\nfunction listingTabsSlider () {\r\n    $('.new_listing_tags .btn').click(function () {\r\n        var a = $(this).attr('data-tab')\r\n        $('.new_listing_tags .btn').removeClass('active')\r\n        $(this).addClass('active')\r\n        $('.new_listing_tags_links .tab').hide()\r\n        $('.new_listing_tags_links .tab' + a).show()\r\n    })\r\n}\r\n\r\nfunction listingOpenfilterMob () {\r\n    $('.top_filter_mob_menu_open').click(function () {\r\n        $('.new_listing .listing_filters').show(0).addClass('active')\r\n        $('body').addClass('mobfilter')\r\n    })\r\n    $('.listing_filters_mob_head_btn').click(function () {\r\n        $('.new_listing .listing_filters').removeClass('active').removeAttr('style')\r\n        $('body').removeClass('mobfilter')\r\n    })\r\n}\r\n\r\nfunction listingArticleMore () {\r\n    $('.article_full .btn_link').click(function (e) {\r\n        e.preventDefault()\r\n        $(this).toggleClass('active')\r\n        $(this).closest('.article_full').toggleClass('open')\r\n    })\r\n}\r\n\r\nfunction listingPostUnits () {\r\n    $('.new_listing_posts_units .unit').each(function () {\r\n        var a = $(this).find('.the_text').height()\r\n        if (a > 85) {\r\n            $(this).find('.the_text').addClass('big')\r\n        }\r\n    })\r\n    $('.new_listing_posts_units .unit .btn_more_js').click(function () {\r\n        $(this).find('span').toggleClass('active')\r\n        $(this).closest('.unit').find('.the_text').toggleClass('open')\r\n    })\r\n}\r\n\r\nfunction listingFilterScroll () {\r\n    $('.check_wrap').mCustomScrollbar({\r\n        axis: 'y'\r\n    })\r\n}\r\n\r\n$(document).ready(function () {\r\n    // $.fn.findCheckList('.terms_filter_input')\r\n    // listingPostUnits()\r\n    // listingSliders()\r\n    // listingSelects()\r\n    // // openFilterList()\r\n    // listFilterClean();\r\n    // listOpenMore()\r\n    // selectCustom()\r\n    // selectCustomMob()\r\n    // listingTabContent()\r\n    // listingAkciaOpen()\r\n    // listingArticle()\r\n    // listReadMore()\r\n    // listingTabsSlider()\r\n    // listingOpenfilterMob()\r\n    // listingArticleMore()\r\n    // listingFilterScroll()\r\n})\r\n\r\nfunction newProductSliders () {\r\n    const sliderDots = document.querySelectorAll('.new_card_sliderDots');\r\n\r\n    sliderDots.forEach(function (el) {\r\n        var new_card_sliderDots = new Swiper(el, {\r\n              observer: true,\r\n              observeParents: true,\r\n              observeSlideChildren: true,\r\n              spaceBetween: 10,\r\n              slidesPerView: 4,\r\n              direction: 'vertical',\r\n              allowTouchMove: false,\r\n              slideToClickedSlide: true,\r\n              preventClicks: false,\r\n              preventClicksPropagation: false,\r\n\r\n              navigation: {\r\n                  nextEl: el.querySelector('.swiper-button-next'),\r\n                  prevEl: el.querySelector('.swiper-button-prev'),\r\n              },\r\n\r\n              breakpoints: {\r\n                  320: {\r\n                      direction: 'horizontal',\r\n                      slidesPerView: 2,\r\n                      spaceBetween: 10,\r\n                  },\r\n                  450: {\r\n                      direction: 'vertical',\r\n                      slidesPerView: 4,\r\n                      spaceBetween: 10,\r\n                  }\r\n              }\r\n          }\r\n        )\r\n\r\n        const COUNT_SLIDES_FAST_VIEW = $('.fast-view .new_card_sliderDots .swiper-slide').length;\r\n\r\n        if (COUNT_SLIDES_FAST_VIEW > 0 && COUNT_SLIDES_FAST_VIEW < 6) {\r\n            $('.fast-view .new_card_sliders')\r\n              .addClass('new_card_sliders_short-list');\r\n        }\r\n\r\n        var new_card_sliderImg = new Swiper(el.nextElementSibling, {\r\n            observer: true,\r\n            observeParents: true,\r\n            observeSlideChildren: true,\r\n            spaceBetween: 30,\r\n            slidesPerView: 1,\r\n            //allowTouchMove: false,\r\n            thumbs: {\r\n                swiper: new_card_sliderDots,\r\n            }\r\n        })\r\n    })\r\n\r\n    var new_card_concomitant_slider2 = new Swiper('.new_card_sliderList', {\r\n        slidesPerView: 4,\r\n        spaceBetween: 10,\r\n        scrollbar: {\r\n            draggable: true,\r\n            el: '.swiper-scrollbar',\r\n            hide: true,\r\n        },\r\n        breakpoints: {\r\n            320: {\r\n                slidesPerView: 1,\r\n                spaceBetween: 20\r\n            },\r\n            480: {\r\n                slidesPerView: 1.5,\r\n                spaceBetween: 20\r\n            },\r\n            650: {\r\n                slidesPerView: 2,\r\n                spaceBetween: 20\r\n            },\r\n            768: {\r\n                slidesPerView: 3,\r\n                spaceBetween: 20\r\n            },\r\n            992: {\r\n                slidesPerView: 4,\r\n                spaceBetween: 20\r\n            },\r\n            1280: {\r\n                slidesPerView: 5,\r\n                spaceBetween: 20\r\n            }\r\n        }\r\n    })\r\n\r\n    var new_card_sliderList1 = new Swiper('.new_card_sliderList1', {\r\n        slidesPerView: 4,\r\n        spaceBetween: 10,\r\n        scrollbar: {\r\n            draggable: true,\r\n            el: '.swiper-scrollbar',\r\n            hide: true,\r\n        },\r\n        breakpoints: {\r\n\r\n            320: {\r\n                slidesPerView: 1,\r\n                spaceBetween: 20\r\n            },\r\n            480: {\r\n                slidesPerView: 1.5,\r\n                spaceBetween: 20\r\n            },\r\n            650: {\r\n                slidesPerView: 2,\r\n                spaceBetween: 20\r\n            },\r\n            768: {\r\n                slidesPerView: 3,\r\n                spaceBetween: 20\r\n            },\r\n            992: {\r\n                slidesPerView: 4,\r\n                spaceBetween: 20\r\n            },\r\n            1280: {\r\n                slidesPerView: 5,\r\n                spaceBetween: 20\r\n            }\r\n        }\r\n    })\r\n\r\n    var new_card_sliderList2 = new Swiper('.new_card_sliderList2', {\r\n        slidesPerView: 4,\r\n        spaceBetween: 10,\r\n        scrollbar: {\r\n            draggable: true,\r\n            el: '.swiper-scrollbar',\r\n            hide: true,\r\n        },\r\n        breakpoints: {\r\n\r\n            320: {\r\n                slidesPerView: 1,\r\n                spaceBetween: 20\r\n            },\r\n            480: {\r\n                slidesPerView: 1.5,\r\n                spaceBetween: 20\r\n            },\r\n            650: {\r\n                slidesPerView: 2,\r\n                spaceBetween: 20\r\n            },\r\n            768: {\r\n                slidesPerView: 3,\r\n                spaceBetween: 20\r\n            },\r\n            992: {\r\n                slidesPerView: 4,\r\n                spaceBetween: 20\r\n            },\r\n            1280: {\r\n                slidesPerView: 5,\r\n                spaceBetween: 20\r\n            }\r\n        }\r\n    })\r\n\r\n    var new_card_sliderList4 = new Swiper('.new_card_sliderList4', {\r\n        slidesPerView: 4,\r\n        spaceBetween: 10,\r\n        scrollbar: {\r\n            draggable: true,\r\n            el: '.swiper-scrollbar',\r\n            hide: true,\r\n        },\r\n        breakpoints: {\r\n\r\n            320: {\r\n                slidesPerView: 1,\r\n                spaceBetween: 20\r\n            },\r\n            480: {\r\n                slidesPerView: 1.5,\r\n                spaceBetween: 20\r\n            },\r\n            650: {\r\n                slidesPerView: 2,\r\n                spaceBetween: 20\r\n            },\r\n            768: {\r\n                slidesPerView: 3,\r\n                spaceBetween: 20\r\n            },\r\n            992: {\r\n                slidesPerView: 4,\r\n                spaceBetween: 20\r\n            },\r\n            1280: {\r\n                slidesPerView: 5,\r\n                spaceBetween: 20\r\n            }\r\n        }\r\n    })\r\n\r\n    var new_product_tags_slider = new Swiper('.new_product_tags_slider', {\r\n        slidesPerView: 'auto',\r\n        spaceBetween: 20,\r\n        scrollbar: {\r\n            draggable: true,\r\n            el: '.swiper-scrollbar',\r\n            hide: true,\r\n        }\r\n    })\r\n\r\n}\r\n\r\nfunction initSliderView() {\r\n    const sliderDots = document.querySelectorAll('.new_card_sliderDots');\r\n\r\n    sliderDots.forEach(function (el) {\r\n        var new_card_sliderDots = new Swiper(el, {\r\n              observer: true,\r\n              observeParents: true,\r\n              observeSlideChildren: true,\r\n              spaceBetween: 10,\r\n              slidesPerView: 4,\r\n              direction: 'vertical',\r\n              allowTouchMove: false,\r\n              slideToClickedSlide: true,\r\n              preventClicks: false,\r\n              preventClicksPropagation: false,\r\n\r\n              navigation: {\r\n                  nextEl: el.querySelector('.swiper-button-next'),\r\n                  prevEl: el.querySelector('.swiper-button-prev'),\r\n              },\r\n\r\n              breakpoints: {\r\n                  320: {\r\n                      direction: 'horizontal',\r\n                      slidesPerView: 2,\r\n                      spaceBetween: 10,\r\n                  },\r\n                  450: {\r\n                      direction: 'vertical',\r\n                      slidesPerView: 4,\r\n                      spaceBetween: 10,\r\n                  }\r\n              }\r\n          }\r\n        )\r\n\r\n        const COUNT_SLIDES_FAST_VIEW = $('.fast-view .new_card_sliderDots .swiper-slide').length;\r\n\r\n        if (COUNT_SLIDES_FAST_VIEW > 0 && COUNT_SLIDES_FAST_VIEW < 6) {\r\n            $('.fast-view .new_card_sliders')\r\n              .addClass('new_card_sliders_short-list');\r\n        }\r\n\r\n        var new_card_sliderImg = new Swiper(el.nextElementSibling, {\r\n            observer: true,\r\n            observeParents: true,\r\n            observeSlideChildren: true,\r\n            spaceBetween: 30,\r\n            slidesPerView: 1,\r\n            //allowTouchMove: false,\r\n            thumbs: {\r\n                swiper: new_card_sliderDots,\r\n            }\r\n        })\r\n    })\r\n}\r\n\r\n/* Функция только для тестового показа, НЕ ПЕРЕНОСИТЬ */\r\nfunction openFastView() {\r\n    const viewList = document.querySelectorAll('.oneClick');\r\n    const modal = document.querySelector('.fast-view');\r\n    viewList.forEach(function (el) {\r\n        el.addEventListener('click', function (e) {\r\n            e.preventDefault();\r\n            modal.style.display = 'block';\r\n        })\r\n    })\r\n}\r\n\r\nfunction newProductSlideList () {\r\n\r\n    var new_product_tags_slider = new Swiper('.new_product_tags_slider', {\r\n        slidesPerView: 'auto',\r\n        spaceBetween: 20,\r\n        scrollbar: {\r\n            draggable: true,\r\n            el: '.swiper-scrollbar',\r\n            // hide: true,\r\n        }\r\n    })\r\n}\r\n\r\nfunction newProductPostMoreRemove () {\r\n    $('.new_card_tabPost_content').each(function () {\r\n        console.log($(this).html().length)\r\n        if ($(this).html().length < 450) {\r\n            $(this).closest('.new_card_tabPost').find('.new_card_tabPost_content_open').addClass('op0')\r\n        }\r\n    })\r\n}\r\n\r\nfunction compSlider() {\r\n    const slider = document.querySelector('.comp_slider')\r\n\r\n    if (!slider) return\r\n\r\n    const sliderSwiper = new Swiper(slider, {\r\n        observer: true,\r\n        observeParents: true,\r\n        observeSlideChildren: true,\r\n        spaceBetween: 20,\r\n        loop: false,\r\n        slidesPerView: 'auto',\r\n        breakpoints: {\r\n            576: {\r\n                navigation: {\r\n                    nextEl: slider.closest('.comp-wrapper').querySelector('.swiper_next'),\r\n                    prevEl: slider.closest('.comp-wrapper').querySelector('.swiper_prev'),\r\n                }\r\n            }\r\n        }\r\n    })\r\n}\r\n\r\nfunction newProductTabs () {\r\n    $('.new_card_tabs_buttons .btn').click(function () {\r\n        var a = $(this).attr('data-tab')\r\n        var b = $(this).attr('data-ver')\r\n        if (b == 'y') {\r\n            $('.new_card_tabs_buttons .btn').removeClass('active')\r\n            $('.new_card_tabs_buttons .btn').attr('data-ver', 'y')\r\n            $(this).addClass('active')\r\n            $(this).attr('data-ver', 'n')\r\n            $('.new_card_tab').hide()\r\n            $('.new_card_tab' + a).show()\r\n            if (a == 4) {\r\n                var new_card_sliderList3 = new Swiper('.new_card_sliderList3', {\r\n                    slidesPerView: 4,\r\n                    spaceBetween: 10,\r\n                    scrollbar: {\r\n                        draggable: true,\r\n                        el: '.swiper-scrollbar',\r\n                        hide: true,\r\n                    },\r\n                    breakpoints: {\r\n                        320: {\r\n                            slidesPerView: 4,\r\n                            spaceBetween: 20\r\n                        },\r\n                        480: {\r\n                            slidesPerView: 4,\r\n                            spaceBetween: 20\r\n                        },\r\n                        1440: {\r\n                            slidesPerView: 5,\r\n                            spaceBetween: 20\r\n                        }\r\n                    }\r\n                })\r\n            }\r\n        }\r\n        newProductPostMoreRemove()\r\n    })\r\n}\r\n\r\nfunction newProductCharacters () {\r\n    $('.new_card_info_lineName_link a').click(function (e) {\r\n        e.preventDefault()\r\n        $('.new_card_tabs_buttons .btn').removeClass('active')\r\n        $('.new_card_tabs_buttons .btn[data-tab=\"2\"]').addClass('active')\r\n        $('.new_card_tab').hide()\r\n        $('.new_card_tab2').show()\r\n        $('.new_card_tabs_buttons .btn').attr('data-ver', 'y')\r\n        $('.new_card_tabs_buttons .btn[data-tab=\"2\"]').attr('data-ver', 'n')\r\n        var c = $('.new_card_tab2').offset().top\r\n        var d = +c - 50\r\n        $('html, body').animate({\r\n            scrollTop: d  // класс объекта к которому приезжаем\r\n        }, 1000)\r\n    })\r\n}\r\n\r\nfunction newProductPostMore () {\r\n    $('.new_card_tabPost_content_open').click(function () {\r\n        $(this).find('span').toggleClass('active')\r\n        $(this).closest('.new_card_tabPost').find('.new_card_tabPost_content').toggleClass('active')\r\n    })\r\n}\r\n\r\nfunction newProductCharctersOpen () {\r\n    $('.ic_open_btn').click(function () {\r\n        $(this).toggleClass('active')\r\n        $(this).closest('.the_content').find('.moreinfval').slideToggle()\r\n    })\r\n    $('.btn_close_pop').click(function () {\r\n        $(this).closest('.the_content').find('.moreinfval').slideToggle()\r\n    })\r\n}\r\n\r\nfunction newProductMobileContent () {\r\n    $('.new_card_tab .btn_js').click(function () {\r\n        $(this).toggleClass('active')\r\n        $(this).closest('.new_card_tab').find('.mobile_open_block').slideToggle()\r\n\r\n        var new_card_sliderList3 = new Swiper('.new_card_sliderList3', {\r\n            slidesPerView: 4,\r\n            spaceBetween: 10,\r\n            scrollbar: {\r\n                draggable: true,\r\n                el: '.swiper-scrollbar',\r\n                hide: true,\r\n            },\r\n            breakpoints: {\r\n\r\n                320: {\r\n                    slidesPerView: 1,\r\n                    spaceBetween: 20\r\n                },\r\n                480: {\r\n                    slidesPerView: 1.5,\r\n                    spaceBetween: 20\r\n                },\r\n                650: {\r\n                    slidesPerView: 2,\r\n                    spaceBetween: 20\r\n                },\r\n                768: {\r\n                    slidesPerView: 3,\r\n                    spaceBetween: 20\r\n                }\r\n            }\r\n        })\r\n    })\r\n}\r\n\r\nfunction newProductPrevNextArrows () {\r\n    var w = $(window).width()\r\n    var a = $('.new_card_sliderDots .swiper-slide').length\r\n    if (w > 768) {\r\n        if (a < 7) {\r\n            $('.new_card_sliderDots .swiper-button-prev,.new_card_sliderDots .swiper-button-next').css('display', 'none')\r\n        }\r\n    } else if (w < 768 && w > 450) {\r\n        if (a < 6) {\r\n            $('.new_card_sliderDots .swiper-button-prev,.new_card_sliderDots .swiper-button-next').css('display', 'none')\r\n        }\r\n    } else if (w < 450) {\r\n        if (a < 4) {\r\n            $('.new_card_sliderDots .swiper-button-prev,.new_card_sliderDots .swiper-button-next').css('display', 'none')\r\n        }\r\n    }\r\n}\r\n\r\nfunction newProductcartCalc () {\r\n    let price = $('._js_new_product_price').text().trim().replace(/[^0-9.]/g, '');\r\n    let total = $('._js_new_product_total')\r\n    let count = $('._js_new_product_count')\r\n\r\n    total.text(Number(price).toLocaleString('ru-RU'))\r\n\r\n    let j = $('.new_product_calculate .cartcalc').find('.val_input').text()\r\n    if (j < 2) {\r\n        $('.new_product_calculate .cartcalc .ccalc-minus').addClass('disabled')\r\n    }\r\n    $('.new_product_calculate .cartcalc .ccalc-minus').click(function () {\r\n        let a = $(this).closest('.cartcalc').find('.val_input').text()\r\n        if (a > 1) {\r\n            let b = +a - 1\r\n            if (b === 1) {\r\n                $('.new_product_calculate .cartcalc .ccalc-minus').addClass('disabled')\r\n            }\r\n            $(this).closest('.cartcalc').find('.val_input').text(b)\r\n            count.text(b)\r\n            total.text((Number(price) * b).toLocaleString('ru-RU'));\r\n        } else {\r\n            $(this).closest('.cartcalc').find('.val_input').text(a)\r\n            count.text(a)\r\n            total.text((Number(price) * a).toLocaleString('ru-RU'));\r\n            $('.new_product_calculate .cartcalc .ccalc-minus').addClass('disabled')\r\n        }\r\n    })\r\n    $('.new_product_calculate .cartcalc .ccalc-plus').click(function () {\r\n        let a = $(this).closest('.cartcalc').find('.val_input').text()\r\n        let b = +a + 1\r\n        $(this).closest('.cartcalc').find('.val_input').text(b)\r\n        count.text(b)\r\n        total.text((Number(price) * b).toLocaleString('ru-RU'));\r\n        $('.new_product_calculate .cartcalc .ccalc-minus').removeClass('disabled')\r\n    })\r\n    $('.btn_addcart.js_btn_calc').click(function () {\r\n        $(this).addClass('op0')\r\n    })\r\n}\r\n\r\nfunction newCardShopCheck () {\r\n    if ($('.new_card_shop_check').length !== 0) {\r\n        $('.new_card_shop_check input').on('input', (e) => {\r\n            if (e.target.checked) {\r\n                $('.new_card_shop_table_line--non').hide()\r\n            } else {\r\n                $('.new_card_shop_table_line--non').show()\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nfunction newCardArrowVisible () {\r\n    var a = newCardArrowVisibleLength()\r\n    var w = $(window).width()\r\n    if (w > 450 && a < 7) {\r\n        $('.new_card_sliderDots').addClass('no_arrows')\r\n    } else if (w < 451 && a < 4) {\r\n        $('.new_card_sliderDots').addClass('no_arrows')\r\n    } else {\r\n        $('.new_card_sliderDots').removeClass('no_arrows')\r\n    }\r\n}\r\n\r\nfunction newCardArrowVisibleLength () {\r\n    var a = $('.new_card_sliderDots').length\r\n    if (a) {\r\n        var l = $('.new_card_sliderDots .swiper-slide').length\r\n    }\r\n    return l\r\n}\r\n\r\n/**\r\n * Поделиться в социальных сетях\r\n */\r\nfunction newCardBuyRichShare () {\r\n    var url = 'https://fandeco.github.io/layout.fandeco.ru/product.html';\r\n    $('.new_card_buy_rich_share').tooltip({\r\n        title: \"<div class='social_group'>\" +\r\n            \"<a target='_blank' href='https://vk.com/share.php?url=\"+url+\"' class='social_group_icon social_group_icon_telegram'></a>\" +\r\n            \"<a target='_blank' href='https://t.me/share/url?url=\"+url+\"' class='social_group_icon social_group_icon_vk'></a>\" +\r\n            \"<a target='_blank' href='https://connect.ok.ru/offer?url=\"+url+\"' class='social_group_icon social_group_icon_ok'></a></div>\",\r\n        trigger: 'click',\r\n        html: true,\r\n        template: '<div class=\"tooltip\" role=\"tooltip\"><div class=\"tooltip-arrow\"></div><div class=\"tooltip-inner\"></div></div>',\r\n    })\r\n}\r\n\r\n// Добавляет якорь в урл после клика по табу на карточке товара -- START\r\nfunction tabAnchorClickHandler() {\r\n    var tabs = Array.from(document\r\n        .querySelectorAll('[data-anchor]'))\r\n\r\n    for (let i = 0; i < tabs.length; i++) {\r\n        tabs[i].addEventListener('click', handler)\r\n    }\r\n\r\n    function handler() {\r\n        if (this.dataset.anchor !== '') {\r\n            setAnchorToUrl(this.dataset.anchor)\r\n        } else {\r\n            removeAnchorFromUrl()\r\n        }\r\n    }\r\n}\r\n\r\nfunction setAnchorToUrl(anchor) {\r\n    removeAnchorFromUrl()\r\n    window.history.replaceState(\r\n        null,\r\n        null,\r\n        window.location.href + '#' + anchor\r\n    );\r\n}\r\n\r\nfunction removeAnchorFromUrl() {\r\n    var currentUrl = window.location.href;\r\n    var baseUrl, params\r\n\r\n    if (currentUrl.indexOf('?') !== -1) {\r\n        [baseUrl, params] = currentUrl.split('?');\r\n    } else {\r\n        baseUrl = currentUrl\r\n    }\r\n\r\n    // из baseUrl всегда вырезаем анкор\r\n    baseUrl = cutAnchorFromString(baseUrl)\r\n\r\n    if (params) {\r\n        params = cutAnchorFromString(params)\r\n        baseUrl = baseUrl + '?' + params\r\n    }\r\n\r\n    window.history.replaceState(null, null, baseUrl);\r\n}\r\n\r\nfunction cutAnchorFromString(str) {\r\n    if (str.indexOf('#') !== -1) {\r\n        return str.substring(0, str.indexOf(\"#\"));\r\n    }\r\n    return str;\r\n}\r\n// Добавляет якорь в урл после клика по табу на карточке товара -- FINISH\r\n\r\n// Скролл к табу после загрузки страницы Карточки товара -- START\r\nfunction scrollToTabAnchor() {\r\n    var anchor = getAnchorFromUrl();\r\n\r\n    if (!anchor) return;\r\n\r\n    var targets = document.querySelectorAll('[data-anchor=\"' + anchor + '\"]');\r\n    if (!targets) return;\r\n\r\n    var page = $('html, body');\r\n    var top, offset\r\n    var target = $(targets[0])\r\n\r\n    if (window.innerWidth <= 992 && $(targets[1])) {\r\n        target = $(targets[1])\r\n    }\r\n\r\n    if (!target.offset()) return;\r\n\r\n    top = target.offset().top\r\n\r\n    if (window.innerWidth > 992) {\r\n        offset = -100\r\n    } else {\r\n        offset = 50\r\n    }\r\n\r\n    setTimeout(function() {\r\n        page.animate({\r\n            scrollTop: top + offset\r\n        }, 500)\r\n    }, 500);\r\n}\r\n\r\nfunction getAnchorFromUrl() {\r\n    var url = window.location.href;\r\n    var anchor\r\n\r\n    if (url.indexOf('#') !== -1) {\r\n        anchor = url.substring(url.indexOf('#') + 1);\r\n    } else {\r\n        return null;\r\n    }\r\n\r\n    // Проверка на случай если анкор записал перед get параметрами\r\n    if (anchor.indexOf('?') !== -1) {\r\n        return anchor.substring(0, anchor.indexOf(\"?\"));\r\n    }\r\n\r\n    return anchor;\r\n}\r\n// Скролл к табу после загрузки страницы Карточки товара -- FINISH\r\n\r\nfunction smoothScrollToAnchor() {\r\n    const links = document.querySelectorAll('a');\r\n\r\n    links.forEach(function (link) {\r\n        if (link.hash && link.hash.length > 1) {\r\n            link.addEventListener('click', function (event) {\r\n                event.preventDefault();\r\n\r\n                const targetId = link.hash.slice(1);\r\n                const targetElement = document.getElementById(targetId);\r\n\r\n                if (targetElement) {\r\n                    window.scrollTo({\r\n                        top: targetElement.offsetTop - 200,\r\n                        behavior: 'smooth'\r\n                    });\r\n                } else {\r\n                    const anchorBtn = document.querySelector('button[data-anchor=\"' + targetId + '\"]');\r\n                    if (anchorBtn) {\r\n                        anchorBtn.click();\r\n\r\n                        const targetAnchorElement = document.querySelector('[data-anchor=\"' + targetId + '\"]');\r\n                        if (targetAnchorElement) {\r\n                            window.scrollTo({\r\n                                top: targetAnchorElement.offsetTop - 200,\r\n                                behavior: 'smooth'\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    });\r\n}\r\n\r\nfunction checkScrollPosition() {\r\n    const fixedProduct = document.querySelector('.fixed_product');\r\n\r\n    if (fixedProduct && window.scrollY >= 700) {\r\n        fixedProduct.classList.add('_active');\r\n    } else if (fixedProduct) {\r\n        fixedProduct.classList.remove('_active');\r\n    }\r\n}\r\n\r\nwindow.addEventListener('scroll', checkScrollPosition);\r\n\r\n$(document).ready(function () {\r\n    newProductSliders()\r\n    newProductTabs()\r\n    newProductCharacters()\r\n    newProductPostMore()\r\n    newProductPrevNextArrows()\r\n    newProductCharctersOpen()\r\n    newProductcartCalc()\r\n    newCardShopCheck()\r\n    newCardArrowVisible()\r\n    newCardBuyRichShare()\r\n    openFastView() /* НЕ ПЕРЕНОСИТЬ */\r\n    initSliderView()\r\n    compSlider()\r\n    smoothScrollToAnchor()\r\n    var w = $(window).width()\r\n    if (w > 991) {\r\n        newProductSlideList()\r\n    } else {\r\n        newProductMobileContent()\r\n    }\r\n    $(window).resize(function () {\r\n        newCardArrowVisible()\r\n    })\r\n    \r\n    $('.listing_filters_wrapperHeadline').click(function () {\r\n        $(this).toggleClass('active')\r\n        $(this).closest('.listing_filters_wrapper').find('.listing_filters_wrapperList').slideToggle(100)\r\n    })\r\n\r\n    tabAnchorClickHandler();\r\n    scrollToTabAnchor();\r\n})\r\nfunction homeSliders () {\r\n    var popularcategories = new Swiper('.home_popular_categories .swiper-container', {\r\n        slidesPerView: 8,\r\n        spaceBetween: 20,\r\n        scrollbar: {\r\n            draggable: true,\r\n            el: '.swiper-scrollbar',\r\n            hide: true,\r\n        },\r\n        breakpoints: {\r\n            320: {\r\n                slidesPerView: 2.75,\r\n                spaceBetween: 20\r\n            },\r\n            400: {\r\n                slidesPerView: 3.5,\r\n                spaceBetween: 20\r\n            },\r\n            500: {\r\n                slidesPerView: 4,\r\n                spaceBetween: 20\r\n            },\r\n            650: {\r\n                slidesPerView: 5,\r\n                spaceBetween: 20\r\n            },\r\n            768: {\r\n                slidesPerView: 5,\r\n                spaceBetween: 20\r\n            },\r\n            992: {\r\n                slidesPerView: 6,\r\n                spaceBetween: 20\r\n            },\r\n            1200: {\r\n                slidesPerView: 8,\r\n                spaceBetween: 20\r\n            },\r\n        }\r\n    })\r\n\r\n    var home_brands = new Swiper('.home_brands', {\r\n        slidesPerView: 8,\r\n        spaceBetween: 10,\r\n        scrollbar: {\r\n            draggable: true,\r\n            el: '.swiper-scrollbar',\r\n            hide: true,\r\n        },\r\n        breakpoints: {\r\n            320: {\r\n                slidesPerView: 3,\r\n                spaceBetween: 20\r\n            },\r\n            400: {\r\n                slidesPerView: 4,\r\n                spaceBetween: 20\r\n            },\r\n            500: {\r\n                slidesPerView: 5,\r\n                spaceBetween: 20\r\n            },\r\n            650: {\r\n                slidesPerView: 5,\r\n                spaceBetween: 20\r\n            },\r\n            768: {\r\n                slidesPerView: 5,\r\n                spaceBetween: 20\r\n            },\r\n            992: {\r\n                slidesPerView: 6,\r\n                spaceBetween: 20\r\n            },\r\n            1200: {\r\n                slidesPerView: 8,\r\n                spaceBetween: 20\r\n            },\r\n        }\r\n    })\r\n\r\n    var home_popular_slider = new Swiper('.home_popular_slider', {\r\n        slidesPerView: 8,\r\n        spaceBetween: 10,\r\n        scrollbar: {\r\n            draggable: true,\r\n            el: '.swiper-scrollbar',\r\n            hide: true,\r\n        },\r\n        breakpoints: {\r\n            320: {\r\n                slidesPerView: 2,\r\n                spaceBetween: 0\r\n            },\r\n            400: {\r\n                slidesPerView: 2,\r\n                spaceBetween: 0\r\n            },\r\n            768: {\r\n                slidesPerView: 3,\r\n                spaceBetween: 0\r\n            },\r\n            992: {\r\n                slidesPerView: 4,\r\n                spaceBetween: 20\r\n            },\r\n            1200: {\r\n                slidesPerView: 5,\r\n                spaceBetween: 20\r\n            },\r\n        }\r\n    })\r\n\r\n    var home_popular_slider2 = new Swiper('.home_popular_slider2', {\r\n        slidesPerView: 4,\r\n        spaceBetween: 10,\r\n        scrollbar: {\r\n            draggable: true,\r\n            el: '.swiper-scrollbar',\r\n            hide: true,\r\n        },\r\n        breakpoints: {\r\n            320: {\r\n                slidesPerView: 1.4,\r\n                spaceBetween: 20\r\n            },\r\n            400: {\r\n                slidesPerView: 2,\r\n                spaceBetween: 20\r\n            },\r\n            768: {\r\n                slidesPerView: 3,\r\n                spaceBetween: 20\r\n            },\r\n            992: {\r\n                slidesPerView: 4,\r\n                spaceBetween: 20\r\n            },\r\n            1200: {\r\n                slidesPerView: 4,\r\n                spaceBetween: 20\r\n            },\r\n        }\r\n    })\r\n}\r\n\r\nfunction homeLampLight () {\r\n    $('.home_light_butBullet').mouseenter(function () {\r\n        var a = $(this).closest('.home_light_but').attr('data-lamp')\r\n        $('.home_light_butInfo').hide()\r\n        $(this).closest('.home_light_but').find('.home_light_butInfo').show()\r\n        $('.home_light_img img').hide()\r\n        $('.home_light_img img.home_img_lamp' + a).show()\r\n    })\r\n    $('.home_light_module').mouseleave(function () {\r\n        $('.home_light_butInfo').hide()\r\n        $('.home_light_img img').hide()\r\n        $('.home_light_img img.default').show()\r\n    })\r\n}\r\n\r\n\r\n\r\nfunction homeImgCategories () {\r\n    $('.home_popular_categoriesImg').each(function () {\r\n        var a = $(this).width()\r\n        $(this).css('height', a)\r\n    })\r\n}\r\n\r\nfunction homeBrandsSliderImgHeight () {\r\n    if ($('.home_brands')) {\r\n        var a = $('.home_brands .swiper-slide:first-child()').width()\r\n        var b = +a / 158 * 90\r\n        $('.home_brands .swiper-slide a').css('height', b)\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nfunction mobMenuIcons () {\r\n    $('.home_popular_categories .dropdown a').click(function (e) {\r\n        e.preventDefault()\r\n        if (!$(this).hasClass('dropdown-toggle')) {\r\n            return false\r\n        }\r\n        $(this).closest('.dropdown').toggleClass('open')\r\n    })\r\n}\r\n\r\n$(document).ready(function () {\r\n    homeSliders()\r\n    homeLampLight()\r\n    homeImgCategories()\r\n    mobMenuIcons()\r\n    $(window).resize(function () {\r\n        homeImgCategories()\r\n        homeBrandsSliderImgHeight()\r\n    })\r\n    homeBrandsSliderImgHeight()\r\n})\r\n\r\nfunction aboutSliders() {\r\n\tvar swiperAbout1 = new Swiper('.about_box_swiper_container1', {\r\n\t\tnavigation: {\r\n\t\t\tclickable: true,\r\n\t\t\tnextEl: \".swiper-button-next\",\r\n\t\t\tprevEl: \".swiper-button-prev\",\r\n\t\t},\r\n\t\tpagination: {\r\n\t\t\tclickable: true,\r\n\t\t\tel: \".swiper-pagination1\",\r\n\t\t},\r\n\t\teffect: \"fade\",\r\n\t});\r\n\tvar swiperAbout2 = new Swiper('.about_box_swiper_container2', {\r\n\t\tnavigation: {\r\n\t\t\tclickable: true,\r\n\t\t\tnextEl: \".swiper-button-next\",\r\n\t\t\tprevEl: \".swiper-button-prev\",\r\n\t\t},\r\n\t\tpagination: {\r\n\t\t\tclickable: true,\r\n\t\t\tel: \".swiper-pagination2\",\r\n\t\t},\r\n\t\teffect: \"fade\",\r\n\t});\r\n\tvar swiperAbout3 = new Swiper('.about_box_swiper_container3', {\r\n\t\tnavigation: {\r\n\t\t\tclickable: true,\r\n\t\t\tnextEl: \".swiper-button-next\",\r\n\t\t\tprevEl: \".swiper-button-prev\",\r\n\t\t},\r\n\t\tpagination: {\r\n\t\t\tclickable: true,\r\n\t\t\tel: \".swiper-pagination3\",\r\n\t\t},\r\n\t\teffect: \"fade\",\r\n\t});\r\n\tvar swiperAbout4 = new Swiper('.about_box_swiper_container4', {\r\n\t\tnavigation: {\r\n\t\t\tclickable: true,\r\n\t\t\tnextEl: \".swiper-button-next\",\r\n\t\t\tprevEl: \".swiper-button-prev\",\r\n\t\t},\r\n\t\tpagination: {\r\n\t\t\tclickable: true,\r\n\t\t\tel: \".swiper-pagination4\",\r\n\t\t},\r\n\t\teffect: \"fade\",\r\n\t});\r\n\tvar swiperAbout5 = new Swiper('.about_box_swiper_container5', {\r\n\t\tnavigation: {\r\n\t\t\tclickable: true,\r\n\t\t\tnextEl: \".swiper-button-next\",\r\n\t\t\tprevEl: \".swiper-button-prev\",\r\n\t\t},\r\n\t\tpagination: {\r\n\t\t\tclickable: true,\r\n\t\t\tel: \".swiper-pagination5\",\r\n\t\t},\r\n\t\teffect: \"fade\",\r\n\t});\r\n}\r\n\r\nfunction newAboutHeightSliders() {\r\n\tvar a = $('.about_box_image').length;\r\n\tvar b = $(window).width();\r\n\tif (b < 992) {\r\n\t\tif (a) {\r\n\t\t\tvar c = $('.about_box_swiper_container5').width();\r\n\t\t\tvar d = +c / 1.95;\r\n\t\t\t$('.about_box_swiper_container5 iframe').css('height', d);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n$(document).ready(function () {\r\n\taboutSliders();\r\n\tnewAboutHeightSliders();\r\n\t$(window).resize(function () {\r\n\t\tnewAboutHeightSliders();\r\n\t});\r\n});\r\nfunction shopListTabButtons() {\r\n\t$('.shop_list_buttonTabs .btn').click(function (e) {\r\n\t\tvar a = $(this).attr('data-toogl')\r\n\t\tif (a == 'n') {\r\n\t\t\t$('.shop_list_buttonTabs .btn').removeClass('active')\r\n\t\t\t$('.shop_list_tab').slideToggle()\r\n\t\t\t$('.shop_list_headAddress, .shop_list_headCity').slideToggle(0)\r\n\t\t\t$('.shop_list_buttonTabs .btn').attr('data-toogl', 'n')\r\n\t\t\t$(this).attr('data-toogl', 'y').addClass('active')\r\n\t\t}\r\n\t})\r\n}\r\n\r\nfunction tagCloudCanvasInit() {\r\n\tvar RENDERtext = ''\r\n\tfunction renderText() {\r\n\t\tconsole.log(this, arguments)\r\n\t}\r\n\r\n\twindow.onload = function () {\r\n\t\ttry {\r\n\t\t\tTagCanvas.Start('myCanvas', 'tags', {\r\n\t\t\t\ttextColour: '#000000',\r\n\t\t\t\toutlineColour: '#00000000',\r\n\t\t\t\treverse: true,\r\n\t\t\t\tdragControl: true,\r\n\t\t\t\tdepth: 0.8,\r\n\t\t\t\tmaxSpeed: 0.55,\r\n\t\t\t\ttooltip: 'div',\r\n\t\t\t\ttooltipClass: 'tooltip-div',\r\n\t\t\t});\r\n\t\t} catch (e) {\r\n\t\t\t// something went wrong, hide the canvas container\r\n\t\t\tdocument.getElementById('myCanvasContainer').style.display = 'none';\r\n\t\t}\r\n\t};\r\n}\r\n\r\n\r\n\r\n$(document).ready(function () {\r\n\tshopListTabButtons()\r\n\t//tagCloudCanvasInit()\r\n\t$('.shop_list_headCity select').niceSelect()\r\n\r\n})\r\nfunction shopListItemSlider() {\r\n\tvar swiper = new Swiper(\".shopList_item_slider_sidebar .swiper-container\", {\r\n\t\tspaceBetween: 10,\r\n\t\tnavigation: {\r\n\t\t\tnextEl: \".swiper-button-next\",\r\n\t\t\tprevEl: \".swiper-button-prev\",\r\n\t\t},\r\n\t\tfreeMode: true,\r\n\t\twatchSlidesVisibility: true,\r\n\t\twatchSlidesProgress: true,\r\n\t\tbreakpoints: {\r\n\t\t\t992: {\r\n\t\t\t\tdirection: \"vertical\",\r\n\t\t\t\tslidesPerView: 4,\r\n\t\t\t},\r\n\t\t\t500: {\r\n\t\t\t\tslidesPerView: 4,\r\n\t\t\t},\r\n\t\t\t320: {\r\n\t\t\t\tslidesPerView: 2,\r\n\t\t\t\tdirection: \"horizontal\",\r\n\t\t\t},\r\n\t\t},\r\n\t});\r\n\tvar swiper2 = new Swiper(\".shopList_item_slider_main .swiper-container\", {\r\n\t\tspaceBetween: 10,\r\n\t\tthumbs: {\r\n\t\t\tswiper: swiper,\r\n\t\t},\r\n\t});\r\n}\r\n\r\nfunction listingArticleShopItem() { // ф-я дублирует функцию из listing.js\r\n\t$('.article_btn .ic').click(function () {\r\n\t\t$(this).closest('.element').find('.article_full').show();\r\n\t\t$(this).closest('.element').find('.el2').addClass('active');\r\n\t\t$('.listing_content_tab_wrap').addClass('dop_info_bg');\r\n\t});\r\n\t$('.article_full_close').click(function () {\r\n\t\t$(this).closest('.element').find('.article_full').hide();\r\n\t\t$(this).closest('.element').find('.el2').removeClass('active');\r\n\t\t$('.listing_content_tab_wrap').removeClass('dop_info_bg');\r\n\t});\r\n\t$('.article_full .btn_more').click(function () {\r\n\t\t$(this).toggleClass('active');\r\n\t\t$(this).find('span').toggleClass('active');\r\n\t\t$(this).closest('.article_full').toggleClass('open');\r\n\t});\r\n}\r\nfunction listingAkciaOpen() { // ф-я дублирует функцию из listing.js\r\n\t$('.btn_js_drop').click(function () {\r\n\t\t$(this).toggleClass('active');\r\n\t\t$(this).closest('.element').find('.element_akcia').toggleClass('active');\r\n\t});\r\n}\r\n\r\nfunction listingItemCardView() {\r\n\tvar a = $(window).width()\r\n\tif (a < 634) {\r\n\t\t$('.listing_content_tab_wrap').addClass('listing_content_tab_wrap2')\r\n\t} else {\r\n\t\t$('.listing_content_tab_wrap').removeClass('listing_content_tab_wrap2')\r\n\t}\r\n}\r\n\r\nfunction shopListItemCanvasTag() {\r\n\tvar l = $('.tagAction').length\r\n\tif (l) {\r\n\t\t$('.tagAction').click(function (e) {\r\n\t\t\te.preventDefault()\r\n\t\t})\r\n\r\n\t\ttry {\r\n\t\t\tvar RENDERtext = ''\r\n\t\t\tfunction renderText() {\r\n\t\t\t\tconsole.log(this, arguments)\r\n\t\t\t}\r\n\r\n\t\t\twindow.onload = function () {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tTagCanvas.Start('myCanvas', 'tags', {\r\n\t\t\t\t\t\ttextColour: '#000000',\r\n\t\t\t\t\t\toutlineColour: '#00000000',\r\n\t\t\t\t\t\treverse: true,\r\n\t\t\t\t\t\tdragControl: true,\r\n\t\t\t\t\t\tdepth: 0.5,\r\n\t\t\t\t\t\tmaxSpeed: 0.05,\r\n\t\t\t\t\t\tminSpeed: 0.01,\r\n\t\t\t\t\t\toutlineDashSpeed: 0,\r\n\t\t\t\t\t\ttooltip: 'div',\r\n\t\t\t\t\t\ttooltipClass: 'tooltip-div',\r\n\t\t\t\t\t\twheelZoom: false,\r\n\t\t\t\t\t\tinitial: 0.03\r\n\t\t\t\t\t});\r\n\t\t\t\t\tTagCanvas.SetSpeed('myCanvas', [0.03, -0.01]);\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\t// something went wrong, hide the canvas container\r\n\t\t\t\t\tdocument.getElementById('myCanvasContainer').style.display = 'none';\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction shopListWidthVideo() {\r\n\tvar a = $('.shopList_item_video').length;\r\n\tif (a) {\r\n\t\tvar b = $(window).width();\r\n\t\tif (b < 768) {\r\n\t\t\tvar c = b / 1.95;\r\n\t\t\t$('.shopList_item_video iframe').css('height', c)\r\n\t\t} else {\r\n\t\t\t$('.shopList_item_video iframe').removeAttr('style');\r\n\t\t}\r\n\t}\r\n}\r\n\r\n$(document).ready(function () {\r\n\tshopListItemSlider()\r\n\tlistingArticleShopItem()\r\n\tlistingAkciaOpen()\r\n\tlistingItemCardView()\r\n\tshopListItemCanvasTag()\r\n\tshopListWidthVideo()\r\n})\r\n\r\n\r\n$(window).resize(function () {\r\n\tlistingItemCardView()\r\n\tshopListWidthVideo()\r\n})\r\n\r\n// Растяжка на главной странице\r\n$(document).ready(function () {\r\n    /* Слайдим текст растяжки, если не влез на экран\r\n     * Первый раз стартуем при инициализации,\r\n     * далее перезапускаем при ресайзе окна\r\n     */\r\n    checkStretchBanner();\r\n    $(window).resize(checkStretchBanner);\r\n\r\n    function checkStretchBanner () {\r\n        const content = $('.stretch-banner__content');\r\n\r\n        if (content.length > 0) {\r\n            isOverflowed(content[0])\r\n                ? buildStretchBanner()\r\n                : removeStretchBanner();\r\n        }\r\n    }\r\n\r\n    function isOverflowed (el) {\r\n        return el.scrollWidth > $(window).width();\r\n    }\r\n\r\n    function buildStretchBanner () {\r\n        const contents = $('.stretch-banner__content');\r\n        const container = $('.stretch-banner');\r\n\r\n        $(container).addClass('stretch-banner_close');\r\n\r\n        if (contents.length === 1) {\r\n            $(contents).clone()\r\n                .insertAfter(contents);\r\n        }\r\n    }\r\n\r\n    function removeStretchBanner () {\r\n        const container = $('.stretch-banner');\r\n        const contents = $('.stretch-banner__content');\r\n\r\n        $(container).removeClass('stretch-banner_close');\r\n\r\n        if (contents.length > 0 ) {\r\n            $(contents[1]).detach();\r\n        }\r\n    }\r\n\r\n    /* Тогглим адреса магазинов в\r\n     * растяжке, если их несколько\r\n     */\r\n    getStreetTopBanner();\r\n\r\n    function getStreetTopBanner () {\r\n        const isStretchBanner = $('#getStreetTopBanner')\r\n            .length > 0;\r\n        const isSomePlaces = $('.stretch-banner__location.active')\r\n            .parent()\r\n            .children('.stretch-banner__location')\r\n            .length > 1;\r\n\r\n        if (isStretchBanner && isSomePlaces) {\r\n            setInterval(toggleSwitcherLocations, 10000);\r\n        }\r\n    }\r\n\r\n    function toggleSwitcherLocations() {\r\n        const newLocationIndex = getNewLocationIndex();\r\n\r\n        hideActivePlaces();\r\n\r\n        setTimeout(() => {\r\n            resetActivePlaces();\r\n            activeNewPlace(newLocationIndex);\r\n        }, 300);\r\n\r\n        setTimeout(showActivePlace, 400);\r\n    }\r\n\r\n    function getNewLocationIndex() {\r\n        const location = $('.stretch-banner__location.active')[0];\r\n\r\n        const countPlaces = $(location)\r\n            .closest('.stretch-banner__content')\r\n            .children('.stretch-banner__location')\r\n            .length;\r\n\r\n        return $(location).index() === countPlaces - 1\r\n            ? 0\r\n            : $(location).index() + 1;\r\n    }\r\n\r\n    function hideActivePlaces() {\r\n        $('.stretch-banner__location').removeClass('visible');\r\n    }\r\n\r\n    function resetActivePlaces() {\r\n        $('.stretch-banner__location').removeClass('active');\r\n    }\r\n\r\n    function activeNewPlace(idx) {\r\n        const containers = $('.stretch-banner__content');\r\n\r\n        containers.each((i, el) => {\r\n            const newActivePlace = $(el)\r\n                .children('.stretch-banner__location')[idx];\r\n\r\n            $(newActivePlace).addClass('active');\r\n        });\r\n    }\r\n\r\n    function showActivePlace() {\r\n        $('.stretch-banner__location.active')\r\n            .addClass('visible');\r\n    }\r\n});\r\n\r\n// Баннер/Слайдер\r\nnew Swiper('.swiper_billboard', {\r\n    slidesPerView: 'auto',\r\n    speed: 500,\r\n    loop: true,\r\n    observer: true,\r\n    observeParents: true,\r\n    observeSlideChildren: true,\r\n    parallax: true,\r\n    autoplay: {\r\n        delay: 5000,\r\n        disableOnInteraction: false\r\n    },\r\n    pagination: {\r\n        el: '.billboard__pagination',\r\n        clickable: true\r\n    },\r\n    preloadImages: false,\r\n    lazy: {\r\n        loadOnTransitionStart: false,\r\n        loadPrevNext: true\r\n    },\r\n    watchSlidesProgress: true,\r\n    watchSlidesVisibility: true,\r\n    on: {\r\n        init: function () {\r\n            Array.from(document.querySelectorAll('.swiper_billboard .hidden'))\r\n                .forEach(function(slide) {\r\n                    slide.classList.remove('hidden')\r\n                })\r\n        },\r\n    }\r\n});\r\n\r\n// Марке с тултипом для рекламных баннеров\r\nfunction initAddMark() {\r\n    // Маркеры\r\n    Array.from(document.querySelectorAll('.add-mark'))\r\n        .forEach(function(marker) {\r\n            marker.addEventListener('click', function(e) {\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n                showAddMarkTooltip(this);\r\n            })\r\n        });\r\n\r\n    // Кнопки закрыть\r\n    Array.from(document.querySelectorAll('.add-mark__close'))\r\n        .forEach(function(button) {\r\n            button.addEventListener('click', function(e) {\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n                hideAddMarkTooltip(this);\r\n            })\r\n        });\r\n\r\n    // Кнопки скопировать\r\n    Array.from(document.querySelectorAll('.add-mark__copy'))\r\n        .forEach(function(button) {\r\n            button.addEventListener('click', function(e) {\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n                copyAddMarkLink(this);\r\n                showAddMarkCopiedMsd(this);\r\n            })\r\n        });\r\n}\r\n\r\nfunction showAddMarkTooltip(marker) {\r\n    var tooltip = marker.querySelector('.add-mark__tooltip');\r\n    tooltip.classList.add('show');\r\n}\r\n\r\nfunction hideAddMarkTooltip(button) {\r\n    var tooltip = button.parentNode;\r\n    tooltip.classList.remove('show');\r\n}\r\n\r\nfunction copyAddMarkLink(button) {\r\n    var link = button.closest('.add-mark').dataset.link;\r\n    var textarea = document.createElement('textarea');\r\n\r\n    if (!link) {\r\n        var closestAnchor = button.closest('a');\r\n        link = closestAnchor.getAttribute('href');\r\n    }\r\n\r\n    textarea.value = link;\r\n    document.body.appendChild(textarea);\r\n    textarea.select();\r\n    document.execCommand('copy');\r\n    document.body.removeChild(textarea);\r\n}\r\n\r\nfunction showAddMarkCopiedMsd(button) {\r\n    var text = button.querySelector('span').innerText;\r\n    button.classList.add('disabled');\r\n    button.querySelector('span').innerText = 'Скопировано';\r\n\r\n    setTimeout(function() {\r\n        button.classList.remove('disabled');\r\n        button.querySelector('span').innerText = text;\r\n    }, 3000);\r\n}\r\n\r\nfunction hideAddMarkAll() {\r\n    document.addEventListener('click', function(e) {\r\n    var target = event.target;\r\n\r\n    if (target.closest('.add-mark')) return;\r\n\r\n    Array.from(document.querySelectorAll('.add-mark__tooltip'))\r\n        .forEach(function(tooltip) {\r\n            tooltip.classList.remove('show');\r\n        });\r\n});\r\n}\r\n\r\nwindow.addEventListener('load', function() {\r\n    initAddMark();\r\n    hideAddMarkAll();\r\n})\r\n\r\n// Сквозная навигация на всех страницах сайта\r\nfunction handleNavItemOn() {\r\n    resetAllNavItems();\r\n    setNavItem(this);\r\n}\r\n\r\nfunction resetAllNavItems() {\r\n    $('[data-nav-target]').removeClass('active');\r\n    $('.navigation__menu').removeClass('active');\r\n}\r\n\r\nfunction setNavItem(item) {\r\n    item = item !== undefined\r\n        ? item\r\n        : $('[data-nav-target]')[0];\r\n    \r\n    var targetMenuId = $(item).data('nav-target');\r\n    var targetMenu = $('#' + targetMenuId)[0];\r\n    \r\n    $(item).addClass('active');\r\n    $(targetMenu).addClass('active');\r\n}\r\n\r\n$('[data-nav-target]').hoverIntent({\r\n    over: handleNavItemOn,\r\n    out: function () {},\r\n    timeout: 300,\r\n    interval: 100\r\n})\r\n\r\n// Показываем видео с youtube в модальном окне через fancybox\r\n$(document).ready(function(){\r\n    $('.WY_link').fancybox();\r\n});\r\n\r\n// Scripts for reviews into any category\r\n$(document).ready(function () {\r\n   $('.reviews__toggle').on('click', function () {\r\n       var reviewsItem = $(this).closest('.reviews__item');\r\n       var reviewsText = $(reviewsItem).find('.reviews__text');\r\n       var reviewsTextCollapsedHeight = $(reviewsText).height();\r\n    \r\n       $(reviewsItem).toggleClass('visible');\r\n    \r\n       var reviewsTextDroppedHeight = $(reviewsText).height();\r\n    \r\n       if (reviewsTextCollapsedHeight === reviewsTextDroppedHeight) {\r\n           $(reviewsItem).find('.reviews__toggle').css('visibility', 'hidden');\r\n       }\r\n   });\r\n    \r\n    // Скрываем кнопки Подробнее, если текст в комментарии показан полностью -- START\r\n    var reviewsTextBlocks = $('.reviews__text');\r\n\r\n    if (reviewsTextBlocks.length > 0) {\r\n        $(reviewsTextBlocks).each(function (idx, el) {\r\n            var elCollapsedHeight = $(el).height();\r\n            var elContainer = $(el).closest('.reviews__item');\r\n\r\n            $(elContainer).addClass('visible');\r\n\r\n            var elDroppedHeight = $(el).height()\r\n\r\n            if (elCollapsedHeight === elDroppedHeight) {\r\n                $(elContainer)\r\n                    .find('.reviews__toggle')\r\n                    .css('visibility', 'hidden');\r\n            }\r\n\r\n            $(elContainer).removeClass('visible');\r\n        });\r\n    }\r\n    // Скрываем кнопки Подробнее, если текст в комментарии показан полностью -- FINISH\r\n});\r\n\r\n// Scripts for quiz test\r\n/* At the super global variable STORE\r\n * save all data from user.\r\n * Using proxy for listening, update\r\n * and logging changes of data.\r\n */\r\nwindow.STORE = {\r\n    name: undefined,\r\n    birthday: undefined,\r\n    job: undefined,\r\n    questions: {}\r\n};\r\n\r\nSTORE = new Proxy(STORE, {\r\n    set: function (target, prop, val) {\r\n    \r\n        if (val === '') val = undefined;\r\n        \r\n        target[prop] = val;\r\n        \r\n        return true;\r\n    },\r\n    \r\n    deleteProperty: function(target, prop) {\r\n        delete target[prop];\r\n        \r\n        return true;\r\n    }\r\n});\r\n\r\n// Set user data\r\nconst userControllerList = [\r\n    ...Array.from(document\r\n        .querySelectorAll('.quiz-test__question [type=\"text\"]')),\r\n    ...Array.from(document\r\n        .querySelectorAll('.quiz-test__question [type=\"tel\"]'))\r\n];\r\n\r\nuserControllerList.forEach(el => {\r\n    el.addEventListener('input', updateUser);\r\n});\r\n\r\nfunction updateUser() {\r\n    STORE[this.name] = this.value;\r\n}\r\n\r\n// Go to next test step\r\nconst goToNextButtons = Array.from(document.querySelectorAll(\r\n    '.quiz-test__button:not(.quiz-test__button_end)'));\r\n\r\ngoToNextButtons.forEach(el => {\r\n    el.addEventListener('click', goToNextStep);\r\n});\r\n\r\nfunction goToNextStep () {\r\n    isGettingUserData(this)\r\n        ? checkUserData(this)\r\n        : checkAnswerCount(this);\r\n}\r\n\r\nfunction isGettingUserData(node) {\r\n    const userForm = node.parentNode\r\n        .querySelectorAll('.quiz-test__form');\r\n    \r\n    return userForm.length > 0;\r\n}\r\n\r\nfunction setUserError(node) {\r\n    node.parentNode.classList.add('has-error');\r\n}\r\n\r\nfunction removeUserError(node) {\r\n    node.parentNode.classList.remove('has-error');\r\n}\r\n\r\nfunction checkUserData(node) {\r\n    let isFromValid = true;\r\n    \r\n    const controllers = node.parentNode\r\n        .querySelectorAll('input') ;\r\n    \r\n    controllers.forEach(el => {\r\n        if (el.value == '') {\r\n            setUserError(el);\r\n            isFromValid = false;\r\n        } else {\r\n            removeUserError(el);\r\n        }\r\n    });\r\n    \r\n    if (isFromValid) toggleStep(node);\r\n}\r\n\r\nfunction checkAnswerCount(node) {\r\n    const container = node\r\n        .closest('.quiz-test__question');\r\n    \r\n    const answerCountNeed = parseInt(container\r\n        .dataset.answersCount);\r\n    \r\n    const answerCountSelected = container\r\n        .querySelectorAll('input:checked').length;\r\n\r\n    if (answerCountNeed > answerCountSelected) {\r\n        alert(\"Выбрано недостаточно ответов!\")\r\n        return;\r\n    }\r\n    \r\n    toggleStep(node);\r\n}\r\n\r\nfunction toggleStep(node) {\r\n    const currentStep = node.parentNode;\r\n    const currentStepNumber = currentStep.dataset.quizTestStep;\r\n    const nextStepNumber = parseInt(currentStepNumber) + 1;\r\n    \r\n    const nextStep = document.querySelector(\r\n        `[data-quiz-test-step=\"${nextStepNumber}\"]`);\r\n    \r\n    currentStep.classList.remove('visible');\r\n    nextStep.classList.add('visible');\r\n\r\n    updateTestTitle(nextStepNumber);\r\n    scrollToTestStart();\r\n}\r\n\r\nfunction updateTestTitle(stepNumber) {\r\n    const numberPlace = document\r\n        .getElementById('quizTestStep');\r\n    \r\n    if (stepNumber === 4) stepNumber = 3;\r\n    \r\n    numberPlace.innerText = stepNumber + '/3'\r\n}\r\n\r\nfunction scrollToTestStart() {\r\n    const target = document\r\n        .querySelector('.quiz-test__wrapper');\r\n    \r\n    target.scrollIntoView();\r\n}\r\n\r\n// Set answers to STORE\r\nconst testControllerList = Array.from(document\r\n    .querySelectorAll('.quiz-test__card [type=\"checkbox\"]'));\r\n\r\ntestControllerList.forEach(el => {\r\n    el.addEventListener('input', setAnswer);\r\n});\r\n\r\nfunction setAnswer() {\r\n    const container = this.closest('.quiz-test__question');\r\n    const questionId = container.dataset.quizQuestion;\r\n    const questionText = container.querySelector(\r\n        '.quiz-test__caption').textContent;\r\n    \r\n    addQuestionInStore(questionId, questionText);\r\n    toggleQuestionValue(this.checked, questionId, this.value);\r\n    checkQuestionInStore(questionId);\r\n}\r\n\r\nfunction addQuestionInStore(id, text) {\r\n    if (!STORE.questions[id]) {\r\n        STORE.questions[id] = {\r\n            text: text,\r\n            values: []\r\n        }\r\n    }\r\n}\r\n\r\nfunction checkQuestionInStore(id) {\r\n    if (!STORE.questions[id].values.length) {\r\n        delete STORE.questions[id];\r\n    }\r\n}\r\n\r\nfunction toggleQuestionValue(checked, questionId, value) {\r\n    if (checked) {\r\n        STORE.questions[questionId]\r\n            .values.push(value);\r\n    } else {\r\n        const values = STORE.questions[questionId].values;\r\n        const idx = values.indexOf(value);\r\n        \r\n        STORE.questions[questionId].values = [\r\n            ...values.slice(0, idx),\r\n            ...values.slice(idx + 1)\r\n        ];\r\n    }\r\n}\r\n\r\n// Push user data to back\r\nconst lastButton = document\r\n    .querySelector('.quiz-test__button_end');\r\n\r\nif (lastButton) {\r\n    lastButton.addEventListener('click', (evt) => {\r\n        evt.preventDefault();\r\n        \r\n        const userData = {\r\n            name: STORE.name,\r\n            birthday: STORE.birthday,\r\n            job: STORE.job,\r\n            questions: STORE.questions\r\n        }\r\n        \r\n        console.log('Указанные пользователем данные')\r\n        console.log(userData);\r\n    });\r\n}\r\n\r\n// User birthday masking\r\nconst userBirthdayController = document\r\n    .querySelector('.quiz-test__question [type=\"tel\"]');\r\n\r\nif (userBirthdayController) {\r\n    userBirthdayController.addEventListener('input', function(evt) {\r\n        const textLength = this.value.length;\r\n        const lastLetter = this.value[this.value.length - 1];\r\n        const isNumber = Number.isInteger(parseInt(lastLetter));\r\n        \r\n        if (textLength > 10 || !isNumber) {\r\n            this.value = this.value.slice(0, -1);\r\n        }\r\n        \r\n        if (textLength === 2 || textLength === 5) {\r\n            this.value = this.value + '.'\r\n        }\r\n    });\r\n}\r\n\r\n// Mindbox slider\r\n// Initializing Mindbox slider\r\nconst commonMindboxProps = {\r\n\twrapperClass: 'popmechanic-items',\r\n\tslideClass: 'mb__card',\r\n\r\n\twatchOverflow: true,\r\n\tloop: false,\r\n\tobserver: true,\r\n\tobserveParents: true,\r\n\tobserveSlideChildren: true,\r\n\r\n\tslidesPerView: 2,\r\n\tspaceBetween: 20,\r\n}\r\n\r\nconst mindboxProps5col = {\r\n\tscrollbar: {\r\n\t\t\tel: '.maindbox-slider-5col .popmechanic-scrollbar',\r\n\t\t\tdraggable: true\r\n\t\t},\r\n\r\n\tbreakpoints: {\r\n\t\t576:  { slidesPerView: 3 },\r\n\t\t992:  { slidesPerView: 4 },\r\n\t\t1280: { slidesPerView: 5 }\r\n\t}\r\n}\r\n\r\nconst mindboxProps4col = {\r\n\tscrollbar: {\r\n\t\t\tel: '.maindbox-slider-4col .popmechanic-scrollbar',\r\n\t\t\tdraggable: true\r\n\t\t},\r\n\r\n\tbreakpoints: {\r\n\t\t576:  { slidesPerView: 3 },\r\n\t\t992:  { slidesPerView: 2 },\r\n\t\t1200: { slidesPerView: 3 },\r\n\t\t1440: { slidesPerView: 4 }\r\n\t}\r\n}\r\n\r\nconst mindboxProps3col = {\r\n\tscrollbar: {\r\n\t\t\tel: '.maindbox-slider-3col .popmechanic-scrollbar',\r\n\t\t\tdraggable: true\r\n\t\t},\r\n\r\n\tbreakpoints: {\r\n\t\t576:  { slidesPerView: 3 },\r\n\t\t992:  { slidesPerView: 4 },\r\n\t\t1201: { slidesPerView: 3 }\r\n\t}\r\n}\r\n\r\nfunction initialMindboxSlider() {\r\n\tconst isThere5columnWidget = document.querySelector('.maindbox-slider-5col');\r\n\tconst isThere4columnWidget = document.querySelector('.maindbox-slider-4col');\r\n\tconst isThere3columnWidget = document.querySelector('.maindbox-slider-3col');\r\n\r\n\tif (isThere5columnWidget) {\r\n\t\tnew Swiper('.maindbox-slider-5col .popmechanic-items-wrapper', {\r\n\t\t\t...commonMindboxProps,\r\n\t\t\t...mindboxProps5col\r\n\t\t});\r\n\t}\r\n\r\n\tif (isThere4columnWidget) {\r\n\t\tnew Swiper('.maindbox-slider-4col .popmechanic-items-wrapper', {\r\n\t\t\t...commonMindboxProps,\r\n\t\t\t...mindboxProps4col\r\n\t\t});\r\n\t}\r\n\r\n\tif (isThere3columnWidget) {\r\n\t\tnew Swiper('.maindbox-slider-3col .popmechanic-items-wrapper', {\r\n\t\t\t...commonMindboxProps,\r\n\t\t\t...mindboxProps3col\r\n\t\t});\r\n\t}\r\n}\r\n\r\nfunction mindboxBuildListener() {\r\n\tlet intervalId = setInterval(function() {\r\n\t\t\tlet isMindboxBuilded = document\r\n\t\t\t\t.querySelectorAll('.mb__card').length > 0;\r\n\r\n\t\t\tif (isMindboxBuilded) {\r\n\t\t\t\tinitialMindboxSlider();\r\n\t\t\t\tclearInterval(intervalId);\r\n\t\t\t}\r\n\t\t}, 100);\r\n\r\n\t\tsetTimeout(function() {\r\n\t\t\tclearInterval(intervalId);\r\n\t\t}, 10000);\r\n}\r\n\r\nwindow.addEventListener('load', mindboxBuildListener);\r\n\r\n// Comparison scripts\r\nComparison = {\r\n    add: {\r\n        options: {\r\n            add: '.comparison-add',\r\n            remove: '.comparison-remove',\r\n            go: '.comparison-go',\r\n            total: '.comparison-total',\r\n            added: 'added',\r\n            can_compare: 'can_compare',\r\n            loading: 'loading'\r\n        },\r\n        initialize: function (selector, params) {\r\n            if (!$(selector).length) {return}\r\n            var options = this.options\r\n            var minItems = !params.minItems\r\n                ? 2\r\n                : params.minItems\r\n\r\n            $(document).on('click', selector + ' ' + options.add + ',' + selector + ' ' + options.remove, function () {\r\n                var $this = $(this)\r\n\r\n                var $parent = $this.parents(selector)\r\n                var text = $this.data('text')\r\n                var list = $parent.data('list')\r\n                var id = $parent.data('id')\r\n                var action = $this.hasClass(options.add.substr(1))\r\n                    ? 'add'\r\n                    : 'remove'\r\n\r\n                if ($this.hasClass(options.loading)) {return false} else {$this.addClass(options.loading)}\r\n                if (text.length) {\r\n                    $this.attr('data-text', Comparison.utils.encode($this.html())).html(text)\r\n                }\r\n\r\n                $.post('/rest/api/product/comparison/', {cmp_action: action, list: list, resource: id}, function (response) {\r\n                    if (text.length) {\r\n                        text = Comparison.utils.decode($this.attr('data-text'))\r\n                        $this.attr('data-text', Comparison.utils.encode($this.html())).html(text)\r\n                    }\r\n                    $this.removeClass(options.loading)\r\n                    if (response.success) {\r\n\r\n                        var $total = $(options.total, selector)\r\n                        fdkSetTotals($total, response.object.total)\r\n\r\n                        if (response.object.link) {\r\n                            $(options.go, selector).attr('href', response.object.link)\r\n                        }\r\n                        if (response.object.total >= minItems) {\r\n                            $(selector).addClass(options.can_compare)\r\n                        } else {$(selector).removeClass(options.can_compare)}\r\n\r\n                        if (action == 'add') {\r\n                            $parent.addClass(options.added)\r\n                        } else {\r\n                            $parent.removeClass(options.added)\r\n                        }\r\n\r\n                    } else {\r\n                        if (typeof miniShop2 != 'undefined') {miniShop2.Message.error(response.message)} else {alert(response.message)}\r\n                    }\r\n                }, 'json')\r\n                return false\r\n            })\r\n        }\r\n    },\r\n    list: {\r\n        options: {\r\n            all: '.comparison-params-all',\r\n            unique: '.comparison-params-unique',\r\n            same_class: 'same',\r\n            active_class: 'active'\r\n        },\r\n        initialize: function (selector, params) {\r\n            if (!$(selector).length) {return}\r\n\r\n            var options = {}\r\n            for (var option in Comparison.add.options) { options[option] = Comparison.add.options[option] }\r\n            for (var option in this.options) { options[option] = this.options[option] }\r\n            var minItems = !params.minItems ? 1 : params.minItems\r\n\r\n            // Switch parameters\r\n            $(document).on('click', selector + ' ' + options.all + ',' + selector + ' ' + options.unique, function () {\r\n                var $this = $(this)\r\n                var $parent = $this.parents(selector)\r\n\r\n                if ($this.hasClass(options.active_class)) {\r\n                    return false\r\n                } else if ($this.hasClass(options.all.substr(1))) {\r\n                    $(options.unique, $parent).removeClass(options.active_class)\r\n                    $this.addClass(options.active_class)\r\n                    $('.' + options.same_class, $parent).show()\r\n                } else if ($this.hasClass(options.unique.substr(1))) {\r\n                    $(options.all, $parent).removeClass(options.active_class)\r\n                    $this.addClass(options.active_class)\r\n                    $('.' + options.same_class, $parent).hide()\r\n                }\r\n                return false\r\n            })\r\n\r\n            // Remove from list\r\n            $(document).on('click', selector + ' ' + options.remove, function (e) {\r\n                var $this = $(this)\r\n                var $parent = $this.parents(selector)\r\n                var text = $this.data('text')\r\n                var list = $this.parent().data('list')\r\n                var id = $this.parent().data('id')\r\n                var index = $(options.remove, selector).index(this) + 1\r\n\r\n                if (text.length) {\r\n                    $this.attr('data-text', Comparison.utils.encode($this.html())).html(text)\r\n                }\r\n                $.post('/rest/api/product/comparison/', {cmp_action: 'remove', list: list, resource: id}, function (response) {\r\n                    if (text.length) {\r\n                        text = Comparison.utils.decode($this.attr('data-text'))\r\n                        $this.attr('data-text', Comparison.utils.encode($this.html())).html(text)\r\n                    }\r\n                    $this.removeClass(options.loading)\r\n                    if (response.success) {\r\n                        if (response.object.total < minItems) {\r\n                            document.location = document.location.pathname\r\n                        }\r\n                        $(options.total).text(response.object.total)\r\n\r\n                        $parent.find('tr').each(function () {\r\n                            $(this).find('th:eq(' + index + '), td:eq(' + index + ')').remove()\r\n                        })\r\n                    } else {\r\n                        if (typeof miniShop2 != 'undefined') {miniShop2.Message.error(response.message)} else {alert(response.message)}\r\n                    }\r\n                }, 'json')\r\n\r\n                return false\r\n            })\r\n        }\r\n    },\r\n\r\n    utils: {\r\n        encode: function (string) {\r\n            return $('<pre/>').text(string).html()\r\n        },\r\n        decode: function (string) {\r\n            return $('<pre/>').html(string).text()\r\n        }\r\n    }\r\n}\r\n\r\n$(document).ready(function ($) {\r\n    if ($('.comparison-table').length > 0) {\r\n        Comparison.list.initialize('.comparison-table', {minItems: 2})\r\n    } else {\r\n        Comparison.add.initialize('.comparison-default', {minItems: 2})\r\n    }\r\n})\r\n\r\n// Работа со скроллом таблицы Сравнение -- START\r\n$(document).ready(function() {\r\n    var comparisonTable = $('.comparison-table');\r\n    var comparisonButtons = $('.comparison-controller');\r\n\r\n    // Срываем кнопки скролла таблицы сравнения, когда они ниже таблицы\r\n    $(window).scroll(function() {\r\n        if (comparisonTable.length) {\r\n            var comparisonTableBottom = comparisonTable.offset()\r\n                .top + comparisonTable.outerHeight();\r\n            var comparisonButtonsBottom = $(comparisonButtons[0]).offset()\r\n                .top + $(comparisonButtons[0]).outerHeight();\r\n\r\n            if (comparisonButtonsBottom > comparisonTableBottom) {\r\n                comparisonButtons.addClass('invisible');\r\n            } else {\r\n                comparisonButtons.removeClass('invisible');\r\n            }\r\n        }\r\n    });\r\n\r\n    // Управляем сроллом таблицы сравнения\r\n    var container = $('.compare .clearfix');\r\n    var offset = $('.comparison-table tr:first-child td:first-child').outerWidth(true);\r\n    // var offset = 10;\r\n\r\n    $(comparisonButtons[0]).on('click', function() {\r\n        $(container).animate({\r\n            scrollLeft: '-='+offset+'px'\r\n        }, 300);\r\n        setTimeout(checkComaprisonTableScroll, 500);\r\n    });\r\n\r\n    $(comparisonButtons[1]).on('click', function() {\r\n        $(container).animate({\r\n            scrollLeft: '+='+offset+'px'\r\n        }, 300);\r\n        setTimeout(checkComaprisonTableScroll, 400);\r\n    });\r\n\r\n    $(container).on('scroll', checkComaprisonTableScroll);\r\n    $(window).on('resize', checkComaprisonTableScroll);\r\n\r\n    // Проверяем нопки сролла. Нужны ли они вообще и\r\n    // Еслить сролить больше нельзя, блокируем нопки\r\n    function checkComaprisonTableScroll() {\r\n\r\n        var containerWidht = $(container).width()\r\n        var tableWidth = $(comparisonTable).width();\r\n\r\n        // Скрываем кнопки скролла, если ширина таблицы меньше ее контейнера\r\n        if (tableWidth < containerWidht) {\r\n            $('.comparison-controllers').hide();\r\n            return\r\n        }\r\n\r\n        $('.comparison-controllers').show();\r\n\r\n        var scroll = $(container).scrollLeft() + $(container).width();\r\n        var containerScrollLeft = $(container).scrollLeft();\r\n\r\n        if (scroll >= tableWidth) {\r\n            $(comparisonButtons[1]).addClass('disabled');\r\n        } else {\r\n            $(comparisonButtons[1]).removeClass('disabled');\r\n        }\r\n\r\n        if (containerScrollLeft > 0) {\r\n            $(comparisonButtons[0]).removeClass('disabled');\r\n        } else {\r\n            $(comparisonButtons[0]).addClass('disabled');\r\n        }\r\n\r\n        if (tableWidth <= $(container).width()) {\r\n            $('.comparison-controllers').css('dispaly', 'none');\r\n        }\r\n    }\r\n\r\n    checkComaprisonTableScroll()\r\n});\r\n// Работа со скроллом таблицы Сравнение -- FINISH\r\nvar isMatchingPage = document.querySelector('.page--matching');\r\nvar matchingStickySwiper;\r\nvar matchingBodySwiper;\r\n\r\n// Стартуем слайдеры сравнения\r\nfunction initMatchinSliders() {\r\n\tmatchingStickySwiper = new Swiper('#matchingStickySwiper', {\r\n\t\tloop: false,\r\n\t\tslidesPerView: 'auto',\r\n\t\twatchOverflow: true, // свайпер отключится, если мало карточек\r\n\t\tfreeMode: true, // включить свободный режим для сролла и не привязывать к началу слайдов\r\n\t\tfreeModeMomentum: false, // отключить энерцию при свободном скроллинге\r\n\t\ton: {\r\n\t\t\ttouchEnd: checkMatchingControllers,\r\n\t\t}\r\n\t});\r\n\r\n\tmatchingBodySwiper = new Swiper('#matchingBodySwiper', {\r\n\t\tloop: false,\r\n\t\tslidesPerView: 'auto',\r\n\t\twatchOverflow: true, // свайпер отключится, если мало карточек\r\n\t\tfreeMode: true, // включить свободный режим для сролла и не привязывать к началу слайдов\r\n\t\tfreeModeMomentum: false, // отключить энерцию при свободном скроллинге\r\n\t\ton: {\r\n\t\t\ttouchEnd: checkMatchingControllers,\r\n\t\t\tscrollbarDragEnd: checkMatchingControllers\r\n\t\t},\r\n\t\tscrollbar: {\r\n\t\t\tel: '.swiper-scrollbar',\r\n\t\t\tdraggable: true,\r\n\t\t\tsnapOnRelease: false, // не возвращать в начало слайда если скролим при помощи скроллбара\r\n\t\t},\r\n\t});\r\n\r\n\tmatchingStickySwiper.controller.control = matchingBodySwiper;\r\n\tmatchingBodySwiper.controller.control = matchingStickySwiper;\r\n}\r\n\r\n// Приклеиваем скроллбар сравнения к низу страницы, когда он выше контента\r\nfunction checkMatchingScrollbar() {\r\n\tvar matchingBody = $('.matching__body');\r\n\tvar matchingScrollbar = $('.matching__body .swiper-scrollbar');\r\n\tvar halfMatchingSrollbarHeight = matchingScrollbar.height() / 2;\r\n\r\n\tvar scrollTop = $(window).scrollTop();\r\n\tvar pageHeight = $(window).height();\r\n\r\n\tvar matchingBodyBottom = matchingBody.offset()\r\n\t\t.top + matchingBody.outerHeight();\r\n\r\n\tvar mobileFooterNav = $(window).width() < 993\r\n\t\t? 58 // getting this param from styles\r\n\t\t: 0;\r\n\r\n\tvar windowBotttom = scrollTop\r\n\t\t+ pageHeight\r\n\t\t- halfMatchingSrollbarHeight\r\n\t\t- mobileFooterNav;\r\n\r\n\tif (matchingBodyBottom > windowBotttom) {\r\n\t\tmatchingScrollbar.addClass('fixed');\r\n\t} else {\r\n\t\tmatchingScrollbar.removeClass('fixed');\r\n\t}\r\n}\r\n\r\n// Обработка кликов по кнопкам вперед/назад\r\nfunction handleMatchingControllers() {\r\n\tvar prev = document.querySelector('.matching__controller-item_prev');\r\n\tvar next = document.querySelector('.matching__controller-item_next');\r\n\r\n\tprev.addEventListener('click', function() {\r\n\t\thandleCheckMatchingControllerClick(1)\r\n\t});\r\n\r\n\tnext.addEventListener('click', function() {\r\n\t\thandleCheckMatchingControllerClick(-1)\r\n\t});\r\n}\r\n\r\n// Обработчик кликов по кнопкам вперед/назад\r\nfunction handleCheckMatchingControllerClick(direction) {\r\n\r\n\tvar sticky = $('.matching__sticky .swiper-wrapper');\r\n\tvar body = $('.matching__body .swiper-wrapper');\r\n\tvar scrollbar = $('.matching__body .swiper-scrollbar-drag');\r\n\tvar newSliderPos = getMatchingSlidePosition(direction, sticky);\r\n\r\n\tsetMatchingDuration(body, sticky, scrollbar);\r\n\tsetTimeout(function() {\r\n\t\tdeleteMatchingDuration(body, sticky, scrollbar);\r\n\t}, 300);\r\n\r\n\tmatchingStickySwiper.setTranslate(newSliderPos, 0);\r\n\tcheckMatchingControllers();\r\n}\r\n\r\n// Включаем анимацию слайдинга для слайдеров\r\nfunction setMatchingDuration(body, sticky, scrollbar) {\r\n\tbody.css(\"transition-duration\", \"300ms\");\r\n\tsticky.css(\"transition-duration\", \"300ms\");\r\n\tscrollbar.css(\"transition-duration\", \"300ms\");\r\n}\r\n\r\n// Отключаем анимацию слайдинга для слайдеров\r\nfunction deleteMatchingDuration(body, sticky, scrollbar) {\r\n\tbody.css(\"transition-duration\", \"0ms\");\r\n\tsticky.css(\"transition-duration\", \"0ms\");\r\n\tscrollbar.css(\"transition-duration\", \"0ms\");\r\n}\r\n\r\nfunction getMatchingOfsetX(transformValue) {\r\n\tvar startIndex = transformValue.indexOf(\"(\");\r\n\tvar endIndex = transformValue.indexOf(\")\");\r\n\tvar transform = transformValue.substring(startIndex + 1, endIndex);\r\n\treturn transform.split(\", \")[4];\r\n}\r\n\r\n// Получаем новую позицию слайдера после клика по кнопкам вперед/назад\r\nfunction getMatchingSlidePosition(direction, sticky) {\r\n\tvar cellWidth = $('.matching td').outerWidth();\r\n\tvar sliderCurrentOffsetX = parseFloat(getMatchingOfsetX(sticky.css(\"transform\")));\r\n\tvar swiperWidth = $(sticky).outerWidth();\r\n\tvar slideWidth = $($(sticky).find('.matching__slide')).outerWidth();\r\n\tvar maxOffset = -1 * (slideWidth - swiperWidth);\r\n\tvar newOffset;\r\n\r\n\t// Если стоим ровно на карточке\r\n\tif (sliderCurrentOffsetX % cellWidth === 0) {\r\n\t\tnewOffset = sliderCurrentOffsetX + cellWidth * direction;\r\n\r\n\t// Если стоим на части карточки (пользователь подвинул слайдер с помощью сролла)\r\n\t} else {\r\n\t\tvar parts = Math.floor(Math.abs(sliderCurrentOffsetX) / cellWidth);\r\n\t\tif (direction < 0) parts++;\r\n\t\tif (parts === 0) return 0;\r\n\t\tnewOffset = parts * cellWidth * -1;\r\n\t}\r\n\r\n\tif (newOffset > 0) return 0;\r\n\tif (newOffset < maxOffset) return maxOffset;\r\n\r\n\treturn newOffset;\r\n}\r\n\r\n// Проверяем кнопки вперед/назади и отключаем, если слайдер вначале или вконце\r\nfunction checkMatchingControllers() {\r\n\tsetTimeout(function() {\r\n\t\tvar sticky = $('.matching__sticky .swiper-wrapper');\r\n\t\tvar prevBtn = $('.matching__controller-item_prev');\r\n\t\tvar nextBtn = $('.matching__controller-item_next');\r\n\t\tvar swiperWidth = $(sticky).outerWidth();\r\n\t\tvar slideWidth = $($(sticky).find('.matching__slide')).outerWidth();\r\n\t\tvar maxOffset = -1 * (slideWidth - swiperWidth - 5);\r\n\t\tvar sliderCurrentOffsetX = parseFloat(getMatchingOfsetX(sticky.css(\"transform\")));\r\n\r\n\t\tif (sliderCurrentOffsetX === 0) {\r\n\t\t\tprevBtn.addClass('disabled');\r\n\t\t} else {\r\n\t\t\tprevBtn.removeClass('disabled');\r\n\t\t}\r\n\r\n\t\tif (sliderCurrentOffsetX <= maxOffset) {\r\n\t\t\tnextBtn.addClass('disabled');\r\n\t\t} else {\r\n\t\t\tnextBtn.removeClass('disabled');\r\n\t\t}\r\n\t}, 300);\r\n}\r\n\r\n// Переключаем иконку Добавить товар В избарнное\r\nfunction setMatchingFavoriteToggle() {\r\n    $('.matching__favorite').each(function(i, el) {\r\n        $(el).on('click', function() {\r\n\r\n            // В это место, при необходимости можно добавить асинхронное добалвение товара В избранное\r\n\r\n            toggleMatchingFavorite(el);\r\n        })\r\n    })\r\n}\r\n\r\n// Переключаем иконку Добавить товар В корзину\r\nfunction setMatchingCartToggle() {\r\n    $('.matching__button').each(function(i, el) {\r\n        $(el).on('click', function() {\r\n\r\n            // В это место, при необходимости можно добавить асинхронное добалвение товара В корзину\r\n\r\n            toggleMatchingCart(el);\r\n        })\r\n    })\r\n}\r\n\r\n// Функцию переключения В избранное, при необходимости можно использгвать\r\nfunction toggleMatchingFavorite(node) {\r\n    node.classList.toggle('voted');\r\n}\r\n\r\n// Функцию переключения В корзину, при необходимости можно использгвать\r\nfunction toggleMatchingCart(node) {\r\n    node.classList.toggle('selected');\r\n}\r\n\r\n// Проверяем зафиксирован ли блок с карточками в верху страницы\r\nfunction checkMatchinStick() {\r\n    if (window.innerWidth >= 1440) {\r\n        var header = document.querySelector('.header_new_topline');\r\n        var headerHeight = header.offsetHeight;\r\n        var body = document.querySelector('.matching__body');\r\n        var bodyRect = body.getBoundingClientRect();\r\n        var sticky = document.querySelector('.matching__sticky');\r\n\r\n        if (bodyRect.top - headerHeight < 0) {\r\n            sticky.classList.add('sticked');\r\n            setTimeout(() => {\r\n                sticky.classList.add('show');\r\n            }, 10);\r\n        } else {\r\n            if (bodyRect.top >= headerHeight + sticky.offsetHeight) {\r\n                sticky.classList.remove('sticked', 'show');\r\n            }\r\n        }\r\n\r\n        // var sticky = document.querySelector('.matching__sticky');\r\n        // var stickyRect = sticky.getBoundingClientRect();\r\n        // var stickyTopOffset = stickyRect.top;\r\n        // var stickyStyles = window.getComputedStyle(sticky);\r\n        // var stickyTopPosition = parseFloat(stickyStyles.getPropertyValue('top'));\r\n\r\n        // if (stickyTopOffset <= stickyTopPosition) {\r\n        //     sticky.classList.add('sticked');\r\n        //     sticky.style.marginBottom = sticky.offsetHeight + \"px\";\r\n        // } else {\r\n        //     sticky.classList.remove('sticked');\r\n        //     sticky.style.marginBottom = \"0\";\r\n        // }\r\n    }\r\n}\r\n\r\n// Обработчик клика на кнопке удалить товар из сравнения\r\nfunction addHandlerDeleteMatchingSell() {\r\n    $('.matching__delete').each(function(i, el) {\r\n        $(el).on('click', function() {\r\n            deleteMatchingSell(this);\r\n        });\r\n    });\r\n}\r\n\r\n// Удаляем товары из сравнения. Можно использовать эту функцию изолированно с асинхронным удалением\r\nfunction deleteMatchingSell(node) {\r\n    var cell = $(node).closest('td');\r\n    var idx = $(cell).index() + 1;\r\n    var lines = $('.matching__line');\r\n\r\n    // Удаляем карточку товара\r\n    $(cell).remove();\r\n\r\n    // Удаляем соответствующие ячейки в таблице с данными\r\n    $(lines).each(function(i, el) {\r\n        $(el).find('td:nth-child('+ idx +')').remove();\r\n    });\r\n\r\n    // После удаления обновляем слайдеры\r\n    matchingStickySwiper.update();\r\n    matchingBodySwiper.update();\r\n\r\n    matchingStickySwiper.slideTo(0);\r\n    matchingBodySwiper.slideTo(0);\r\n\r\n    // Проверяем есть ли товары для сравнения\r\n    checkMatchingData();\r\n}\r\n\r\n// Проверяем есть ли товары для сравнения\r\nfunction checkMatchingData() {\r\n    var msg = $('.matching__empty-message');\r\n    var match = $('.matching__wrap');\r\n    var cells = $('.matching__sticky td').length;\r\n\r\n    if (cells < 2) {\r\n        $(msg).css('display', 'block');\r\n        $(match).css('display', 'none');\r\n    } else {\r\n        $(msg).css('display', 'none');\r\n        $(match).css('display', 'block');\r\n    }\r\n}\r\n\r\n// Очищаем сравнение, удалем все товары\r\nfunction initRemoveMatching() {\r\n    var btns = $('.remove');\r\n\r\n    $(btns).each(function(i, el) {\r\n        $(el).on('click', function(e) {\r\n            e.preventDefault();\r\n\r\n            $('.matching__sticky td').remove();\r\n            $('.matching__body td').remove();\r\n\r\n            checkMatchingData();\r\n        });\r\n    })\r\n}\r\n\r\n// Фильтруем товары с отличиями\r\nfunction initCheckMatchingDiff() {\r\n    var btns = $('.matching__filter-controller');\r\n    var same = $('[data-diff=\"same\"]');\r\n\r\n    $(btns).each(function(i, el) {\r\n        $(el).on('click', function() {\r\n            var filterVal = $(el).data('filter');\r\n            var checkerAll = $('[data-filter=\"all\"] .matching__filter-checker');\r\n            var checkerDiff = $('[data-filter=\"diff\"] .matching__filter-checker');\r\n\r\n            $('.matching__filter-checker').removeClass('disabled');\r\n\r\n            if (filterVal === 'diff') {\r\n                checkerAll.addClass('disabled');\r\n                $(same).addClass('hidden');\r\n\r\n                if ($(window).width() > 767) {\r\n                    paintMatchingOnDiff();\r\n                }\r\n\r\n                return;\r\n            }\r\n\r\n            if (filterVal === 'all') {\r\n                checkerDiff.addClass('disabled');\r\n                $(same).removeClass('hidden');\r\n                resetPaintMatchingOnDiff();\r\n                return;\r\n            }\r\n        })\r\n    });\r\n}\r\n\r\n// Красим строки через одну в состоянии только отличия\r\nfunction paintMatchingOnDiff() {\r\n    var allBodyTables = $('.matching__body table');\r\n\r\n    $(allBodyTables).each(function(i, table) {\r\n        var lines = $(table).find('.matching__line:not(.hidden)');\r\n\r\n        $(lines).each(function(i, tr) {\r\n            if (i%2 === 0) {\r\n                $(tr).addClass('not-painted');\r\n\r\n            } else {\r\n                $(tr).addClass('painted');\r\n            }\r\n        })\r\n    })\r\n}\r\n\r\n// Брасываем окраску строк через одну для состояния только отличия\r\nfunction resetPaintMatchingOnDiff() {\r\n    $('.painted').removeClass('painted');\r\n    $('.not-painted').removeClass('not-painted');\r\n}\r\n\r\n// Скрываем/показываем кнопки вперед/назан\r\nfunction checkMatchingControllersVisible() {\r\n    var body = $('.matching__body');\r\n    var btns = $('.matching__controllers');\r\n\r\n    var bodyBottom = body.offset().top + body.outerHeight();\r\n    var btnsBottom = $(btns).offset().top + $(btns).outerHeight();\r\n\r\n    if (btnsBottom + 40 > bodyBottom) {\r\n        btns.addClass('disabled');\r\n    } else {\r\n        btns.removeClass('disabled');\r\n    }\r\n}\r\n\r\nif (isMatchingPage) {\r\n    checkMatchingData();\r\n\tinitMatchinSliders();\r\n\tcheckMatchingScrollbar();\r\n\thandleMatchingControllers();\r\n\tcheckMatchingControllers();\r\n    setMatchingFavoriteToggle();\r\n    setMatchingCartToggle();\r\n    addHandlerDeleteMatchingSell();\r\n    initRemoveMatching();\r\n    initCheckMatchingDiff();\r\n\r\n    $(window).scroll(function() {\r\n        checkMatchingScrollbar();\r\n        checkMatchinStick();\r\n        checkMatchingControllersVisible();\r\n    });\r\n}\r\n\r\n// Баннеры для сервисов на сайте на странице Каталога/Слайдер\r\nnew Swiper('.service-banner__slider', {\r\n    speed: 500,\r\n    loop: true,\r\n    spaceBetween: 20,\r\n    observer: true,\r\n    observeParents: true,\r\n    observeSlideChildren: true,\r\n\r\n    autoplay: {\r\n        delay: 5000,\r\n        disableOnInteraction: false\r\n    },\r\n\r\n    pagination: {\r\n        el: '.service-banner__pagination',\r\n        clickable: true\r\n    },\r\n\r\n    preloadImages: false, // отключаем включенную по умолчанию предзагрузку всех картинок\r\n\r\n    lazy: {\r\n        loadOnTransitionStart: false, // подгружать картинку на старте переключения слайда\r\n        loadPrevNext: true // подгружать предыдущую и следующую картинки\r\n    },\r\n\r\n    watchSlidesProgress: true // отслеживать видимость слайдов\r\n});\r\n\r\n// Скролл к каталогам на странице бренда\r\nfunction checkCatalogsUrlHash() {\r\n    var url = window.location.href;\r\n    return url.includes(\"#brand_catalog\");\r\n}\r\n\r\nwindow.addEventListener('load', function() {\r\n    var target = document.getElementById('brand_catalog');\r\n    var scrollOffset = -100;\r\n\r\n    if (window.innerWidth < 993) {\r\n        scrollOffset = 30;\r\n    }\r\n\r\n    if (!checkCatalogsUrlHash() || !target) {\r\n        return;\r\n    }\r\n\r\n    var scrollTop = $(target).offset().top + scrollOffset + \"px\";\r\n\r\n    $(\"html, body\").animate(\r\n        { scrollTop: scrollTop },\r\n        500,\r\n        \"linear\"\r\n    );\r\n});\r\n\r\n// Фильтр для страницы бренда - brands.html\r\n// Подключить в случае необходимости отладки.\r\n// На странице бренда подключается как default.js\r\n// brands.js\r\n\r\n// Скролим хлебные крошки к активной после рендеринга страницы\r\nfunction scrollToLastBreadcrumb() {\r\n    var breadcrumbScrollBody = document.querySelector('.breadcrumbs.breadcrumbs_adaptive nav');\r\n\r\n    if (!breadcrumbScrollBody) return;\r\n\r\n    var lastBreadcrumb = breadcrumbScrollBody.querySelector('.breadcrumb-item.active')\r\n    var styles = window.getComputedStyle(breadcrumbScrollBody);\r\n    var breadcrumbLeftOffset = parseFloat(styles.getPropertyValue('padding-left'));\r\n\r\n    breadcrumbScrollBody.scrollLeft = lastBreadcrumb.offsetLeft - breadcrumbLeftOffset;\r\n}\r\n\r\nwindow.addEventListener('load', scrollToLastBreadcrumb);\r\n\r\n// Омникальные промокоды\r\n(function (global, factory) {\r\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\r\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\r\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.IMask = {}));\r\n})(this, (function (exports) { 'use strict';\r\n\r\n  /** Checks if value is string */\r\n  function isString(str) {\r\n    return typeof str === 'string' || str instanceof String;\r\n  }\r\n\r\n  /** Checks if value is object */\r\n  function isObject(obj) {\r\n    var _obj$constructor;\r\n    return typeof obj === 'object' && obj != null && (obj == null || (_obj$constructor = obj.constructor) == null ? void 0 : _obj$constructor.name) === 'Object';\r\n  }\r\n  function pick(obj, keys) {\r\n    if (Array.isArray(keys)) return pick(obj, (_, k) => keys.includes(k));\r\n    return Object.entries(obj).reduce((acc, _ref) => {\r\n      let [k, v] = _ref;\r\n      if (keys(v, k)) acc[k] = v;\r\n      return acc;\r\n    }, {});\r\n  }\r\n\r\n  /** Direction */\r\n  const DIRECTION = {\r\n    NONE: 'NONE',\r\n    LEFT: 'LEFT',\r\n    FORCE_LEFT: 'FORCE_LEFT',\r\n    RIGHT: 'RIGHT',\r\n    FORCE_RIGHT: 'FORCE_RIGHT'\r\n  };\r\n\r\n  /** Direction */\r\n\r\n  function forceDirection(direction) {\r\n    switch (direction) {\r\n      case DIRECTION.LEFT:\r\n        return DIRECTION.FORCE_LEFT;\r\n      case DIRECTION.RIGHT:\r\n        return DIRECTION.FORCE_RIGHT;\r\n      default:\r\n        return direction;\r\n    }\r\n  }\r\n\r\n  /** Escapes regular expression control chars */\r\n  function escapeRegExp(str) {\r\n    return str.replace(/([.*+?^=!:${}()|[\\]/\\\\])/g, '\\\\$1');\r\n  }\r\n\r\n  // cloned from https://github.com/epoberezkin/fast-deep-equal with small changes\r\n  function objectIncludes(b, a) {\r\n    if (a === b) return true;\r\n    const arrA = Array.isArray(a),\r\n      arrB = Array.isArray(b);\r\n    let i;\r\n    if (arrA && arrB) {\r\n      if (a.length != b.length) return false;\r\n      for (i = 0; i < a.length; i++) if (!objectIncludes(a[i], b[i])) return false;\r\n      return true;\r\n    }\r\n    if (arrA != arrB) return false;\r\n    if (a && b && typeof a === 'object' && typeof b === 'object') {\r\n      const dateA = a instanceof Date,\r\n        dateB = b instanceof Date;\r\n      if (dateA && dateB) return a.getTime() == b.getTime();\r\n      if (dateA != dateB) return false;\r\n      const regexpA = a instanceof RegExp,\r\n        regexpB = b instanceof RegExp;\r\n      if (regexpA && regexpB) return a.toString() == b.toString();\r\n      if (regexpA != regexpB) return false;\r\n      const keys = Object.keys(a);\r\n      // if (keys.length !== Object.keys(b).length) return false;\r\n\r\n      for (i = 0; i < keys.length; i++) if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\r\n      for (i = 0; i < keys.length; i++) if (!objectIncludes(b[keys[i]], a[keys[i]])) return false;\r\n      return true;\r\n    } else if (a && b && typeof a === 'function' && typeof b === 'function') {\r\n      return a.toString() === b.toString();\r\n    }\r\n    return false;\r\n  }\r\n\r\n  /** Selection range */\r\n\r\n  /** Provides details of changing input */\r\n  class ActionDetails {\r\n    /** Current input value */\r\n\r\n    /** Current cursor position */\r\n\r\n    /** Old input value */\r\n\r\n    /** Old selection */\r\n\r\n    constructor(opts) {\r\n      Object.assign(this, opts);\r\n\r\n      // double check if left part was changed (autofilling, other non-standard input triggers)\r\n      while (this.value.slice(0, this.startChangePos) !== this.oldValue.slice(0, this.startChangePos)) {\r\n        --this.oldSelection.start;\r\n      }\r\n      if (this.insertedCount) {\r\n        // double check right part\r\n        while (this.value.slice(this.cursorPos) !== this.oldValue.slice(this.oldSelection.end)) {\r\n          if (this.value.length - this.cursorPos < this.oldValue.length - this.oldSelection.end) ++this.oldSelection.end;else ++this.cursorPos;\r\n        }\r\n      }\r\n    }\r\n\r\n    /** Start changing position */\r\n    get startChangePos() {\r\n      return Math.min(this.cursorPos, this.oldSelection.start);\r\n    }\r\n\r\n    /** Inserted symbols count */\r\n    get insertedCount() {\r\n      return this.cursorPos - this.startChangePos;\r\n    }\r\n\r\n    /** Inserted symbols */\r\n    get inserted() {\r\n      return this.value.substr(this.startChangePos, this.insertedCount);\r\n    }\r\n\r\n    /** Removed symbols count */\r\n    get removedCount() {\r\n      // Math.max for opposite operation\r\n      return Math.max(this.oldSelection.end - this.startChangePos ||\r\n      // for Delete\r\n      this.oldValue.length - this.value.length, 0);\r\n    }\r\n\r\n    /** Removed symbols */\r\n    get removed() {\r\n      return this.oldValue.substr(this.startChangePos, this.removedCount);\r\n    }\r\n\r\n    /** Unchanged head symbols */\r\n    get head() {\r\n      return this.value.substring(0, this.startChangePos);\r\n    }\r\n\r\n    /** Unchanged tail symbols */\r\n    get tail() {\r\n      return this.value.substring(this.startChangePos + this.insertedCount);\r\n    }\r\n\r\n    /** Remove direction */\r\n    get removeDirection() {\r\n      if (!this.removedCount || this.insertedCount) return DIRECTION.NONE;\r\n\r\n      // align right if delete at right\r\n      return (this.oldSelection.end === this.cursorPos || this.oldSelection.start === this.cursorPos) &&\r\n      // if not range removed (event with backspace)\r\n      this.oldSelection.end === this.oldSelection.start ? DIRECTION.RIGHT : DIRECTION.LEFT;\r\n    }\r\n  }\r\n\r\n  /** Applies mask on element */\r\n  function IMask(el, opts) {\r\n    // currently available only for input-like elements\r\n    return new IMask.InputMask(el, opts);\r\n  }\r\n\r\n  // TODO can't use overloads here because of https://github.com/microsoft/TypeScript/issues/50754\r\n  // export function maskedClass(mask: string): typeof MaskedPattern;\r\n  // export function maskedClass(mask: DateConstructor): typeof MaskedDate;\r\n  // export function maskedClass(mask: NumberConstructor): typeof MaskedNumber;\r\n  // export function maskedClass(mask: Array<any> | ArrayConstructor): typeof MaskedDynamic;\r\n  // export function maskedClass(mask: MaskedDate): typeof MaskedDate;\r\n  // export function maskedClass(mask: MaskedNumber): typeof MaskedNumber;\r\n  // export function maskedClass(mask: MaskedEnum): typeof MaskedEnum;\r\n  // export function maskedClass(mask: MaskedRange): typeof MaskedRange;\r\n  // export function maskedClass(mask: MaskedRegExp): typeof MaskedRegExp;\r\n  // export function maskedClass(mask: MaskedFunction): typeof MaskedFunction;\r\n  // export function maskedClass(mask: MaskedPattern): typeof MaskedPattern;\r\n  // export function maskedClass(mask: MaskedDynamic): typeof MaskedDynamic;\r\n  // export function maskedClass(mask: Masked): typeof Masked;\r\n  // export function maskedClass(mask: typeof Masked): typeof Masked;\r\n  // export function maskedClass(mask: typeof MaskedDate): typeof MaskedDate;\r\n  // export function maskedClass(mask: typeof MaskedNumber): typeof MaskedNumber;\r\n  // export function maskedClass(mask: typeof MaskedEnum): typeof MaskedEnum;\r\n  // export function maskedClass(mask: typeof MaskedRange): typeof MaskedRange;\r\n  // export function maskedClass(mask: typeof MaskedRegExp): typeof MaskedRegExp;\r\n  // export function maskedClass(mask: typeof MaskedFunction): typeof MaskedFunction;\r\n  // export function maskedClass(mask: typeof MaskedPattern): typeof MaskedPattern;\r\n  // export function maskedClass(mask: typeof MaskedDynamic): typeof MaskedDynamic;\r\n  // export function maskedClass<Mask extends typeof Masked> (mask: Mask): Mask;\r\n  // export function maskedClass(mask: RegExp): typeof MaskedRegExp;\r\n  // export function maskedClass(mask: (value: string, ...args: any[]) => boolean): typeof MaskedFunction;\r\n\r\n  /** Get Masked class by mask type */\r\n  function maskedClass(mask) /* TODO */{\r\n    if (mask == null) throw new Error('mask property should be defined');\r\n    if (mask instanceof RegExp) return IMask.MaskedRegExp;\r\n    if (isString(mask)) return IMask.MaskedPattern;\r\n    if (mask === Date) return IMask.MaskedDate;\r\n    if (mask === Number) return IMask.MaskedNumber;\r\n    if (Array.isArray(mask) || mask === Array) return IMask.MaskedDynamic;\r\n    if (IMask.Masked && mask.prototype instanceof IMask.Masked) return mask;\r\n    if (IMask.Masked && mask instanceof IMask.Masked) return mask.constructor;\r\n    if (mask instanceof Function) return IMask.MaskedFunction;\r\n    console.warn('Mask not found for mask', mask); // eslint-disable-line no-console\r\n    return IMask.Masked;\r\n  }\r\n  function normalizeOpts(opts) {\r\n    if (!opts) throw new Error('Options in not defined');\r\n    if (IMask.Masked) {\r\n      if (opts.prototype instanceof IMask.Masked) return {\r\n        mask: opts\r\n      };\r\n\r\n      /*\r\n        handle cases like:\r\n        1) opts = Masked\r\n        2) opts = { mask: Masked, ...instanceOpts }\r\n      */\r\n      const {\r\n        mask = undefined,\r\n        ...instanceOpts\r\n      } = opts instanceof IMask.Masked ? {\r\n        mask: opts\r\n      } : isObject(opts) && opts.mask instanceof IMask.Masked ? opts : {};\r\n      if (mask) {\r\n        const _mask = mask.mask;\r\n        return {\r\n          ...pick(mask, (_, k) => !k.startsWith('_')),\r\n          mask: mask.constructor,\r\n          _mask,\r\n          ...instanceOpts\r\n        };\r\n      }\r\n    }\r\n    if (!isObject(opts)) return {\r\n      mask: opts\r\n    };\r\n    return {\r\n      ...opts\r\n    };\r\n  }\r\n\r\n  // TODO can't use overloads here because of https://github.com/microsoft/TypeScript/issues/50754\r\n\r\n  // From masked\r\n  // export default function createMask<Opts extends Masked, ReturnMasked=Opts> (opts: Opts): ReturnMasked;\r\n  // // From masked class\r\n  // export default function createMask<Opts extends MaskedOptions<typeof Masked>, ReturnMasked extends Masked=InstanceType<Opts['mask']>> (opts: Opts): ReturnMasked;\r\n  // export default function createMask<Opts extends MaskedOptions<typeof MaskedDate>, ReturnMasked extends MaskedDate=MaskedDate<Opts['parent']>> (opts: Opts): ReturnMasked;\r\n  // export default function createMask<Opts extends MaskedOptions<typeof MaskedNumber>, ReturnMasked extends MaskedNumber=MaskedNumber<Opts['parent']>> (opts: Opts): ReturnMasked;\r\n  // export default function createMask<Opts extends MaskedOptions<typeof MaskedEnum>, ReturnMasked extends MaskedEnum=MaskedEnum<Opts['parent']>> (opts: Opts): ReturnMasked;\r\n  // export default function createMask<Opts extends MaskedOptions<typeof MaskedRange>, ReturnMasked extends MaskedRange=MaskedRange<Opts['parent']>> (opts: Opts): ReturnMasked;\r\n  // export default function createMask<Opts extends MaskedOptions<typeof MaskedRegExp>, ReturnMasked extends MaskedRegExp=MaskedRegExp<Opts['parent']>> (opts: Opts): ReturnMasked;\r\n  // export default function createMask<Opts extends MaskedOptions<typeof MaskedFunction>, ReturnMasked extends MaskedFunction=MaskedFunction<Opts['parent']>> (opts: Opts): ReturnMasked;\r\n  // export default function createMask<Opts extends MaskedOptions<typeof MaskedPattern>, ReturnMasked extends MaskedPattern=MaskedPattern<Opts['parent']>> (opts: Opts): ReturnMasked;\r\n  // export default function createMask<Opts extends MaskedOptions<typeof MaskedDynamic>, ReturnMasked extends MaskedDynamic=MaskedDynamic<Opts['parent']>> (opts: Opts): ReturnMasked;\r\n  // // From mask opts\r\n  // export default function createMask<Opts extends MaskedOptions<Masked>, ReturnMasked=Opts extends MaskedOptions<infer M> ? M : never> (opts: Opts): ReturnMasked;\r\n  // export default function createMask<Opts extends MaskedNumberOptions, ReturnMasked extends MaskedNumber=MaskedNumber<Opts['parent']>> (opts: Opts): ReturnMasked;\r\n  // export default function createMask<Opts extends MaskedDateFactoryOptions, ReturnMasked extends MaskedDate=MaskedDate<Opts['parent']>> (opts: Opts): ReturnMasked;\r\n  // export default function createMask<Opts extends MaskedEnumOptions, ReturnMasked extends MaskedEnum=MaskedEnum<Opts['parent']>> (opts: Opts): ReturnMasked;\r\n  // export default function createMask<Opts extends MaskedRangeOptions, ReturnMasked extends MaskedRange=MaskedRange<Opts['parent']>> (opts: Opts): ReturnMasked;\r\n  // export default function createMask<Opts extends MaskedPatternOptions, ReturnMasked extends MaskedPattern=MaskedPattern<Opts['parent']>> (opts: Opts): ReturnMasked;\r\n  // export default function createMask<Opts extends MaskedDynamicOptions, ReturnMasked extends MaskedDynamic=MaskedDynamic<Opts['parent']>> (opts: Opts): ReturnMasked;\r\n  // export default function createMask<Opts extends MaskedOptions<RegExp>, ReturnMasked extends MaskedRegExp=MaskedRegExp<Opts['parent']>> (opts: Opts): ReturnMasked;\r\n  // export default function createMask<Opts extends MaskedOptions<Function>, ReturnMasked extends MaskedFunction=MaskedFunction<Opts['parent']>> (opts: Opts): ReturnMasked;\r\n\r\n  /** Creates new {@link Masked} depending on mask type */\r\n  function createMask(opts) {\r\n    if (IMask.Masked && opts instanceof IMask.Masked) return opts;\r\n    const nOpts = normalizeOpts(opts);\r\n    const MaskedClass = maskedClass(nOpts.mask);\r\n    if (!MaskedClass) throw new Error(\"Masked class is not found for provided mask \" + nOpts.mask + \", appropriate module needs to be imported manually before creating mask.\");\r\n    if (nOpts.mask === MaskedClass) delete nOpts.mask;\r\n    if (nOpts._mask) {\r\n      nOpts.mask = nOpts._mask;\r\n      delete nOpts._mask;\r\n    }\r\n    return new MaskedClass(nOpts);\r\n  }\r\n  IMask.createMask = createMask;\r\n\r\n  /**  Generic element API to use with mask */\r\n  class MaskElement {\r\n    /** */\r\n\r\n    /** */\r\n\r\n    /** */\r\n\r\n    /** Safely returns selection start */\r\n    get selectionStart() {\r\n      let start;\r\n      try {\r\n        start = this._unsafeSelectionStart;\r\n      } catch {}\r\n      return start != null ? start : this.value.length;\r\n    }\r\n\r\n    /** Safely returns selection end */\r\n    get selectionEnd() {\r\n      let end;\r\n      try {\r\n        end = this._unsafeSelectionEnd;\r\n      } catch {}\r\n      return end != null ? end : this.value.length;\r\n    }\r\n\r\n    /** Safely sets element selection */\r\n    select(start, end) {\r\n      if (start == null || end == null || start === this.selectionStart && end === this.selectionEnd) return;\r\n      try {\r\n        this._unsafeSelect(start, end);\r\n      } catch {}\r\n    }\r\n\r\n    /** */\r\n    get isActive() {\r\n      return false;\r\n    }\r\n    /** */\r\n\r\n    /** */\r\n\r\n    /** */\r\n  }\r\n  IMask.MaskElement = MaskElement;\r\n\r\n  const KEY_Z = 90;\r\n  const KEY_Y = 89;\r\n\r\n  /** Bridge between HTMLElement and {@link Masked} */\r\n  class HTMLMaskElement extends MaskElement {\r\n    /** HTMLElement to use mask on */\r\n\r\n    constructor(input) {\r\n      super();\r\n      this.input = input;\r\n      this._onKeydown = this._onKeydown.bind(this);\r\n      this._onInput = this._onInput.bind(this);\r\n      this._onBeforeinput = this._onBeforeinput.bind(this);\r\n      this._onCompositionEnd = this._onCompositionEnd.bind(this);\r\n    }\r\n    get rootElement() {\r\n      var _this$input$getRootNo, _this$input$getRootNo2, _this$input;\r\n      return (_this$input$getRootNo = (_this$input$getRootNo2 = (_this$input = this.input).getRootNode) == null ? void 0 : _this$input$getRootNo2.call(_this$input)) != null ? _this$input$getRootNo : document;\r\n    }\r\n\r\n    /** Is element in focus */\r\n    get isActive() {\r\n      return this.input === this.rootElement.activeElement;\r\n    }\r\n\r\n    /** Binds HTMLElement events to mask internal events */\r\n    bindEvents(handlers) {\r\n      this.input.addEventListener('keydown', this._onKeydown);\r\n      this.input.addEventListener('input', this._onInput);\r\n      this.input.addEventListener('beforeinput', this._onBeforeinput);\r\n      this.input.addEventListener('compositionend', this._onCompositionEnd);\r\n      this.input.addEventListener('drop', handlers.drop);\r\n      this.input.addEventListener('click', handlers.click);\r\n      this.input.addEventListener('focus', handlers.focus);\r\n      this.input.addEventListener('blur', handlers.commit);\r\n      this._handlers = handlers;\r\n    }\r\n    _onKeydown(e) {\r\n      if (this._handlers.redo && (e.keyCode === KEY_Z && e.shiftKey && (e.metaKey || e.ctrlKey) || e.keyCode === KEY_Y && e.ctrlKey)) {\r\n        e.preventDefault();\r\n        return this._handlers.redo(e);\r\n      }\r\n      if (this._handlers.undo && e.keyCode === KEY_Z && (e.metaKey || e.ctrlKey)) {\r\n        e.preventDefault();\r\n        return this._handlers.undo(e);\r\n      }\r\n      if (!e.isComposing) this._handlers.selectionChange(e);\r\n    }\r\n    _onBeforeinput(e) {\r\n      if (e.inputType === 'historyUndo' && this._handlers.undo) {\r\n        e.preventDefault();\r\n        return this._handlers.undo(e);\r\n      }\r\n      if (e.inputType === 'historyRedo' && this._handlers.redo) {\r\n        e.preventDefault();\r\n        return this._handlers.redo(e);\r\n      }\r\n    }\r\n    _onCompositionEnd(e) {\r\n      this._handlers.input(e);\r\n    }\r\n    _onInput(e) {\r\n      if (!e.isComposing) this._handlers.input(e);\r\n    }\r\n\r\n    /** Unbinds HTMLElement events to mask internal events */\r\n    unbindEvents() {\r\n      this.input.removeEventListener('keydown', this._onKeydown);\r\n      this.input.removeEventListener('input', this._onInput);\r\n      this.input.removeEventListener('beforeinput', this._onBeforeinput);\r\n      this.input.removeEventListener('compositionend', this._onCompositionEnd);\r\n      this.input.removeEventListener('drop', this._handlers.drop);\r\n      this.input.removeEventListener('click', this._handlers.click);\r\n      this.input.removeEventListener('focus', this._handlers.focus);\r\n      this.input.removeEventListener('blur', this._handlers.commit);\r\n      this._handlers = {};\r\n    }\r\n  }\r\n  IMask.HTMLMaskElement = HTMLMaskElement;\r\n\r\n  /** Bridge between InputElement and {@link Masked} */\r\n  class HTMLInputMaskElement extends HTMLMaskElement {\r\n    /** InputElement to use mask on */\r\n\r\n    constructor(input) {\r\n      super(input);\r\n      this.input = input;\r\n    }\r\n\r\n    /** Returns InputElement selection start */\r\n    get _unsafeSelectionStart() {\r\n      return this.input.selectionStart != null ? this.input.selectionStart : this.value.length;\r\n    }\r\n\r\n    /** Returns InputElement selection end */\r\n    get _unsafeSelectionEnd() {\r\n      return this.input.selectionEnd;\r\n    }\r\n\r\n    /** Sets InputElement selection */\r\n    _unsafeSelect(start, end) {\r\n      this.input.setSelectionRange(start, end);\r\n    }\r\n    get value() {\r\n      return this.input.value;\r\n    }\r\n    set value(value) {\r\n      this.input.value = value;\r\n    }\r\n  }\r\n  IMask.HTMLMaskElement = HTMLMaskElement;\r\n\r\n  class HTMLContenteditableMaskElement extends HTMLMaskElement {\r\n    /** Returns HTMLElement selection start */\r\n    get _unsafeSelectionStart() {\r\n      const root = this.rootElement;\r\n      const selection = root.getSelection && root.getSelection();\r\n      const anchorOffset = selection && selection.anchorOffset;\r\n      const focusOffset = selection && selection.focusOffset;\r\n      if (focusOffset == null || anchorOffset == null || anchorOffset < focusOffset) {\r\n        return anchorOffset;\r\n      }\r\n      return focusOffset;\r\n    }\r\n\r\n    /** Returns HTMLElement selection end */\r\n    get _unsafeSelectionEnd() {\r\n      const root = this.rootElement;\r\n      const selection = root.getSelection && root.getSelection();\r\n      const anchorOffset = selection && selection.anchorOffset;\r\n      const focusOffset = selection && selection.focusOffset;\r\n      if (focusOffset == null || anchorOffset == null || anchorOffset > focusOffset) {\r\n        return anchorOffset;\r\n      }\r\n      return focusOffset;\r\n    }\r\n\r\n    /** Sets HTMLElement selection */\r\n    _unsafeSelect(start, end) {\r\n      if (!this.rootElement.createRange) return;\r\n      const range = this.rootElement.createRange();\r\n      range.setStart(this.input.firstChild || this.input, start);\r\n      range.setEnd(this.input.lastChild || this.input, end);\r\n      const root = this.rootElement;\r\n      const selection = root.getSelection && root.getSelection();\r\n      if (selection) {\r\n        selection.removeAllRanges();\r\n        selection.addRange(range);\r\n      }\r\n    }\r\n\r\n    /** HTMLElement value */\r\n    get value() {\r\n      return this.input.textContent || '';\r\n    }\r\n    set value(value) {\r\n      this.input.textContent = value;\r\n    }\r\n  }\r\n  IMask.HTMLContenteditableMaskElement = HTMLContenteditableMaskElement;\r\n\r\n  class InputHistory {\r\n    constructor() {\r\n      this.states = [];\r\n      this.currentIndex = 0;\r\n    }\r\n    get currentState() {\r\n      return this.states[this.currentIndex];\r\n    }\r\n    get isEmpty() {\r\n      return this.states.length === 0;\r\n    }\r\n    push(state) {\r\n      // if current index points before the last element then remove the future\r\n      if (this.currentIndex < this.states.length - 1) this.states.length = this.currentIndex + 1;\r\n      this.states.push(state);\r\n      if (this.states.length > InputHistory.MAX_LENGTH) this.states.shift();\r\n      this.currentIndex = this.states.length - 1;\r\n    }\r\n    go(steps) {\r\n      this.currentIndex = Math.min(Math.max(this.currentIndex + steps, 0), this.states.length - 1);\r\n      return this.currentState;\r\n    }\r\n    undo() {\r\n      return this.go(-1);\r\n    }\r\n    redo() {\r\n      return this.go(+1);\r\n    }\r\n    clear() {\r\n      this.states.length = 0;\r\n      this.currentIndex = 0;\r\n    }\r\n  }\r\n  InputHistory.MAX_LENGTH = 100;\r\n\r\n  /** Listens to element events and controls changes between element and {@link Masked} */\r\n  class InputMask {\r\n    /**\r\n      View element\r\n    */\r\n\r\n    /** Internal {@link Masked} model */\r\n\r\n    constructor(el, opts) {\r\n      this.el = el instanceof MaskElement ? el : el.isContentEditable && el.tagName !== 'INPUT' && el.tagName !== 'TEXTAREA' ? new HTMLContenteditableMaskElement(el) : new HTMLInputMaskElement(el);\r\n      this.masked = createMask(opts);\r\n      this._listeners = {};\r\n      this._value = '';\r\n      this._unmaskedValue = '';\r\n      this._rawInputValue = '';\r\n      this.history = new InputHistory();\r\n      this._saveSelection = this._saveSelection.bind(this);\r\n      this._onInput = this._onInput.bind(this);\r\n      this._onChange = this._onChange.bind(this);\r\n      this._onDrop = this._onDrop.bind(this);\r\n      this._onFocus = this._onFocus.bind(this);\r\n      this._onClick = this._onClick.bind(this);\r\n      this._onUndo = this._onUndo.bind(this);\r\n      this._onRedo = this._onRedo.bind(this);\r\n      this.alignCursor = this.alignCursor.bind(this);\r\n      this.alignCursorFriendly = this.alignCursorFriendly.bind(this);\r\n      this._bindEvents();\r\n\r\n      // refresh\r\n      this._onChange();\r\n    }\r\n    maskEquals(mask) {\r\n      var _this$masked;\r\n      return mask == null || ((_this$masked = this.masked) == null ? void 0 : _this$masked.maskEquals(mask));\r\n    }\r\n\r\n    /** Masked */\r\n    get mask() {\r\n      return this.masked.mask;\r\n    }\r\n    set mask(mask) {\r\n      if (this.maskEquals(mask)) return;\r\n      if (!(mask instanceof IMask.Masked) && this.masked.constructor === maskedClass(mask)) {\r\n        // TODO \"any\" no idea\r\n        this.masked.updateOptions({\r\n          mask\r\n        });\r\n        return;\r\n      }\r\n      const masked = mask instanceof IMask.Masked ? mask : createMask({\r\n        mask\r\n      });\r\n      masked.unmaskedValue = this.masked.unmaskedValue;\r\n      this.masked = masked;\r\n    }\r\n\r\n    /** Raw value */\r\n    get value() {\r\n      return this._value;\r\n    }\r\n    set value(str) {\r\n      if (this.value === str) return;\r\n      this.masked.value = str;\r\n      this.updateControl('auto');\r\n    }\r\n\r\n    /** Unmasked value */\r\n    get unmaskedValue() {\r\n      return this._unmaskedValue;\r\n    }\r\n    set unmaskedValue(str) {\r\n      if (this.unmaskedValue === str) return;\r\n      this.masked.unmaskedValue = str;\r\n      this.updateControl('auto');\r\n    }\r\n\r\n    /** Raw input value */\r\n    get rawInputValue() {\r\n      return this._rawInputValue;\r\n    }\r\n    set rawInputValue(str) {\r\n      if (this.rawInputValue === str) return;\r\n      this.masked.rawInputValue = str;\r\n      this.updateControl();\r\n      this.alignCursor();\r\n    }\r\n\r\n    /** Typed unmasked value */\r\n    get typedValue() {\r\n      return this.masked.typedValue;\r\n    }\r\n    set typedValue(val) {\r\n      if (this.masked.typedValueEquals(val)) return;\r\n      this.masked.typedValue = val;\r\n      this.updateControl('auto');\r\n    }\r\n\r\n    /** Display value */\r\n    get displayValue() {\r\n      return this.masked.displayValue;\r\n    }\r\n\r\n    /** Starts listening to element events */\r\n    _bindEvents() {\r\n      this.el.bindEvents({\r\n        selectionChange: this._saveSelection,\r\n        input: this._onInput,\r\n        drop: this._onDrop,\r\n        click: this._onClick,\r\n        focus: this._onFocus,\r\n        commit: this._onChange,\r\n        undo: this._onUndo,\r\n        redo: this._onRedo\r\n      });\r\n    }\r\n\r\n    /** Stops listening to element events */\r\n    _unbindEvents() {\r\n      if (this.el) this.el.unbindEvents();\r\n    }\r\n\r\n    /** Fires custom event */\r\n    _fireEvent(ev, e) {\r\n      const listeners = this._listeners[ev];\r\n      if (!listeners) return;\r\n      listeners.forEach(l => l(e));\r\n    }\r\n\r\n    /** Current selection start */\r\n    get selectionStart() {\r\n      return this._cursorChanging ? this._changingCursorPos : this.el.selectionStart;\r\n    }\r\n\r\n    /** Current cursor position */\r\n    get cursorPos() {\r\n      return this._cursorChanging ? this._changingCursorPos : this.el.selectionEnd;\r\n    }\r\n    set cursorPos(pos) {\r\n      if (!this.el || !this.el.isActive) return;\r\n      this.el.select(pos, pos);\r\n      this._saveSelection();\r\n    }\r\n\r\n    /** Stores current selection */\r\n    _saveSelection( /* ev */\r\n    ) {\r\n      if (this.displayValue !== this.el.value) {\r\n        console.warn('Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly.'); // eslint-disable-line no-console\r\n      }\r\n      this._selection = {\r\n        start: this.selectionStart,\r\n        end: this.cursorPos\r\n      };\r\n    }\r\n\r\n    /** Syncronizes model value from view */\r\n    updateValue() {\r\n      this.masked.value = this.el.value;\r\n      this._value = this.masked.value;\r\n      this._unmaskedValue = this.masked.unmaskedValue;\r\n      this._rawInputValue = this.masked.rawInputValue;\r\n    }\r\n\r\n    /** Syncronizes view from model value, fires change events */\r\n    updateControl(cursorPos) {\r\n      const newUnmaskedValue = this.masked.unmaskedValue;\r\n      const newValue = this.masked.value;\r\n      const newRawInputValue = this.masked.rawInputValue;\r\n      const newDisplayValue = this.displayValue;\r\n      const isChanged = this.unmaskedValue !== newUnmaskedValue || this.value !== newValue || this._rawInputValue !== newRawInputValue;\r\n      this._unmaskedValue = newUnmaskedValue;\r\n      this._value = newValue;\r\n      this._rawInputValue = newRawInputValue;\r\n      if (this.el.value !== newDisplayValue) this.el.value = newDisplayValue;\r\n      if (cursorPos === 'auto') this.alignCursor();else if (cursorPos != null) this.cursorPos = cursorPos;\r\n      if (isChanged) this._fireChangeEvents();\r\n      if (!this._historyChanging && (isChanged || this.history.isEmpty)) this.history.push({\r\n        unmaskedValue: newUnmaskedValue,\r\n        selection: {\r\n          start: this.selectionStart,\r\n          end: this.cursorPos\r\n        }\r\n      });\r\n    }\r\n\r\n    /** Updates options with deep equal check, recreates {@link Masked} model if mask type changes */\r\n    updateOptions(opts) {\r\n      const {\r\n        mask,\r\n        ...restOpts\r\n      } = opts; // TODO types, yes, mask is optional\r\n\r\n      const updateMask = !this.maskEquals(mask);\r\n      const updateOpts = this.masked.optionsIsChanged(restOpts);\r\n      if (updateMask) this.mask = mask;\r\n      if (updateOpts) this.masked.updateOptions(restOpts); // TODO\r\n\r\n      if (updateMask || updateOpts) this.updateControl();\r\n    }\r\n\r\n    /** Updates cursor */\r\n    updateCursor(cursorPos) {\r\n      if (cursorPos == null) return;\r\n      this.cursorPos = cursorPos;\r\n\r\n      // also queue change cursor for mobile browsers\r\n      this._delayUpdateCursor(cursorPos);\r\n    }\r\n\r\n    /** Delays cursor update to support mobile browsers */\r\n    _delayUpdateCursor(cursorPos) {\r\n      this._abortUpdateCursor();\r\n      this._changingCursorPos = cursorPos;\r\n      this._cursorChanging = setTimeout(() => {\r\n        if (!this.el) return; // if was destroyed\r\n        this.cursorPos = this._changingCursorPos;\r\n        this._abortUpdateCursor();\r\n      }, 10);\r\n    }\r\n\r\n    /** Fires custom events */\r\n    _fireChangeEvents() {\r\n      this._fireEvent('accept', this._inputEvent);\r\n      if (this.masked.isComplete) this._fireEvent('complete', this._inputEvent);\r\n    }\r\n\r\n    /** Aborts delayed cursor update */\r\n    _abortUpdateCursor() {\r\n      if (this._cursorChanging) {\r\n        clearTimeout(this._cursorChanging);\r\n        delete this._cursorChanging;\r\n      }\r\n    }\r\n\r\n    /** Aligns cursor to nearest available position */\r\n    alignCursor() {\r\n      this.cursorPos = this.masked.nearestInputPos(this.masked.nearestInputPos(this.cursorPos, DIRECTION.LEFT));\r\n    }\r\n\r\n    /** Aligns cursor only if selection is empty */\r\n    alignCursorFriendly() {\r\n      if (this.selectionStart !== this.cursorPos) return; // skip if range is selected\r\n      this.alignCursor();\r\n    }\r\n\r\n    /** Adds listener on custom event */\r\n    on(ev, handler) {\r\n      if (!this._listeners[ev]) this._listeners[ev] = [];\r\n      this._listeners[ev].push(handler);\r\n      return this;\r\n    }\r\n\r\n    /** Removes custom event listener */\r\n    off(ev, handler) {\r\n      if (!this._listeners[ev]) return this;\r\n      if (!handler) {\r\n        delete this._listeners[ev];\r\n        return this;\r\n      }\r\n      const hIndex = this._listeners[ev].indexOf(handler);\r\n      if (hIndex >= 0) this._listeners[ev].splice(hIndex, 1);\r\n      return this;\r\n    }\r\n\r\n    /** Handles view input event */\r\n    _onInput(e) {\r\n      this._inputEvent = e;\r\n      this._abortUpdateCursor();\r\n      const details = new ActionDetails({\r\n        // new state\r\n        value: this.el.value,\r\n        cursorPos: this.cursorPos,\r\n        // old state\r\n        oldValue: this.displayValue,\r\n        oldSelection: this._selection\r\n      });\r\n      const oldRawValue = this.masked.rawInputValue;\r\n      const offset = this.masked.splice(details.startChangePos, details.removed.length, details.inserted, details.removeDirection, {\r\n        input: true,\r\n        raw: true\r\n      }).offset;\r\n\r\n      // force align in remove direction only if no input chars were removed\r\n      // otherwise we still need to align with NONE (to get out from fixed symbols for instance)\r\n      const removeDirection = oldRawValue === this.masked.rawInputValue ? details.removeDirection : DIRECTION.NONE;\r\n      let cursorPos = this.masked.nearestInputPos(details.startChangePos + offset, removeDirection);\r\n      if (removeDirection !== DIRECTION.NONE) cursorPos = this.masked.nearestInputPos(cursorPos, DIRECTION.NONE);\r\n      this.updateControl(cursorPos);\r\n      delete this._inputEvent;\r\n    }\r\n\r\n    /** Handles view change event and commits model value */\r\n    _onChange() {\r\n      if (this.displayValue !== this.el.value) this.updateValue();\r\n      this.masked.doCommit();\r\n      this.updateControl();\r\n      this._saveSelection();\r\n    }\r\n\r\n    /** Handles view drop event, prevents by default */\r\n    _onDrop(ev) {\r\n      ev.preventDefault();\r\n      ev.stopPropagation();\r\n    }\r\n\r\n    /** Restore last selection on focus */\r\n    _onFocus(ev) {\r\n      this.alignCursorFriendly();\r\n    }\r\n\r\n    /** Restore last selection on focus */\r\n    _onClick(ev) {\r\n      this.alignCursorFriendly();\r\n    }\r\n    _onUndo() {\r\n      this._applyHistoryState(this.history.undo());\r\n    }\r\n    _onRedo() {\r\n      this._applyHistoryState(this.history.redo());\r\n    }\r\n    _applyHistoryState(state) {\r\n      if (!state) return;\r\n      this._historyChanging = true;\r\n      this.unmaskedValue = state.unmaskedValue;\r\n      this.el.select(state.selection.start, state.selection.end);\r\n      this._saveSelection();\r\n      this._historyChanging = false;\r\n    }\r\n\r\n    /** Unbind view events and removes element reference */\r\n    destroy() {\r\n      this._unbindEvents();\r\n      this._listeners.length = 0;\r\n      delete this.el;\r\n    }\r\n  }\r\n  IMask.InputMask = InputMask;\r\n\r\n  /** Provides details of changing model value */\r\n  class ChangeDetails {\r\n    /** Inserted symbols */\r\n\r\n    /** Additional offset if any changes occurred before tail */\r\n\r\n    /** Raw inserted is used by dynamic mask */\r\n\r\n    /** Can skip chars */\r\n\r\n    static normalize(prep) {\r\n      return Array.isArray(prep) ? prep : [prep, new ChangeDetails()];\r\n    }\r\n    constructor(details) {\r\n      Object.assign(this, {\r\n        inserted: '',\r\n        rawInserted: '',\r\n        tailShift: 0,\r\n        skip: false\r\n      }, details);\r\n    }\r\n\r\n    /** Aggregate changes */\r\n    aggregate(details) {\r\n      this.inserted += details.inserted;\r\n      this.rawInserted += details.rawInserted;\r\n      this.tailShift += details.tailShift;\r\n      this.skip = this.skip || details.skip;\r\n      return this;\r\n    }\r\n\r\n    /** Total offset considering all changes */\r\n    get offset() {\r\n      return this.tailShift + this.inserted.length;\r\n    }\r\n    get consumed() {\r\n      return Boolean(this.rawInserted) || this.skip;\r\n    }\r\n    equals(details) {\r\n      return this.inserted === details.inserted && this.tailShift === details.tailShift && this.rawInserted === details.rawInserted && this.skip === details.skip;\r\n    }\r\n  }\r\n  IMask.ChangeDetails = ChangeDetails;\r\n\r\n  /** Provides details of continuous extracted tail */\r\n  class ContinuousTailDetails {\r\n    /** Tail value as string */\r\n\r\n    /** Tail start position */\r\n\r\n    /** Start position */\r\n\r\n    constructor(value, from, stop) {\r\n      if (value === void 0) {\r\n        value = '';\r\n      }\r\n      if (from === void 0) {\r\n        from = 0;\r\n      }\r\n      this.value = value;\r\n      this.from = from;\r\n      this.stop = stop;\r\n    }\r\n    toString() {\r\n      return this.value;\r\n    }\r\n    extend(tail) {\r\n      this.value += String(tail);\r\n    }\r\n    appendTo(masked) {\r\n      return masked.append(this.toString(), {\r\n        tail: true\r\n      }).aggregate(masked._appendPlaceholder());\r\n    }\r\n    get state() {\r\n      return {\r\n        value: this.value,\r\n        from: this.from,\r\n        stop: this.stop\r\n      };\r\n    }\r\n    set state(state) {\r\n      Object.assign(this, state);\r\n    }\r\n    unshift(beforePos) {\r\n      if (!this.value.length || beforePos != null && this.from >= beforePos) return '';\r\n      const shiftChar = this.value[0];\r\n      this.value = this.value.slice(1);\r\n      return shiftChar;\r\n    }\r\n    shift() {\r\n      if (!this.value.length) return '';\r\n      const shiftChar = this.value[this.value.length - 1];\r\n      this.value = this.value.slice(0, -1);\r\n      return shiftChar;\r\n    }\r\n  }\r\n\r\n  /** Append flags */\r\n\r\n  /** Extract flags */\r\n\r\n  // see https://github.com/microsoft/TypeScript/issues/6223\r\n\r\n  /** Provides common masking stuff */\r\n  class Masked {\r\n    /** */\r\n\r\n    /** */\r\n\r\n    /** Transforms value before mask processing */\r\n\r\n    /** Transforms each char before mask processing */\r\n\r\n    /** Validates if value is acceptable */\r\n\r\n    /** Does additional processing at the end of editing */\r\n\r\n    /** Format typed value to string */\r\n\r\n    /** Parse string to get typed value */\r\n\r\n    /** Enable characters overwriting */\r\n\r\n    /** */\r\n\r\n    /** */\r\n\r\n    /** */\r\n\r\n    /** */\r\n\r\n    constructor(opts) {\r\n      this._value = '';\r\n      this._update({\r\n        ...Masked.DEFAULTS,\r\n        ...opts\r\n      });\r\n      this._initialized = true;\r\n    }\r\n\r\n    /** Sets and applies new options */\r\n    updateOptions(opts) {\r\n      if (!this.optionsIsChanged(opts)) return;\r\n      this.withValueRefresh(this._update.bind(this, opts));\r\n    }\r\n\r\n    /** Sets new options */\r\n    _update(opts) {\r\n      Object.assign(this, opts);\r\n    }\r\n\r\n    /** Mask state */\r\n    get state() {\r\n      return {\r\n        _value: this.value,\r\n        _rawInputValue: this.rawInputValue\r\n      };\r\n    }\r\n    set state(state) {\r\n      this._value = state._value;\r\n    }\r\n\r\n    /** Resets value */\r\n    reset() {\r\n      this._value = '';\r\n    }\r\n    get value() {\r\n      return this._value;\r\n    }\r\n    set value(value) {\r\n      this.resolve(value, {\r\n        input: true\r\n      });\r\n    }\r\n\r\n    /** Resolve new value */\r\n    resolve(value, flags) {\r\n      if (flags === void 0) {\r\n        flags = {\r\n          input: true\r\n        };\r\n      }\r\n      this.reset();\r\n      this.append(value, flags, '');\r\n      this.doCommit();\r\n    }\r\n    get unmaskedValue() {\r\n      return this.value;\r\n    }\r\n    set unmaskedValue(value) {\r\n      this.resolve(value, {});\r\n    }\r\n    get typedValue() {\r\n      return this.parse ? this.parse(this.value, this) : this.unmaskedValue;\r\n    }\r\n    set typedValue(value) {\r\n      if (this.format) {\r\n        this.value = this.format(value, this);\r\n      } else {\r\n        this.unmaskedValue = String(value);\r\n      }\r\n    }\r\n\r\n    /** Value that includes raw user input */\r\n    get rawInputValue() {\r\n      return this.extractInput(0, this.displayValue.length, {\r\n        raw: true\r\n      });\r\n    }\r\n    set rawInputValue(value) {\r\n      this.resolve(value, {\r\n        raw: true\r\n      });\r\n    }\r\n    get displayValue() {\r\n      return this.value;\r\n    }\r\n    get isComplete() {\r\n      return true;\r\n    }\r\n    get isFilled() {\r\n      return this.isComplete;\r\n    }\r\n\r\n    /** Finds nearest input position in direction */\r\n    nearestInputPos(cursorPos, direction) {\r\n      return cursorPos;\r\n    }\r\n    totalInputPositions(fromPos, toPos) {\r\n      if (fromPos === void 0) {\r\n        fromPos = 0;\r\n      }\r\n      if (toPos === void 0) {\r\n        toPos = this.displayValue.length;\r\n      }\r\n      return Math.min(this.displayValue.length, toPos - fromPos);\r\n    }\r\n\r\n    /** Extracts value in range considering flags */\r\n    extractInput(fromPos, toPos, flags) {\r\n      if (fromPos === void 0) {\r\n        fromPos = 0;\r\n      }\r\n      if (toPos === void 0) {\r\n        toPos = this.displayValue.length;\r\n      }\r\n      return this.displayValue.slice(fromPos, toPos);\r\n    }\r\n\r\n    /** Extracts tail in range */\r\n    extractTail(fromPos, toPos) {\r\n      if (fromPos === void 0) {\r\n        fromPos = 0;\r\n      }\r\n      if (toPos === void 0) {\r\n        toPos = this.displayValue.length;\r\n      }\r\n      return new ContinuousTailDetails(this.extractInput(fromPos, toPos), fromPos);\r\n    }\r\n\r\n    /** Appends tail */\r\n    appendTail(tail) {\r\n      if (isString(tail)) tail = new ContinuousTailDetails(String(tail));\r\n      return tail.appendTo(this);\r\n    }\r\n\r\n    /** Appends char */\r\n    _appendCharRaw(ch, flags) {\r\n      if (!ch) return new ChangeDetails();\r\n      this._value += ch;\r\n      return new ChangeDetails({\r\n        inserted: ch,\r\n        rawInserted: ch\r\n      });\r\n    }\r\n\r\n    /** Appends char */\r\n    _appendChar(ch, flags, checkTail) {\r\n      if (flags === void 0) {\r\n        flags = {};\r\n      }\r\n      const consistentState = this.state;\r\n      let details;\r\n      [ch, details] = this.doPrepareChar(ch, flags);\r\n      if (ch) {\r\n        details = details.aggregate(this._appendCharRaw(ch, flags));\r\n\r\n        // TODO handle `skip`?\r\n\r\n        // try `autofix` lookahead\r\n        if (!details.rawInserted && this.autofix === 'pad') {\r\n          const noFixState = this.state;\r\n          this.state = consistentState;\r\n          let fixDetails = this.pad(flags);\r\n          const chDetails = this._appendCharRaw(ch, flags);\r\n          fixDetails = fixDetails.aggregate(chDetails);\r\n\r\n          // if fix was applied or\r\n          // if details are equal use skip restoring state optimization\r\n          if (chDetails.rawInserted || fixDetails.equals(details)) {\r\n            details = fixDetails;\r\n          } else {\r\n            this.state = noFixState;\r\n          }\r\n        }\r\n      }\r\n      if (details.inserted) {\r\n        let consistentTail;\r\n        let appended = this.doValidate(flags) !== false;\r\n        if (appended && checkTail != null) {\r\n          // validation ok, check tail\r\n          const beforeTailState = this.state;\r\n          if (this.overwrite === true) {\r\n            consistentTail = checkTail.state;\r\n            for (let i = 0; i < details.rawInserted.length; ++i) {\r\n              checkTail.unshift(this.displayValue.length - details.tailShift);\r\n            }\r\n          }\r\n          let tailDetails = this.appendTail(checkTail);\r\n          appended = tailDetails.rawInserted.length === checkTail.toString().length;\r\n\r\n          // not ok, try shift\r\n          if (!(appended && tailDetails.inserted) && this.overwrite === 'shift') {\r\n            this.state = beforeTailState;\r\n            consistentTail = checkTail.state;\r\n            for (let i = 0; i < details.rawInserted.length; ++i) {\r\n              checkTail.shift();\r\n            }\r\n            tailDetails = this.appendTail(checkTail);\r\n            appended = tailDetails.rawInserted.length === checkTail.toString().length;\r\n          }\r\n\r\n          // if ok, rollback state after tail\r\n          if (appended && tailDetails.inserted) this.state = beforeTailState;\r\n        }\r\n\r\n        // revert all if something went wrong\r\n        if (!appended) {\r\n          details = new ChangeDetails();\r\n          this.state = consistentState;\r\n          if (checkTail && consistentTail) checkTail.state = consistentTail;\r\n        }\r\n      }\r\n      return details;\r\n    }\r\n\r\n    /** Appends optional placeholder at the end */\r\n    _appendPlaceholder() {\r\n      return new ChangeDetails();\r\n    }\r\n\r\n    /** Appends optional eager placeholder at the end */\r\n    _appendEager() {\r\n      return new ChangeDetails();\r\n    }\r\n\r\n    /** Appends symbols considering flags */\r\n    append(str, flags, tail) {\r\n      if (!isString(str)) throw new Error('value should be string');\r\n      const checkTail = isString(tail) ? new ContinuousTailDetails(String(tail)) : tail;\r\n      if (flags != null && flags.tail) flags._beforeTailState = this.state;\r\n      let details;\r\n      [str, details] = this.doPrepare(str, flags);\r\n      for (let ci = 0; ci < str.length; ++ci) {\r\n        const d = this._appendChar(str[ci], flags, checkTail);\r\n        if (!d.rawInserted && !this.doSkipInvalid(str[ci], flags, checkTail)) break;\r\n        details.aggregate(d);\r\n      }\r\n      if ((this.eager === true || this.eager === 'append') && flags != null && flags.input && str) {\r\n        details.aggregate(this._appendEager());\r\n      }\r\n\r\n      // append tail but aggregate only tailShift\r\n      if (checkTail != null) {\r\n        details.tailShift += this.appendTail(checkTail).tailShift;\r\n        // TODO it's a good idea to clear state after appending ends\r\n        // but it causes bugs when one append calls another (when dynamic dispatch set rawInputValue)\r\n        // this._resetBeforeTailState();\r\n      }\r\n      return details;\r\n    }\r\n    remove(fromPos, toPos) {\r\n      if (fromPos === void 0) {\r\n        fromPos = 0;\r\n      }\r\n      if (toPos === void 0) {\r\n        toPos = this.displayValue.length;\r\n      }\r\n      this._value = this.displayValue.slice(0, fromPos) + this.displayValue.slice(toPos);\r\n      return new ChangeDetails();\r\n    }\r\n\r\n    /** Calls function and reapplies current value */\r\n    withValueRefresh(fn) {\r\n      if (this._refreshing || !this._initialized) return fn();\r\n      this._refreshing = true;\r\n      const rawInput = this.rawInputValue;\r\n      const value = this.value;\r\n      const ret = fn();\r\n      this.rawInputValue = rawInput;\r\n      // append lost trailing chars at the end\r\n      if (this.value && this.value !== value && value.indexOf(this.value) === 0) {\r\n        this.append(value.slice(this.displayValue.length), {}, '');\r\n        this.doCommit();\r\n      }\r\n      delete this._refreshing;\r\n      return ret;\r\n    }\r\n    runIsolated(fn) {\r\n      if (this._isolated || !this._initialized) return fn(this);\r\n      this._isolated = true;\r\n      const state = this.state;\r\n      const ret = fn(this);\r\n      this.state = state;\r\n      delete this._isolated;\r\n      return ret;\r\n    }\r\n    doSkipInvalid(ch, flags, checkTail) {\r\n      return Boolean(this.skipInvalid);\r\n    }\r\n\r\n    /** Prepares string before mask processing */\r\n    doPrepare(str, flags) {\r\n      if (flags === void 0) {\r\n        flags = {};\r\n      }\r\n      return ChangeDetails.normalize(this.prepare ? this.prepare(str, this, flags) : str);\r\n    }\r\n\r\n    /** Prepares each char before mask processing */\r\n    doPrepareChar(str, flags) {\r\n      if (flags === void 0) {\r\n        flags = {};\r\n      }\r\n      return ChangeDetails.normalize(this.prepareChar ? this.prepareChar(str, this, flags) : str);\r\n    }\r\n\r\n    /** Validates if value is acceptable */\r\n    doValidate(flags) {\r\n      return (!this.validate || this.validate(this.value, this, flags)) && (!this.parent || this.parent.doValidate(flags));\r\n    }\r\n\r\n    /** Does additional processing at the end of editing */\r\n    doCommit() {\r\n      if (this.commit) this.commit(this.value, this);\r\n    }\r\n    splice(start, deleteCount, inserted, removeDirection, flags) {\r\n      if (inserted === void 0) {\r\n        inserted = '';\r\n      }\r\n      if (removeDirection === void 0) {\r\n        removeDirection = DIRECTION.NONE;\r\n      }\r\n      if (flags === void 0) {\r\n        flags = {\r\n          input: true\r\n        };\r\n      }\r\n      const tailPos = start + deleteCount;\r\n      const tail = this.extractTail(tailPos);\r\n      const eagerRemove = this.eager === true || this.eager === 'remove';\r\n      let oldRawValue;\r\n      if (eagerRemove) {\r\n        removeDirection = forceDirection(removeDirection);\r\n        oldRawValue = this.extractInput(0, tailPos, {\r\n          raw: true\r\n        });\r\n      }\r\n      let startChangePos = start;\r\n      const details = new ChangeDetails();\r\n\r\n      // if it is just deletion without insertion\r\n      if (removeDirection !== DIRECTION.NONE) {\r\n        startChangePos = this.nearestInputPos(start, deleteCount > 1 && start !== 0 && !eagerRemove ? DIRECTION.NONE : removeDirection);\r\n\r\n        // adjust tailShift if start was aligned\r\n        details.tailShift = startChangePos - start;\r\n      }\r\n      details.aggregate(this.remove(startChangePos));\r\n      if (eagerRemove && removeDirection !== DIRECTION.NONE && oldRawValue === this.rawInputValue) {\r\n        if (removeDirection === DIRECTION.FORCE_LEFT) {\r\n          let valLength;\r\n          while (oldRawValue === this.rawInputValue && (valLength = this.displayValue.length)) {\r\n            details.aggregate(new ChangeDetails({\r\n              tailShift: -1\r\n            })).aggregate(this.remove(valLength - 1));\r\n          }\r\n        } else if (removeDirection === DIRECTION.FORCE_RIGHT) {\r\n          tail.unshift();\r\n        }\r\n      }\r\n      return details.aggregate(this.append(inserted, flags, tail));\r\n    }\r\n    maskEquals(mask) {\r\n      return this.mask === mask;\r\n    }\r\n    optionsIsChanged(opts) {\r\n      return !objectIncludes(this, opts);\r\n    }\r\n    typedValueEquals(value) {\r\n      const tval = this.typedValue;\r\n      return value === tval || Masked.EMPTY_VALUES.includes(value) && Masked.EMPTY_VALUES.includes(tval) || (this.format ? this.format(value, this) === this.format(this.typedValue, this) : false);\r\n    }\r\n    pad(flags) {\r\n      return new ChangeDetails();\r\n    }\r\n  }\r\n  Masked.DEFAULTS = {\r\n    skipInvalid: true\r\n  };\r\n  Masked.EMPTY_VALUES = [undefined, null, ''];\r\n  IMask.Masked = Masked;\r\n\r\n  class ChunksTailDetails {\r\n    /** */\r\n\r\n    constructor(chunks, from) {\r\n      if (chunks === void 0) {\r\n        chunks = [];\r\n      }\r\n      if (from === void 0) {\r\n        from = 0;\r\n      }\r\n      this.chunks = chunks;\r\n      this.from = from;\r\n    }\r\n    toString() {\r\n      return this.chunks.map(String).join('');\r\n    }\r\n    extend(tailChunk) {\r\n      if (!String(tailChunk)) return;\r\n      tailChunk = isString(tailChunk) ? new ContinuousTailDetails(String(tailChunk)) : tailChunk;\r\n      const lastChunk = this.chunks[this.chunks.length - 1];\r\n      const extendLast = lastChunk && (\r\n      // if stops are same or tail has no stop\r\n      lastChunk.stop === tailChunk.stop || tailChunk.stop == null) &&\r\n      // if tail chunk goes just after last chunk\r\n      tailChunk.from === lastChunk.from + lastChunk.toString().length;\r\n      if (tailChunk instanceof ContinuousTailDetails) {\r\n        // check the ability to extend previous chunk\r\n        if (extendLast) {\r\n          // extend previous chunk\r\n          lastChunk.extend(tailChunk.toString());\r\n        } else {\r\n          // append new chunk\r\n          this.chunks.push(tailChunk);\r\n        }\r\n      } else if (tailChunk instanceof ChunksTailDetails) {\r\n        if (tailChunk.stop == null) {\r\n          // unwrap floating chunks to parent, keeping `from` pos\r\n          let firstTailChunk;\r\n          while (tailChunk.chunks.length && tailChunk.chunks[0].stop == null) {\r\n            firstTailChunk = tailChunk.chunks.shift(); // not possible to be `undefined` because length was checked above\r\n            firstTailChunk.from += tailChunk.from;\r\n            this.extend(firstTailChunk);\r\n          }\r\n        }\r\n\r\n        // if tail chunk still has value\r\n        if (tailChunk.toString()) {\r\n          // if chunks contains stops, then popup stop to container\r\n          tailChunk.stop = tailChunk.blockIndex;\r\n          this.chunks.push(tailChunk);\r\n        }\r\n      }\r\n    }\r\n    appendTo(masked) {\r\n      if (!(masked instanceof IMask.MaskedPattern)) {\r\n        const tail = new ContinuousTailDetails(this.toString());\r\n        return tail.appendTo(masked);\r\n      }\r\n      const details = new ChangeDetails();\r\n      for (let ci = 0; ci < this.chunks.length; ++ci) {\r\n        const chunk = this.chunks[ci];\r\n        const lastBlockIter = masked._mapPosToBlock(masked.displayValue.length);\r\n        const stop = chunk.stop;\r\n        let chunkBlock;\r\n        if (stop != null && (\r\n        // if block not found or stop is behind lastBlock\r\n        !lastBlockIter || lastBlockIter.index <= stop)) {\r\n          if (chunk instanceof ChunksTailDetails ||\r\n          // for continuous block also check if stop is exist\r\n          masked._stops.indexOf(stop) >= 0) {\r\n            details.aggregate(masked._appendPlaceholder(stop));\r\n          }\r\n          chunkBlock = chunk instanceof ChunksTailDetails && masked._blocks[stop];\r\n        }\r\n        if (chunkBlock) {\r\n          const tailDetails = chunkBlock.appendTail(chunk);\r\n          details.aggregate(tailDetails);\r\n\r\n          // get not inserted chars\r\n          const remainChars = chunk.toString().slice(tailDetails.rawInserted.length);\r\n          if (remainChars) details.aggregate(masked.append(remainChars, {\r\n            tail: true\r\n          }));\r\n        } else {\r\n          details.aggregate(masked.append(chunk.toString(), {\r\n            tail: true\r\n          }));\r\n        }\r\n      }\r\n      return details;\r\n    }\r\n    get state() {\r\n      return {\r\n        chunks: this.chunks.map(c => c.state),\r\n        from: this.from,\r\n        stop: this.stop,\r\n        blockIndex: this.blockIndex\r\n      };\r\n    }\r\n    set state(state) {\r\n      const {\r\n        chunks,\r\n        ...props\r\n      } = state;\r\n      Object.assign(this, props);\r\n      this.chunks = chunks.map(cstate => {\r\n        const chunk = \"chunks\" in cstate ? new ChunksTailDetails() : new ContinuousTailDetails();\r\n        chunk.state = cstate;\r\n        return chunk;\r\n      });\r\n    }\r\n    unshift(beforePos) {\r\n      if (!this.chunks.length || beforePos != null && this.from >= beforePos) return '';\r\n      const chunkShiftPos = beforePos != null ? beforePos - this.from : beforePos;\r\n      let ci = 0;\r\n      while (ci < this.chunks.length) {\r\n        const chunk = this.chunks[ci];\r\n        const shiftChar = chunk.unshift(chunkShiftPos);\r\n        if (chunk.toString()) {\r\n          // chunk still contains value\r\n          // but not shifted - means no more available chars to shift\r\n          if (!shiftChar) break;\r\n          ++ci;\r\n        } else {\r\n          // clean if chunk has no value\r\n          this.chunks.splice(ci, 1);\r\n        }\r\n        if (shiftChar) return shiftChar;\r\n      }\r\n      return '';\r\n    }\r\n    shift() {\r\n      if (!this.chunks.length) return '';\r\n      let ci = this.chunks.length - 1;\r\n      while (0 <= ci) {\r\n        const chunk = this.chunks[ci];\r\n        const shiftChar = chunk.shift();\r\n        if (chunk.toString()) {\r\n          // chunk still contains value\r\n          // but not shifted - means no more available chars to shift\r\n          if (!shiftChar) break;\r\n          --ci;\r\n        } else {\r\n          // clean if chunk has no value\r\n          this.chunks.splice(ci, 1);\r\n        }\r\n        if (shiftChar) return shiftChar;\r\n      }\r\n      return '';\r\n    }\r\n  }\r\n\r\n  class PatternCursor {\r\n    constructor(masked, pos) {\r\n      this.masked = masked;\r\n      this._log = [];\r\n      const {\r\n        offset,\r\n        index\r\n      } = masked._mapPosToBlock(pos) || (pos < 0 ?\r\n      // first\r\n      {\r\n        index: 0,\r\n        offset: 0\r\n      } :\r\n      // last\r\n      {\r\n        index: this.masked._blocks.length,\r\n        offset: 0\r\n      });\r\n      this.offset = offset;\r\n      this.index = index;\r\n      this.ok = false;\r\n    }\r\n    get block() {\r\n      return this.masked._blocks[this.index];\r\n    }\r\n    get pos() {\r\n      return this.masked._blockStartPos(this.index) + this.offset;\r\n    }\r\n    get state() {\r\n      return {\r\n        index: this.index,\r\n        offset: this.offset,\r\n        ok: this.ok\r\n      };\r\n    }\r\n    set state(s) {\r\n      Object.assign(this, s);\r\n    }\r\n    pushState() {\r\n      this._log.push(this.state);\r\n    }\r\n    popState() {\r\n      const s = this._log.pop();\r\n      if (s) this.state = s;\r\n      return s;\r\n    }\r\n    bindBlock() {\r\n      if (this.block) return;\r\n      if (this.index < 0) {\r\n        this.index = 0;\r\n        this.offset = 0;\r\n      }\r\n      if (this.index >= this.masked._blocks.length) {\r\n        this.index = this.masked._blocks.length - 1;\r\n        this.offset = this.block.displayValue.length; // TODO this is stupid type error, `block` depends on index that was changed above\r\n      }\r\n    }\r\n    _pushLeft(fn) {\r\n      this.pushState();\r\n      for (this.bindBlock(); 0 <= this.index; --this.index, this.offset = ((_this$block = this.block) == null ? void 0 : _this$block.displayValue.length) || 0) {\r\n        var _this$block;\r\n        if (fn()) return this.ok = true;\r\n      }\r\n      return this.ok = false;\r\n    }\r\n    _pushRight(fn) {\r\n      this.pushState();\r\n      for (this.bindBlock(); this.index < this.masked._blocks.length; ++this.index, this.offset = 0) {\r\n        if (fn()) return this.ok = true;\r\n      }\r\n      return this.ok = false;\r\n    }\r\n    pushLeftBeforeFilled() {\r\n      return this._pushLeft(() => {\r\n        if (this.block.isFixed || !this.block.value) return;\r\n        this.offset = this.block.nearestInputPos(this.offset, DIRECTION.FORCE_LEFT);\r\n        if (this.offset !== 0) return true;\r\n      });\r\n    }\r\n    pushLeftBeforeInput() {\r\n      // cases:\r\n      // filled input: 00|\r\n      // optional empty input: 00[]|\r\n      // nested block: XX<[]>|\r\n      return this._pushLeft(() => {\r\n        if (this.block.isFixed) return;\r\n        this.offset = this.block.nearestInputPos(this.offset, DIRECTION.LEFT);\r\n        return true;\r\n      });\r\n    }\r\n    pushLeftBeforeRequired() {\r\n      return this._pushLeft(() => {\r\n        if (this.block.isFixed || this.block.isOptional && !this.block.value) return;\r\n        this.offset = this.block.nearestInputPos(this.offset, DIRECTION.LEFT);\r\n        return true;\r\n      });\r\n    }\r\n    pushRightBeforeFilled() {\r\n      return this._pushRight(() => {\r\n        if (this.block.isFixed || !this.block.value) return;\r\n        this.offset = this.block.nearestInputPos(this.offset, DIRECTION.FORCE_RIGHT);\r\n        if (this.offset !== this.block.value.length) return true;\r\n      });\r\n    }\r\n    pushRightBeforeInput() {\r\n      return this._pushRight(() => {\r\n        if (this.block.isFixed) return;\r\n\r\n        // const o = this.offset;\r\n        this.offset = this.block.nearestInputPos(this.offset, DIRECTION.NONE);\r\n        // HACK cases like (STILL DOES NOT WORK FOR NESTED)\r\n        // aa|X\r\n        // aa<X|[]>X_    - this will not work\r\n        // if (o && o === this.offset && this.block instanceof PatternInputDefinition) continue;\r\n        return true;\r\n      });\r\n    }\r\n    pushRightBeforeRequired() {\r\n      return this._pushRight(() => {\r\n        if (this.block.isFixed || this.block.isOptional && !this.block.value) return;\r\n\r\n        // TODO check |[*]XX_\r\n        this.offset = this.block.nearestInputPos(this.offset, DIRECTION.NONE);\r\n        return true;\r\n      });\r\n    }\r\n  }\r\n\r\n  class PatternFixedDefinition {\r\n    /** */\r\n\r\n    /** */\r\n\r\n    /** */\r\n\r\n    /** */\r\n\r\n    /** */\r\n\r\n    /** */\r\n\r\n    constructor(opts) {\r\n      Object.assign(this, opts);\r\n      this._value = '';\r\n      this.isFixed = true;\r\n    }\r\n    get value() {\r\n      return this._value;\r\n    }\r\n    get unmaskedValue() {\r\n      return this.isUnmasking ? this.value : '';\r\n    }\r\n    get rawInputValue() {\r\n      return this._isRawInput ? this.value : '';\r\n    }\r\n    get displayValue() {\r\n      return this.value;\r\n    }\r\n    reset() {\r\n      this._isRawInput = false;\r\n      this._value = '';\r\n    }\r\n    remove(fromPos, toPos) {\r\n      if (fromPos === void 0) {\r\n        fromPos = 0;\r\n      }\r\n      if (toPos === void 0) {\r\n        toPos = this._value.length;\r\n      }\r\n      this._value = this._value.slice(0, fromPos) + this._value.slice(toPos);\r\n      if (!this._value) this._isRawInput = false;\r\n      return new ChangeDetails();\r\n    }\r\n    nearestInputPos(cursorPos, direction) {\r\n      if (direction === void 0) {\r\n        direction = DIRECTION.NONE;\r\n      }\r\n      const minPos = 0;\r\n      const maxPos = this._value.length;\r\n      switch (direction) {\r\n        case DIRECTION.LEFT:\r\n        case DIRECTION.FORCE_LEFT:\r\n          return minPos;\r\n        case DIRECTION.NONE:\r\n        case DIRECTION.RIGHT:\r\n        case DIRECTION.FORCE_RIGHT:\r\n        default:\r\n          return maxPos;\r\n      }\r\n    }\r\n    totalInputPositions(fromPos, toPos) {\r\n      if (fromPos === void 0) {\r\n        fromPos = 0;\r\n      }\r\n      if (toPos === void 0) {\r\n        toPos = this._value.length;\r\n      }\r\n      return this._isRawInput ? toPos - fromPos : 0;\r\n    }\r\n    extractInput(fromPos, toPos, flags) {\r\n      if (fromPos === void 0) {\r\n        fromPos = 0;\r\n      }\r\n      if (toPos === void 0) {\r\n        toPos = this._value.length;\r\n      }\r\n      if (flags === void 0) {\r\n        flags = {};\r\n      }\r\n      return flags.raw && this._isRawInput && this._value.slice(fromPos, toPos) || '';\r\n    }\r\n    get isComplete() {\r\n      return true;\r\n    }\r\n    get isFilled() {\r\n      return Boolean(this._value);\r\n    }\r\n    _appendChar(ch, flags) {\r\n      if (flags === void 0) {\r\n        flags = {};\r\n      }\r\n      if (this.isFilled) return new ChangeDetails();\r\n      const appendEager = this.eager === true || this.eager === 'append';\r\n      const appended = this.char === ch;\r\n      const isResolved = appended && (this.isUnmasking || flags.input || flags.raw) && (!flags.raw || !appendEager) && !flags.tail;\r\n      const details = new ChangeDetails({\r\n        inserted: this.char,\r\n        rawInserted: isResolved ? this.char : ''\r\n      });\r\n      this._value = this.char;\r\n      this._isRawInput = isResolved && (flags.raw || flags.input);\r\n      return details;\r\n    }\r\n    _appendEager() {\r\n      return this._appendChar(this.char, {\r\n        tail: true\r\n      });\r\n    }\r\n    _appendPlaceholder() {\r\n      const details = new ChangeDetails();\r\n      if (this.isFilled) return details;\r\n      this._value = details.inserted = this.char;\r\n      return details;\r\n    }\r\n    extractTail() {\r\n      return new ContinuousTailDetails('');\r\n    }\r\n    appendTail(tail) {\r\n      if (isString(tail)) tail = new ContinuousTailDetails(String(tail));\r\n      return tail.appendTo(this);\r\n    }\r\n    append(str, flags, tail) {\r\n      const details = this._appendChar(str[0], flags);\r\n      if (tail != null) {\r\n        details.tailShift += this.appendTail(tail).tailShift;\r\n      }\r\n      return details;\r\n    }\r\n    doCommit() {}\r\n    get state() {\r\n      return {\r\n        _value: this._value,\r\n        _rawInputValue: this.rawInputValue\r\n      };\r\n    }\r\n    set state(state) {\r\n      this._value = state._value;\r\n      this._isRawInput = Boolean(state._rawInputValue);\r\n    }\r\n    pad(flags) {\r\n      return this._appendPlaceholder();\r\n    }\r\n  }\r\n\r\n  class PatternInputDefinition {\r\n    /** */\r\n\r\n    /** */\r\n\r\n    /** */\r\n\r\n    /** */\r\n\r\n    /** */\r\n\r\n    /** */\r\n\r\n    /** */\r\n\r\n    /** */\r\n\r\n    constructor(opts) {\r\n      const {\r\n        parent,\r\n        isOptional,\r\n        placeholderChar,\r\n        displayChar,\r\n        lazy,\r\n        eager,\r\n        ...maskOpts\r\n      } = opts;\r\n      this.masked = createMask(maskOpts);\r\n      Object.assign(this, {\r\n        parent,\r\n        isOptional,\r\n        placeholderChar,\r\n        displayChar,\r\n        lazy,\r\n        eager\r\n      });\r\n    }\r\n    reset() {\r\n      this.isFilled = false;\r\n      this.masked.reset();\r\n    }\r\n    remove(fromPos, toPos) {\r\n      if (fromPos === void 0) {\r\n        fromPos = 0;\r\n      }\r\n      if (toPos === void 0) {\r\n        toPos = this.value.length;\r\n      }\r\n      if (fromPos === 0 && toPos >= 1) {\r\n        this.isFilled = false;\r\n        return this.masked.remove(fromPos, toPos);\r\n      }\r\n      return new ChangeDetails();\r\n    }\r\n    get value() {\r\n      return this.masked.value || (this.isFilled && !this.isOptional ? this.placeholderChar : '');\r\n    }\r\n    get unmaskedValue() {\r\n      return this.masked.unmaskedValue;\r\n    }\r\n    get rawInputValue() {\r\n      return this.masked.rawInputValue;\r\n    }\r\n    get displayValue() {\r\n      return this.masked.value && this.displayChar || this.value;\r\n    }\r\n    get isComplete() {\r\n      return Boolean(this.masked.value) || this.isOptional;\r\n    }\r\n    _appendChar(ch, flags) {\r\n      if (flags === void 0) {\r\n        flags = {};\r\n      }\r\n      if (this.isFilled) return new ChangeDetails();\r\n      const state = this.masked.state;\r\n      // simulate input\r\n      let details = this.masked._appendChar(ch, this.currentMaskFlags(flags));\r\n      if (details.inserted && this.doValidate(flags) === false) {\r\n        details = new ChangeDetails();\r\n        this.masked.state = state;\r\n      }\r\n      if (!details.inserted && !this.isOptional && !this.lazy && !flags.input) {\r\n        details.inserted = this.placeholderChar;\r\n      }\r\n      details.skip = !details.inserted && !this.isOptional;\r\n      this.isFilled = Boolean(details.inserted);\r\n      return details;\r\n    }\r\n    append(str, flags, tail) {\r\n      // TODO probably should be done via _appendChar\r\n      return this.masked.append(str, this.currentMaskFlags(flags), tail);\r\n    }\r\n    _appendPlaceholder() {\r\n      if (this.isFilled || this.isOptional) return new ChangeDetails();\r\n      this.isFilled = true;\r\n      return new ChangeDetails({\r\n        inserted: this.placeholderChar\r\n      });\r\n    }\r\n    _appendEager() {\r\n      return new ChangeDetails();\r\n    }\r\n    extractTail(fromPos, toPos) {\r\n      return this.masked.extractTail(fromPos, toPos);\r\n    }\r\n    appendTail(tail) {\r\n      return this.masked.appendTail(tail);\r\n    }\r\n    extractInput(fromPos, toPos, flags) {\r\n      if (fromPos === void 0) {\r\n        fromPos = 0;\r\n      }\r\n      if (toPos === void 0) {\r\n        toPos = this.value.length;\r\n      }\r\n      return this.masked.extractInput(fromPos, toPos, flags);\r\n    }\r\n    nearestInputPos(cursorPos, direction) {\r\n      if (direction === void 0) {\r\n        direction = DIRECTION.NONE;\r\n      }\r\n      const minPos = 0;\r\n      const maxPos = this.value.length;\r\n      const boundPos = Math.min(Math.max(cursorPos, minPos), maxPos);\r\n      switch (direction) {\r\n        case DIRECTION.LEFT:\r\n        case DIRECTION.FORCE_LEFT:\r\n          return this.isComplete ? boundPos : minPos;\r\n        case DIRECTION.RIGHT:\r\n        case DIRECTION.FORCE_RIGHT:\r\n          return this.isComplete ? boundPos : maxPos;\r\n        case DIRECTION.NONE:\r\n        default:\r\n          return boundPos;\r\n      }\r\n    }\r\n    totalInputPositions(fromPos, toPos) {\r\n      if (fromPos === void 0) {\r\n        fromPos = 0;\r\n      }\r\n      if (toPos === void 0) {\r\n        toPos = this.value.length;\r\n      }\r\n      return this.value.slice(fromPos, toPos).length;\r\n    }\r\n    doValidate(flags) {\r\n      return this.masked.doValidate(this.currentMaskFlags(flags)) && (!this.parent || this.parent.doValidate(this.currentMaskFlags(flags)));\r\n    }\r\n    doCommit() {\r\n      this.masked.doCommit();\r\n    }\r\n    get state() {\r\n      return {\r\n        _value: this.value,\r\n        _rawInputValue: this.rawInputValue,\r\n        masked: this.masked.state,\r\n        isFilled: this.isFilled\r\n      };\r\n    }\r\n    set state(state) {\r\n      this.masked.state = state.masked;\r\n      this.isFilled = state.isFilled;\r\n    }\r\n    currentMaskFlags(flags) {\r\n      var _flags$_beforeTailSta;\r\n      return {\r\n        ...flags,\r\n        _beforeTailState: (flags == null || (_flags$_beforeTailSta = flags._beforeTailState) == null ? void 0 : _flags$_beforeTailSta.masked) || (flags == null ? void 0 : flags._beforeTailState)\r\n      };\r\n    }\r\n    pad(flags) {\r\n      return new ChangeDetails();\r\n    }\r\n  }\r\n  PatternInputDefinition.DEFAULT_DEFINITIONS = {\r\n    '0': /\\d/,\r\n    'a': /[\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0\\u08A2-\\u08AC\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097F\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191C\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA697\\uA6A0-\\uA6E5\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA793\\uA7A0-\\uA7AA\\uA7F8-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA80-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]/,\r\n    // http://stackoverflow.com/a/22075070\r\n    '*': /./\r\n  };\r\n\r\n  /** Masking by RegExp */\r\n  class MaskedRegExp extends Masked {\r\n    /** */\r\n\r\n    /** Enable characters overwriting */\r\n\r\n    /** */\r\n\r\n    /** */\r\n\r\n    /** */\r\n\r\n    updateOptions(opts) {\r\n      super.updateOptions(opts);\r\n    }\r\n    _update(opts) {\r\n      const mask = opts.mask;\r\n      if (mask) opts.validate = value => value.search(mask) >= 0;\r\n      super._update(opts);\r\n    }\r\n  }\r\n  IMask.MaskedRegExp = MaskedRegExp;\r\n\r\n  /** Pattern mask */\r\n  class MaskedPattern extends Masked {\r\n    /** */\r\n\r\n    /** */\r\n\r\n    /** Single char for empty input */\r\n\r\n    /** Single char for filled input */\r\n\r\n    /** Show placeholder only when needed */\r\n\r\n    /** Enable characters overwriting */\r\n\r\n    /** */\r\n\r\n    /** */\r\n\r\n    /** */\r\n\r\n    constructor(opts) {\r\n      super({\r\n        ...MaskedPattern.DEFAULTS,\r\n        ...opts,\r\n        definitions: Object.assign({}, PatternInputDefinition.DEFAULT_DEFINITIONS, opts == null ? void 0 : opts.definitions)\r\n      });\r\n    }\r\n    updateOptions(opts) {\r\n      super.updateOptions(opts);\r\n    }\r\n    _update(opts) {\r\n      opts.definitions = Object.assign({}, this.definitions, opts.definitions);\r\n      super._update(opts);\r\n      this._rebuildMask();\r\n    }\r\n    _rebuildMask() {\r\n      const defs = this.definitions;\r\n      this._blocks = [];\r\n      this.exposeBlock = undefined;\r\n      this._stops = [];\r\n      this._maskedBlocks = {};\r\n      const pattern = this.mask;\r\n      if (!pattern || !defs) return;\r\n      let unmaskingBlock = false;\r\n      let optionalBlock = false;\r\n      for (let i = 0; i < pattern.length; ++i) {\r\n        if (this.blocks) {\r\n          const p = pattern.slice(i);\r\n          const bNames = Object.keys(this.blocks).filter(bName => p.indexOf(bName) === 0);\r\n          // order by key length\r\n          bNames.sort((a, b) => b.length - a.length);\r\n          // use block name with max length\r\n          const bName = bNames[0];\r\n          if (bName) {\r\n            const {\r\n              expose,\r\n              repeat,\r\n              ...bOpts\r\n            } = normalizeOpts(this.blocks[bName]); // TODO type Opts<Arg & Extra>\r\n            const blockOpts = {\r\n              lazy: this.lazy,\r\n              eager: this.eager,\r\n              placeholderChar: this.placeholderChar,\r\n              displayChar: this.displayChar,\r\n              overwrite: this.overwrite,\r\n              autofix: this.autofix,\r\n              ...bOpts,\r\n              repeat,\r\n              parent: this\r\n            };\r\n            const maskedBlock = repeat != null ? new IMask.RepeatBlock(blockOpts /* TODO */) : createMask(blockOpts);\r\n            if (maskedBlock) {\r\n              this._blocks.push(maskedBlock);\r\n              if (expose) this.exposeBlock = maskedBlock;\r\n\r\n              // store block index\r\n              if (!this._maskedBlocks[bName]) this._maskedBlocks[bName] = [];\r\n              this._maskedBlocks[bName].push(this._blocks.length - 1);\r\n            }\r\n            i += bName.length - 1;\r\n            continue;\r\n          }\r\n        }\r\n        let char = pattern[i];\r\n        let isInput = (char in defs);\r\n        if (char === MaskedPattern.STOP_CHAR) {\r\n          this._stops.push(this._blocks.length);\r\n          continue;\r\n        }\r\n        if (char === '{' || char === '}') {\r\n          unmaskingBlock = !unmaskingBlock;\r\n          continue;\r\n        }\r\n        if (char === '[' || char === ']') {\r\n          optionalBlock = !optionalBlock;\r\n          continue;\r\n        }\r\n        if (char === MaskedPattern.ESCAPE_CHAR) {\r\n          ++i;\r\n          char = pattern[i];\r\n          if (!char) break;\r\n          isInput = false;\r\n        }\r\n        const def = isInput ? new PatternInputDefinition({\r\n          isOptional: optionalBlock,\r\n          lazy: this.lazy,\r\n          eager: this.eager,\r\n          placeholderChar: this.placeholderChar,\r\n          displayChar: this.displayChar,\r\n          ...normalizeOpts(defs[char]),\r\n          parent: this\r\n        }) : new PatternFixedDefinition({\r\n          char,\r\n          eager: this.eager,\r\n          isUnmasking: unmaskingBlock\r\n        });\r\n        this._blocks.push(def);\r\n      }\r\n    }\r\n    get state() {\r\n      return {\r\n        ...super.state,\r\n        _blocks: this._blocks.map(b => b.state)\r\n      };\r\n    }\r\n    set state(state) {\r\n      if (!state) {\r\n        this.reset();\r\n        return;\r\n      }\r\n      const {\r\n        _blocks,\r\n        ...maskedState\r\n      } = state;\r\n      this._blocks.forEach((b, bi) => b.state = _blocks[bi]);\r\n      super.state = maskedState;\r\n    }\r\n    reset() {\r\n      super.reset();\r\n      this._blocks.forEach(b => b.reset());\r\n    }\r\n    get isComplete() {\r\n      return this.exposeBlock ? this.exposeBlock.isComplete : this._blocks.every(b => b.isComplete);\r\n    }\r\n    get isFilled() {\r\n      return this._blocks.every(b => b.isFilled);\r\n    }\r\n    get isFixed() {\r\n      return this._blocks.every(b => b.isFixed);\r\n    }\r\n    get isOptional() {\r\n      return this._blocks.every(b => b.isOptional);\r\n    }\r\n    doCommit() {\r\n      this._blocks.forEach(b => b.doCommit());\r\n      super.doCommit();\r\n    }\r\n    get unmaskedValue() {\r\n      return this.exposeBlock ? this.exposeBlock.unmaskedValue : this._blocks.reduce((str, b) => str += b.unmaskedValue, '');\r\n    }\r\n    set unmaskedValue(unmaskedValue) {\r\n      if (this.exposeBlock) {\r\n        const tail = this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock)) + this.exposeBlock.displayValue.length);\r\n        this.exposeBlock.unmaskedValue = unmaskedValue;\r\n        this.appendTail(tail);\r\n        this.doCommit();\r\n      } else super.unmaskedValue = unmaskedValue;\r\n    }\r\n    get value() {\r\n      return this.exposeBlock ? this.exposeBlock.value :\r\n      // TODO return _value when not in change?\r\n      this._blocks.reduce((str, b) => str += b.value, '');\r\n    }\r\n    set value(value) {\r\n      if (this.exposeBlock) {\r\n        const tail = this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock)) + this.exposeBlock.displayValue.length);\r\n        this.exposeBlock.value = value;\r\n        this.appendTail(tail);\r\n        this.doCommit();\r\n      } else super.value = value;\r\n    }\r\n    get typedValue() {\r\n      return this.exposeBlock ? this.exposeBlock.typedValue : super.typedValue;\r\n    }\r\n    set typedValue(value) {\r\n      if (this.exposeBlock) {\r\n        const tail = this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock)) + this.exposeBlock.displayValue.length);\r\n        this.exposeBlock.typedValue = value;\r\n        this.appendTail(tail);\r\n        this.doCommit();\r\n      } else super.typedValue = value;\r\n    }\r\n    get displayValue() {\r\n      return this._blocks.reduce((str, b) => str += b.displayValue, '');\r\n    }\r\n    appendTail(tail) {\r\n      return super.appendTail(tail).aggregate(this._appendPlaceholder());\r\n    }\r\n    _appendEager() {\r\n      var _this$_mapPosToBlock;\r\n      const details = new ChangeDetails();\r\n      let startBlockIndex = (_this$_mapPosToBlock = this._mapPosToBlock(this.displayValue.length)) == null ? void 0 : _this$_mapPosToBlock.index;\r\n      if (startBlockIndex == null) return details;\r\n\r\n      // TODO test if it works for nested pattern masks\r\n      if (this._blocks[startBlockIndex].isFilled) ++startBlockIndex;\r\n      for (let bi = startBlockIndex; bi < this._blocks.length; ++bi) {\r\n        const d = this._blocks[bi]._appendEager();\r\n        if (!d.inserted) break;\r\n        details.aggregate(d);\r\n      }\r\n      return details;\r\n    }\r\n    _appendCharRaw(ch, flags) {\r\n      if (flags === void 0) {\r\n        flags = {};\r\n      }\r\n      const blockIter = this._mapPosToBlock(this.displayValue.length);\r\n      const details = new ChangeDetails();\r\n      if (!blockIter) return details;\r\n      for (let bi = blockIter.index, block; block = this._blocks[bi]; ++bi) {\r\n        var _flags$_beforeTailSta;\r\n        const blockDetails = block._appendChar(ch, {\r\n          ...flags,\r\n          _beforeTailState: (_flags$_beforeTailSta = flags._beforeTailState) == null || (_flags$_beforeTailSta = _flags$_beforeTailSta._blocks) == null ? void 0 : _flags$_beforeTailSta[bi]\r\n        });\r\n        details.aggregate(blockDetails);\r\n        if (blockDetails.consumed) break; // go next char\r\n      }\r\n      return details;\r\n    }\r\n    extractTail(fromPos, toPos) {\r\n      if (fromPos === void 0) {\r\n        fromPos = 0;\r\n      }\r\n      if (toPos === void 0) {\r\n        toPos = this.displayValue.length;\r\n      }\r\n      const chunkTail = new ChunksTailDetails();\r\n      if (fromPos === toPos) return chunkTail;\r\n      this._forEachBlocksInRange(fromPos, toPos, (b, bi, bFromPos, bToPos) => {\r\n        const blockChunk = b.extractTail(bFromPos, bToPos);\r\n        blockChunk.stop = this._findStopBefore(bi);\r\n        blockChunk.from = this._blockStartPos(bi);\r\n        if (blockChunk instanceof ChunksTailDetails) blockChunk.blockIndex = bi;\r\n        chunkTail.extend(blockChunk);\r\n      });\r\n      return chunkTail;\r\n    }\r\n    extractInput(fromPos, toPos, flags) {\r\n      if (fromPos === void 0) {\r\n        fromPos = 0;\r\n      }\r\n      if (toPos === void 0) {\r\n        toPos = this.displayValue.length;\r\n      }\r\n      if (flags === void 0) {\r\n        flags = {};\r\n      }\r\n      if (fromPos === toPos) return '';\r\n      let input = '';\r\n      this._forEachBlocksInRange(fromPos, toPos, (b, _, fromPos, toPos) => {\r\n        input += b.extractInput(fromPos, toPos, flags);\r\n      });\r\n      return input;\r\n    }\r\n    _findStopBefore(blockIndex) {\r\n      let stopBefore;\r\n      for (let si = 0; si < this._stops.length; ++si) {\r\n        const stop = this._stops[si];\r\n        if (stop <= blockIndex) stopBefore = stop;else break;\r\n      }\r\n      return stopBefore;\r\n    }\r\n\r\n    /** Appends placeholder depending on laziness */\r\n    _appendPlaceholder(toBlockIndex) {\r\n      const details = new ChangeDetails();\r\n      if (this.lazy && toBlockIndex == null) return details;\r\n      const startBlockIter = this._mapPosToBlock(this.displayValue.length);\r\n      if (!startBlockIter) return details;\r\n      const startBlockIndex = startBlockIter.index;\r\n      const endBlockIndex = toBlockIndex != null ? toBlockIndex : this._blocks.length;\r\n      this._blocks.slice(startBlockIndex, endBlockIndex).forEach(b => {\r\n        if (!b.lazy || toBlockIndex != null) {\r\n          var _blocks2;\r\n          details.aggregate(b._appendPlaceholder((_blocks2 = b._blocks) == null ? void 0 : _blocks2.length));\r\n        }\r\n      });\r\n      return details;\r\n    }\r\n\r\n    /** Finds block in pos */\r\n    _mapPosToBlock(pos) {\r\n      let accVal = '';\r\n      for (let bi = 0; bi < this._blocks.length; ++bi) {\r\n        const block = this._blocks[bi];\r\n        const blockStartPos = accVal.length;\r\n        accVal += block.displayValue;\r\n        if (pos <= accVal.length) {\r\n          return {\r\n            index: bi,\r\n            offset: pos - blockStartPos\r\n          };\r\n        }\r\n      }\r\n    }\r\n    _blockStartPos(blockIndex) {\r\n      return this._blocks.slice(0, blockIndex).reduce((pos, b) => pos += b.displayValue.length, 0);\r\n    }\r\n    _forEachBlocksInRange(fromPos, toPos, fn) {\r\n      if (toPos === void 0) {\r\n        toPos = this.displayValue.length;\r\n      }\r\n      const fromBlockIter = this._mapPosToBlock(fromPos);\r\n      if (fromBlockIter) {\r\n        const toBlockIter = this._mapPosToBlock(toPos);\r\n        // process first block\r\n        const isSameBlock = toBlockIter && fromBlockIter.index === toBlockIter.index;\r\n        const fromBlockStartPos = fromBlockIter.offset;\r\n        const fromBlockEndPos = toBlockIter && isSameBlock ? toBlockIter.offset : this._blocks[fromBlockIter.index].displayValue.length;\r\n        fn(this._blocks[fromBlockIter.index], fromBlockIter.index, fromBlockStartPos, fromBlockEndPos);\r\n        if (toBlockIter && !isSameBlock) {\r\n          // process intermediate blocks\r\n          for (let bi = fromBlockIter.index + 1; bi < toBlockIter.index; ++bi) {\r\n            fn(this._blocks[bi], bi, 0, this._blocks[bi].displayValue.length);\r\n          }\r\n\r\n          // process last block\r\n          fn(this._blocks[toBlockIter.index], toBlockIter.index, 0, toBlockIter.offset);\r\n        }\r\n      }\r\n    }\r\n    remove(fromPos, toPos) {\r\n      if (fromPos === void 0) {\r\n        fromPos = 0;\r\n      }\r\n      if (toPos === void 0) {\r\n        toPos = this.displayValue.length;\r\n      }\r\n      const removeDetails = super.remove(fromPos, toPos);\r\n      this._forEachBlocksInRange(fromPos, toPos, (b, _, bFromPos, bToPos) => {\r\n        removeDetails.aggregate(b.remove(bFromPos, bToPos));\r\n      });\r\n      return removeDetails;\r\n    }\r\n    nearestInputPos(cursorPos, direction) {\r\n      if (direction === void 0) {\r\n        direction = DIRECTION.NONE;\r\n      }\r\n      if (!this._blocks.length) return 0;\r\n      const cursor = new PatternCursor(this, cursorPos);\r\n      if (direction === DIRECTION.NONE) {\r\n        // -------------------------------------------------\r\n        // NONE should only go out from fixed to the right!\r\n        // -------------------------------------------------\r\n        if (cursor.pushRightBeforeInput()) return cursor.pos;\r\n        cursor.popState();\r\n        if (cursor.pushLeftBeforeInput()) return cursor.pos;\r\n        return this.displayValue.length;\r\n      }\r\n\r\n      // FORCE is only about a|* otherwise is 0\r\n      if (direction === DIRECTION.LEFT || direction === DIRECTION.FORCE_LEFT) {\r\n        // try to break fast when *|a\r\n        if (direction === DIRECTION.LEFT) {\r\n          cursor.pushRightBeforeFilled();\r\n          if (cursor.ok && cursor.pos === cursorPos) return cursorPos;\r\n          cursor.popState();\r\n        }\r\n\r\n        // forward flow\r\n        cursor.pushLeftBeforeInput();\r\n        cursor.pushLeftBeforeRequired();\r\n        cursor.pushLeftBeforeFilled();\r\n\r\n        // backward flow\r\n        if (direction === DIRECTION.LEFT) {\r\n          cursor.pushRightBeforeInput();\r\n          cursor.pushRightBeforeRequired();\r\n          if (cursor.ok && cursor.pos <= cursorPos) return cursor.pos;\r\n          cursor.popState();\r\n          if (cursor.ok && cursor.pos <= cursorPos) return cursor.pos;\r\n          cursor.popState();\r\n        }\r\n        if (cursor.ok) return cursor.pos;\r\n        if (direction === DIRECTION.FORCE_LEFT) return 0;\r\n        cursor.popState();\r\n        if (cursor.ok) return cursor.pos;\r\n        cursor.popState();\r\n        if (cursor.ok) return cursor.pos;\r\n        return 0;\r\n      }\r\n      if (direction === DIRECTION.RIGHT || direction === DIRECTION.FORCE_RIGHT) {\r\n        // forward flow\r\n        cursor.pushRightBeforeInput();\r\n        cursor.pushRightBeforeRequired();\r\n        if (cursor.pushRightBeforeFilled()) return cursor.pos;\r\n        if (direction === DIRECTION.FORCE_RIGHT) return this.displayValue.length;\r\n\r\n        // backward flow\r\n        cursor.popState();\r\n        if (cursor.ok) return cursor.pos;\r\n        cursor.popState();\r\n        if (cursor.ok) return cursor.pos;\r\n        return this.nearestInputPos(cursorPos, DIRECTION.LEFT);\r\n      }\r\n      return cursorPos;\r\n    }\r\n    totalInputPositions(fromPos, toPos) {\r\n      if (fromPos === void 0) {\r\n        fromPos = 0;\r\n      }\r\n      if (toPos === void 0) {\r\n        toPos = this.displayValue.length;\r\n      }\r\n      let total = 0;\r\n      this._forEachBlocksInRange(fromPos, toPos, (b, _, bFromPos, bToPos) => {\r\n        total += b.totalInputPositions(bFromPos, bToPos);\r\n      });\r\n      return total;\r\n    }\r\n\r\n    /** Get block by name */\r\n    maskedBlock(name) {\r\n      return this.maskedBlocks(name)[0];\r\n    }\r\n\r\n    /** Get all blocks by name */\r\n    maskedBlocks(name) {\r\n      const indices = this._maskedBlocks[name];\r\n      if (!indices) return [];\r\n      return indices.map(gi => this._blocks[gi]);\r\n    }\r\n    pad(flags) {\r\n      const details = new ChangeDetails();\r\n      this._forEachBlocksInRange(0, this.displayValue.length, b => details.aggregate(b.pad(flags)));\r\n      return details;\r\n    }\r\n  }\r\n  MaskedPattern.DEFAULTS = {\r\n    ...Masked.DEFAULTS,\r\n    lazy: true,\r\n    placeholderChar: '_'\r\n  };\r\n  MaskedPattern.STOP_CHAR = '`';\r\n  MaskedPattern.ESCAPE_CHAR = '\\\\';\r\n  MaskedPattern.InputDefinition = PatternInputDefinition;\r\n  MaskedPattern.FixedDefinition = PatternFixedDefinition;\r\n  IMask.MaskedPattern = MaskedPattern;\r\n\r\n  /** Pattern which accepts ranges */\r\n  class MaskedRange extends MaskedPattern {\r\n    /**\r\n      Optionally sets max length of pattern.\r\n      Used when pattern length is longer then `to` param length. Pads zeros at start in this case.\r\n    */\r\n\r\n    /** Min bound */\r\n\r\n    /** Max bound */\r\n\r\n    get _matchFrom() {\r\n      return this.maxLength - String(this.from).length;\r\n    }\r\n    constructor(opts) {\r\n      super(opts); // mask will be created in _update\r\n    }\r\n    updateOptions(opts) {\r\n      super.updateOptions(opts);\r\n    }\r\n    _update(opts) {\r\n      const {\r\n        to = this.to || 0,\r\n        from = this.from || 0,\r\n        maxLength = this.maxLength || 0,\r\n        autofix = this.autofix,\r\n        ...patternOpts\r\n      } = opts;\r\n      this.to = to;\r\n      this.from = from;\r\n      this.maxLength = Math.max(String(to).length, maxLength);\r\n      this.autofix = autofix;\r\n      const fromStr = String(this.from).padStart(this.maxLength, '0');\r\n      const toStr = String(this.to).padStart(this.maxLength, '0');\r\n      let sameCharsCount = 0;\r\n      while (sameCharsCount < toStr.length && toStr[sameCharsCount] === fromStr[sameCharsCount]) ++sameCharsCount;\r\n      patternOpts.mask = toStr.slice(0, sameCharsCount).replace(/0/g, '\\\\0') + '0'.repeat(this.maxLength - sameCharsCount);\r\n      super._update(patternOpts);\r\n    }\r\n    get isComplete() {\r\n      return super.isComplete && Boolean(this.value);\r\n    }\r\n    boundaries(str) {\r\n      let minstr = '';\r\n      let maxstr = '';\r\n      const [, placeholder, num] = str.match(/^(\\D*)(\\d*)(\\D*)/) || [];\r\n      if (num) {\r\n        minstr = '0'.repeat(placeholder.length) + num;\r\n        maxstr = '9'.repeat(placeholder.length) + num;\r\n      }\r\n      minstr = minstr.padEnd(this.maxLength, '0');\r\n      maxstr = maxstr.padEnd(this.maxLength, '9');\r\n      return [minstr, maxstr];\r\n    }\r\n    doPrepareChar(ch, flags) {\r\n      if (flags === void 0) {\r\n        flags = {};\r\n      }\r\n      let details;\r\n      [ch, details] = super.doPrepareChar(ch.replace(/\\D/g, ''), flags);\r\n      if (!ch) details.skip = !this.isComplete;\r\n      return [ch, details];\r\n    }\r\n    _appendCharRaw(ch, flags) {\r\n      if (flags === void 0) {\r\n        flags = {};\r\n      }\r\n      if (!this.autofix || this.value.length + 1 > this.maxLength) return super._appendCharRaw(ch, flags);\r\n      const fromStr = String(this.from).padStart(this.maxLength, '0');\r\n      const toStr = String(this.to).padStart(this.maxLength, '0');\r\n      const [minstr, maxstr] = this.boundaries(this.value + ch);\r\n      if (Number(maxstr) < this.from) return super._appendCharRaw(fromStr[this.value.length], flags);\r\n      if (Number(minstr) > this.to) {\r\n        if (!flags.tail && this.autofix === 'pad' && this.value.length + 1 < this.maxLength) {\r\n          return super._appendCharRaw(fromStr[this.value.length], flags).aggregate(this._appendCharRaw(ch, flags));\r\n        }\r\n        return super._appendCharRaw(toStr[this.value.length], flags);\r\n      }\r\n      return super._appendCharRaw(ch, flags);\r\n    }\r\n    doValidate(flags) {\r\n      const str = this.value;\r\n      const firstNonZero = str.search(/[^0]/);\r\n      if (firstNonZero === -1 && str.length <= this._matchFrom) return true;\r\n      const [minstr, maxstr] = this.boundaries(str);\r\n      return this.from <= Number(maxstr) && Number(minstr) <= this.to && super.doValidate(flags);\r\n    }\r\n    pad(flags) {\r\n      const details = new ChangeDetails();\r\n      if (this.value.length === this.maxLength) return details;\r\n      const value = this.value;\r\n      const padLength = this.maxLength - this.value.length;\r\n      if (padLength) {\r\n        this.reset();\r\n        for (let i = 0; i < padLength; ++i) {\r\n          details.aggregate(super._appendCharRaw('0', flags));\r\n        }\r\n\r\n        // append tail\r\n        value.split('').forEach(ch => this._appendCharRaw(ch));\r\n      }\r\n      return details;\r\n    }\r\n  }\r\n  IMask.MaskedRange = MaskedRange;\r\n\r\n  /** Date mask */\r\n  class MaskedDate extends MaskedPattern {\r\n    static extractPatternOptions(opts) {\r\n      const {\r\n        mask,\r\n        pattern,\r\n        ...patternOpts\r\n      } = opts;\r\n      return {\r\n        ...patternOpts,\r\n        mask: isString(mask) ? mask : pattern\r\n      };\r\n    }\r\n\r\n    /** Pattern mask for date according to {@link MaskedDate#format} */\r\n\r\n    /** Start date */\r\n\r\n    /** End date */\r\n\r\n    /** Format typed value to string */\r\n\r\n    /** Parse string to get typed value */\r\n\r\n    constructor(opts) {\r\n      super(MaskedDate.extractPatternOptions({\r\n        ...MaskedDate.DEFAULTS,\r\n        ...opts\r\n      }));\r\n    }\r\n    updateOptions(opts) {\r\n      super.updateOptions(opts);\r\n    }\r\n    _update(opts) {\r\n      const {\r\n        mask,\r\n        pattern,\r\n        blocks,\r\n        ...patternOpts\r\n      } = {\r\n        ...MaskedDate.DEFAULTS,\r\n        ...opts\r\n      };\r\n      const patternBlocks = Object.assign({}, MaskedDate.GET_DEFAULT_BLOCKS());\r\n      // adjust year block\r\n      if (opts.min) patternBlocks.Y.from = opts.min.getFullYear();\r\n      if (opts.max) patternBlocks.Y.to = opts.max.getFullYear();\r\n      if (opts.min && opts.max && patternBlocks.Y.from === patternBlocks.Y.to) {\r\n        patternBlocks.m.from = opts.min.getMonth() + 1;\r\n        patternBlocks.m.to = opts.max.getMonth() + 1;\r\n        if (patternBlocks.m.from === patternBlocks.m.to) {\r\n          patternBlocks.d.from = opts.min.getDate();\r\n          patternBlocks.d.to = opts.max.getDate();\r\n        }\r\n      }\r\n      Object.assign(patternBlocks, this.blocks, blocks);\r\n      super._update({\r\n        ...patternOpts,\r\n        mask: isString(mask) ? mask : pattern,\r\n        blocks: patternBlocks\r\n      });\r\n    }\r\n    doValidate(flags) {\r\n      const date = this.date;\r\n      return super.doValidate(flags) && (!this.isComplete || this.isDateExist(this.value) && date != null && (this.min == null || this.min <= date) && (this.max == null || date <= this.max));\r\n    }\r\n\r\n    /** Checks if date is exists */\r\n    isDateExist(str) {\r\n      return this.format(this.parse(str, this), this).indexOf(str) >= 0;\r\n    }\r\n\r\n    /** Parsed Date */\r\n    get date() {\r\n      return this.typedValue;\r\n    }\r\n    set date(date) {\r\n      this.typedValue = date;\r\n    }\r\n    get typedValue() {\r\n      return this.isComplete ? super.typedValue : null;\r\n    }\r\n    set typedValue(value) {\r\n      super.typedValue = value;\r\n    }\r\n    maskEquals(mask) {\r\n      return mask === Date || super.maskEquals(mask);\r\n    }\r\n    optionsIsChanged(opts) {\r\n      return super.optionsIsChanged(MaskedDate.extractPatternOptions(opts));\r\n    }\r\n  }\r\n  MaskedDate.GET_DEFAULT_BLOCKS = () => ({\r\n    d: {\r\n      mask: MaskedRange,\r\n      from: 1,\r\n      to: 31,\r\n      maxLength: 2\r\n    },\r\n    m: {\r\n      mask: MaskedRange,\r\n      from: 1,\r\n      to: 12,\r\n      maxLength: 2\r\n    },\r\n    Y: {\r\n      mask: MaskedRange,\r\n      from: 1900,\r\n      to: 9999\r\n    }\r\n  });\r\n  MaskedDate.DEFAULTS = {\r\n    ...MaskedPattern.DEFAULTS,\r\n    mask: Date,\r\n    pattern: 'd{.}`m{.}`Y',\r\n    format: (date, masked) => {\r\n      if (!date) return '';\r\n      const day = String(date.getDate()).padStart(2, '0');\r\n      const month = String(date.getMonth() + 1).padStart(2, '0');\r\n      const year = date.getFullYear();\r\n      return [day, month, year].join('.');\r\n    },\r\n    parse: (str, masked) => {\r\n      const [day, month, year] = str.split('.').map(Number);\r\n      return new Date(year, month - 1, day);\r\n    }\r\n  };\r\n  IMask.MaskedDate = MaskedDate;\r\n\r\n  /** Dynamic mask for choosing appropriate mask in run-time */\r\n  class MaskedDynamic extends Masked {\r\n    constructor(opts) {\r\n      super({\r\n        ...MaskedDynamic.DEFAULTS,\r\n        ...opts\r\n      });\r\n      this.currentMask = undefined;\r\n    }\r\n    updateOptions(opts) {\r\n      super.updateOptions(opts);\r\n    }\r\n    _update(opts) {\r\n      super._update(opts);\r\n      if ('mask' in opts) {\r\n        this.exposeMask = undefined;\r\n        // mask could be totally dynamic with only `dispatch` option\r\n        this.compiledMasks = Array.isArray(opts.mask) ? opts.mask.map(m => {\r\n          const {\r\n            expose,\r\n            ...maskOpts\r\n          } = normalizeOpts(m);\r\n          const masked = createMask({\r\n            overwrite: this._overwrite,\r\n            eager: this._eager,\r\n            skipInvalid: this._skipInvalid,\r\n            ...maskOpts\r\n          });\r\n          if (expose) this.exposeMask = masked;\r\n          return masked;\r\n        }) : [];\r\n\r\n        // this.currentMask = this.doDispatch(''); // probably not needed but lets see\r\n      }\r\n    }\r\n    _appendCharRaw(ch, flags) {\r\n      if (flags === void 0) {\r\n        flags = {};\r\n      }\r\n      const details = this._applyDispatch(ch, flags);\r\n      if (this.currentMask) {\r\n        details.aggregate(this.currentMask._appendChar(ch, this.currentMaskFlags(flags)));\r\n      }\r\n      return details;\r\n    }\r\n    _applyDispatch(appended, flags, tail) {\r\n      if (appended === void 0) {\r\n        appended = '';\r\n      }\r\n      if (flags === void 0) {\r\n        flags = {};\r\n      }\r\n      if (tail === void 0) {\r\n        tail = '';\r\n      }\r\n      const prevValueBeforeTail = flags.tail && flags._beforeTailState != null ? flags._beforeTailState._value : this.value;\r\n      const inputValue = this.rawInputValue;\r\n      const insertValue = flags.tail && flags._beforeTailState != null ? flags._beforeTailState._rawInputValue : inputValue;\r\n      const tailValue = inputValue.slice(insertValue.length);\r\n      const prevMask = this.currentMask;\r\n      const details = new ChangeDetails();\r\n      const prevMaskState = prevMask == null ? void 0 : prevMask.state;\r\n\r\n      // clone flags to prevent overwriting `_beforeTailState`\r\n      this.currentMask = this.doDispatch(appended, {\r\n        ...flags\r\n      }, tail);\r\n\r\n      // restore state after dispatch\r\n      if (this.currentMask) {\r\n        if (this.currentMask !== prevMask) {\r\n          // if mask changed reapply input\r\n          this.currentMask.reset();\r\n          if (insertValue) {\r\n            this.currentMask.append(insertValue, {\r\n              raw: true\r\n            });\r\n            details.tailShift = this.currentMask.value.length - prevValueBeforeTail.length;\r\n          }\r\n          if (tailValue) {\r\n            details.tailShift += this.currentMask.append(tailValue, {\r\n              raw: true,\r\n              tail: true\r\n            }).tailShift;\r\n          }\r\n        } else if (prevMaskState) {\r\n          // Dispatch can do something bad with state, so\r\n          // restore prev mask state\r\n          this.currentMask.state = prevMaskState;\r\n        }\r\n      }\r\n      return details;\r\n    }\r\n    _appendPlaceholder() {\r\n      const details = this._applyDispatch();\r\n      if (this.currentMask) {\r\n        details.aggregate(this.currentMask._appendPlaceholder());\r\n      }\r\n      return details;\r\n    }\r\n    _appendEager() {\r\n      const details = this._applyDispatch();\r\n      if (this.currentMask) {\r\n        details.aggregate(this.currentMask._appendEager());\r\n      }\r\n      return details;\r\n    }\r\n    appendTail(tail) {\r\n      const details = new ChangeDetails();\r\n      if (tail) details.aggregate(this._applyDispatch('', {}, tail));\r\n      return details.aggregate(this.currentMask ? this.currentMask.appendTail(tail) : super.appendTail(tail));\r\n    }\r\n    currentMaskFlags(flags) {\r\n      var _flags$_beforeTailSta, _flags$_beforeTailSta2;\r\n      return {\r\n        ...flags,\r\n        _beforeTailState: ((_flags$_beforeTailSta = flags._beforeTailState) == null ? void 0 : _flags$_beforeTailSta.currentMaskRef) === this.currentMask && ((_flags$_beforeTailSta2 = flags._beforeTailState) == null ? void 0 : _flags$_beforeTailSta2.currentMask) || flags._beforeTailState\r\n      };\r\n    }\r\n    doDispatch(appended, flags, tail) {\r\n      if (flags === void 0) {\r\n        flags = {};\r\n      }\r\n      if (tail === void 0) {\r\n        tail = '';\r\n      }\r\n      return this.dispatch(appended, this, flags, tail);\r\n    }\r\n    doValidate(flags) {\r\n      return super.doValidate(flags) && (!this.currentMask || this.currentMask.doValidate(this.currentMaskFlags(flags)));\r\n    }\r\n    doPrepare(str, flags) {\r\n      if (flags === void 0) {\r\n        flags = {};\r\n      }\r\n      let [s, details] = super.doPrepare(str, flags);\r\n      if (this.currentMask) {\r\n        let currentDetails;\r\n        [s, currentDetails] = super.doPrepare(s, this.currentMaskFlags(flags));\r\n        details = details.aggregate(currentDetails);\r\n      }\r\n      return [s, details];\r\n    }\r\n    doPrepareChar(str, flags) {\r\n      if (flags === void 0) {\r\n        flags = {};\r\n      }\r\n      let [s, details] = super.doPrepareChar(str, flags);\r\n      if (this.currentMask) {\r\n        let currentDetails;\r\n        [s, currentDetails] = super.doPrepareChar(s, this.currentMaskFlags(flags));\r\n        details = details.aggregate(currentDetails);\r\n      }\r\n      return [s, details];\r\n    }\r\n    reset() {\r\n      var _this$currentMask;\r\n      (_this$currentMask = this.currentMask) == null || _this$currentMask.reset();\r\n      this.compiledMasks.forEach(m => m.reset());\r\n    }\r\n    get value() {\r\n      return this.exposeMask ? this.exposeMask.value : this.currentMask ? this.currentMask.value : '';\r\n    }\r\n    set value(value) {\r\n      if (this.exposeMask) {\r\n        this.exposeMask.value = value;\r\n        this.currentMask = this.exposeMask;\r\n        this._applyDispatch();\r\n      } else super.value = value;\r\n    }\r\n    get unmaskedValue() {\r\n      return this.exposeMask ? this.exposeMask.unmaskedValue : this.currentMask ? this.currentMask.unmaskedValue : '';\r\n    }\r\n    set unmaskedValue(unmaskedValue) {\r\n      if (this.exposeMask) {\r\n        this.exposeMask.unmaskedValue = unmaskedValue;\r\n        this.currentMask = this.exposeMask;\r\n        this._applyDispatch();\r\n      } else super.unmaskedValue = unmaskedValue;\r\n    }\r\n    get typedValue() {\r\n      return this.exposeMask ? this.exposeMask.typedValue : this.currentMask ? this.currentMask.typedValue : '';\r\n    }\r\n    set typedValue(typedValue) {\r\n      if (this.exposeMask) {\r\n        this.exposeMask.typedValue = typedValue;\r\n        this.currentMask = this.exposeMask;\r\n        this._applyDispatch();\r\n        return;\r\n      }\r\n      let unmaskedValue = String(typedValue);\r\n\r\n      // double check it\r\n      if (this.currentMask) {\r\n        this.currentMask.typedValue = typedValue;\r\n        unmaskedValue = this.currentMask.unmaskedValue;\r\n      }\r\n      this.unmaskedValue = unmaskedValue;\r\n    }\r\n    get displayValue() {\r\n      return this.currentMask ? this.currentMask.displayValue : '';\r\n    }\r\n    get isComplete() {\r\n      var _this$currentMask2;\r\n      return Boolean((_this$currentMask2 = this.currentMask) == null ? void 0 : _this$currentMask2.isComplete);\r\n    }\r\n    get isFilled() {\r\n      var _this$currentMask3;\r\n      return Boolean((_this$currentMask3 = this.currentMask) == null ? void 0 : _this$currentMask3.isFilled);\r\n    }\r\n    remove(fromPos, toPos) {\r\n      const details = new ChangeDetails();\r\n      if (this.currentMask) {\r\n        details.aggregate(this.currentMask.remove(fromPos, toPos))\r\n        // update with dispatch\r\n        .aggregate(this._applyDispatch());\r\n      }\r\n      return details;\r\n    }\r\n    get state() {\r\n      var _this$currentMask4;\r\n      return {\r\n        ...super.state,\r\n        _rawInputValue: this.rawInputValue,\r\n        compiledMasks: this.compiledMasks.map(m => m.state),\r\n        currentMaskRef: this.currentMask,\r\n        currentMask: (_this$currentMask4 = this.currentMask) == null ? void 0 : _this$currentMask4.state\r\n      };\r\n    }\r\n    set state(state) {\r\n      const {\r\n        compiledMasks,\r\n        currentMaskRef,\r\n        currentMask,\r\n        ...maskedState\r\n      } = state;\r\n      if (compiledMasks) this.compiledMasks.forEach((m, mi) => m.state = compiledMasks[mi]);\r\n      if (currentMaskRef != null) {\r\n        this.currentMask = currentMaskRef;\r\n        this.currentMask.state = currentMask;\r\n      }\r\n      super.state = maskedState;\r\n    }\r\n    extractInput(fromPos, toPos, flags) {\r\n      return this.currentMask ? this.currentMask.extractInput(fromPos, toPos, flags) : '';\r\n    }\r\n    extractTail(fromPos, toPos) {\r\n      return this.currentMask ? this.currentMask.extractTail(fromPos, toPos) : super.extractTail(fromPos, toPos);\r\n    }\r\n    doCommit() {\r\n      if (this.currentMask) this.currentMask.doCommit();\r\n      super.doCommit();\r\n    }\r\n    nearestInputPos(cursorPos, direction) {\r\n      return this.currentMask ? this.currentMask.nearestInputPos(cursorPos, direction) : super.nearestInputPos(cursorPos, direction);\r\n    }\r\n    get overwrite() {\r\n      return this.currentMask ? this.currentMask.overwrite : this._overwrite;\r\n    }\r\n    set overwrite(overwrite) {\r\n      this._overwrite = overwrite;\r\n    }\r\n    get eager() {\r\n      return this.currentMask ? this.currentMask.eager : this._eager;\r\n    }\r\n    set eager(eager) {\r\n      this._eager = eager;\r\n    }\r\n    get skipInvalid() {\r\n      return this.currentMask ? this.currentMask.skipInvalid : this._skipInvalid;\r\n    }\r\n    set skipInvalid(skipInvalid) {\r\n      this._skipInvalid = skipInvalid;\r\n    }\r\n    get autofix() {\r\n      return this.currentMask ? this.currentMask.autofix : this._autofix;\r\n    }\r\n    set autofix(autofix) {\r\n      this._autofix = autofix;\r\n    }\r\n    maskEquals(mask) {\r\n      return Array.isArray(mask) ? this.compiledMasks.every((m, mi) => {\r\n        if (!mask[mi]) return;\r\n        const {\r\n          mask: oldMask,\r\n          ...restOpts\r\n        } = mask[mi];\r\n        return objectIncludes(m, restOpts) && m.maskEquals(oldMask);\r\n      }) : super.maskEquals(mask);\r\n    }\r\n    typedValueEquals(value) {\r\n      var _this$currentMask5;\r\n      return Boolean((_this$currentMask5 = this.currentMask) == null ? void 0 : _this$currentMask5.typedValueEquals(value));\r\n    }\r\n  }\r\n  /** Currently chosen mask */\r\n  /** Currently chosen mask */\r\n  /** Compliled {@link Masked} options */\r\n  /** Chooses {@link Masked} depending on input value */\r\n  MaskedDynamic.DEFAULTS = {\r\n    ...Masked.DEFAULTS,\r\n    dispatch: (appended, masked, flags, tail) => {\r\n      if (!masked.compiledMasks.length) return;\r\n      const inputValue = masked.rawInputValue;\r\n\r\n      // simulate input\r\n      const inputs = masked.compiledMasks.map((m, index) => {\r\n        const isCurrent = masked.currentMask === m;\r\n        const startInputPos = isCurrent ? m.displayValue.length : m.nearestInputPos(m.displayValue.length, DIRECTION.FORCE_LEFT);\r\n        if (m.rawInputValue !== inputValue) {\r\n          m.reset();\r\n          m.append(inputValue, {\r\n            raw: true\r\n          });\r\n        } else if (!isCurrent) {\r\n          m.remove(startInputPos);\r\n        }\r\n        m.append(appended, masked.currentMaskFlags(flags));\r\n        m.appendTail(tail);\r\n        return {\r\n          index,\r\n          weight: m.rawInputValue.length,\r\n          totalInputPositions: m.totalInputPositions(0, Math.max(startInputPos, m.nearestInputPos(m.displayValue.length, DIRECTION.FORCE_LEFT)))\r\n        };\r\n      });\r\n\r\n      // pop masks with longer values first\r\n      inputs.sort((i1, i2) => i2.weight - i1.weight || i2.totalInputPositions - i1.totalInputPositions);\r\n      return masked.compiledMasks[inputs[0].index];\r\n    }\r\n  };\r\n  IMask.MaskedDynamic = MaskedDynamic;\r\n\r\n  /** Pattern which validates enum values */\r\n  class MaskedEnum extends MaskedPattern {\r\n    constructor(opts) {\r\n      super({\r\n        ...MaskedEnum.DEFAULTS,\r\n        ...opts\r\n      }); // mask will be created in _update\r\n    }\r\n    updateOptions(opts) {\r\n      super.updateOptions(opts);\r\n    }\r\n    _update(opts) {\r\n      const {\r\n        enum: enum_,\r\n        ...eopts\r\n      } = opts;\r\n      if (enum_) {\r\n        const lengths = enum_.map(e => e.length);\r\n        const requiredLength = Math.min(...lengths);\r\n        const optionalLength = Math.max(...lengths) - requiredLength;\r\n        eopts.mask = '*'.repeat(requiredLength);\r\n        if (optionalLength) eopts.mask += '[' + '*'.repeat(optionalLength) + ']';\r\n        this.enum = enum_;\r\n      }\r\n      super._update(eopts);\r\n    }\r\n    _appendCharRaw(ch, flags) {\r\n      if (flags === void 0) {\r\n        flags = {};\r\n      }\r\n      const matchFrom = Math.min(this.nearestInputPos(0, DIRECTION.FORCE_RIGHT), this.value.length);\r\n      const matches = this.enum.filter(e => this.matchValue(e, this.unmaskedValue + ch, matchFrom));\r\n      if (matches.length) {\r\n        if (matches.length === 1) {\r\n          this._forEachBlocksInRange(0, this.value.length, (b, bi) => {\r\n            const mch = matches[0][bi];\r\n            if (bi >= this.value.length || mch === b.value) return;\r\n            b.reset();\r\n            b._appendChar(mch, flags);\r\n          });\r\n        }\r\n        const d = super._appendCharRaw(matches[0][this.value.length], flags);\r\n        if (matches.length === 1) {\r\n          matches[0].slice(this.unmaskedValue.length).split('').forEach(mch => d.aggregate(super._appendCharRaw(mch)));\r\n        }\r\n        return d;\r\n      }\r\n      return new ChangeDetails({\r\n        skip: !this.isComplete\r\n      });\r\n    }\r\n    extractTail(fromPos, toPos) {\r\n      if (fromPos === void 0) {\r\n        fromPos = 0;\r\n      }\r\n      if (toPos === void 0) {\r\n        toPos = this.displayValue.length;\r\n      }\r\n      // just drop tail\r\n      return new ContinuousTailDetails('', fromPos);\r\n    }\r\n    remove(fromPos, toPos) {\r\n      if (fromPos === void 0) {\r\n        fromPos = 0;\r\n      }\r\n      if (toPos === void 0) {\r\n        toPos = this.displayValue.length;\r\n      }\r\n      if (fromPos === toPos) return new ChangeDetails();\r\n      const matchFrom = Math.min(super.nearestInputPos(0, DIRECTION.FORCE_RIGHT), this.value.length);\r\n      let pos;\r\n      for (pos = fromPos; pos >= 0; --pos) {\r\n        const matches = this.enum.filter(e => this.matchValue(e, this.value.slice(matchFrom, pos), matchFrom));\r\n        if (matches.length > 1) break;\r\n      }\r\n      const details = super.remove(pos, toPos);\r\n      details.tailShift += pos - fromPos;\r\n      return details;\r\n    }\r\n    get isComplete() {\r\n      return this.enum.indexOf(this.value) >= 0;\r\n    }\r\n  }\r\n  /** Match enum value */\r\n  MaskedEnum.DEFAULTS = {\r\n    ...MaskedPattern.DEFAULTS,\r\n    matchValue: (estr, istr, matchFrom) => estr.indexOf(istr, matchFrom) === matchFrom\r\n  };\r\n  IMask.MaskedEnum = MaskedEnum;\r\n\r\n  /** Masking by custom Function */\r\n  class MaskedFunction extends Masked {\r\n    /** */\r\n\r\n    /** Enable characters overwriting */\r\n\r\n    /** */\r\n\r\n    /** */\r\n\r\n    /** */\r\n\r\n    updateOptions(opts) {\r\n      super.updateOptions(opts);\r\n    }\r\n    _update(opts) {\r\n      super._update({\r\n        ...opts,\r\n        validate: opts.mask\r\n      });\r\n    }\r\n  }\r\n  IMask.MaskedFunction = MaskedFunction;\r\n\r\n  var _MaskedNumber;\r\n  /** Number mask */\r\n  class MaskedNumber extends Masked {\r\n    /** Single char */\r\n\r\n    /** Single char */\r\n\r\n    /** Array of single chars */\r\n\r\n    /** */\r\n\r\n    /** */\r\n\r\n    /** Digits after point */\r\n\r\n    /** Flag to remove leading and trailing zeros in the end of editing */\r\n\r\n    /** Flag to pad trailing zeros after point in the end of editing */\r\n\r\n    /** Enable characters overwriting */\r\n\r\n    /** */\r\n\r\n    /** */\r\n\r\n    /** */\r\n\r\n    /** Format typed value to string */\r\n\r\n    /** Parse string to get typed value */\r\n\r\n    constructor(opts) {\r\n      super({\r\n        ...MaskedNumber.DEFAULTS,\r\n        ...opts\r\n      });\r\n    }\r\n    updateOptions(opts) {\r\n      super.updateOptions(opts);\r\n    }\r\n    _update(opts) {\r\n      super._update(opts);\r\n      this._updateRegExps();\r\n    }\r\n    _updateRegExps() {\r\n      const start = '^' + (this.allowNegative ? '[+|\\\\-]?' : '');\r\n      const mid = '\\\\d*';\r\n      const end = (this.scale ? \"(\" + escapeRegExp(this.radix) + \"\\\\d{0,\" + this.scale + \"})?\" : '') + '$';\r\n      this._numberRegExp = new RegExp(start + mid + end);\r\n      this._mapToRadixRegExp = new RegExp(\"[\" + this.mapToRadix.map(escapeRegExp).join('') + \"]\", 'g');\r\n      this._thousandsSeparatorRegExp = new RegExp(escapeRegExp(this.thousandsSeparator), 'g');\r\n    }\r\n    _removeThousandsSeparators(value) {\r\n      return value.replace(this._thousandsSeparatorRegExp, '');\r\n    }\r\n    _insertThousandsSeparators(value) {\r\n      // https://stackoverflow.com/questions/2901102/how-to-print-a-number-with-commas-as-thousands-separators-in-javascript\r\n      const parts = value.split(this.radix);\r\n      parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, this.thousandsSeparator);\r\n      return parts.join(this.radix);\r\n    }\r\n    doPrepareChar(ch, flags) {\r\n      if (flags === void 0) {\r\n        flags = {};\r\n      }\r\n      const [prepCh, details] = super.doPrepareChar(this._removeThousandsSeparators(this.scale && this.mapToRadix.length && (\r\n      /*\r\n        radix should be mapped when\r\n        1) input is done from keyboard = flags.input && flags.raw\r\n        2) unmasked value is set = !flags.input && !flags.raw\r\n        and should not be mapped when\r\n        1) value is set = flags.input && !flags.raw\r\n        2) raw value is set = !flags.input && flags.raw\r\n      */\r\n      flags.input && flags.raw || !flags.input && !flags.raw) ? ch.replace(this._mapToRadixRegExp, this.radix) : ch), flags);\r\n      if (ch && !prepCh) details.skip = true;\r\n      if (prepCh && !this.allowPositive && !this.value && prepCh !== '-') details.aggregate(this._appendChar('-'));\r\n      return [prepCh, details];\r\n    }\r\n    _separatorsCount(to, extendOnSeparators) {\r\n      if (extendOnSeparators === void 0) {\r\n        extendOnSeparators = false;\r\n      }\r\n      let count = 0;\r\n      for (let pos = 0; pos < to; ++pos) {\r\n        if (this._value.indexOf(this.thousandsSeparator, pos) === pos) {\r\n          ++count;\r\n          if (extendOnSeparators) to += this.thousandsSeparator.length;\r\n        }\r\n      }\r\n      return count;\r\n    }\r\n    _separatorsCountFromSlice(slice) {\r\n      if (slice === void 0) {\r\n        slice = this._value;\r\n      }\r\n      return this._separatorsCount(this._removeThousandsSeparators(slice).length, true);\r\n    }\r\n    extractInput(fromPos, toPos, flags) {\r\n      if (fromPos === void 0) {\r\n        fromPos = 0;\r\n      }\r\n      if (toPos === void 0) {\r\n        toPos = this.displayValue.length;\r\n      }\r\n      [fromPos, toPos] = this._adjustRangeWithSeparators(fromPos, toPos);\r\n      return this._removeThousandsSeparators(super.extractInput(fromPos, toPos, flags));\r\n    }\r\n    _appendCharRaw(ch, flags) {\r\n      if (flags === void 0) {\r\n        flags = {};\r\n      }\r\n      const prevBeforeTailValue = flags.tail && flags._beforeTailState ? flags._beforeTailState._value : this._value;\r\n      const prevBeforeTailSeparatorsCount = this._separatorsCountFromSlice(prevBeforeTailValue);\r\n      this._value = this._removeThousandsSeparators(this.value);\r\n      const oldValue = this._value;\r\n      this._value += ch;\r\n      const num = this.number;\r\n      let accepted = !isNaN(num);\r\n      let skip = false;\r\n      if (accepted) {\r\n        let fixedNum;\r\n        if (this.min != null && this.min < 0 && this.number < this.min) fixedNum = this.min;\r\n        if (this.max != null && this.max > 0 && this.number > this.max) fixedNum = this.max;\r\n        if (fixedNum != null) {\r\n          if (this.autofix) {\r\n            this._value = this.format(fixedNum, this).replace(MaskedNumber.UNMASKED_RADIX, this.radix);\r\n            skip || (skip = oldValue === this._value && !flags.tail); // if not changed on tail it's still ok to proceed\r\n          } else {\r\n            accepted = false;\r\n          }\r\n        }\r\n        accepted && (accepted = Boolean(this._value.match(this._numberRegExp)));\r\n      }\r\n      let appendDetails;\r\n      if (!accepted) {\r\n        this._value = oldValue;\r\n        appendDetails = new ChangeDetails();\r\n      } else {\r\n        appendDetails = new ChangeDetails({\r\n          inserted: this._value.slice(oldValue.length),\r\n          rawInserted: skip ? '' : ch,\r\n          skip\r\n        });\r\n      }\r\n      this._value = this._insertThousandsSeparators(this._value);\r\n      const beforeTailValue = flags.tail && flags._beforeTailState ? flags._beforeTailState._value : this._value;\r\n      const beforeTailSeparatorsCount = this._separatorsCountFromSlice(beforeTailValue);\r\n      appendDetails.tailShift += (beforeTailSeparatorsCount - prevBeforeTailSeparatorsCount) * this.thousandsSeparator.length;\r\n      return appendDetails;\r\n    }\r\n    _findSeparatorAround(pos) {\r\n      if (this.thousandsSeparator) {\r\n        const searchFrom = pos - this.thousandsSeparator.length + 1;\r\n        const separatorPos = this.value.indexOf(this.thousandsSeparator, searchFrom);\r\n        if (separatorPos <= pos) return separatorPos;\r\n      }\r\n      return -1;\r\n    }\r\n    _adjustRangeWithSeparators(from, to) {\r\n      const separatorAroundFromPos = this._findSeparatorAround(from);\r\n      if (separatorAroundFromPos >= 0) from = separatorAroundFromPos;\r\n      const separatorAroundToPos = this._findSeparatorAround(to);\r\n      if (separatorAroundToPos >= 0) to = separatorAroundToPos + this.thousandsSeparator.length;\r\n      return [from, to];\r\n    }\r\n    remove(fromPos, toPos) {\r\n      if (fromPos === void 0) {\r\n        fromPos = 0;\r\n      }\r\n      if (toPos === void 0) {\r\n        toPos = this.displayValue.length;\r\n      }\r\n      [fromPos, toPos] = this._adjustRangeWithSeparators(fromPos, toPos);\r\n      const valueBeforePos = this.value.slice(0, fromPos);\r\n      const valueAfterPos = this.value.slice(toPos);\r\n      const prevBeforeTailSeparatorsCount = this._separatorsCount(valueBeforePos.length);\r\n      this._value = this._insertThousandsSeparators(this._removeThousandsSeparators(valueBeforePos + valueAfterPos));\r\n      const beforeTailSeparatorsCount = this._separatorsCountFromSlice(valueBeforePos);\r\n      return new ChangeDetails({\r\n        tailShift: (beforeTailSeparatorsCount - prevBeforeTailSeparatorsCount) * this.thousandsSeparator.length\r\n      });\r\n    }\r\n    nearestInputPos(cursorPos, direction) {\r\n      if (!this.thousandsSeparator) return cursorPos;\r\n      switch (direction) {\r\n        case DIRECTION.NONE:\r\n        case DIRECTION.LEFT:\r\n        case DIRECTION.FORCE_LEFT:\r\n          {\r\n            const separatorAtLeftPos = this._findSeparatorAround(cursorPos - 1);\r\n            if (separatorAtLeftPos >= 0) {\r\n              const separatorAtLeftEndPos = separatorAtLeftPos + this.thousandsSeparator.length;\r\n              if (cursorPos < separatorAtLeftEndPos || this.value.length <= separatorAtLeftEndPos || direction === DIRECTION.FORCE_LEFT) {\r\n                return separatorAtLeftPos;\r\n              }\r\n            }\r\n            break;\r\n          }\r\n        case DIRECTION.RIGHT:\r\n        case DIRECTION.FORCE_RIGHT:\r\n          {\r\n            const separatorAtRightPos = this._findSeparatorAround(cursorPos);\r\n            if (separatorAtRightPos >= 0) {\r\n              return separatorAtRightPos + this.thousandsSeparator.length;\r\n            }\r\n          }\r\n      }\r\n      return cursorPos;\r\n    }\r\n    doCommit() {\r\n      if (this.value) {\r\n        const number = this.number;\r\n        let validnum = number;\r\n\r\n        // check bounds\r\n        if (this.min != null) validnum = Math.max(validnum, this.min);\r\n        if (this.max != null) validnum = Math.min(validnum, this.max);\r\n        if (validnum !== number) this.unmaskedValue = this.format(validnum, this);\r\n        let formatted = this.value;\r\n        if (this.normalizeZeros) formatted = this._normalizeZeros(formatted);\r\n        if (this.padFractionalZeros && this.scale > 0) formatted = this._padFractionalZeros(formatted);\r\n        this._value = formatted;\r\n      }\r\n      super.doCommit();\r\n    }\r\n    _normalizeZeros(value) {\r\n      const parts = this._removeThousandsSeparators(value).split(this.radix);\r\n\r\n      // remove leading zeros\r\n      parts[0] = parts[0].replace(/^(\\D*)(0*)(\\d*)/, (match, sign, zeros, num) => sign + num);\r\n      // add leading zero\r\n      if (value.length && !/\\d$/.test(parts[0])) parts[0] = parts[0] + '0';\r\n      if (parts.length > 1) {\r\n        parts[1] = parts[1].replace(/0*$/, ''); // remove trailing zeros\r\n        if (!parts[1].length) parts.length = 1; // remove fractional\r\n      }\r\n      return this._insertThousandsSeparators(parts.join(this.radix));\r\n    }\r\n    _padFractionalZeros(value) {\r\n      if (!value) return value;\r\n      const parts = value.split(this.radix);\r\n      if (parts.length < 2) parts.push('');\r\n      parts[1] = parts[1].padEnd(this.scale, '0');\r\n      return parts.join(this.radix);\r\n    }\r\n    doSkipInvalid(ch, flags, checkTail) {\r\n      if (flags === void 0) {\r\n        flags = {};\r\n      }\r\n      const dropFractional = this.scale === 0 && ch !== this.thousandsSeparator && (ch === this.radix || ch === MaskedNumber.UNMASKED_RADIX || this.mapToRadix.includes(ch));\r\n      return super.doSkipInvalid(ch, flags, checkTail) && !dropFractional;\r\n    }\r\n    get unmaskedValue() {\r\n      return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix, MaskedNumber.UNMASKED_RADIX);\r\n    }\r\n    set unmaskedValue(unmaskedValue) {\r\n      super.unmaskedValue = unmaskedValue;\r\n    }\r\n    get typedValue() {\r\n      return this.parse(this.unmaskedValue, this);\r\n    }\r\n    set typedValue(n) {\r\n      this.rawInputValue = this.format(n, this).replace(MaskedNumber.UNMASKED_RADIX, this.radix);\r\n    }\r\n\r\n    /** Parsed Number */\r\n    get number() {\r\n      return this.typedValue;\r\n    }\r\n    set number(number) {\r\n      this.typedValue = number;\r\n    }\r\n    get allowNegative() {\r\n      return this.min != null && this.min < 0 || this.max != null && this.max < 0;\r\n    }\r\n    get allowPositive() {\r\n      return this.min != null && this.min > 0 || this.max != null && this.max > 0;\r\n    }\r\n    typedValueEquals(value) {\r\n      // handle  0 -> '' case (typed = 0 even if value = '')\r\n      // for details see https://github.com/uNmAnNeR/imaskjs/issues/134\r\n      return (super.typedValueEquals(value) || MaskedNumber.EMPTY_VALUES.includes(value) && MaskedNumber.EMPTY_VALUES.includes(this.typedValue)) && !(value === 0 && this.value === '');\r\n    }\r\n  }\r\n  _MaskedNumber = MaskedNumber;\r\n  MaskedNumber.UNMASKED_RADIX = '.';\r\n  MaskedNumber.EMPTY_VALUES = [...Masked.EMPTY_VALUES, 0];\r\n  MaskedNumber.DEFAULTS = {\r\n    ...Masked.DEFAULTS,\r\n    mask: Number,\r\n    radix: ',',\r\n    thousandsSeparator: '',\r\n    mapToRadix: [_MaskedNumber.UNMASKED_RADIX],\r\n    min: Number.MIN_SAFE_INTEGER,\r\n    max: Number.MAX_SAFE_INTEGER,\r\n    scale: 2,\r\n    normalizeZeros: true,\r\n    padFractionalZeros: false,\r\n    parse: Number,\r\n    format: n => n.toLocaleString('en-US', {\r\n      useGrouping: false,\r\n      maximumFractionDigits: 20\r\n    })\r\n  };\r\n  IMask.MaskedNumber = MaskedNumber;\r\n\r\n  /** Mask pipe source and destination types */\r\n  const PIPE_TYPE = {\r\n    MASKED: 'value',\r\n    UNMASKED: 'unmaskedValue',\r\n    TYPED: 'typedValue'\r\n  };\r\n  /** Creates new pipe function depending on mask type, source and destination options */\r\n  function createPipe(arg, from, to) {\r\n    if (from === void 0) {\r\n      from = PIPE_TYPE.MASKED;\r\n    }\r\n    if (to === void 0) {\r\n      to = PIPE_TYPE.MASKED;\r\n    }\r\n    const masked = createMask(arg);\r\n    return value => masked.runIsolated(m => {\r\n      m[from] = value;\r\n      return m[to];\r\n    });\r\n  }\r\n\r\n  /** Pipes value through mask depending on mask type, source and destination options */\r\n  function pipe(value, mask, from, to) {\r\n    return createPipe(mask, from, to)(value);\r\n  }\r\n  IMask.PIPE_TYPE = PIPE_TYPE;\r\n  IMask.createPipe = createPipe;\r\n  IMask.pipe = pipe;\r\n\r\n  /** Pattern mask */\r\n  class RepeatBlock extends MaskedPattern {\r\n    get repeatFrom() {\r\n      var _ref;\r\n      return (_ref = Array.isArray(this.repeat) ? this.repeat[0] : this.repeat === Infinity ? 0 : this.repeat) != null ? _ref : 0;\r\n    }\r\n    get repeatTo() {\r\n      var _ref2;\r\n      return (_ref2 = Array.isArray(this.repeat) ? this.repeat[1] : this.repeat) != null ? _ref2 : Infinity;\r\n    }\r\n    constructor(opts) {\r\n      super(opts);\r\n    }\r\n    updateOptions(opts) {\r\n      super.updateOptions(opts);\r\n    }\r\n    _update(opts) {\r\n      var _ref3, _ref4, _this$_blocks;\r\n      const {\r\n        repeat,\r\n        ...blockOpts\r\n      } = normalizeOpts(opts); // TODO type\r\n      this._blockOpts = Object.assign({}, this._blockOpts, blockOpts);\r\n      const block = createMask(this._blockOpts);\r\n      this.repeat = (_ref3 = (_ref4 = repeat != null ? repeat : block.repeat) != null ? _ref4 : this.repeat) != null ? _ref3 : Infinity; // TODO type\r\n\r\n      super._update({\r\n        mask: 'm'.repeat(Math.max(this.repeatTo === Infinity && ((_this$_blocks = this._blocks) == null ? void 0 : _this$_blocks.length) || 0, this.repeatFrom)),\r\n        blocks: {\r\n          m: block\r\n        },\r\n        eager: block.eager,\r\n        overwrite: block.overwrite,\r\n        skipInvalid: block.skipInvalid,\r\n        lazy: block.lazy,\r\n        placeholderChar: block.placeholderChar,\r\n        displayChar: block.displayChar\r\n      });\r\n    }\r\n    _allocateBlock(bi) {\r\n      if (bi < this._blocks.length) return this._blocks[bi];\r\n      if (this.repeatTo === Infinity || this._blocks.length < this.repeatTo) {\r\n        this._blocks.push(createMask(this._blockOpts));\r\n        this.mask += 'm';\r\n        return this._blocks[this._blocks.length - 1];\r\n      }\r\n    }\r\n    _appendCharRaw(ch, flags) {\r\n      if (flags === void 0) {\r\n        flags = {};\r\n      }\r\n      const details = new ChangeDetails();\r\n      for (let bi = (_this$_mapPosToBlock$ = (_this$_mapPosToBlock = this._mapPosToBlock(this.displayValue.length)) == null ? void 0 : _this$_mapPosToBlock.index) != null ? _this$_mapPosToBlock$ : Math.max(this._blocks.length - 1, 0), block, allocated;\r\n      // try to get a block or\r\n      // try to allocate a new block if not allocated already\r\n      block = (_this$_blocks$bi = this._blocks[bi]) != null ? _this$_blocks$bi : allocated = !allocated && this._allocateBlock(bi); ++bi) {\r\n        var _this$_mapPosToBlock$, _this$_mapPosToBlock, _this$_blocks$bi, _flags$_beforeTailSta;\r\n        const blockDetails = block._appendChar(ch, {\r\n          ...flags,\r\n          _beforeTailState: (_flags$_beforeTailSta = flags._beforeTailState) == null || (_flags$_beforeTailSta = _flags$_beforeTailSta._blocks) == null ? void 0 : _flags$_beforeTailSta[bi]\r\n        });\r\n        if (blockDetails.skip && allocated) {\r\n          // remove the last allocated block and break\r\n          this._blocks.pop();\r\n          this.mask = this.mask.slice(1);\r\n          break;\r\n        }\r\n        details.aggregate(blockDetails);\r\n        if (blockDetails.consumed) break; // go next char\r\n      }\r\n      return details;\r\n    }\r\n    _trimEmptyTail(fromPos, toPos) {\r\n      var _this$_mapPosToBlock2, _this$_mapPosToBlock3;\r\n      if (fromPos === void 0) {\r\n        fromPos = 0;\r\n      }\r\n      const firstBlockIndex = Math.max(((_this$_mapPosToBlock2 = this._mapPosToBlock(fromPos)) == null ? void 0 : _this$_mapPosToBlock2.index) || 0, this.repeatFrom, 0);\r\n      let lastBlockIndex;\r\n      if (toPos != null) lastBlockIndex = (_this$_mapPosToBlock3 = this._mapPosToBlock(toPos)) == null ? void 0 : _this$_mapPosToBlock3.index;\r\n      if (lastBlockIndex == null) lastBlockIndex = this._blocks.length - 1;\r\n      let removeCount = 0;\r\n      for (let blockIndex = lastBlockIndex; firstBlockIndex <= blockIndex; --blockIndex, ++removeCount) {\r\n        if (this._blocks[blockIndex].unmaskedValue) break;\r\n      }\r\n      if (removeCount) {\r\n        this._blocks.splice(lastBlockIndex - removeCount + 1, removeCount);\r\n        this.mask = this.mask.slice(removeCount);\r\n      }\r\n    }\r\n    reset() {\r\n      super.reset();\r\n      this._trimEmptyTail();\r\n    }\r\n    remove(fromPos, toPos) {\r\n      if (fromPos === void 0) {\r\n        fromPos = 0;\r\n      }\r\n      if (toPos === void 0) {\r\n        toPos = this.displayValue.length;\r\n      }\r\n      const removeDetails = super.remove(fromPos, toPos);\r\n      this._trimEmptyTail(fromPos, toPos);\r\n      return removeDetails;\r\n    }\r\n    totalInputPositions(fromPos, toPos) {\r\n      if (fromPos === void 0) {\r\n        fromPos = 0;\r\n      }\r\n      if (toPos == null && this.repeatTo === Infinity) return Infinity;\r\n      return super.totalInputPositions(fromPos, toPos);\r\n    }\r\n    get state() {\r\n      return super.state;\r\n    }\r\n    set state(state) {\r\n      this._blocks.length = state._blocks.length;\r\n      this.mask = this.mask.slice(0, this._blocks.length);\r\n      super.state = state;\r\n    }\r\n  }\r\n  IMask.RepeatBlock = RepeatBlock;\r\n\r\n  try {\r\n    globalThis.IMask = IMask;\r\n  } catch {}\r\n\r\n  exports.ChangeDetails = ChangeDetails;\r\n  exports.ChunksTailDetails = ChunksTailDetails;\r\n  exports.DIRECTION = DIRECTION;\r\n  exports.HTMLContenteditableMaskElement = HTMLContenteditableMaskElement;\r\n  exports.HTMLInputMaskElement = HTMLInputMaskElement;\r\n  exports.HTMLMaskElement = HTMLMaskElement;\r\n  exports.InputMask = InputMask;\r\n  exports.MaskElement = MaskElement;\r\n  exports.Masked = Masked;\r\n  exports.MaskedDate = MaskedDate;\r\n  exports.MaskedDynamic = MaskedDynamic;\r\n  exports.MaskedEnum = MaskedEnum;\r\n  exports.MaskedFunction = MaskedFunction;\r\n  exports.MaskedNumber = MaskedNumber;\r\n  exports.MaskedPattern = MaskedPattern;\r\n  exports.MaskedRange = MaskedRange;\r\n  exports.MaskedRegExp = MaskedRegExp;\r\n  exports.PIPE_TYPE = PIPE_TYPE;\r\n  exports.PatternFixedDefinition = PatternFixedDefinition;\r\n  exports.PatternInputDefinition = PatternInputDefinition;\r\n  exports.RepeatBlock = RepeatBlock;\r\n  exports.createMask = createMask;\r\n  exports.createPipe = createPipe;\r\n  exports.default = IMask;\r\n  exports.forceDirection = forceDirection;\r\n  exports.normalizeOpts = normalizeOpts;\r\n  exports.pipe = pipe;\r\n\r\n  Object.defineProperty(exports, '__esModule', { value: true });\r\n\r\n}));\r\n// Customer section --- START\r\nlet omniCodeMask\r\nlet omniTimerIntervalId\r\n\r\nlet responseCodeRequest = {}\r\n\r\nfunction addQueryParamToUrl(paramName, paramValue) {\r\n    const url = new URL(window.location.href);\r\n    const queryParams = url.searchParams;\r\n\r\n    queryParams.set(paramName, paramValue);\r\n    url.search = queryParams.toString();\r\n    window.history.replaceState({}, '', url);\r\n}\r\n\r\nfunction validateOmniEmail(email) {\r\n    if (email === '') return true\r\n\r\n    const re = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\r\n    return re.test(email)\r\n}\r\n\r\nfunction validateOmniPhone(phone) {\r\n    const regex = /^\\+7\\d{10}$/\r\n    return regex.test(phone)\r\n}\r\n\r\nfunction validateOmniCode(code) {\r\n    const regex = /^\\d{4}$/;\r\n    return regex.test(code);\r\n}\r\n\r\nfunction setOmniControllerError(name, text) {\r\n    const form = document.getElementById('omniFormData')\r\n    const lang = {\r\n        \"validation.required\": \"Обязательно для заполнения\",\r\n        \"validation.email\": \"Некорректный Email\",\r\n        \"validation.min.string\": \"Ошибка минимальной длины\",\r\n        \"validation.max.string\": \"Ошибка максимальной длины\",\r\n        \"validation.regex\": \"Ошибка значения, ожидается другое\"\r\n    }\r\n    const authErr = form.querySelector('.omnicode__auth-error')\r\n\r\n    if (lang[text]) {\r\n        text = lang[text]\r\n    }\r\n\r\n    if (name === 'auth') {\r\n        authErr.classList.add('has-error')\r\n        authErr.innerText = text\r\n    } else if (name === 'recaptcha') {\r\n        authErr.classList.add('has-error')\r\n        authErr.innerText = 'Рекапча не пройдена, перезагрузите страницу и попробуйте ещё раз'\r\n    } else {\r\n        const el = form.querySelector(`[name=\"${name}\"]`)\r\n        const label = el.closest('label')\r\n        const errText = label.querySelector('i')\r\n\r\n        label.classList.add('has-error')\r\n\r\n        if (name !== 'consent' && name!== 'subscribe') {\r\n            errText.innerText = text\r\n        }\r\n    }\r\n}\r\n\r\nfunction setOmniCodeMask() {\r\n    const codeInput = document.getElementById('omniCode')\r\n    const isManagerChild = codeInput.closest('.omnicode__manager')\r\n\r\n    const maskOptions = {\r\n        mask: '0000',\r\n        lazy: false,\r\n        placeholderChar: '_',\r\n    }\r\n\r\n    omniCodeMask = IMask(codeInput, maskOptions);\r\n\r\n    if (!isManagerChild) {\r\n        omniCodeMask.value = '0000'\r\n        omniCodeMask.value = ''\r\n    }\r\n}\r\n\r\nfunction destroyOmniCodeMask(input) {\r\n    omniCodeMask.destroy()\r\n    input.value = ''\r\n}\r\n\r\nfunction setCheckingOmniInputsHelps() {\r\n    const inputs = Array.from(document\r\n        .querySelectorAll('.omnicode__formdata input, .omnicode__manager input'))\r\n\r\n    inputs.forEach(function(input) {\r\n        input.addEventListener('blur', function() {\r\n            if (this.type === 'tel' && this.closest('.omnicode__customer-code')\r\n                    && omniCodeMask.unmaskedValue === '') {\r\n                destroyOmniCodeMask(this)\r\n                setTimeout(setOmniCodeMask, 100)\r\n            }\r\n\r\n            if (this.value !== '') {\r\n                this.closest('label').classList.add('filled')\r\n            } else {\r\n                this.closest('label').classList.remove('filled')\r\n            }\r\n        })\r\n    })\r\n}\r\n\r\nfunction initToggleOmniForms() {\r\n    const form = document.getElementById('omniFormData')\r\n    const code = document.getElementById('omniFormCode')\r\n    const toggler = code.querySelector('.omnicode__subtitle button')\r\n\r\n    toggler.addEventListener('click', function() {\r\n        code.classList.remove('visible')\r\n        form.classList.add('visible')\r\n        clearInterval(omniTimerIntervalId)\r\n    })\r\n}\r\n\r\nfunction initOmniCodeReset() {\r\n    const reset = document.querySelector('.omnicode__reset')\r\n    const form = document.getElementById('omniFormData')\r\n    const btn = form.querySelector('.omnicode__submit')\r\n\r\n    reset.addEventListener('click', function(e) {\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n        btn.click()\r\n        startOmniTimer()\r\n    })\r\n}\r\n\r\nfunction startOmniTimer() {\r\n    const timer = document.querySelector('.omnicode__timer')\r\n    const attention = timer.parentNode\r\n    const reset = document.querySelector('.omnicode__reset')\r\n    let val = 60\r\n\r\n    attention.classList.remove('invisible')\r\n    reset.classList.remove('visible')\r\n\r\n    timer.innerText = `00:${val}`\r\n\r\n    omniTimerIntervalId = setInterval(function() {\r\n        timer.innerText = `00:${--val < 10 ? `0${val}` : val}`\r\n\r\n        if (val === 0) {\r\n            clearInterval(omniTimerIntervalId)\r\n            timer.innerText = '00:00'\r\n            attention.classList.add('invisible')\r\n            reset.classList.add('visible')\r\n        }\r\n    }, 1000)\r\n}\r\n\r\nfunction showOmnicodeFormCode() {\r\n    const code = document.getElementById('omniFormCode')\r\n    const phone = code.querySelector('.omnicode__subtitle strong')\r\n\r\n    const phoneNode = document.querySelector('.omnicode__phone-mask .auth_mask_init')\r\n\r\n    if (!phoneNode) return\r\n\r\n    let phoneValue = phoneNode.value\r\n    phoneValue = '+7' + phoneValue.replace(/[^\\d+]/g, '')\r\n\r\n    phone.innerText = phoneValue\r\n    startOmniTimer()\r\n\r\n    code.classList.add('visible')\r\n}\r\n\r\nfunction initOmnicodeFormData() {\r\n    const form = document.getElementById('omniFormData')\r\n    const btnSubmit = form.querySelector('.omnicode__submit')\r\n\r\n    const contorls = {\r\n        name: {\r\n            error: true,\r\n            el: form.querySelector('[name=\"name\"]')\r\n        },\r\n\r\n        email: {\r\n            error: true,\r\n            el: form.querySelector('[name=\"email\"]')\r\n        },\r\n\r\n        phone: {\r\n            error: true,\r\n            el: form.querySelector('[name=\"phone\"]')\r\n        },\r\n\r\n        consent: {\r\n            error: true,\r\n            el: form.querySelector('[name=\"consent\"]')\r\n        }\r\n    }\r\n\r\n    async function validForm() {\r\n        let phoneValue = document.querySelector('.omnicode .auth_mask_init').value\r\n        phoneValue = '+7' + phoneValue.replace(/[^\\d+]/g, '')\r\n\r\n        form.querySelector('.omnicode__auth-error').classList.remove('has-error')\r\n\r\n        contorls.name.error = contorls.name.el.value !== ''\r\n        contorls.email.error = validateOmniEmail(contorls.email.el.value)\r\n        contorls.phone.error = validateOmniPhone(phoneValue)\r\n        contorls.consent.error = contorls.consent.el.checked\r\n\r\n        for (const node in contorls) {\r\n            if (contorls[node].error) {\r\n                contorls[node].el.closest('label').classList.remove('has-error')\r\n            } else {\r\n                contorls[node].el.closest('label').classList.add('has-error')\r\n            }\r\n        }\r\n\r\n        if (contorls.name.error\r\n            && contorls.email.error\r\n            && contorls.phone.error\r\n            && contorls.consent.error) {\r\n\r\n            btnSubmit.classList.add('disabled')\r\n\r\n            const formData = new FormData(form)\r\n            formData.set('phone', phoneValue)\r\n\r\n            try {\r\n                // const res = await fetch('https://la.massive.ru/LayoutFandecoRu/master/build/mocks/omniform.json', {\r\n                const res = await fetch('/api/auth/reg/form', {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'X-Requested-With': 'XMLHttpRequest'\r\n                    },\r\n                    body: formData\r\n                })\r\n\r\n                if (res.ok || res.status == 422) {\r\n                    const data = await res.json()\r\n\r\n                    if (data.errors) {\r\n                        for (const error in data.errors) {\r\n                            setOmniControllerError(error, data.errors[error])\r\n                        }\r\n                    } else {\r\n                        responseCodeRequest = data\r\n                        form.classList.remove('visible')\r\n                        showOmnicodeFormCode()\r\n                    }\r\n                } else {\r\n                    console.error('Произошла ошибка при отправке данных пользователя на странице получения кода регистрации!')\r\n                }\r\n            } catch (error) {\r\n                console.error(error)\r\n            } finally {\r\n                if (typeof updateGrecaptchaToken === 'function') {\r\n                    updateGrecaptchaToken()\r\n                }\r\n\r\n                btnSubmit.classList.remove('disabled')\r\n            }\r\n        }\r\n    }\r\n\r\n    form.addEventListener('submit', function(e) {\r\n        e.preventDefault()\r\n        setTimeout(validForm, 100)\r\n    })\r\n}\r\n\r\nfunction initOmniCodeListener() {\r\n    const formCode = document.getElementById('omniFormCode')\r\n    const code = document.getElementById('omniCode')\r\n    const formNumbers = document.getElementById('omniFormNumbers')\r\n    const numbers = document.querySelector('.omnicode__numbers')\r\n    const codeLabel = formCode.querySelector('.omnicode__controller-text_code')\r\n\r\n    formCode.addEventListener('submit', (e) => e.preventDefault())\r\n\r\n    code.addEventListener('input', async function () {\r\n        codeLabel.classList.remove('has-error')\r\n\r\n        if (validateOmniCode(this.value)) {\r\n\r\n            if (Object.keys(responseCodeRequest).length === 0) {\r\n                console.error('Отсутствуют данные ответа запроса кода!')\r\n            }\r\n\r\n            const formData = new FormData()\r\n            formData.append('phone', responseCodeRequest.phone)\r\n            formData.append('code', code.value)\r\n\r\n            try {\r\n                // const res = await fetch('https://la.massive.ru/LayoutFandecoRu/master/build/mocks/omnicode.json', {\r\n                const res = await fetch('/api/auth/reg/code', {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'X-Requested-With': 'XMLHttpRequest'\r\n                    },\r\n                    body: formData\r\n                })\r\n\r\n                if (res.ok || res.status == 422) {\r\n                    const data = await res.json()\r\n\r\n                    if (data.errors && data.errors.code) {\r\n                        codeLabel.classList.add('has-error')\r\n                    } else {\r\n                        formCode.classList.remove('visible')\r\n                        formNumbers.classList.add('visible')\r\n                        numbers.innerText = omniCodeMask.value\r\n\r\n                        addQueryParamToUrl('code', code.value)\r\n                    }\r\n                } else {\r\n                    console.error('Произошла ошибка проверки кода!')\r\n                }\r\n            } catch (error) {\r\n                console.error(error)\r\n            }\r\n        }\r\n    })\r\n}\r\n// Customer section --- FINISH\r\n\r\n// Manager section --- START\r\nfunction initOmniManagerSelects() {\r\n    const toggleBtns = Array.from(document\r\n        .querySelectorAll('.omnicode__select-value'))\r\n\r\n    toggleBtns.forEach(btn => {\r\n        btn.addEventListener('click', function() {\r\n            const select = this.closest('.omnicode__select')\r\n\r\n            select.classList.toggle('dropped')\r\n        })\r\n    })\r\n\r\n    document.addEventListener('click', (evt) => {\r\n        const _this = evt.target\r\n        const isOnSelect = _this.closest('.omnicode__select')\r\n\r\n        if (!isOnSelect) {\r\n            Array.from(document.querySelectorAll('.omnicode__select'))\r\n                .forEach(el => el.classList.remove('dropped'))\r\n        }\r\n    })\r\n}\r\n\r\nfunction initOmniManagerOptions() {\r\n    const options = Array.from(document\r\n        .querySelectorAll('.omnicode__select-options input'))\r\n\r\n    options.forEach(input => {\r\n\r\n        input.closest('label').addEventListener('click', function() {\r\n            const select = this.closest('.omnicode__select')\r\n            select.classList.remove('dropped')\r\n        })\r\n\r\n        input.addEventListener('change', function() {\r\n            const select = this.closest('.omnicode__select')\r\n            const value = this.closest('label').querySelector('.value').innerText\r\n            const phoneNode = document.querySelector('.omnicode__customer-phone')\r\n            const codeNode = document.querySelector('.omnicode__customer-code')\r\n            const linkNode = document.querySelector('.omnicode__customer-qr-link')\r\n\r\n            select.querySelector('.omnicode__select-value span').innerText = value\r\n            select.classList.remove('dropped')\r\n\r\n            switch (this.dataset.status) {\r\n                case 'not-registered': {\r\n                    phoneNode.classList.remove('visible')\r\n                    codeNode.classList.remove('visible')\r\n                    linkNode.classList.remove('visible')\r\n                }\r\n                    break;\r\n                case 'registered': {\r\n                    phoneNode.classList.add('visible')\r\n                    codeNode.classList.remove('visible')\r\n                    linkNode.classList.remove('visible')\r\n                }\r\n                    break;\r\n                case 'qrcode': {\r\n                    codeNode.classList.add('visible')\r\n                    linkNode.classList.add('visible')\r\n                    phoneNode.classList.remove('visible')\r\n                }\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n\r\n            // Reset Shop Errors\r\n            const errorShop = document.querySelector('.omnicode__shop-error')\r\n            errorShop.classList.remove('has-error')\r\n            while (errorShop.firstChild) {\r\n                errorShop.removeChild(errorShop.firstChild)\r\n            }\r\n\r\n            // Reset Data Errors\r\n            const labels = Array.from(document\r\n                .querySelectorAll('.omnicode__manager label'))\r\n\r\n            labels.forEach(label => label.classList.remove('has-error'))\r\n        })\r\n    })\r\n}\r\n\r\nfunction initOmnicodeManagerForm() {\r\n    const form = document.getElementById('omniManagerForm')\r\n\r\n    form.addEventListener('submit', function(e) {\r\n        e.preventDefault()\r\n\r\n        const _this = this\r\n\r\n        const status = this\r\n            .querySelector('[name=\"select_order\"]:checked')\r\n            .dataset\r\n            .status\r\n\r\n        switch (status) {\r\n            case 'not-registered': setTimeout(() => validNotRegisteredCustomer(_this), 100)\r\n                break;\r\n            case 'registered': setTimeout(() => validRegisteredCustomer(_this), 100)\r\n                break;\r\n            case 'qrcode': setTimeout(() => validQRCustomer(_this), 100)\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    })\r\n}\r\n\r\nasync function validNotRegisteredCustomer(form) {\r\n    const submitBtn = document.querySelector('.omnicode__manager-submit')\r\n    const errorNode = document.querySelector('.omnicode__shop-error')\r\n    const phone = document.querySelector('[data-shop-phone]').dataset.shopPhone\r\n    const formData = new FormData(form)\r\n\r\n    // Чистим кнопку\r\n    submitBtn.classList.remove('disabled')\r\n\r\n    // Чистим ошибку\r\n    errorNode.classList.remove('has-error')\r\n    while (errorNode.firstChild) {\r\n        errorNode.removeChild(errorNode.firstChild)\r\n    }\r\n\r\n    formData.delete('code');\r\n    formData.delete('phone');\r\n    formData.append('phone', phone)\r\n\r\n    try {\r\n        submitBtn.classList.add('disabled')\r\n\r\n        const res = await fetch('/auth/reg/order/', {\r\n            method: 'POST',\r\n            headers: {\r\n                'X-Requested-With': 'XMLHttpRequest'\r\n            },\r\n            body: formData\r\n        })\r\n\r\n        if (res.ok || res.status == 422) {\r\n            const data = await res.json()\r\n\r\n            if (data.errors) {\r\n                errorNode.classList.add('has-error')\r\n\r\n                for (const error in data.errors) {\r\n                    const span = document.createElement('span')\r\n                    span.innerText = data.errors[error]\r\n                    errorNode.appendChild(span)\r\n                }\r\n            } else {\r\n                window.location.href = data.url\r\n            }\r\n        } else {\r\n            console.error('Произошла ошибка при отправке телефона Магазина!')\r\n        }\r\n    } catch (error) {\r\n        console.error(error)\r\n    } finally {\r\n        submitBtn.classList.remove('disabled')\r\n    }\r\n}\r\n\r\nasync function validRegisteredCustomer(form) {\r\n    const submitBtn = document.querySelector('.omnicode__manager-submit')\r\n    const errorMessage = document.querySelector('.omnicode__shop-error')\r\n    const phoneInput = form.querySelector('[name=\"phone\"]')\r\n    const labelNode = phoneInput.closest('label')\r\n    const errorNode = labelNode.querySelector('i')\r\n\r\n    let phoneValue = document.querySelector('.omnicode__manager .auth_mask_init').value\r\n    phoneValue = '+7' + phoneValue.replace(/[^\\d+]/g, '')\r\n    const isPhoneValid = validateOmniPhone(phoneValue)\r\n\r\n    // Чистим кнопку\r\n    submitBtn.classList.remove('disabled')\r\n\r\n    // Чистим ошибку\r\n    errorMessage.classList.remove('has-error')\r\n    while (errorMessage.firstChild) {\r\n        errorMessage.removeChild(errorMessage.firstChild)\r\n    }\r\n\r\n    labelNode.classList.remove('has-error')\r\n\r\n    if (!isPhoneValid) {\r\n        labelNode.classList.add('has-error')\r\n        errorNode.innerText = 'Некорректный номер телефона'\r\n        return\r\n    }\r\n\r\n    const formData = new FormData(form)\r\n    formData.delete('code')\r\n    formData.set('phone', phoneValue)\r\n\r\n    try {\r\n        submitBtn.classList.add('disabled')\r\n\r\n        const res = await fetch('/auth/reg/order/', {\r\n            method: 'POST',\r\n            headers: {\r\n                'X-Requested-With': 'XMLHttpRequest'\r\n            },\r\n            body: formData\r\n        })\r\n\r\n        if (res.ok || res.status == 422) {\r\n            const data = await res.json()\r\n\r\n            if (data.errors) {\r\n                errorMessage.classList.add('has-error')\r\n\r\n                for (const error in data.errors) {\r\n                    const span = document.createElement('span')\r\n                    span.innerText = data.errors[error]\r\n                    errorMessage.appendChild(span)\r\n                }\r\n            } else {\r\n                window.location.href = data.url\r\n            }\r\n        } else {\r\n            console.error('Произошла ошибка при отправке телефона Покупателя!')\r\n        }\r\n    } catch (error) {\r\n        console.error(error)\r\n    } finally {\r\n        submitBtn.classList.remove('disabled')\r\n    }\r\n}\r\n\r\nasync function validQRCustomer(form) {\r\n    const submitBtn = document.querySelector('.omnicode__manager-submit')\r\n    const errorMessage = document.querySelector('.omnicode__shop-error')\r\n    const codeInput = form.querySelector('[name=\"code\"]')\r\n    const labelNode = codeInput.closest('label')\r\n    const errorNode = labelNode.querySelector('i')\r\n    const isCodeValid = validateOmniCode(omniCodeMask.unmaskedValue)\r\n\r\n    labelNode.classList.remove('has-error')\r\n\r\n    // Чистим кнопку\r\n    submitBtn.classList.remove('disabled')\r\n\r\n    // Чистим ошибку\r\n    errorMessage.classList.remove('has-error')\r\n    while (errorMessage.firstChild) {\r\n        errorMessage.removeChild(errorMessage.firstChild)\r\n    }\r\n\r\n    if (!isCodeValid) {\r\n        labelNode.classList.add('has-error')\r\n        errorNode.innerText = 'Некорректный код покупателя'\r\n        return\r\n    }\r\n\r\n    const formData = new FormData(form)\r\n    formData.delete('phone')\r\n\r\n    try {\r\n        submitBtn.classList.add('disabled')\r\n\r\n        const res = await fetch('/auth/reg/order/', {\r\n            method: 'POST',\r\n            headers: {\r\n                'X-Requested-With': 'XMLHttpRequest'\r\n            },\r\n            body: formData\r\n        })\r\n\r\n        if (res.ok || res.status == 422) {\r\n            const data = await res.json()\r\n\r\n            if (data.errors) {\r\n                errorMessage.classList.add('has-error')\r\n\r\n                for (const error in data.errors) {\r\n                    const span = document.createElement('span')\r\n                    span.innerText = data.errors[error]\r\n                    errorMessage.appendChild(span)\r\n                }\r\n            } else {\r\n                window.location.href = data.url\r\n            }\r\n        } else {\r\n            console.error('Произошла ошибка при отправке Кода покупателя!')\r\n        }\r\n    } catch (error) {\r\n        console.error(error)\r\n    } finally {\r\n        submitBtn.classList.remove('disabled')\r\n    }\r\n}\r\n// Manager section --- FINISH\r\n\r\n// Reset Omnicode between pages\r\nfunction resetOmnicodeAll() {\r\n    const forms = Array.from(document\r\n        .querySelectorAll('.omnicode form, .omnicode__manager form'))\r\n\r\n        forms.forEach(el => el.reset())\r\n}\r\n\r\nwindow.addEventListener('load', function() {\r\n\r\n    // Reset Omnicode form after page loaded\r\n    resetOmnicodeAll()\r\n\r\n    // Customer section --- START\r\n    if (document.getElementById('omniFormData')) {\r\n        AuthModal.Mask.initialize()\r\n        setOmniCodeMask()\r\n        setCheckingOmniInputsHelps()\r\n        initOmnicodeFormData()\r\n        initToggleOmniForms()\r\n        initOmniCodeReset()\r\n        initOmniCodeListener()\r\n    }\r\n    // Customer section --- FINISH\r\n\r\n    // Manager section --- FINISH\r\n    if (document.querySelector('.omnicode__manager')) {\r\n        AuthModal.Mask.initialize()\r\n        setOmniCodeMask()\r\n        setCheckingOmniInputsHelps()\r\n        initOmniManagerSelects()\r\n        initOmniManagerOptions()\r\n        initOmnicodeManagerForm()\r\n    }\r\n    // Manager section --- FINISH\r\n})\r\n\r\n// Работа с картой для блока Самовывоз из магазина\r\n/**\r\n * Функция может принимать html узел модальной карты. (блок с классом .shop-map-modal)\r\n * На тот случай если для всех магазинов используются разные модальные окна с картами.\r\n *\r\n * Также, вторым аргументом, функция может принимать коллбэк,\r\n * который запустится после показа модалки\r\n */\r\nfunction showShopMapModal(htmlNode, callback) {\r\n    const modal = htmlNode\r\n        ? htmlNode\r\n        : document.querySelector('.shop-map-modal')\r\n\r\n    if (!modal) return\r\n\r\n    if (window.innerWidth < 768) {\r\n        modal.classList.add('show')\r\n        setTimeout(() => modal.classList.add('visible'), 100)\r\n    } else {\r\n        const map = document.querySelector('[data-pickup-map]')\r\n        if (map) {\r\n            $('html,body').animate({ scrollTop: $(map).offset().top - 100 }, 500)\r\n        }\r\n    }\r\n\r\n    if (callback && typeof callback === 'function') callback()\r\n}\r\n\r\n/**\r\n * Принимает коллбэк с логикой которую нужно выполнить\r\n * после закрытия карты для мобильных\r\n */\r\nfunction hideShopMapModals(callback) {\r\n    const modals = Array.from(document\r\n        .querySelectorAll('.shop-map-modal'))\r\n\r\n    if (modals.length === 0) return\r\n\r\n    modals.forEach(modal => {\r\n        modal.classList.remove('visible')\r\n        setTimeout(() => modal.classList.remove('show'), 150)\r\n    })\r\n\r\n    if (callback && typeof callback === 'function') callback()\r\n}\r\n\r\n\r\n/**\r\n * Функции initShowMapButtons и initHideMapButtons\r\n * нужны для демонстрации показа карты\r\n * Скорее всего не понадобятся в продакшене.\r\n */\r\nfunction initShowMapButtons() {\r\n    const showMapButtons = Array.from(document\r\n        .querySelectorAll('.shop-list__card_map-link'))\r\n\r\n    if (showMapButtons.length === 0) return\r\n\r\n    showMapButtons.forEach(button => {\r\n        button.addEventListener('click', (e) => {\r\n            e.stopPropagation()\r\n            showShopMapModal()\r\n        })\r\n    })\r\n}\r\n\r\nfunction initHideMapButtons() {\r\n    const hideMapButtons = Array.from(document\r\n        .querySelectorAll('.shop-map-modal__close'))\r\n\r\n    const mapModalsBacks = Array.from(document\r\n        .querySelectorAll('.shop-map-modal__back'))\r\n\r\n    const iterators = [...hideMapButtons, ...mapModalsBacks]\r\n\r\n    if (iterators.length === 0) return\r\n\r\n    iterators.forEach(el => {\r\n        el.addEventListener('click', (e) => {\r\n            e.stopPropagation()\r\n            hideShopMapModals()\r\n        })\r\n    })\r\n}\r\n\r\nwindow.addEventListener(\"load\", () => {\r\n    initShowMapButtons()\r\n    initHideMapButtons()\r\n})\r\n\r\n// Страница каталоги\r\n/**\r\n * Получает отфильтрованные заголовки каталогов на основе запроса.\r\n * В случае если запрос более одного символа (кнопка Показать все) возвращает массив со всеми заголовками,\r\n * в противном случае, фильтруем заголовки по первому символу.\r\n * @param {string} query - Строка запроса для фильтрации заголовков.\r\n * @returns {Array<string>} - Массив отфильтрованных заголовков каталогов.\r\n */\r\nfunction getFilteredCatalogsTitles(query) {\r\n    const titles = $('.card-title')\r\n        .toArray()\r\n        .map(title => title.innerText)\r\n\r\n    if (query.length > 1) return titles\r\n\r\n    return titles.filter(title =>\r\n        title[0].toUpperCase() === query.toUpperCase())\r\n}\r\n\r\n/**\r\n * Прокручивает страницу к указанному узлу каталога.\r\n * @param {HTMLElement} node - Узел каталога, к которому нужно прокрутить страницу.\r\n */\r\nfunction scrollToCatalog(node) {\r\n    const SCROLL_DURATION = 700;\r\n    const top = $(node).offset().top\r\n    $(\"html, body\").animate({\r\n        scrollTop: top - 100\r\n    }, SCROLL_DURATION)\r\n}\r\n\r\n/**\r\n * Переход к указанному каталогу на странице.\r\n * Ищем все каталоги, далее фильтруем согласно переданному параметру\r\n * Вызываем функцию scrollToCatalog для скролла страницы\r\n * Класс .accent подсвечивает выбранный каталог для улучшения UX.\r\n * @param {string} catalogTitle - Название каталога, к которому нужно перейти.\r\n */\r\nfunction goToCatalog(catalogTitle) {\r\n    const catalogsCards = $('.card_download_catalog')\r\n\r\n    const targetCatalogCards = catalogsCards.filter((idx, card) => {\r\n        const currentCatalogTitle = $(card).find('.card-title')[0].innerText\r\n        return currentCatalogTitle ===catalogTitle\r\n    })\r\n\r\n    if (targetCatalogCards.length > 0) {\r\n        scrollToCatalog(targetCatalogCards[0])\r\n        $(targetCatalogCards[0]).addClass('accent')\r\n\r\n        setTimeout(() =>\r\n            $(targetCatalogCards[0]).removeClass('accent'),\r\n            6000)\r\n    }\r\n}\r\n\r\n/**\r\n * Динамически собирает список кнопок для выбора каталога.\r\n * Вешает на них события для перехода к нужному каталогу.\r\n * Обновляем DOM и показывает результат.\r\n * @param {Array} resultsArr - Array of catalog results to be displayed.\r\n */\r\nfunction printFilteredCatalogsResults(resultsArr) {\r\n    const resTrue = 'Найдено совпадений:'\r\n    const resFalse = 'По Вашему запросу совпадений не найдено!'\r\n    const results = $('.catalogs__results')\r\n    const title = $(results).find('h4')\r\n    const match = $(results).find('.catalogs__match')\r\n\r\n    // At first, always hide results section\r\n    $(results).removeClass('visible')\r\n    $(match).removeClass('visible')\r\n\r\n    // If there's no results, show results section with no results\r\n    if (resultsArr.length === 0) {\r\n        $(title).text(resFalse)\r\n        $(results).addClass('visible')\r\n        return\r\n    }\r\n\r\n    $(title).text(resTrue)\r\n    $(match).empty()\r\n\r\n    // Then show results section with actual results\r\n    $(resultsArr).each((idx, catalog) => {\r\n        const li = $(`<li>${catalog}</li>`)\r\n        $(li).on('click', () => goToCatalog(catalog))\r\n        match.append(li)\r\n    })\r\n\r\n    // After all manipulations, show results section\r\n    $(results).addClass('visible')\r\n    $(match).addClass('visible')\r\n}\r\n\r\n/**\r\n * Получает все кнопки алфавита, вешает на них событие клика.\r\n * Вызывает printFilteredCatalogsResults для отображения результатов фильтрации.\r\n */\r\nfunction initCatalogsFilter() {\r\n    const buttons = $('.catalogs__alphabet li, .catalogs__all')\r\n\r\n    buttons.each((idx, button) => {\r\n        $(button).on('click', () => {\r\n            const isActive = $(button).hasClass('active')\r\n\r\n            // Deactivate all buttons\r\n            $(buttons).removeClass('active')\r\n\r\n            if (isActive) {\r\n                $(button).removeClass('active')\r\n                $('.catalogs__results').removeClass('visible')\r\n                $('.catalogs__match').removeClass('visible')\r\n                return\r\n            }\r\n\r\n            const query = $(button).text()\r\n            const resultsArr = getFilteredCatalogsTitles(query)\r\n            printFilteredCatalogsResults(resultsArr)\r\n            $(button).addClass('active')\r\n        })\r\n    })\r\n}\r\n\r\nwindow.addEventListener('load', initCatalogsFilter)\r\n\r\n// Личный кабинет\r\ndocument.addEventListener('DOMContentLoaded', function () {\r\n  lkTabs()\r\n});\r\n\r\nfunction lkTabs() {\r\n  const buttons = document.querySelectorAll('.lktab-button [data-tab]')\r\n  const containers = document.querySelectorAll('.lktab-container')\r\n\r\n  buttons.forEach(button => {\r\n    button.addEventListener('click', function (e) {\r\n      e.preventDefault();\r\n\r\n      const targetTab = this.dataset.tab;\r\n\r\n      buttons.forEach(function (btn) {\r\n        btn.classList.remove('active');\r\n      })\r\n      containers.forEach(container => {\r\n        container.classList.remove('active');\r\n      });\r\n\r\n      this.classList.add('active');\r\n\r\n      const targetContainer = document.querySelector(`.lktab-container.${targetTab}`);\r\n      if (targetContainer) {\r\n        targetContainer.classList.add('active');\r\n      }\r\n    });\r\n  });\r\n}\r\n\r\n// Страница магазина\r\n$(document).ready(function ($) {\r\n  const swiper = new Swiper('.shopList_images.swiper', {\r\n    slidesPerView: 1,\r\n    loop: true,\r\n    autoplay: {\r\n      delay: 2500,\r\n      disableOnInteraction: false,\r\n    },\r\n  });\r\n})"],"file":"main.min.js"}