import{r as u,u as b,j as e,E as x}from"./index.js";import{g as k}from"./getFileName.js";import{I as N}from"./InputAdd.js";const P="_hub_e474h_14",$="_form_e474h_22",v="_add_e474h_28",f="_upload_e474h_47",p="_blocks_e474h_62",g="_title_e474h_68",y="_list_e474h_81",C="_item_e474h_89",w="_name_e474h_109",E="_actions_e474h_125",L="_shine_e474h_1",R={hub:P,form:$,add:v,upload:f,blocks:p,title:g,list:y,item:C,name:w,actions:E,"image-failed":"_image-failed_e474h_1",shine:L},{hub:S,form:D,add:F,upload:I,blocks:T,title:z,list:A,item:B,name:H,actions:M}=R,n=window.userToken,W=(i,c,j,l,a,r,_,d,m)=>c.map((o,s)=>e.jsxs("li",{id:`${s===0?"step_9":void 0}`,className:B,children:[e.jsxs("span",{className:H,children:[o.name,e.jsxs("i",{children:["#",o.id]}),o.token===n&&e.jsx(x,{cbf:()=>m("project",!0,o.name,o.id,null),size:"medium",title:"Переименовать проект"})]}),e.jsxs("ul",{className:M,children:[e.jsx("li",{id:`${s===0?"step_10":void 0}`,children:e.jsx("button",{onClick:()=>j(o.id),className:"button button_dark",title:"Проект подробно",children:e.jsx("i",{className:"icon icon_edit"})})}),e.jsx("li",{id:`${s===0?"step_11":void 0}`,children:e.jsx("button",{onClick:()=>l(o.id),className:"button button_dark",title:"Поделиться проектом",children:e.jsx("i",{className:"icon icon_share"})})}),e.jsx("li",{id:`${s===0?"step_12":void 0}`,children:e.jsx("button",{onClick:()=>r({project:o,filename:k(o.name,o.id)}),className:"button button_dark",title:"Скачать проект как PDF файл",children:e.jsx("i",{className:"icon icon_down"})})}),(o.token===null||o.token!==n)&&e.jsx("li",{children:e.jsx("button",{onClick:()=>d(o.id,n),className:"button button_dark",title:`Скопировать проект себе${n?"":" локально"}`,children:e.jsx("i",{className:"icon icon_copy"})})}),(o.localProject||o.token&&o.token===n)&&e.jsx("li",{id:`${s===0?"step_13":void 0}`,children:e.jsx("button",{onClick:()=>o.localProject?_(o.id,o.name):a(o.id,o.name),className:"button button_dark",title:o.localProject?"Удалить локальный проект":"Удалить проект",children:e.jsx("i",{className:"icon icon_basket"})})})]})]},`${i}-${o.id}`)),K=()=>{const i=u.useId(),[c,j,l,a,r,_,d,m,o,s]=b(t=>[t.projects,t.addProject,t.editProject,t.shareProject,t.removeProject,t.modalLoadProjectSet,t.setDownloadProject,t.removeLocalProject,t.copyProject,t.modalRenameProjectRoomSet]),h=u.useMemo(()=>W(i,c,l,a,r,d,m,o,s),[i,c,l,a,r,d,m,o,s]);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:S,children:[e.jsxs("div",{className:D,children:[e.jsx("div",{id:"step_14",className:F,children:e.jsx(N,{placeholder:"Создать новый проект",cbf:j,type:"project"})}),e.jsx("div",{id:"step_15",className:I,children:e.jsxs("button",{type:"button",className:"button button_block button_dark",onClick:()=>_(!0,""),children:["Загрузить по ссылке",e.jsx("i",{className:"icon icon_upload"})]})})]}),e.jsxs("div",{className:T,children:[e.jsx("h3",{className:z,children:c.length===0?"У Вас пока нет проектов. Создайте новый проект или загрузите проект по ссылке.":"Список проектов"}),e.jsx("ul",{className:A,children:h})]})]})})};export{K as default};
