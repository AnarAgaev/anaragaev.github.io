import{r as _,u as k,j as e}from"./index.js";import{g as h}from"./getFileName.js";import{I as b}from"./InputAdd.js";const x="_hub_1fgkz_14",f="_form_1fgkz_22",N="_add_1fgkz_28",P="_upload_1fgkz_47",g="_blocks_1fgkz_62",$="_title_1fgkz_68",p="_list_1fgkz_81",v="_item_1fgkz_89",z="_name_1fgkz_109",y="_actions_1fgkz_124",C="_shine_1fgkz_1",w={hub:x,form:f,add:N,upload:P,blocks:g,title:$,list:p,item:v,name:z,actions:y,"image-failed":"_image-failed_1fgkz_1",shine:C},{hub:L,form:D,add:E,upload:F,blocks:I,title:S,list:T,item:A,name:H,actions:M}=w,d=window.userToken,R=(i,c,m,n,l,a,j,r)=>c.map((o,t)=>e.jsxs("li",{id:`${t===0?"step_9":void 0}`,className:A,children:[e.jsxs("span",{className:H,children:[o.name,e.jsxs("i",{children:["#",o.id]})]}),e.jsxs("ul",{className:M,children:[e.jsx("li",{id:`${t===0?"step_10":void 0}`,children:e.jsx("button",{onClick:()=>m(o.id),className:"button button_dark",title:"Проект подробно",children:e.jsx("i",{className:"icon icon_edit"})})}),e.jsx("li",{id:`${t===0?"step_11":void 0}`,children:e.jsx("button",{onClick:()=>n(o.id),className:"button button_dark",title:"Поделиться проектом",children:e.jsx("i",{className:"icon icon_share"})})}),e.jsx("li",{id:`${t===0?"step_12":void 0}`,children:e.jsx("button",{onClick:()=>a({project:o,filename:h(o.name,o.id)}),className:"button button_dark",title:"Скачать проект как PDF файл",children:e.jsx("i",{className:"icon icon_down"})})}),(o.token===null||o.token!==d)&&e.jsx("li",{children:e.jsx("button",{onClick:()=>r(o.id,d),className:"button button_dark",title:`Скопировать проект себе${d?"":" локально"}`,children:e.jsx("i",{className:"icon icon_copy"})})}),(o.localProject||o.token&&o.token===d)&&e.jsx("li",{id:`${t===0?"step_13":void 0}`,children:e.jsx("button",{onClick:()=>o.localProject?j(o.id,o.name):l(o.id,o.name),className:"button button_dark",title:o.localProject?"Удалить локальный проект":"Удалить проект",children:e.jsx("i",{className:"icon icon_basket"})})})]})]},`${i}-${o.id}`)),G=()=>{const i=_.useId(),[c,m,n,l,a,j,r,o,t]=k(s=>[s.projects,s.addProject,s.editProject,s.shareProject,s.removeProject,s.modalLoadProjectSet,s.setDownloadProject,s.removeLocalProject,s.copyProject]),u=_.useMemo(()=>R(i,c,n,l,a,r,o,t),[i,c,n,l,a,r,o,t]);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:L,children:[e.jsxs("div",{className:D,children:[e.jsx("div",{id:"step_14",className:E,children:e.jsx(b,{placeholder:"Создать новый проект",cbf:m,type:"project"})}),e.jsx("div",{id:"step_15",className:F,children:e.jsxs("button",{type:"button",className:"button button_block button_dark",onClick:()=>j(!0,""),children:["Загрузить по ссылке",e.jsx("i",{className:"icon icon_upload"})]})})]}),e.jsxs("div",{className:I,children:[e.jsx("h3",{className:S,children:c.length===0?"У Вас пока нет проектов. Создайте новый проект или загрузите проект по ссылке.":"Список проектов"}),e.jsx("ul",{className:T,children:u})]})]})})};export{G as default};
