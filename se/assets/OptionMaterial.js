import{u as B,j as e,r as k}from"./index.js";const q="_body_1hqtm_14",L="_actions_1hqtm_26",O="_list_1hqtm_38",E="_title_1hqtm_50",M="_selectors_1hqtm_64",D="_empty_1hqtm_100",R="_shine_1hqtm_1",P={body:q,actions:L,list:O,title:E,selectors:M,empty:D,"image-failed":"_image-failed_1hqtm_1",shine:R},{body:T,actions:A,list:H,title:w,selectors:W,empty:G}=P,ds=({type:t,children:c})=>{const[s,n,_,d,l]=B(r=>[r.getFilteredItems(),r.activeCalcTab,r.checkSelectedBorderFilters,r.checkSelectedDeviceFilters,r.setModalResetSketch]),i=()=>{l(!0,"resetFilters","Сброс всех фильтров приведет к удалению комплекта на холсте","Сбросить все фильтры","Оставить фильтры")};return e.jsxs("div",{className:T,children:[e.jsxs("div",{className:A,children:[e.jsx("h2",{className:w,children:"Выберите:"}),e.jsx("div",{className:W,children:c}),n==="borders"&&_()&&e.jsx("button",{onClick:i,className:"button button_block button_lite",children:"Сбросить все параметры"}),n==="devices"&&d()&&e.jsx("button",{onClick:i,className:"button button_block button_lite",children:"Сбросить все параметры"})]}),e.jsxs("div",{className:H,children:[e.jsx("h2",{className:w,children:"Варианты:"}),s.length?e.jsx(Ee,{itemList:s,type:t}):e.jsx("span",{className:G,children:"К сожалению, нет элементов согласно выбранным параметрам!"})]})]})},J="_body_13dbz_15",K="_title_13dbz_22",Q="_wrap_13dbz_53",U="_list_13dbz_95",V="_item_13dbz_127",X="_label_13dbz_184",Y="_color_13dbz_200",Z="_color_borders_13dbz_213",ee="_color_devices_13dbz_216",se="_sign_13dbz_228",te="_text_13dbz_237",ce="_shine_13dbz_1",ne={body:J,title:K,wrap:Q,list:U,item:V,label:X,color:Y,"image-failed":"_image-failed_13dbz_1",color_borders:Z,color_devices:ee,sign:se,text:te,shine:ce},{body:oe,title:ie,wrap:le,list:re,item:ae,label:_e,color:S,color_borders:de,color_devices:me,sign:he,text:xe}=ne,pe=(t,c,s,n,_,d,l)=>{const i=[];function r(o,h){if(o.target.checked){c("colors",h);return}s("colors",h)}return t.sort((o,h)=>{const $=(x,g)=>x.localeCompare(g,"ru",{sensitivity:"base"}),m=x=>/[а-я]/i.test(x);return m(o)&&!m(h)?-1:!m(o)&&m(h)?1:$(o,h)}).forEach(o=>{if(!o)return;const h=n("colors",o),$=d[o],m=l==="borders"?`${S} ${de}`:`${S} ${me}`;i.push(e.jsx("li",{className:ae,title:o,children:e.jsxs("label",{className:_e,children:[e.jsx("span",{className:m,style:{backgroundImage:`url("${$}")`}}),e.jsx("p",{className:he,children:e.jsx("span",{lang:"ru",className:xe,children:o})}),e.jsx("input",{className:"invisible",type:"checkbox",checked:h,onChange:x=>r(x,o)})]})},`${_}-${o}`))}),i},ms=({caption:t,colors:c,setColorFn:s,removeColorFn:n,checkColorFn:_,colorPalette:d,selectedColors:l,type:i})=>{const r=k.useId(),b=pe(c,s,n,_,r,d,i);return e.jsxs("div",{className:oe,children:[e.jsxs("div",{className:ie,children:[e.jsx("h3",{children:t}),e.jsx("span",{children:l.join(", ")})]}),e.jsx("div",{className:le,children:e.jsx("ul",{className:re,children:b})})]})},$e="_wrap_mx9ec_14",ue="_list_mx9ec_36",be="_item_mx9ec_47",ge="_pic_mx9ec_91",je="_preview_mx9ec_100",fe="_content_mx9ec_110",ve="_name_mx9ec_120",Ne="_price_mx9ec_134",ke="_shine_mx9ec_1",ye={wrap:$e,list:ue,item:be,pic:ge,preview:je,content:fe,name:ve,price:Ne,"image-failed":"_image-failed_mx9ec_1",shine:ke},{wrap:Ce,list:ze,item:we,pic:Se,preview:Ie,content:Be,name:Fe,price:qe}=ye,Le=t=>{const c=[1,2,3,4,5];for(const s of c)if((s===1||s===2||s===3||s===4||s===5)&&s in t&&t[s]===null)return!0;return!1},Oe=(t,c,s,n,_,d,l,i,r,b,o,h,$,m,x,g)=>{const f=[],a=p=>p.conf_product_group!==void 0,F=(p,u)=>{if(p==="borders"){const j=u,y=_(j);if(m.length===0)n(j,1,y);else{let C,z;for(let v=m.findIndex(N=>N)+1;v>0;v--){const N=x(j,v,g);if(N){C=v,z=N;break}}n(z,C,y)}}if(p==="devices"&&a(u)){if(!Le(l)){const j=`${m[$-1]?"":"Выберите рамку с большим количеством постов или"} ${m[$-1]?"У":"у"}далите устройства.`;h(!0,"Все посты заполнены",j);return}d(u)}if(!b&&!o){i("brand",u.vendor),i("collection",u.collection),r("brand",u.vendor),r("collection",u.collection);return}if(b&&!o){i("collection",u.collection),r("collection",u.collection);return}};return c.forEach(p=>{f.push(e.jsxs("li",{onClick:()=>{F(s,p)},className:we,"data-type":s==="borders"?"Добавить рамку":"Добавить механизм",children:[e.jsx("span",{className:Se,children:e.jsx("img",{src:p.preview,alt:"",className:Ie,loading:"lazy"})}),e.jsxs("p",{className:Be,children:[e.jsx("span",{className:Fe,children:p.name}),e.jsxs("span",{className:qe,children:[p.price," р."]})]})]},`${t}-${p.id}`))}),f},Ee=({itemList:t,type:c})=>{const s=k.useId(),[n,_,d,l,i,r,b,o,h,$,m,x,g]=B(a=>[a.setBorder,a.getCountOfPosts,a.setDevice,a.deviceList,a.setSingleBordersFilter,a.setSingleDevicesFilter,a.filtersBorders.brand,a.filtersBorders.collection,a.modalMessageSet,a.postsCount,a.selectedPost,a.getSiblingBorder,a.direction]),f=k.useMemo(()=>Oe(s,t,c,n,_,d,l,i,r,b,o,h,$,m,x,g),[s,t,c,n,_,d,l,i,r,b,o,h,$,m,x,g]);return e.jsx("div",{className:Ce,children:e.jsx("ul",{className:ze,children:f})})},Me="_option_rucf1_14",De="_picture_rucf1_42",Re="_text_rucf1_60",Pe="_shine_rucf1_1",Te={option:Me,picture:De,text:Re,"image-failed":"_image-failed_rucf1_1",shine:Pe},{option:Ae,picture:He,text:We}=Te,hs=({img:t,value:c,isChecked:s,eventHandler:n})=>e.jsx("li",{className:"closing",children:e.jsxs("label",{className:Ae,children:[e.jsx("input",{className:"invisible",type:"checkbox",checked:s,value:c,onChange:n}),e.jsx("span",{}),e.jsx("em",{className:He,children:e.jsx("img",{src:t,alt:c})}),e.jsx("mark",{className:We,children:c})]})}),Ge="_option_v0c87_14",Je="_inactive_v0c87_43",Ke="_match_v0c87_57",Qe="_text_v0c87_61",Ue="_name_v0c87_73",Ve="_comment_v0c87_96",Xe="_shine_v0c87_1",Ye={option:Ge,inactive:Je,match:Ke,text:Qe,name:Ue,comment:Ve,"image-failed":"_image-failed_v0c87_1",shine:Xe},{option:I,inactive:Ze,match:es,text:ss,name:ts,comment:cs}=Ye,xs=({value:t,isChecked:c,brand:s,selectable:n,selectedBrand:_,eventHandler:d})=>{const l=n?I:`${I} ${Ze}`;return e.jsx("li",{className:_&&n?`closing ${es}`:"closing",children:e.jsxs("label",{className:l,children:[e.jsx("input",{className:"invisible",type:"checkbox",checked:c,onChange:d}),e.jsxs("mark",{className:ss,children:[e.jsx("span",{className:ts,children:t}),e.jsx("span",{className:cs,children:s})]})]})})},ns="_option_28eg1_15",os="_text_28eg1_56",is="_shine_28eg1_1",ls={option:ns,text:os,"image-failed":"_image-failed_28eg1_1",shine:is},{option:rs,text:as}=ls,ps=({material:t,setFilter:c,removeFilter:s,checkFilter:n})=>{function _(l,i){if(l.target.checked){c("materials",i);return}s("materials",i)}const d=n("materials",t);return e.jsx("li",{children:e.jsxs("label",{className:rs,children:[e.jsx("input",{type:"checkbox",className:"invisible",checked:d,onChange:l=>_(l,t)}),e.jsx("span",{}),e.jsx("mark",{className:as,children:t})]})})};export{ms as C,ds as F,hs as O,xs as a,ps as b};
