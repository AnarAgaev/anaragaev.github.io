import{r as C,u as r,j as h,S as k}from"./index.js";import{F as y,C as P,O as $,a as E,b as V}from"./OptionMaterial.js";const H=(o,l,c,m,p,s,i,B)=>{const a=[];return o.forEach(d=>{const t=l(d);if(!t)return;const u=p("brand",t.name),n=()=>{if(!u){if(!s){c("brand",t.name),m("brand",t.name);return}i("При выборе бренда, будет сброшена выбранная ранее коллекция","Оставить бренд","Изменить бренд",{from:"brand",brandName:t.name,collectionName:s})}};a.push(h.jsx($,{img:t.image,value:t.name,isChecked:u,eventHandler:n},`${B}-${t.id}`))}),a},W=(o,l,c,m,p,s,i,B,a)=>{const d=[];return o.forEach(t=>{const u=m("collection",t),n=p(t),f=s?n===s:!0,b=()=>{const F=()=>{l("collection",t),l("brand",n),c("collection",t),c("brand",n)};if(!u){if(!s||s&&f){F(),B();return}i("При выборе коллекции, будет сброшен выбранный ранее бренд","Оставить коллекцию","Изменить коллекцию",{from:"collection",brandName:n,collectionName:t})}};d.push(h.jsx(E,{isChecked:u,value:t,brand:n,selectable:f,eventHandler:b,selectedBrand:!!s},`${a}-${t}`))}),d},A=(o,l,c,m,p)=>{const s=[];return o.forEach(i=>{s.push(h.jsx(V,{material:i,setFilter:l,removeFilter:c,checkFilter:m},`${p}-${i}`))}),s},R=()=>{const o=C.useId(),l=r(e=>e.getVendorByName),c=r(e=>{var x;return(x=e.colors)==null?void 0:x.borders}),m=r(e=>e.getBordersBrandsList()),p=r(e=>e.getBordersCollectionsList()),s=r(e=>e.getBordersMaterialList()),i=r(e=>e.getBrandByCollection),B=r(e=>e.setSingleBordersFilter),a=r(e=>e.setSingleDevicesFilter),d=r(e=>e.checkSingleBordersFilter),t=r(e=>e.setPluralBordersFilter),u=r(e=>e.removePluralBordersFilter),n=r(e=>e.checkPluralBordersFilter),f=r(e=>e.filtersBorders.colors),b=r(e=>e.filtersBorders.brand),F=r(e=>e.filtersBorders.collection),S=r(e=>e.filtersBorders.materials).sort().join(", "),g=r(e=>e.setModalSelect),L=r(e=>e.resetSketch),j=r(e=>e.getColorPallette("borders")),v=C.useMemo(()=>H(m,l,B,a,d,F,g,o),[m,l,B,a,d,F,g,o]),O=C.useMemo(()=>W(p,B,a,d,i,b,g,L,o),[p,B,a,d,i,b,g,L,o]),M=C.useMemo(()=>A(s,t,u,n,o),[s,t,u,n,o]);return h.jsxs(y,{type:"borders",children:[h.jsx(k,{title:"Бренд",critical:!0,selectedValue:b,children:v}),h.jsx(k,{title:"Коллекция",critical:!0,selectedValue:F,children:O}),h.jsx(k,{title:"Материал рамки",selectedValue:S,children:M}),c&&h.jsx(P,{caption:"Цвет рамки",colors:c,setColorFn:t,removeColorFn:u,checkColorFn:n,colorPalette:j,selectedColors:f,type:"borders"})]})};export{R as default};
